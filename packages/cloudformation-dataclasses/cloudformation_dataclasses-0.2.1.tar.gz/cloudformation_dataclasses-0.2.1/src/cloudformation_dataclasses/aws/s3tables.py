"""
AWS CloudFormation S3Tables Resources

⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY ⚠️

This file is automatically generated from the AWS CloudFormation Resource Specification.
Any manual changes will be overwritten when regenerated.

Version Information:
  CloudFormation Spec: 227.0.0
  Generator Version: 1.0.0
  Combined: spec-227.0.0_gen-1.0.0
  Generated: 2025-12-15 17:57:35

To regenerate this file:
    uv run python -m cloudformation_dataclasses.codegen.generator --service S3Tables
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any, ClassVar, Optional, Union

from cloudformation_dataclasses.core.base import CloudFormationResource
from cloudformation_dataclasses.intrinsics.functions import GetAtt, Ref, Sub


@dataclass
class Namespace(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3tab"""

    resource_type: ClassVar[str] = "AWS::S3Tables::Namespace"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    table_bucket_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    namespace: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.table_bucket_arn is not None:
            # Serialize table_bucket_arn (handle intrinsic functions)
            if hasattr(self.table_bucket_arn, 'to_dict'):
                props["TableBucketARN"] = self.table_bucket_arn.to_dict()
            elif isinstance(self.table_bucket_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['TableBucketARN'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_bucket_arn
                ]
            else:
                props["TableBucketARN"] = self.table_bucket_arn

        if self.namespace is not None:
            # Serialize namespace (handle intrinsic functions)
            if hasattr(self.namespace, 'to_dict'):
                props["Namespace"] = self.namespace.to_dict()
            elif isinstance(self.namespace, list):
                # Serialize list items (may contain intrinsic functions)
                props['Namespace'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.namespace
                ]
            else:
                props["Namespace"] = self.namespace

        return props



@dataclass
class Compaction:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3t"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    status: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    target_file_size_mb: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.status is not None:
            if hasattr(self.status, 'to_dict'):
                props['Status'] = self.status.to_dict()
            elif isinstance(self.status, list):
                props['Status'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.status
                ]
            else:
                props['Status'] = self.status

        if self.target_file_size_mb is not None:
            if hasattr(self.target_file_size_mb, 'to_dict'):
                props['TargetFileSizeMB'] = self.target_file_size_mb.to_dict()
            elif isinstance(self.target_file_size_mb, list):
                props['TargetFileSizeMB'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.target_file_size_mb
                ]
            else:
                props['TargetFileSizeMB'] = self.target_file_size_mb

        return props


@dataclass
class IcebergMetadata:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3t"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    iceberg_schema: Optional[IcebergSchema] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.iceberg_schema is not None:
            if hasattr(self.iceberg_schema, 'to_dict'):
                props['IcebergSchema'] = self.iceberg_schema.to_dict()
            elif isinstance(self.iceberg_schema, list):
                props['IcebergSchema'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.iceberg_schema
                ]
            else:
                props['IcebergSchema'] = self.iceberg_schema

        return props


@dataclass
class IcebergSchema:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3t"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    schema_field_list: Optional[list[SchemaField]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.schema_field_list is not None:
            if hasattr(self.schema_field_list, 'to_dict'):
                props['SchemaFieldList'] = self.schema_field_list.to_dict()
            elif isinstance(self.schema_field_list, list):
                props['SchemaFieldList'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.schema_field_list
                ]
            else:
                props['SchemaFieldList'] = self.schema_field_list

        return props


@dataclass
class SchemaField:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3t"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    required: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        if self.required is not None:
            if hasattr(self.required, 'to_dict'):
                props['Required'] = self.required.to_dict()
            elif isinstance(self.required, list):
                props['Required'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.required
                ]
            else:
                props['Required'] = self.required

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        return props


@dataclass
class SnapshotManagement:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3t"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    status: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    min_snapshots_to_keep: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_snapshot_age_hours: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.status is not None:
            if hasattr(self.status, 'to_dict'):
                props['Status'] = self.status.to_dict()
            elif isinstance(self.status, list):
                props['Status'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.status
                ]
            else:
                props['Status'] = self.status

        if self.min_snapshots_to_keep is not None:
            if hasattr(self.min_snapshots_to_keep, 'to_dict'):
                props['MinSnapshotsToKeep'] = self.min_snapshots_to_keep.to_dict()
            elif isinstance(self.min_snapshots_to_keep, list):
                props['MinSnapshotsToKeep'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.min_snapshots_to_keep
                ]
            else:
                props['MinSnapshotsToKeep'] = self.min_snapshots_to_keep

        if self.max_snapshot_age_hours is not None:
            if hasattr(self.max_snapshot_age_hours, 'to_dict'):
                props['MaxSnapshotAgeHours'] = self.max_snapshot_age_hours.to_dict()
            elif isinstance(self.max_snapshot_age_hours, list):
                props['MaxSnapshotAgeHours'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_snapshot_age_hours
                ]
            else:
                props['MaxSnapshotAgeHours'] = self.max_snapshot_age_hours

        return props


@dataclass
class StorageClassConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3t"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    storage_class: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.storage_class is not None:
            if hasattr(self.storage_class, 'to_dict'):
                props['StorageClass'] = self.storage_class.to_dict()
            elif isinstance(self.storage_class, list):
                props['StorageClass'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.storage_class
                ]
            else:
                props['StorageClass'] = self.storage_class

        return props


@dataclass
class Table(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3tab"""

    resource_type: ClassVar[str] = "AWS::S3Tables::Table"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    without_metadata: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    storage_class_configuration: Optional[StorageClassConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    table_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    table_bucket_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    open_table_format: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    iceberg_metadata: Optional[IcebergMetadata] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    compaction: Optional[Compaction] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    namespace: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    snapshot_management: Optional[SnapshotManagement] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.without_metadata is not None:
            # Serialize without_metadata (handle intrinsic functions)
            if hasattr(self.without_metadata, 'to_dict'):
                props["WithoutMetadata"] = self.without_metadata.to_dict()
            elif isinstance(self.without_metadata, list):
                # Serialize list items (may contain intrinsic functions)
                props['WithoutMetadata'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.without_metadata
                ]
            else:
                props["WithoutMetadata"] = self.without_metadata

        if self.storage_class_configuration is not None:
            # Serialize storage_class_configuration (handle intrinsic functions)
            if hasattr(self.storage_class_configuration, 'to_dict'):
                props["StorageClassConfiguration"] = self.storage_class_configuration.to_dict()
            elif isinstance(self.storage_class_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['StorageClassConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.storage_class_configuration
                ]
            else:
                props["StorageClassConfiguration"] = self.storage_class_configuration

        if self.table_name is not None:
            # Serialize table_name (handle intrinsic functions)
            if hasattr(self.table_name, 'to_dict'):
                props["TableName"] = self.table_name.to_dict()
            elif isinstance(self.table_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['TableName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_name
                ]
            else:
                props["TableName"] = self.table_name

        if self.table_bucket_arn is not None:
            # Serialize table_bucket_arn (handle intrinsic functions)
            if hasattr(self.table_bucket_arn, 'to_dict'):
                props["TableBucketARN"] = self.table_bucket_arn.to_dict()
            elif isinstance(self.table_bucket_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['TableBucketARN'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_bucket_arn
                ]
            else:
                props["TableBucketARN"] = self.table_bucket_arn

        if self.open_table_format is not None:
            # Serialize open_table_format (handle intrinsic functions)
            if hasattr(self.open_table_format, 'to_dict'):
                props["OpenTableFormat"] = self.open_table_format.to_dict()
            elif isinstance(self.open_table_format, list):
                # Serialize list items (may contain intrinsic functions)
                props['OpenTableFormat'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.open_table_format
                ]
            else:
                props["OpenTableFormat"] = self.open_table_format

        if self.iceberg_metadata is not None:
            # Serialize iceberg_metadata (handle intrinsic functions)
            if hasattr(self.iceberg_metadata, 'to_dict'):
                props["IcebergMetadata"] = self.iceberg_metadata.to_dict()
            elif isinstance(self.iceberg_metadata, list):
                # Serialize list items (may contain intrinsic functions)
                props['IcebergMetadata'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.iceberg_metadata
                ]
            else:
                props["IcebergMetadata"] = self.iceberg_metadata

        if self.compaction is not None:
            # Serialize compaction (handle intrinsic functions)
            if hasattr(self.compaction, 'to_dict'):
                props["Compaction"] = self.compaction.to_dict()
            elif isinstance(self.compaction, list):
                # Serialize list items (may contain intrinsic functions)
                props['Compaction'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.compaction
                ]
            else:
                props["Compaction"] = self.compaction

        if self.namespace is not None:
            # Serialize namespace (handle intrinsic functions)
            if hasattr(self.namespace, 'to_dict'):
                props["Namespace"] = self.namespace.to_dict()
            elif isinstance(self.namespace, list):
                # Serialize list items (may contain intrinsic functions)
                props['Namespace'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.namespace
                ]
            else:
                props["Namespace"] = self.namespace

        if self.snapshot_management is not None:
            # Serialize snapshot_management (handle intrinsic functions)
            if hasattr(self.snapshot_management, 'to_dict'):
                props["SnapshotManagement"] = self.snapshot_management.to_dict()
            elif isinstance(self.snapshot_management, list):
                # Serialize list items (may contain intrinsic functions)
                props['SnapshotManagement'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.snapshot_management
                ]
            else:
                props["SnapshotManagement"] = self.snapshot_management

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_version_token(self) -> GetAtt:
        """Get the VersionToken attribute."""
        return self.get_att("VersionToken")

    @property
    def attr_table_arn(self) -> GetAtt:
        """Get the TableARN attribute."""
        return self.get_att("TableARN")

    @property
    def attr_warehouse_location(self) -> GetAtt:
        """Get the WarehouseLocation attribute."""
        return self.get_att("WarehouseLocation")




@dataclass
class EncryptionConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3t"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    kms_key_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sse_algorithm: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.kms_key_arn is not None:
            if hasattr(self.kms_key_arn, 'to_dict'):
                props['KMSKeyArn'] = self.kms_key_arn.to_dict()
            elif isinstance(self.kms_key_arn, list):
                props['KMSKeyArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.kms_key_arn
                ]
            else:
                props['KMSKeyArn'] = self.kms_key_arn

        if self.sse_algorithm is not None:
            if hasattr(self.sse_algorithm, 'to_dict'):
                props['SSEAlgorithm'] = self.sse_algorithm.to_dict()
            elif isinstance(self.sse_algorithm, list):
                props['SSEAlgorithm'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sse_algorithm
                ]
            else:
                props['SSEAlgorithm'] = self.sse_algorithm

        return props


@dataclass
class MetricsConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3t"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    status: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.status is not None:
            if hasattr(self.status, 'to_dict'):
                props['Status'] = self.status.to_dict()
            elif isinstance(self.status, list):
                props['Status'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.status
                ]
            else:
                props['Status'] = self.status

        return props


@dataclass
class StorageClassConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3t"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    storage_class: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.storage_class is not None:
            if hasattr(self.storage_class, 'to_dict'):
                props['StorageClass'] = self.storage_class.to_dict()
            elif isinstance(self.storage_class, list):
                props['StorageClass'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.storage_class
                ]
            else:
                props['StorageClass'] = self.storage_class

        return props


@dataclass
class UnreferencedFileRemoval:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3t"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    status: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    noncurrent_days: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    unreferenced_days: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.status is not None:
            if hasattr(self.status, 'to_dict'):
                props['Status'] = self.status.to_dict()
            elif isinstance(self.status, list):
                props['Status'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.status
                ]
            else:
                props['Status'] = self.status

        if self.noncurrent_days is not None:
            if hasattr(self.noncurrent_days, 'to_dict'):
                props['NoncurrentDays'] = self.noncurrent_days.to_dict()
            elif isinstance(self.noncurrent_days, list):
                props['NoncurrentDays'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.noncurrent_days
                ]
            else:
                props['NoncurrentDays'] = self.noncurrent_days

        if self.unreferenced_days is not None:
            if hasattr(self.unreferenced_days, 'to_dict'):
                props['UnreferencedDays'] = self.unreferenced_days.to_dict()
            elif isinstance(self.unreferenced_days, list):
                props['UnreferencedDays'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.unreferenced_days
                ]
            else:
                props['UnreferencedDays'] = self.unreferenced_days

        return props


@dataclass
class TableBucket(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3tab"""

    resource_type: ClassVar[str] = "AWS::S3Tables::TableBucket"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    table_bucket_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    storage_class_configuration: Optional[StorageClassConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    metrics_configuration: Optional[MetricsConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    encryption_configuration: Optional[EncryptionConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    unreferenced_file_removal: Optional[UnreferencedFileRemoval] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.table_bucket_name is not None:
            # Serialize table_bucket_name (handle intrinsic functions)
            if hasattr(self.table_bucket_name, 'to_dict'):
                props["TableBucketName"] = self.table_bucket_name.to_dict()
            elif isinstance(self.table_bucket_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['TableBucketName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_bucket_name
                ]
            else:
                props["TableBucketName"] = self.table_bucket_name

        if self.storage_class_configuration is not None:
            # Serialize storage_class_configuration (handle intrinsic functions)
            if hasattr(self.storage_class_configuration, 'to_dict'):
                props["StorageClassConfiguration"] = self.storage_class_configuration.to_dict()
            elif isinstance(self.storage_class_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['StorageClassConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.storage_class_configuration
                ]
            else:
                props["StorageClassConfiguration"] = self.storage_class_configuration

        if self.metrics_configuration is not None:
            # Serialize metrics_configuration (handle intrinsic functions)
            if hasattr(self.metrics_configuration, 'to_dict'):
                props["MetricsConfiguration"] = self.metrics_configuration.to_dict()
            elif isinstance(self.metrics_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['MetricsConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.metrics_configuration
                ]
            else:
                props["MetricsConfiguration"] = self.metrics_configuration

        if self.encryption_configuration is not None:
            # Serialize encryption_configuration (handle intrinsic functions)
            if hasattr(self.encryption_configuration, 'to_dict'):
                props["EncryptionConfiguration"] = self.encryption_configuration.to_dict()
            elif isinstance(self.encryption_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['EncryptionConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.encryption_configuration
                ]
            else:
                props["EncryptionConfiguration"] = self.encryption_configuration

        if self.unreferenced_file_removal is not None:
            # Serialize unreferenced_file_removal (handle intrinsic functions)
            if hasattr(self.unreferenced_file_removal, 'to_dict'):
                props["UnreferencedFileRemoval"] = self.unreferenced_file_removal.to_dict()
            elif isinstance(self.unreferenced_file_removal, list):
                # Serialize list items (may contain intrinsic functions)
                props['UnreferencedFileRemoval'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.unreferenced_file_removal
                ]
            else:
                props["UnreferencedFileRemoval"] = self.unreferenced_file_removal

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_table_bucket_arn(self) -> GetAtt:
        """Get the TableBucketARN attribute."""
        return self.get_att("TableBucketARN")




@dataclass
class TableBucketPolicy(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3tab"""

    resource_type: ClassVar[str] = "AWS::S3Tables::TableBucketPolicy"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    table_bucket_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    resource_policy: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.table_bucket_arn is not None:
            # Serialize table_bucket_arn (handle intrinsic functions)
            if hasattr(self.table_bucket_arn, 'to_dict'):
                props["TableBucketARN"] = self.table_bucket_arn.to_dict()
            elif isinstance(self.table_bucket_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['TableBucketARN'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_bucket_arn
                ]
            else:
                props["TableBucketARN"] = self.table_bucket_arn

        if self.resource_policy is not None:
            # Serialize resource_policy (handle intrinsic functions)
            if hasattr(self.resource_policy, 'to_dict'):
                props["ResourcePolicy"] = self.resource_policy.to_dict()
            elif isinstance(self.resource_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['ResourcePolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.resource_policy
                ]
            else:
                props["ResourcePolicy"] = self.resource_policy

        return props



@dataclass
class TablePolicy(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3tab"""

    resource_type: ClassVar[str] = "AWS::S3Tables::TablePolicy"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    table_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    resource_policy: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.table_arn is not None:
            # Serialize table_arn (handle intrinsic functions)
            if hasattr(self.table_arn, 'to_dict'):
                props["TableARN"] = self.table_arn.to_dict()
            elif isinstance(self.table_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['TableARN'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_arn
                ]
            else:
                props["TableARN"] = self.table_arn

        if self.resource_policy is not None:
            # Serialize resource_policy (handle intrinsic functions)
            if hasattr(self.resource_policy, 'to_dict'):
                props["ResourcePolicy"] = self.resource_policy.to_dict()
            elif isinstance(self.resource_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['ResourcePolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.resource_policy
                ]
            else:
                props["ResourcePolicy"] = self.resource_policy

        return props

    @property
    def attr_table_name(self) -> GetAtt:
        """Get the TableName attribute."""
        return self.get_att("TableName")

    @property
    def attr_table_bucket_arn(self) -> GetAtt:
        """Get the TableBucketARN attribute."""
        return self.get_att("TableBucketARN")

    @property
    def attr_namespace(self) -> GetAtt:
        """Get the Namespace attribute."""
        return self.get_att("Namespace")



