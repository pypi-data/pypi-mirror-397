"""
AWS CloudFormation MediaStore Resources

⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY ⚠️

This file is automatically generated from the AWS CloudFormation Resource Specification.
Any manual changes will be overwritten when regenerated.

Version Information:
  CloudFormation Spec: 227.0.0
  Generator Version: 1.0.0
  Combined: spec-227.0.0_gen-1.0.0
  Generated: 2025-12-15 17:57:28

To regenerate this file:
    uv run python -m cloudformation_dataclasses.codegen.generator --service MediaStore
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any, ClassVar, Optional, Union

from cloudformation_dataclasses.core.base import CloudFormationResource
from cloudformation_dataclasses.intrinsics.functions import GetAtt, Ref, Sub


@dataclass
class CorsRule:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-med"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_methods: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_origins: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    expose_headers: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_age_seconds: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_headers: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allowed_methods is not None:
            if hasattr(self.allowed_methods, 'to_dict'):
                props['AllowedMethods'] = self.allowed_methods.to_dict()
            elif isinstance(self.allowed_methods, list):
                props['AllowedMethods'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_methods
                ]
            else:
                props['AllowedMethods'] = self.allowed_methods

        if self.allowed_origins is not None:
            if hasattr(self.allowed_origins, 'to_dict'):
                props['AllowedOrigins'] = self.allowed_origins.to_dict()
            elif isinstance(self.allowed_origins, list):
                props['AllowedOrigins'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_origins
                ]
            else:
                props['AllowedOrigins'] = self.allowed_origins

        if self.expose_headers is not None:
            if hasattr(self.expose_headers, 'to_dict'):
                props['ExposeHeaders'] = self.expose_headers.to_dict()
            elif isinstance(self.expose_headers, list):
                props['ExposeHeaders'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.expose_headers
                ]
            else:
                props['ExposeHeaders'] = self.expose_headers

        if self.max_age_seconds is not None:
            if hasattr(self.max_age_seconds, 'to_dict'):
                props['MaxAgeSeconds'] = self.max_age_seconds.to_dict()
            elif isinstance(self.max_age_seconds, list):
                props['MaxAgeSeconds'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_age_seconds
                ]
            else:
                props['MaxAgeSeconds'] = self.max_age_seconds

        if self.allowed_headers is not None:
            if hasattr(self.allowed_headers, 'to_dict'):
                props['AllowedHeaders'] = self.allowed_headers.to_dict()
            elif isinstance(self.allowed_headers, list):
                props['AllowedHeaders'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_headers
                ]
            else:
                props['AllowedHeaders'] = self.allowed_headers

        return props


@dataclass
class MetricPolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-med"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    container_level_metrics: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    metric_policy_rules: Optional[list[MetricPolicyRule]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.container_level_metrics is not None:
            if hasattr(self.container_level_metrics, 'to_dict'):
                props['ContainerLevelMetrics'] = self.container_level_metrics.to_dict()
            elif isinstance(self.container_level_metrics, list):
                props['ContainerLevelMetrics'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.container_level_metrics
                ]
            else:
                props['ContainerLevelMetrics'] = self.container_level_metrics

        if self.metric_policy_rules is not None:
            if hasattr(self.metric_policy_rules, 'to_dict'):
                props['MetricPolicyRules'] = self.metric_policy_rules.to_dict()
            elif isinstance(self.metric_policy_rules, list):
                props['MetricPolicyRules'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.metric_policy_rules
                ]
            else:
                props['MetricPolicyRules'] = self.metric_policy_rules

        return props


@dataclass
class MetricPolicyRule:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-med"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    object_group: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    object_group_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.object_group is not None:
            if hasattr(self.object_group, 'to_dict'):
                props['ObjectGroup'] = self.object_group.to_dict()
            elif isinstance(self.object_group, list):
                props['ObjectGroup'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.object_group
                ]
            else:
                props['ObjectGroup'] = self.object_group

        if self.object_group_name is not None:
            if hasattr(self.object_group_name, 'to_dict'):
                props['ObjectGroupName'] = self.object_group_name.to_dict()
            elif isinstance(self.object_group_name, list):
                props['ObjectGroupName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.object_group_name
                ]
            else:
                props['ObjectGroupName'] = self.object_group_name

        return props


@dataclass
class Container(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-media"""

    resource_type: ClassVar[str] = "AWS::MediaStore::Container"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    policy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    metric_policy: Optional[MetricPolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    container_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    cors_policy: Optional[list[CorsRule]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    lifecycle_policy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    access_logging_enabled: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.policy is not None:
            # Serialize policy (handle intrinsic functions)
            if hasattr(self.policy, 'to_dict'):
                props["Policy"] = self.policy.to_dict()
            elif isinstance(self.policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['Policy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.policy
                ]
            else:
                props["Policy"] = self.policy

        if self.metric_policy is not None:
            # Serialize metric_policy (handle intrinsic functions)
            if hasattr(self.metric_policy, 'to_dict'):
                props["MetricPolicy"] = self.metric_policy.to_dict()
            elif isinstance(self.metric_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['MetricPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.metric_policy
                ]
            else:
                props["MetricPolicy"] = self.metric_policy

        if self.container_name is not None:
            # Serialize container_name (handle intrinsic functions)
            if hasattr(self.container_name, 'to_dict'):
                props["ContainerName"] = self.container_name.to_dict()
            elif isinstance(self.container_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['ContainerName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.container_name
                ]
            else:
                props["ContainerName"] = self.container_name

        if self.cors_policy is not None:
            # Serialize cors_policy (handle intrinsic functions)
            if hasattr(self.cors_policy, 'to_dict'):
                props["CorsPolicy"] = self.cors_policy.to_dict()
            elif isinstance(self.cors_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['CorsPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.cors_policy
                ]
            else:
                props["CorsPolicy"] = self.cors_policy

        if self.lifecycle_policy is not None:
            # Serialize lifecycle_policy (handle intrinsic functions)
            if hasattr(self.lifecycle_policy, 'to_dict'):
                props["LifecyclePolicy"] = self.lifecycle_policy.to_dict()
            elif isinstance(self.lifecycle_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['LifecyclePolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.lifecycle_policy
                ]
            else:
                props["LifecyclePolicy"] = self.lifecycle_policy

        if self.access_logging_enabled is not None:
            # Serialize access_logging_enabled (handle intrinsic functions)
            if hasattr(self.access_logging_enabled, 'to_dict'):
                props["AccessLoggingEnabled"] = self.access_logging_enabled.to_dict()
            elif isinstance(self.access_logging_enabled, list):
                # Serialize list items (may contain intrinsic functions)
                props['AccessLoggingEnabled'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.access_logging_enabled
                ]
            else:
                props["AccessLoggingEnabled"] = self.access_logging_enabled

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_endpoint(self) -> GetAtt:
        """Get the Endpoint attribute."""
        return self.get_att("Endpoint")



