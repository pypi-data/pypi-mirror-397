"""
AWS CloudFormation Backup Resources

⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY ⚠️

This file is automatically generated from the AWS CloudFormation Resource Specification.
Any manual changes will be overwritten when regenerated.

Version Information:
  CloudFormation Spec: 227.0.0
  Generator Version: 1.0.0
  Combined: spec-227.0.0_gen-1.0.0
  Generated: 2025-12-15 17:57:12

To regenerate this file:
    uv run python -m cloudformation_dataclasses.codegen.generator --service Backup
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any, ClassVar, Optional, Union

from cloudformation_dataclasses.core.base import CloudFormationResource
from cloudformation_dataclasses.intrinsics.functions import GetAtt, Ref, Sub


@dataclass
class AdvancedBackupSettingResourceType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    backup_options: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    resource_type: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.backup_options is not None:
            if hasattr(self.backup_options, 'to_dict'):
                props['BackupOptions'] = self.backup_options.to_dict()
            elif isinstance(self.backup_options, list):
                props['BackupOptions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_options
                ]
            else:
                props['BackupOptions'] = self.backup_options

        if self.resource_type is not None:
            if hasattr(self.resource_type, 'to_dict'):
                props['ResourceType'] = self.resource_type.to_dict()
            elif isinstance(self.resource_type, list):
                props['ResourceType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.resource_type
                ]
            else:
                props['ResourceType'] = self.resource_type

        return props


@dataclass
class BackupPlanResourceType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    backup_plan_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    advanced_backup_settings: Optional[list[AdvancedBackupSettingResourceType]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    backup_plan_rule: Optional[list[BackupRuleResourceType]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.backup_plan_name is not None:
            if hasattr(self.backup_plan_name, 'to_dict'):
                props['BackupPlanName'] = self.backup_plan_name.to_dict()
            elif isinstance(self.backup_plan_name, list):
                props['BackupPlanName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_plan_name
                ]
            else:
                props['BackupPlanName'] = self.backup_plan_name

        if self.advanced_backup_settings is not None:
            if hasattr(self.advanced_backup_settings, 'to_dict'):
                props['AdvancedBackupSettings'] = self.advanced_backup_settings.to_dict()
            elif isinstance(self.advanced_backup_settings, list):
                props['AdvancedBackupSettings'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.advanced_backup_settings
                ]
            else:
                props['AdvancedBackupSettings'] = self.advanced_backup_settings

        if self.backup_plan_rule is not None:
            if hasattr(self.backup_plan_rule, 'to_dict'):
                props['BackupPlanRule'] = self.backup_plan_rule.to_dict()
            elif isinstance(self.backup_plan_rule, list):
                props['BackupPlanRule'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_plan_rule
                ]
            else:
                props['BackupPlanRule'] = self.backup_plan_rule

        return props


@dataclass
class BackupRuleResourceType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    completion_window_minutes: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    schedule_expression: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    recovery_point_tags: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    copy_actions: Optional[list[CopyActionResourceType]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    enable_continuous_backup: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    lifecycle: Optional[LifecycleResourceType] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    index_actions: Optional[list[IndexActionsResourceType]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    target_backup_vault: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    start_window_minutes: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    schedule_expression_timezone: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    target_logically_air_gapped_backup_vault_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    rule_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.completion_window_minutes is not None:
            if hasattr(self.completion_window_minutes, 'to_dict'):
                props['CompletionWindowMinutes'] = self.completion_window_minutes.to_dict()
            elif isinstance(self.completion_window_minutes, list):
                props['CompletionWindowMinutes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.completion_window_minutes
                ]
            else:
                props['CompletionWindowMinutes'] = self.completion_window_minutes

        if self.schedule_expression is not None:
            if hasattr(self.schedule_expression, 'to_dict'):
                props['ScheduleExpression'] = self.schedule_expression.to_dict()
            elif isinstance(self.schedule_expression, list):
                props['ScheduleExpression'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.schedule_expression
                ]
            else:
                props['ScheduleExpression'] = self.schedule_expression

        if self.recovery_point_tags is not None:
            if hasattr(self.recovery_point_tags, 'to_dict'):
                props['RecoveryPointTags'] = self.recovery_point_tags.to_dict()
            elif isinstance(self.recovery_point_tags, list):
                props['RecoveryPointTags'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.recovery_point_tags
                ]
            else:
                props['RecoveryPointTags'] = self.recovery_point_tags

        if self.copy_actions is not None:
            if hasattr(self.copy_actions, 'to_dict'):
                props['CopyActions'] = self.copy_actions.to_dict()
            elif isinstance(self.copy_actions, list):
                props['CopyActions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.copy_actions
                ]
            else:
                props['CopyActions'] = self.copy_actions

        if self.enable_continuous_backup is not None:
            if hasattr(self.enable_continuous_backup, 'to_dict'):
                props['EnableContinuousBackup'] = self.enable_continuous_backup.to_dict()
            elif isinstance(self.enable_continuous_backup, list):
                props['EnableContinuousBackup'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.enable_continuous_backup
                ]
            else:
                props['EnableContinuousBackup'] = self.enable_continuous_backup

        if self.lifecycle is not None:
            if hasattr(self.lifecycle, 'to_dict'):
                props['Lifecycle'] = self.lifecycle.to_dict()
            elif isinstance(self.lifecycle, list):
                props['Lifecycle'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.lifecycle
                ]
            else:
                props['Lifecycle'] = self.lifecycle

        if self.index_actions is not None:
            if hasattr(self.index_actions, 'to_dict'):
                props['IndexActions'] = self.index_actions.to_dict()
            elif isinstance(self.index_actions, list):
                props['IndexActions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.index_actions
                ]
            else:
                props['IndexActions'] = self.index_actions

        if self.target_backup_vault is not None:
            if hasattr(self.target_backup_vault, 'to_dict'):
                props['TargetBackupVault'] = self.target_backup_vault.to_dict()
            elif isinstance(self.target_backup_vault, list):
                props['TargetBackupVault'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.target_backup_vault
                ]
            else:
                props['TargetBackupVault'] = self.target_backup_vault

        if self.start_window_minutes is not None:
            if hasattr(self.start_window_minutes, 'to_dict'):
                props['StartWindowMinutes'] = self.start_window_minutes.to_dict()
            elif isinstance(self.start_window_minutes, list):
                props['StartWindowMinutes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.start_window_minutes
                ]
            else:
                props['StartWindowMinutes'] = self.start_window_minutes

        if self.schedule_expression_timezone is not None:
            if hasattr(self.schedule_expression_timezone, 'to_dict'):
                props['ScheduleExpressionTimezone'] = self.schedule_expression_timezone.to_dict()
            elif isinstance(self.schedule_expression_timezone, list):
                props['ScheduleExpressionTimezone'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.schedule_expression_timezone
                ]
            else:
                props['ScheduleExpressionTimezone'] = self.schedule_expression_timezone

        if self.target_logically_air_gapped_backup_vault_arn is not None:
            if hasattr(self.target_logically_air_gapped_backup_vault_arn, 'to_dict'):
                props['TargetLogicallyAirGappedBackupVaultArn'] = self.target_logically_air_gapped_backup_vault_arn.to_dict()
            elif isinstance(self.target_logically_air_gapped_backup_vault_arn, list):
                props['TargetLogicallyAirGappedBackupVaultArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.target_logically_air_gapped_backup_vault_arn
                ]
            else:
                props['TargetLogicallyAirGappedBackupVaultArn'] = self.target_logically_air_gapped_backup_vault_arn

        if self.rule_name is not None:
            if hasattr(self.rule_name, 'to_dict'):
                props['RuleName'] = self.rule_name.to_dict()
            elif isinstance(self.rule_name, list):
                props['RuleName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.rule_name
                ]
            else:
                props['RuleName'] = self.rule_name

        return props


@dataclass
class CopyActionResourceType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    lifecycle: Optional[LifecycleResourceType] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    destination_backup_vault_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.lifecycle is not None:
            if hasattr(self.lifecycle, 'to_dict'):
                props['Lifecycle'] = self.lifecycle.to_dict()
            elif isinstance(self.lifecycle, list):
                props['Lifecycle'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.lifecycle
                ]
            else:
                props['Lifecycle'] = self.lifecycle

        if self.destination_backup_vault_arn is not None:
            if hasattr(self.destination_backup_vault_arn, 'to_dict'):
                props['DestinationBackupVaultArn'] = self.destination_backup_vault_arn.to_dict()
            elif isinstance(self.destination_backup_vault_arn, list):
                props['DestinationBackupVaultArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.destination_backup_vault_arn
                ]
            else:
                props['DestinationBackupVaultArn'] = self.destination_backup_vault_arn

        return props


@dataclass
class IndexActionsResourceType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    resource_types: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.resource_types is not None:
            if hasattr(self.resource_types, 'to_dict'):
                props['ResourceTypes'] = self.resource_types.to_dict()
            elif isinstance(self.resource_types, list):
                props['ResourceTypes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.resource_types
                ]
            else:
                props['ResourceTypes'] = self.resource_types

        return props


@dataclass
class LifecycleResourceType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    opt_in_to_archive_for_supported_resources: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    delete_after_days: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    move_to_cold_storage_after_days: Optional[Union[float, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.opt_in_to_archive_for_supported_resources is not None:
            if hasattr(self.opt_in_to_archive_for_supported_resources, 'to_dict'):
                props['OptInToArchiveForSupportedResources'] = self.opt_in_to_archive_for_supported_resources.to_dict()
            elif isinstance(self.opt_in_to_archive_for_supported_resources, list):
                props['OptInToArchiveForSupportedResources'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.opt_in_to_archive_for_supported_resources
                ]
            else:
                props['OptInToArchiveForSupportedResources'] = self.opt_in_to_archive_for_supported_resources

        if self.delete_after_days is not None:
            if hasattr(self.delete_after_days, 'to_dict'):
                props['DeleteAfterDays'] = self.delete_after_days.to_dict()
            elif isinstance(self.delete_after_days, list):
                props['DeleteAfterDays'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.delete_after_days
                ]
            else:
                props['DeleteAfterDays'] = self.delete_after_days

        if self.move_to_cold_storage_after_days is not None:
            if hasattr(self.move_to_cold_storage_after_days, 'to_dict'):
                props['MoveToColdStorageAfterDays'] = self.move_to_cold_storage_after_days.to_dict()
            elif isinstance(self.move_to_cold_storage_after_days, list):
                props['MoveToColdStorageAfterDays'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.move_to_cold_storage_after_days
                ]
            else:
                props['MoveToColdStorageAfterDays'] = self.move_to_cold_storage_after_days

        return props


@dataclass
class BackupPlan(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-backu"""

    resource_type: ClassVar[str] = "AWS::Backup::BackupPlan"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    backup_plan: Optional[BackupPlanResourceType] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    backup_plan_tags: Optional[dict[str, str]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.backup_plan is not None:
            # Serialize backup_plan (handle intrinsic functions)
            if hasattr(self.backup_plan, 'to_dict'):
                props["BackupPlan"] = self.backup_plan.to_dict()
            elif isinstance(self.backup_plan, list):
                # Serialize list items (may contain intrinsic functions)
                props['BackupPlan'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_plan
                ]
            else:
                props["BackupPlan"] = self.backup_plan

        if self.backup_plan_tags is not None:
            # Serialize backup_plan_tags (handle intrinsic functions)
            if hasattr(self.backup_plan_tags, 'to_dict'):
                props["BackupPlanTags"] = self.backup_plan_tags.to_dict()
            elif isinstance(self.backup_plan_tags, list):
                # Serialize list items (may contain intrinsic functions)
                props['BackupPlanTags'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_plan_tags
                ]
            else:
                props["BackupPlanTags"] = self.backup_plan_tags

        return props

    @property
    def attr_version_id(self) -> GetAtt:
        """Get the VersionId attribute."""
        return self.get_att("VersionId")

    @property
    def attr_backup_plan_id(self) -> GetAtt:
        """Get the BackupPlanId attribute."""
        return self.get_att("BackupPlanId")

    @property
    def attr_backup_plan_arn(self) -> GetAtt:
        """Get the BackupPlanArn attribute."""
        return self.get_att("BackupPlanArn")




@dataclass
class BackupSelectionResourceType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    list_of_tags: Optional[list[ConditionResourceType]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    not_resources: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    selection_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    iam_role_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    resources: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    conditions: Optional[Conditions] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.list_of_tags is not None:
            if hasattr(self.list_of_tags, 'to_dict'):
                props['ListOfTags'] = self.list_of_tags.to_dict()
            elif isinstance(self.list_of_tags, list):
                props['ListOfTags'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.list_of_tags
                ]
            else:
                props['ListOfTags'] = self.list_of_tags

        if self.not_resources is not None:
            if hasattr(self.not_resources, 'to_dict'):
                props['NotResources'] = self.not_resources.to_dict()
            elif isinstance(self.not_resources, list):
                props['NotResources'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.not_resources
                ]
            else:
                props['NotResources'] = self.not_resources

        if self.selection_name is not None:
            if hasattr(self.selection_name, 'to_dict'):
                props['SelectionName'] = self.selection_name.to_dict()
            elif isinstance(self.selection_name, list):
                props['SelectionName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.selection_name
                ]
            else:
                props['SelectionName'] = self.selection_name

        if self.iam_role_arn is not None:
            if hasattr(self.iam_role_arn, 'to_dict'):
                props['IamRoleArn'] = self.iam_role_arn.to_dict()
            elif isinstance(self.iam_role_arn, list):
                props['IamRoleArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.iam_role_arn
                ]
            else:
                props['IamRoleArn'] = self.iam_role_arn

        if self.resources is not None:
            if hasattr(self.resources, 'to_dict'):
                props['Resources'] = self.resources.to_dict()
            elif isinstance(self.resources, list):
                props['Resources'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.resources
                ]
            else:
                props['Resources'] = self.resources

        if self.conditions is not None:
            if hasattr(self.conditions, 'to_dict'):
                props['Conditions'] = self.conditions.to_dict()
            elif isinstance(self.conditions, list):
                props['Conditions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.conditions
                ]
            else:
                props['Conditions'] = self.conditions

        return props


@dataclass
class ConditionParameter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    condition_value: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    condition_key: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.condition_value is not None:
            if hasattr(self.condition_value, 'to_dict'):
                props['ConditionValue'] = self.condition_value.to_dict()
            elif isinstance(self.condition_value, list):
                props['ConditionValue'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.condition_value
                ]
            else:
                props['ConditionValue'] = self.condition_value

        if self.condition_key is not None:
            if hasattr(self.condition_key, 'to_dict'):
                props['ConditionKey'] = self.condition_key.to_dict()
            elif isinstance(self.condition_key, list):
                props['ConditionKey'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.condition_key
                ]
            else:
                props['ConditionKey'] = self.condition_key

        return props


@dataclass
class ConditionResourceType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    condition_value: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    condition_key: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    condition_type: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.condition_value is not None:
            if hasattr(self.condition_value, 'to_dict'):
                props['ConditionValue'] = self.condition_value.to_dict()
            elif isinstance(self.condition_value, list):
                props['ConditionValue'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.condition_value
                ]
            else:
                props['ConditionValue'] = self.condition_value

        if self.condition_key is not None:
            if hasattr(self.condition_key, 'to_dict'):
                props['ConditionKey'] = self.condition_key.to_dict()
            elif isinstance(self.condition_key, list):
                props['ConditionKey'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.condition_key
                ]
            else:
                props['ConditionKey'] = self.condition_key

        if self.condition_type is not None:
            if hasattr(self.condition_type, 'to_dict'):
                props['ConditionType'] = self.condition_type.to_dict()
            elif isinstance(self.condition_type, list):
                props['ConditionType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.condition_type
                ]
            else:
                props['ConditionType'] = self.condition_type

        return props


@dataclass
class Conditions:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    string_equals: Optional[list[ConditionParameter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    string_not_like: Optional[list[ConditionParameter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    string_like: Optional[list[ConditionParameter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    string_not_equals: Optional[list[ConditionParameter]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.string_equals is not None:
            if hasattr(self.string_equals, 'to_dict'):
                props['StringEquals'] = self.string_equals.to_dict()
            elif isinstance(self.string_equals, list):
                props['StringEquals'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.string_equals
                ]
            else:
                props['StringEquals'] = self.string_equals

        if self.string_not_like is not None:
            if hasattr(self.string_not_like, 'to_dict'):
                props['StringNotLike'] = self.string_not_like.to_dict()
            elif isinstance(self.string_not_like, list):
                props['StringNotLike'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.string_not_like
                ]
            else:
                props['StringNotLike'] = self.string_not_like

        if self.string_like is not None:
            if hasattr(self.string_like, 'to_dict'):
                props['StringLike'] = self.string_like.to_dict()
            elif isinstance(self.string_like, list):
                props['StringLike'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.string_like
                ]
            else:
                props['StringLike'] = self.string_like

        if self.string_not_equals is not None:
            if hasattr(self.string_not_equals, 'to_dict'):
                props['StringNotEquals'] = self.string_not_equals.to_dict()
            elif isinstance(self.string_not_equals, list):
                props['StringNotEquals'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.string_not_equals
                ]
            else:
                props['StringNotEquals'] = self.string_not_equals

        return props


@dataclass
class BackupSelection(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-backu"""

    resource_type: ClassVar[str] = "AWS::Backup::BackupSelection"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    backup_selection: Optional[BackupSelectionResourceType] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    backup_plan_id: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.backup_selection is not None:
            # Serialize backup_selection (handle intrinsic functions)
            if hasattr(self.backup_selection, 'to_dict'):
                props["BackupSelection"] = self.backup_selection.to_dict()
            elif isinstance(self.backup_selection, list):
                # Serialize list items (may contain intrinsic functions)
                props['BackupSelection'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_selection
                ]
            else:
                props["BackupSelection"] = self.backup_selection

        if self.backup_plan_id is not None:
            # Serialize backup_plan_id (handle intrinsic functions)
            if hasattr(self.backup_plan_id, 'to_dict'):
                props["BackupPlanId"] = self.backup_plan_id.to_dict()
            elif isinstance(self.backup_plan_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['BackupPlanId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_plan_id
                ]
            else:
                props["BackupPlanId"] = self.backup_plan_id

        return props

    @property
    def attr_backup_plan_id(self) -> GetAtt:
        """Get the BackupPlanId attribute."""
        return self.get_att("BackupPlanId")

    @property
    def attr_id(self) -> GetAtt:
        """Get the Id attribute."""
        return self.get_att("Id")

    @property
    def attr_selection_id(self) -> GetAtt:
        """Get the SelectionId attribute."""
        return self.get_att("SelectionId")




@dataclass
class LockConfigurationType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    changeable_for_days: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_retention_days: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    min_retention_days: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.changeable_for_days is not None:
            if hasattr(self.changeable_for_days, 'to_dict'):
                props['ChangeableForDays'] = self.changeable_for_days.to_dict()
            elif isinstance(self.changeable_for_days, list):
                props['ChangeableForDays'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.changeable_for_days
                ]
            else:
                props['ChangeableForDays'] = self.changeable_for_days

        if self.max_retention_days is not None:
            if hasattr(self.max_retention_days, 'to_dict'):
                props['MaxRetentionDays'] = self.max_retention_days.to_dict()
            elif isinstance(self.max_retention_days, list):
                props['MaxRetentionDays'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_retention_days
                ]
            else:
                props['MaxRetentionDays'] = self.max_retention_days

        if self.min_retention_days is not None:
            if hasattr(self.min_retention_days, 'to_dict'):
                props['MinRetentionDays'] = self.min_retention_days.to_dict()
            elif isinstance(self.min_retention_days, list):
                props['MinRetentionDays'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.min_retention_days
                ]
            else:
                props['MinRetentionDays'] = self.min_retention_days

        return props


@dataclass
class NotificationObjectType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sns_topic_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    backup_vault_events: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sns_topic_arn is not None:
            if hasattr(self.sns_topic_arn, 'to_dict'):
                props['SNSTopicArn'] = self.sns_topic_arn.to_dict()
            elif isinstance(self.sns_topic_arn, list):
                props['SNSTopicArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sns_topic_arn
                ]
            else:
                props['SNSTopicArn'] = self.sns_topic_arn

        if self.backup_vault_events is not None:
            if hasattr(self.backup_vault_events, 'to_dict'):
                props['BackupVaultEvents'] = self.backup_vault_events.to_dict()
            elif isinstance(self.backup_vault_events, list):
                props['BackupVaultEvents'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_vault_events
                ]
            else:
                props['BackupVaultEvents'] = self.backup_vault_events

        return props


@dataclass
class BackupVault(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-backu"""

    resource_type: ClassVar[str] = "AWS::Backup::BackupVault"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    backup_vault_tags: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    backup_vault_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    encryption_key_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    lock_configuration: Optional[LockConfigurationType] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    notifications: Optional[NotificationObjectType] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    access_policy: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.backup_vault_tags is not None:
            # Serialize backup_vault_tags (handle intrinsic functions)
            if hasattr(self.backup_vault_tags, 'to_dict'):
                props["BackupVaultTags"] = self.backup_vault_tags.to_dict()
            elif isinstance(self.backup_vault_tags, list):
                # Serialize list items (may contain intrinsic functions)
                props['BackupVaultTags'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_vault_tags
                ]
            else:
                props["BackupVaultTags"] = self.backup_vault_tags

        if self.backup_vault_name is not None:
            # Serialize backup_vault_name (handle intrinsic functions)
            if hasattr(self.backup_vault_name, 'to_dict'):
                props["BackupVaultName"] = self.backup_vault_name.to_dict()
            elif isinstance(self.backup_vault_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['BackupVaultName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_vault_name
                ]
            else:
                props["BackupVaultName"] = self.backup_vault_name

        if self.encryption_key_arn is not None:
            # Serialize encryption_key_arn (handle intrinsic functions)
            if hasattr(self.encryption_key_arn, 'to_dict'):
                props["EncryptionKeyArn"] = self.encryption_key_arn.to_dict()
            elif isinstance(self.encryption_key_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['EncryptionKeyArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.encryption_key_arn
                ]
            else:
                props["EncryptionKeyArn"] = self.encryption_key_arn

        if self.lock_configuration is not None:
            # Serialize lock_configuration (handle intrinsic functions)
            if hasattr(self.lock_configuration, 'to_dict'):
                props["LockConfiguration"] = self.lock_configuration.to_dict()
            elif isinstance(self.lock_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['LockConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.lock_configuration
                ]
            else:
                props["LockConfiguration"] = self.lock_configuration

        if self.notifications is not None:
            # Serialize notifications (handle intrinsic functions)
            if hasattr(self.notifications, 'to_dict'):
                props["Notifications"] = self.notifications.to_dict()
            elif isinstance(self.notifications, list):
                # Serialize list items (may contain intrinsic functions)
                props['Notifications'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.notifications
                ]
            else:
                props["Notifications"] = self.notifications

        if self.access_policy is not None:
            # Serialize access_policy (handle intrinsic functions)
            if hasattr(self.access_policy, 'to_dict'):
                props["AccessPolicy"] = self.access_policy.to_dict()
            elif isinstance(self.access_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['AccessPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.access_policy
                ]
            else:
                props["AccessPolicy"] = self.access_policy

        return props

    @property
    def attr_backup_vault_name(self) -> GetAtt:
        """Get the BackupVaultName attribute."""
        return self.get_att("BackupVaultName")

    @property
    def attr_backup_vault_arn(self) -> GetAtt:
        """Get the BackupVaultArn attribute."""
        return self.get_att("BackupVaultArn")




@dataclass
class ControlInputParameter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    parameter_value: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    parameter_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.parameter_value is not None:
            if hasattr(self.parameter_value, 'to_dict'):
                props['ParameterValue'] = self.parameter_value.to_dict()
            elif isinstance(self.parameter_value, list):
                props['ParameterValue'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.parameter_value
                ]
            else:
                props['ParameterValue'] = self.parameter_value

        if self.parameter_name is not None:
            if hasattr(self.parameter_name, 'to_dict'):
                props['ParameterName'] = self.parameter_name.to_dict()
            elif isinstance(self.parameter_name, list):
                props['ParameterName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.parameter_name
                ]
            else:
                props['ParameterName'] = self.parameter_name

        return props


@dataclass
class ControlScope:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    compliance_resource_types: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    compliance_resource_ids: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.compliance_resource_types is not None:
            if hasattr(self.compliance_resource_types, 'to_dict'):
                props['ComplianceResourceTypes'] = self.compliance_resource_types.to_dict()
            elif isinstance(self.compliance_resource_types, list):
                props['ComplianceResourceTypes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.compliance_resource_types
                ]
            else:
                props['ComplianceResourceTypes'] = self.compliance_resource_types

        if self.tags is not None:
            if hasattr(self.tags, 'to_dict'):
                props['Tags'] = self.tags.to_dict()
            elif isinstance(self.tags, list):
                props['Tags'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tags
                ]
            else:
                props['Tags'] = self.tags

        if self.compliance_resource_ids is not None:
            if hasattr(self.compliance_resource_ids, 'to_dict'):
                props['ComplianceResourceIds'] = self.compliance_resource_ids.to_dict()
            elif isinstance(self.compliance_resource_ids, list):
                props['ComplianceResourceIds'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.compliance_resource_ids
                ]
            else:
                props['ComplianceResourceIds'] = self.compliance_resource_ids

        return props


@dataclass
class FrameworkControl:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    control_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    control_input_parameters: Optional[list[ControlInputParameter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    control_scope: Optional[ControlScope] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.control_name is not None:
            if hasattr(self.control_name, 'to_dict'):
                props['ControlName'] = self.control_name.to_dict()
            elif isinstance(self.control_name, list):
                props['ControlName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.control_name
                ]
            else:
                props['ControlName'] = self.control_name

        if self.control_input_parameters is not None:
            if hasattr(self.control_input_parameters, 'to_dict'):
                props['ControlInputParameters'] = self.control_input_parameters.to_dict()
            elif isinstance(self.control_input_parameters, list):
                props['ControlInputParameters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.control_input_parameters
                ]
            else:
                props['ControlInputParameters'] = self.control_input_parameters

        if self.control_scope is not None:
            if hasattr(self.control_scope, 'to_dict'):
                props['ControlScope'] = self.control_scope.to_dict()
            elif isinstance(self.control_scope, list):
                props['ControlScope'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.control_scope
                ]
            else:
                props['ControlScope'] = self.control_scope

        return props


@dataclass
class Framework(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-backu"""

    resource_type: ClassVar[str] = "AWS::Backup::Framework"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    framework_controls: Optional[list[FrameworkControl]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    framework_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    framework_tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    framework_description: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.framework_controls is not None:
            # Serialize framework_controls (handle intrinsic functions)
            if hasattr(self.framework_controls, 'to_dict'):
                props["FrameworkControls"] = self.framework_controls.to_dict()
            elif isinstance(self.framework_controls, list):
                # Serialize list items (may contain intrinsic functions)
                props['FrameworkControls'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.framework_controls
                ]
            else:
                props["FrameworkControls"] = self.framework_controls

        if self.framework_name is not None:
            # Serialize framework_name (handle intrinsic functions)
            if hasattr(self.framework_name, 'to_dict'):
                props["FrameworkName"] = self.framework_name.to_dict()
            elif isinstance(self.framework_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['FrameworkName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.framework_name
                ]
            else:
                props["FrameworkName"] = self.framework_name

        if self.framework_tags is not None:
            # Serialize framework_tags (handle intrinsic functions)
            if hasattr(self.framework_tags, 'to_dict'):
                props["FrameworkTags"] = self.framework_tags.to_dict()
            elif isinstance(self.framework_tags, list):
                # Serialize list items (may contain intrinsic functions)
                props['FrameworkTags'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.framework_tags
                ]
            else:
                props["FrameworkTags"] = self.framework_tags

        if self.framework_description is not None:
            # Serialize framework_description (handle intrinsic functions)
            if hasattr(self.framework_description, 'to_dict'):
                props["FrameworkDescription"] = self.framework_description.to_dict()
            elif isinstance(self.framework_description, list):
                # Serialize list items (may contain intrinsic functions)
                props['FrameworkDescription'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.framework_description
                ]
            else:
                props["FrameworkDescription"] = self.framework_description

        return props

    @property
    def attr_creation_time(self) -> GetAtt:
        """Get the CreationTime attribute."""
        return self.get_att("CreationTime")

    @property
    def attr_framework_status(self) -> GetAtt:
        """Get the FrameworkStatus attribute."""
        return self.get_att("FrameworkStatus")

    @property
    def attr_deployment_status(self) -> GetAtt:
        """Get the DeploymentStatus attribute."""
        return self.get_att("DeploymentStatus")

    @property
    def attr_framework_arn(self) -> GetAtt:
        """Get the FrameworkArn attribute."""
        return self.get_att("FrameworkArn")




@dataclass
class NotificationObjectType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sns_topic_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    backup_vault_events: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sns_topic_arn is not None:
            if hasattr(self.sns_topic_arn, 'to_dict'):
                props['SNSTopicArn'] = self.sns_topic_arn.to_dict()
            elif isinstance(self.sns_topic_arn, list):
                props['SNSTopicArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sns_topic_arn
                ]
            else:
                props['SNSTopicArn'] = self.sns_topic_arn

        if self.backup_vault_events is not None:
            if hasattr(self.backup_vault_events, 'to_dict'):
                props['BackupVaultEvents'] = self.backup_vault_events.to_dict()
            elif isinstance(self.backup_vault_events, list):
                props['BackupVaultEvents'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_vault_events
                ]
            else:
                props['BackupVaultEvents'] = self.backup_vault_events

        return props


@dataclass
class LogicallyAirGappedBackupVault(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-backu"""

    resource_type: ClassVar[str] = "AWS::Backup::LogicallyAirGappedBackupVault"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    backup_vault_tags: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    backup_vault_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    encryption_key_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    max_retention_days: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    min_retention_days: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    notifications: Optional[NotificationObjectType] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mpa_approval_team_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    access_policy: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.backup_vault_tags is not None:
            # Serialize backup_vault_tags (handle intrinsic functions)
            if hasattr(self.backup_vault_tags, 'to_dict'):
                props["BackupVaultTags"] = self.backup_vault_tags.to_dict()
            elif isinstance(self.backup_vault_tags, list):
                # Serialize list items (may contain intrinsic functions)
                props['BackupVaultTags'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_vault_tags
                ]
            else:
                props["BackupVaultTags"] = self.backup_vault_tags

        if self.backup_vault_name is not None:
            # Serialize backup_vault_name (handle intrinsic functions)
            if hasattr(self.backup_vault_name, 'to_dict'):
                props["BackupVaultName"] = self.backup_vault_name.to_dict()
            elif isinstance(self.backup_vault_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['BackupVaultName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backup_vault_name
                ]
            else:
                props["BackupVaultName"] = self.backup_vault_name

        if self.encryption_key_arn is not None:
            # Serialize encryption_key_arn (handle intrinsic functions)
            if hasattr(self.encryption_key_arn, 'to_dict'):
                props["EncryptionKeyArn"] = self.encryption_key_arn.to_dict()
            elif isinstance(self.encryption_key_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['EncryptionKeyArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.encryption_key_arn
                ]
            else:
                props["EncryptionKeyArn"] = self.encryption_key_arn

        if self.max_retention_days is not None:
            # Serialize max_retention_days (handle intrinsic functions)
            if hasattr(self.max_retention_days, 'to_dict'):
                props["MaxRetentionDays"] = self.max_retention_days.to_dict()
            elif isinstance(self.max_retention_days, list):
                # Serialize list items (may contain intrinsic functions)
                props['MaxRetentionDays'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_retention_days
                ]
            else:
                props["MaxRetentionDays"] = self.max_retention_days

        if self.min_retention_days is not None:
            # Serialize min_retention_days (handle intrinsic functions)
            if hasattr(self.min_retention_days, 'to_dict'):
                props["MinRetentionDays"] = self.min_retention_days.to_dict()
            elif isinstance(self.min_retention_days, list):
                # Serialize list items (may contain intrinsic functions)
                props['MinRetentionDays'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.min_retention_days
                ]
            else:
                props["MinRetentionDays"] = self.min_retention_days

        if self.notifications is not None:
            # Serialize notifications (handle intrinsic functions)
            if hasattr(self.notifications, 'to_dict'):
                props["Notifications"] = self.notifications.to_dict()
            elif isinstance(self.notifications, list):
                # Serialize list items (may contain intrinsic functions)
                props['Notifications'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.notifications
                ]
            else:
                props["Notifications"] = self.notifications

        if self.mpa_approval_team_arn is not None:
            # Serialize mpa_approval_team_arn (handle intrinsic functions)
            if hasattr(self.mpa_approval_team_arn, 'to_dict'):
                props["MpaApprovalTeamArn"] = self.mpa_approval_team_arn.to_dict()
            elif isinstance(self.mpa_approval_team_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['MpaApprovalTeamArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mpa_approval_team_arn
                ]
            else:
                props["MpaApprovalTeamArn"] = self.mpa_approval_team_arn

        if self.access_policy is not None:
            # Serialize access_policy (handle intrinsic functions)
            if hasattr(self.access_policy, 'to_dict'):
                props["AccessPolicy"] = self.access_policy.to_dict()
            elif isinstance(self.access_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['AccessPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.access_policy
                ]
            else:
                props["AccessPolicy"] = self.access_policy

        return props

    @property
    def attr_vault_state(self) -> GetAtt:
        """Get the VaultState attribute."""
        return self.get_att("VaultState")

    @property
    def attr_vault_type(self) -> GetAtt:
        """Get the VaultType attribute."""
        return self.get_att("VaultType")

    @property
    def attr_backup_vault_arn(self) -> GetAtt:
        """Get the BackupVaultArn attribute."""
        return self.get_att("BackupVaultArn")




@dataclass
class ReportDeliveryChannel:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    s3_key_prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    formats: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    s3_bucket_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.s3_key_prefix is not None:
            if hasattr(self.s3_key_prefix, 'to_dict'):
                props['S3KeyPrefix'] = self.s3_key_prefix.to_dict()
            elif isinstance(self.s3_key_prefix, list):
                props['S3KeyPrefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.s3_key_prefix
                ]
            else:
                props['S3KeyPrefix'] = self.s3_key_prefix

        if self.formats is not None:
            if hasattr(self.formats, 'to_dict'):
                props['Formats'] = self.formats.to_dict()
            elif isinstance(self.formats, list):
                props['Formats'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.formats
                ]
            else:
                props['Formats'] = self.formats

        if self.s3_bucket_name is not None:
            if hasattr(self.s3_bucket_name, 'to_dict'):
                props['S3BucketName'] = self.s3_bucket_name.to_dict()
            elif isinstance(self.s3_bucket_name, list):
                props['S3BucketName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.s3_bucket_name
                ]
            else:
                props['S3BucketName'] = self.s3_bucket_name

        return props


@dataclass
class ReportSetting:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    framework_arns: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    report_template: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    organization_units: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    regions: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    accounts: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.framework_arns is not None:
            if hasattr(self.framework_arns, 'to_dict'):
                props['FrameworkArns'] = self.framework_arns.to_dict()
            elif isinstance(self.framework_arns, list):
                props['FrameworkArns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.framework_arns
                ]
            else:
                props['FrameworkArns'] = self.framework_arns

        if self.report_template is not None:
            if hasattr(self.report_template, 'to_dict'):
                props['ReportTemplate'] = self.report_template.to_dict()
            elif isinstance(self.report_template, list):
                props['ReportTemplate'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.report_template
                ]
            else:
                props['ReportTemplate'] = self.report_template

        if self.organization_units is not None:
            if hasattr(self.organization_units, 'to_dict'):
                props['OrganizationUnits'] = self.organization_units.to_dict()
            elif isinstance(self.organization_units, list):
                props['OrganizationUnits'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.organization_units
                ]
            else:
                props['OrganizationUnits'] = self.organization_units

        if self.regions is not None:
            if hasattr(self.regions, 'to_dict'):
                props['Regions'] = self.regions.to_dict()
            elif isinstance(self.regions, list):
                props['Regions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.regions
                ]
            else:
                props['Regions'] = self.regions

        if self.accounts is not None:
            if hasattr(self.accounts, 'to_dict'):
                props['Accounts'] = self.accounts.to_dict()
            elif isinstance(self.accounts, list):
                props['Accounts'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.accounts
                ]
            else:
                props['Accounts'] = self.accounts

        return props


@dataclass
class ReportPlan(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-backu"""

    resource_type: ClassVar[str] = "AWS::Backup::ReportPlan"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    report_setting: Optional[ReportSetting] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    report_plan_description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    report_plan_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    report_delivery_channel: Optional[ReportDeliveryChannel] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    report_plan_tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.report_setting is not None:
            # Serialize report_setting (handle intrinsic functions)
            if hasattr(self.report_setting, 'to_dict'):
                props["ReportSetting"] = self.report_setting.to_dict()
            elif isinstance(self.report_setting, list):
                # Serialize list items (may contain intrinsic functions)
                props['ReportSetting'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.report_setting
                ]
            else:
                props["ReportSetting"] = self.report_setting

        if self.report_plan_description is not None:
            # Serialize report_plan_description (handle intrinsic functions)
            if hasattr(self.report_plan_description, 'to_dict'):
                props["ReportPlanDescription"] = self.report_plan_description.to_dict()
            elif isinstance(self.report_plan_description, list):
                # Serialize list items (may contain intrinsic functions)
                props['ReportPlanDescription'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.report_plan_description
                ]
            else:
                props["ReportPlanDescription"] = self.report_plan_description

        if self.report_plan_name is not None:
            # Serialize report_plan_name (handle intrinsic functions)
            if hasattr(self.report_plan_name, 'to_dict'):
                props["ReportPlanName"] = self.report_plan_name.to_dict()
            elif isinstance(self.report_plan_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['ReportPlanName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.report_plan_name
                ]
            else:
                props["ReportPlanName"] = self.report_plan_name

        if self.report_delivery_channel is not None:
            # Serialize report_delivery_channel (handle intrinsic functions)
            if hasattr(self.report_delivery_channel, 'to_dict'):
                props["ReportDeliveryChannel"] = self.report_delivery_channel.to_dict()
            elif isinstance(self.report_delivery_channel, list):
                # Serialize list items (may contain intrinsic functions)
                props['ReportDeliveryChannel'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.report_delivery_channel
                ]
            else:
                props["ReportDeliveryChannel"] = self.report_delivery_channel

        if self.report_plan_tags is not None:
            # Serialize report_plan_tags (handle intrinsic functions)
            if hasattr(self.report_plan_tags, 'to_dict'):
                props["ReportPlanTags"] = self.report_plan_tags.to_dict()
            elif isinstance(self.report_plan_tags, list):
                # Serialize list items (may contain intrinsic functions)
                props['ReportPlanTags'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.report_plan_tags
                ]
            else:
                props["ReportPlanTags"] = self.report_plan_tags

        return props

    @property
    def attr_report_plan_arn(self) -> GetAtt:
        """Get the ReportPlanArn attribute."""
        return self.get_att("ReportPlanArn")




@dataclass
class RestoreTestingRecoveryPointSelection:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    selection_window_days: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    recovery_point_types: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    include_vaults: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exclude_vaults: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    algorithm: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.selection_window_days is not None:
            if hasattr(self.selection_window_days, 'to_dict'):
                props['SelectionWindowDays'] = self.selection_window_days.to_dict()
            elif isinstance(self.selection_window_days, list):
                props['SelectionWindowDays'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.selection_window_days
                ]
            else:
                props['SelectionWindowDays'] = self.selection_window_days

        if self.recovery_point_types is not None:
            if hasattr(self.recovery_point_types, 'to_dict'):
                props['RecoveryPointTypes'] = self.recovery_point_types.to_dict()
            elif isinstance(self.recovery_point_types, list):
                props['RecoveryPointTypes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.recovery_point_types
                ]
            else:
                props['RecoveryPointTypes'] = self.recovery_point_types

        if self.include_vaults is not None:
            if hasattr(self.include_vaults, 'to_dict'):
                props['IncludeVaults'] = self.include_vaults.to_dict()
            elif isinstance(self.include_vaults, list):
                props['IncludeVaults'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.include_vaults
                ]
            else:
                props['IncludeVaults'] = self.include_vaults

        if self.exclude_vaults is not None:
            if hasattr(self.exclude_vaults, 'to_dict'):
                props['ExcludeVaults'] = self.exclude_vaults.to_dict()
            elif isinstance(self.exclude_vaults, list):
                props['ExcludeVaults'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exclude_vaults
                ]
            else:
                props['ExcludeVaults'] = self.exclude_vaults

        if self.algorithm is not None:
            if hasattr(self.algorithm, 'to_dict'):
                props['Algorithm'] = self.algorithm.to_dict()
            elif isinstance(self.algorithm, list):
                props['Algorithm'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.algorithm
                ]
            else:
                props['Algorithm'] = self.algorithm

        return props


@dataclass
class RestoreTestingPlan(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-backu"""

    resource_type: ClassVar[str] = "AWS::Backup::RestoreTestingPlan"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    schedule_expression: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    start_window_hours: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    recovery_point_selection: Optional[RestoreTestingRecoveryPointSelection] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    restore_testing_plan_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    schedule_expression_timezone: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.schedule_expression is not None:
            # Serialize schedule_expression (handle intrinsic functions)
            if hasattr(self.schedule_expression, 'to_dict'):
                props["ScheduleExpression"] = self.schedule_expression.to_dict()
            elif isinstance(self.schedule_expression, list):
                # Serialize list items (may contain intrinsic functions)
                props['ScheduleExpression'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.schedule_expression
                ]
            else:
                props["ScheduleExpression"] = self.schedule_expression

        if self.start_window_hours is not None:
            # Serialize start_window_hours (handle intrinsic functions)
            if hasattr(self.start_window_hours, 'to_dict'):
                props["StartWindowHours"] = self.start_window_hours.to_dict()
            elif isinstance(self.start_window_hours, list):
                # Serialize list items (may contain intrinsic functions)
                props['StartWindowHours'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.start_window_hours
                ]
            else:
                props["StartWindowHours"] = self.start_window_hours

        if self.recovery_point_selection is not None:
            # Serialize recovery_point_selection (handle intrinsic functions)
            if hasattr(self.recovery_point_selection, 'to_dict'):
                props["RecoveryPointSelection"] = self.recovery_point_selection.to_dict()
            elif isinstance(self.recovery_point_selection, list):
                # Serialize list items (may contain intrinsic functions)
                props['RecoveryPointSelection'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.recovery_point_selection
                ]
            else:
                props["RecoveryPointSelection"] = self.recovery_point_selection

        if self.restore_testing_plan_name is not None:
            # Serialize restore_testing_plan_name (handle intrinsic functions)
            if hasattr(self.restore_testing_plan_name, 'to_dict'):
                props["RestoreTestingPlanName"] = self.restore_testing_plan_name.to_dict()
            elif isinstance(self.restore_testing_plan_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['RestoreTestingPlanName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.restore_testing_plan_name
                ]
            else:
                props["RestoreTestingPlanName"] = self.restore_testing_plan_name

        if self.schedule_expression_timezone is not None:
            # Serialize schedule_expression_timezone (handle intrinsic functions)
            if hasattr(self.schedule_expression_timezone, 'to_dict'):
                props["ScheduleExpressionTimezone"] = self.schedule_expression_timezone.to_dict()
            elif isinstance(self.schedule_expression_timezone, list):
                # Serialize list items (may contain intrinsic functions)
                props['ScheduleExpressionTimezone'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.schedule_expression_timezone
                ]
            else:
                props["ScheduleExpressionTimezone"] = self.schedule_expression_timezone

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_restore_testing_plan_arn(self) -> GetAtt:
        """Get the RestoreTestingPlanArn attribute."""
        return self.get_att("RestoreTestingPlanArn")




@dataclass
class KeyValue:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        if self.key is not None:
            if hasattr(self.key, 'to_dict'):
                props['Key'] = self.key.to_dict()
            elif isinstance(self.key, list):
                props['Key'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key
                ]
            else:
                props['Key'] = self.key

        return props


@dataclass
class ProtectedResourceConditions:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-bac"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    string_equals: Optional[list[KeyValue]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    string_not_equals: Optional[list[KeyValue]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.string_equals is not None:
            if hasattr(self.string_equals, 'to_dict'):
                props['StringEquals'] = self.string_equals.to_dict()
            elif isinstance(self.string_equals, list):
                props['StringEquals'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.string_equals
                ]
            else:
                props['StringEquals'] = self.string_equals

        if self.string_not_equals is not None:
            if hasattr(self.string_not_equals, 'to_dict'):
                props['StringNotEquals'] = self.string_not_equals.to_dict()
            elif isinstance(self.string_not_equals, list):
                props['StringNotEquals'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.string_not_equals
                ]
            else:
                props['StringNotEquals'] = self.string_not_equals

        return props


@dataclass
class RestoreTestingSelection(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-backu"""

    resource_type: ClassVar[str] = "AWS::Backup::RestoreTestingSelection"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    protected_resource_conditions: Optional[ProtectedResourceConditions] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    protected_resource_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    restore_metadata_overrides: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    restore_testing_selection_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    protected_resource_arns: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    restore_testing_plan_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    iam_role_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    validation_window_hours: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.protected_resource_conditions is not None:
            # Serialize protected_resource_conditions (handle intrinsic functions)
            if hasattr(self.protected_resource_conditions, 'to_dict'):
                props["ProtectedResourceConditions"] = self.protected_resource_conditions.to_dict()
            elif isinstance(self.protected_resource_conditions, list):
                # Serialize list items (may contain intrinsic functions)
                props['ProtectedResourceConditions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.protected_resource_conditions
                ]
            else:
                props["ProtectedResourceConditions"] = self.protected_resource_conditions

        if self.protected_resource_type is not None:
            # Serialize protected_resource_type (handle intrinsic functions)
            if hasattr(self.protected_resource_type, 'to_dict'):
                props["ProtectedResourceType"] = self.protected_resource_type.to_dict()
            elif isinstance(self.protected_resource_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['ProtectedResourceType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.protected_resource_type
                ]
            else:
                props["ProtectedResourceType"] = self.protected_resource_type

        if self.restore_metadata_overrides is not None:
            # Serialize restore_metadata_overrides (handle intrinsic functions)
            if hasattr(self.restore_metadata_overrides, 'to_dict'):
                props["RestoreMetadataOverrides"] = self.restore_metadata_overrides.to_dict()
            elif isinstance(self.restore_metadata_overrides, list):
                # Serialize list items (may contain intrinsic functions)
                props['RestoreMetadataOverrides'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.restore_metadata_overrides
                ]
            else:
                props["RestoreMetadataOverrides"] = self.restore_metadata_overrides

        if self.restore_testing_selection_name is not None:
            # Serialize restore_testing_selection_name (handle intrinsic functions)
            if hasattr(self.restore_testing_selection_name, 'to_dict'):
                props["RestoreTestingSelectionName"] = self.restore_testing_selection_name.to_dict()
            elif isinstance(self.restore_testing_selection_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['RestoreTestingSelectionName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.restore_testing_selection_name
                ]
            else:
                props["RestoreTestingSelectionName"] = self.restore_testing_selection_name

        if self.protected_resource_arns is not None:
            # Serialize protected_resource_arns (handle intrinsic functions)
            if hasattr(self.protected_resource_arns, 'to_dict'):
                props["ProtectedResourceArns"] = self.protected_resource_arns.to_dict()
            elif isinstance(self.protected_resource_arns, list):
                # Serialize list items (may contain intrinsic functions)
                props['ProtectedResourceArns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.protected_resource_arns
                ]
            else:
                props["ProtectedResourceArns"] = self.protected_resource_arns

        if self.restore_testing_plan_name is not None:
            # Serialize restore_testing_plan_name (handle intrinsic functions)
            if hasattr(self.restore_testing_plan_name, 'to_dict'):
                props["RestoreTestingPlanName"] = self.restore_testing_plan_name.to_dict()
            elif isinstance(self.restore_testing_plan_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['RestoreTestingPlanName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.restore_testing_plan_name
                ]
            else:
                props["RestoreTestingPlanName"] = self.restore_testing_plan_name

        if self.iam_role_arn is not None:
            # Serialize iam_role_arn (handle intrinsic functions)
            if hasattr(self.iam_role_arn, 'to_dict'):
                props["IamRoleArn"] = self.iam_role_arn.to_dict()
            elif isinstance(self.iam_role_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['IamRoleArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.iam_role_arn
                ]
            else:
                props["IamRoleArn"] = self.iam_role_arn

        if self.validation_window_hours is not None:
            # Serialize validation_window_hours (handle intrinsic functions)
            if hasattr(self.validation_window_hours, 'to_dict'):
                props["ValidationWindowHours"] = self.validation_window_hours.to_dict()
            elif isinstance(self.validation_window_hours, list):
                # Serialize list items (may contain intrinsic functions)
                props['ValidationWindowHours'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.validation_window_hours
                ]
            else:
                props["ValidationWindowHours"] = self.validation_window_hours

        return props


