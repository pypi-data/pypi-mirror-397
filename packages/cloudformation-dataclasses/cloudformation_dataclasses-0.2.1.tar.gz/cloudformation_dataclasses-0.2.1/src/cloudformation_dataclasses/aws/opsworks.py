"""
AWS CloudFormation OpsWorks Resources

⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY ⚠️

This file is automatically generated from the AWS CloudFormation Resource Specification.
Any manual changes will be overwritten when regenerated.

Version Information:
  CloudFormation Spec: 227.0.0
  Generator Version: 1.0.0
  Combined: spec-227.0.0_gen-1.0.0
  Generated: 2025-12-15 17:57:30

To regenerate this file:
    uv run python -m cloudformation_dataclasses.codegen.generator --service OpsWorks
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any, ClassVar, Optional, Union

from cloudformation_dataclasses.core.base import CloudFormationResource
from cloudformation_dataclasses.intrinsics.functions import GetAtt, Ref, Sub


@dataclass
class DataSource:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    database_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.arn is not None:
            if hasattr(self.arn, 'to_dict'):
                props['Arn'] = self.arn.to_dict()
            elif isinstance(self.arn, list):
                props['Arn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.arn
                ]
            else:
                props['Arn'] = self.arn

        if self.database_name is not None:
            if hasattr(self.database_name, 'to_dict'):
                props['DatabaseName'] = self.database_name.to_dict()
            elif isinstance(self.database_name, list):
                props['DatabaseName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.database_name
                ]
            else:
                props['DatabaseName'] = self.database_name

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        return props


@dataclass
class EnvironmentVariable:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    secure: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.key is not None:
            if hasattr(self.key, 'to_dict'):
                props['Key'] = self.key.to_dict()
            elif isinstance(self.key, list):
                props['Key'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key
                ]
            else:
                props['Key'] = self.key

        if self.secure is not None:
            if hasattr(self.secure, 'to_dict'):
                props['Secure'] = self.secure.to_dict()
            elif isinstance(self.secure, list):
                props['Secure'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.secure
                ]
            else:
                props['Secure'] = self.secure

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        return props


@dataclass
class Source:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    password: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    revision: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ssh_key: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    url: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    username: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.password is not None:
            if hasattr(self.password, 'to_dict'):
                props['Password'] = self.password.to_dict()
            elif isinstance(self.password, list):
                props['Password'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.password
                ]
            else:
                props['Password'] = self.password

        if self.revision is not None:
            if hasattr(self.revision, 'to_dict'):
                props['Revision'] = self.revision.to_dict()
            elif isinstance(self.revision, list):
                props['Revision'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.revision
                ]
            else:
                props['Revision'] = self.revision

        if self.ssh_key is not None:
            if hasattr(self.ssh_key, 'to_dict'):
                props['SshKey'] = self.ssh_key.to_dict()
            elif isinstance(self.ssh_key, list):
                props['SshKey'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ssh_key
                ]
            else:
                props['SshKey'] = self.ssh_key

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        if self.url is not None:
            if hasattr(self.url, 'to_dict'):
                props['Url'] = self.url.to_dict()
            elif isinstance(self.url, list):
                props['Url'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.url
                ]
            else:
                props['Url'] = self.url

        if self.username is not None:
            if hasattr(self.username, 'to_dict'):
                props['Username'] = self.username.to_dict()
            elif isinstance(self.username, list):
                props['Username'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.username
                ]
            else:
                props['Username'] = self.username

        return props


@dataclass
class SslConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    chain: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    private_key: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.certificate is not None:
            if hasattr(self.certificate, 'to_dict'):
                props['Certificate'] = self.certificate.to_dict()
            elif isinstance(self.certificate, list):
                props['Certificate'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate
                ]
            else:
                props['Certificate'] = self.certificate

        if self.chain is not None:
            if hasattr(self.chain, 'to_dict'):
                props['Chain'] = self.chain.to_dict()
            elif isinstance(self.chain, list):
                props['Chain'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.chain
                ]
            else:
                props['Chain'] = self.chain

        if self.private_key is not None:
            if hasattr(self.private_key, 'to_dict'):
                props['PrivateKey'] = self.private_key.to_dict()
            elif isinstance(self.private_key, list):
                props['PrivateKey'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.private_key
                ]
            else:
                props['PrivateKey'] = self.private_key

        return props


@dataclass
class App(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opswo"""

    resource_type: ClassVar[str] = "AWS::OpsWorks::App"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    app_source: Optional[Source] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    attributes: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    data_sources: Optional[list[DataSource]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    domains: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    enable_ssl: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    environment: Optional[list[EnvironmentVariable]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    shortname: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ssl_configuration: Optional[SslConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    stack_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.app_source is not None:
            # Serialize app_source (handle intrinsic functions)
            if hasattr(self.app_source, 'to_dict'):
                props["AppSource"] = self.app_source.to_dict()
            elif isinstance(self.app_source, list):
                # Serialize list items (may contain intrinsic functions)
                props['AppSource'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.app_source
                ]
            else:
                props["AppSource"] = self.app_source

        if self.attributes is not None:
            # Serialize attributes (handle intrinsic functions)
            if hasattr(self.attributes, 'to_dict'):
                props["Attributes"] = self.attributes.to_dict()
            elif isinstance(self.attributes, list):
                # Serialize list items (may contain intrinsic functions)
                props['Attributes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.attributes
                ]
            else:
                props["Attributes"] = self.attributes

        if self.data_sources is not None:
            # Serialize data_sources (handle intrinsic functions)
            if hasattr(self.data_sources, 'to_dict'):
                props["DataSources"] = self.data_sources.to_dict()
            elif isinstance(self.data_sources, list):
                # Serialize list items (may contain intrinsic functions)
                props['DataSources'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.data_sources
                ]
            else:
                props["DataSources"] = self.data_sources

        if self.description is not None:
            # Serialize description (handle intrinsic functions)
            if hasattr(self.description, 'to_dict'):
                props["Description"] = self.description.to_dict()
            elif isinstance(self.description, list):
                # Serialize list items (may contain intrinsic functions)
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props["Description"] = self.description

        if self.domains is not None:
            # Serialize domains (handle intrinsic functions)
            if hasattr(self.domains, 'to_dict'):
                props["Domains"] = self.domains.to_dict()
            elif isinstance(self.domains, list):
                # Serialize list items (may contain intrinsic functions)
                props['Domains'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.domains
                ]
            else:
                props["Domains"] = self.domains

        if self.enable_ssl is not None:
            # Serialize enable_ssl (handle intrinsic functions)
            if hasattr(self.enable_ssl, 'to_dict'):
                props["EnableSsl"] = self.enable_ssl.to_dict()
            elif isinstance(self.enable_ssl, list):
                # Serialize list items (may contain intrinsic functions)
                props['EnableSsl'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.enable_ssl
                ]
            else:
                props["EnableSsl"] = self.enable_ssl

        if self.environment is not None:
            # Serialize environment (handle intrinsic functions)
            if hasattr(self.environment, 'to_dict'):
                props["Environment"] = self.environment.to_dict()
            elif isinstance(self.environment, list):
                # Serialize list items (may contain intrinsic functions)
                props['Environment'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.environment
                ]
            else:
                props["Environment"] = self.environment

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        if self.shortname is not None:
            # Serialize shortname (handle intrinsic functions)
            if hasattr(self.shortname, 'to_dict'):
                props["Shortname"] = self.shortname.to_dict()
            elif isinstance(self.shortname, list):
                # Serialize list items (may contain intrinsic functions)
                props['Shortname'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.shortname
                ]
            else:
                props["Shortname"] = self.shortname

        if self.ssl_configuration is not None:
            # Serialize ssl_configuration (handle intrinsic functions)
            if hasattr(self.ssl_configuration, 'to_dict'):
                props["SslConfiguration"] = self.ssl_configuration.to_dict()
            elif isinstance(self.ssl_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['SslConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ssl_configuration
                ]
            else:
                props["SslConfiguration"] = self.ssl_configuration

        if self.stack_id is not None:
            # Serialize stack_id (handle intrinsic functions)
            if hasattr(self.stack_id, 'to_dict'):
                props["StackId"] = self.stack_id.to_dict()
            elif isinstance(self.stack_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['StackId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.stack_id
                ]
            else:
                props["StackId"] = self.stack_id

        if self.type_ is not None:
            # Serialize type_ (handle intrinsic functions)
            if hasattr(self.type_, 'to_dict'):
                props["Type"] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                # Serialize list items (may contain intrinsic functions)
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props["Type"] = self.type_

        return props



@dataclass
class ElasticLoadBalancerAttachment(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opswo"""

    resource_type: ClassVar[str] = "AWS::OpsWorks::ElasticLoadBalancerAttachment"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    elastic_load_balancer_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    layer_id: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.elastic_load_balancer_name is not None:
            # Serialize elastic_load_balancer_name (handle intrinsic functions)
            if hasattr(self.elastic_load_balancer_name, 'to_dict'):
                props["ElasticLoadBalancerName"] = self.elastic_load_balancer_name.to_dict()
            elif isinstance(self.elastic_load_balancer_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['ElasticLoadBalancerName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.elastic_load_balancer_name
                ]
            else:
                props["ElasticLoadBalancerName"] = self.elastic_load_balancer_name

        if self.layer_id is not None:
            # Serialize layer_id (handle intrinsic functions)
            if hasattr(self.layer_id, 'to_dict'):
                props["LayerId"] = self.layer_id.to_dict()
            elif isinstance(self.layer_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['LayerId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.layer_id
                ]
            else:
                props["LayerId"] = self.layer_id

        return props



@dataclass
class BlockDeviceMapping:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    device_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ebs: Optional[EbsBlockDevice] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    no_device: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    virtual_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.device_name is not None:
            if hasattr(self.device_name, 'to_dict'):
                props['DeviceName'] = self.device_name.to_dict()
            elif isinstance(self.device_name, list):
                props['DeviceName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.device_name
                ]
            else:
                props['DeviceName'] = self.device_name

        if self.ebs is not None:
            if hasattr(self.ebs, 'to_dict'):
                props['Ebs'] = self.ebs.to_dict()
            elif isinstance(self.ebs, list):
                props['Ebs'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs
                ]
            else:
                props['Ebs'] = self.ebs

        if self.no_device is not None:
            if hasattr(self.no_device, 'to_dict'):
                props['NoDevice'] = self.no_device.to_dict()
            elif isinstance(self.no_device, list):
                props['NoDevice'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.no_device
                ]
            else:
                props['NoDevice'] = self.no_device

        if self.virtual_name is not None:
            if hasattr(self.virtual_name, 'to_dict'):
                props['VirtualName'] = self.virtual_name.to_dict()
            elif isinstance(self.virtual_name, list):
                props['VirtualName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_name
                ]
            else:
                props['VirtualName'] = self.virtual_name

        return props


@dataclass
class EbsBlockDevice:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    delete_on_termination: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    iops: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    snapshot_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volume_size: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volume_type: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.delete_on_termination is not None:
            if hasattr(self.delete_on_termination, 'to_dict'):
                props['DeleteOnTermination'] = self.delete_on_termination.to_dict()
            elif isinstance(self.delete_on_termination, list):
                props['DeleteOnTermination'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.delete_on_termination
                ]
            else:
                props['DeleteOnTermination'] = self.delete_on_termination

        if self.iops is not None:
            if hasattr(self.iops, 'to_dict'):
                props['Iops'] = self.iops.to_dict()
            elif isinstance(self.iops, list):
                props['Iops'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.iops
                ]
            else:
                props['Iops'] = self.iops

        if self.snapshot_id is not None:
            if hasattr(self.snapshot_id, 'to_dict'):
                props['SnapshotId'] = self.snapshot_id.to_dict()
            elif isinstance(self.snapshot_id, list):
                props['SnapshotId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.snapshot_id
                ]
            else:
                props['SnapshotId'] = self.snapshot_id

        if self.volume_size is not None:
            if hasattr(self.volume_size, 'to_dict'):
                props['VolumeSize'] = self.volume_size.to_dict()
            elif isinstance(self.volume_size, list):
                props['VolumeSize'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volume_size
                ]
            else:
                props['VolumeSize'] = self.volume_size

        if self.volume_type is not None:
            if hasattr(self.volume_type, 'to_dict'):
                props['VolumeType'] = self.volume_type.to_dict()
            elif isinstance(self.volume_type, list):
                props['VolumeType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volume_type
                ]
            else:
                props['VolumeType'] = self.volume_type

        return props


@dataclass
class TimeBasedAutoScaling:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    friday: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    monday: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    saturday: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sunday: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    thursday: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tuesday: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    wednesday: Optional[dict[str, str]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.friday is not None:
            if hasattr(self.friday, 'to_dict'):
                props['Friday'] = self.friday.to_dict()
            elif isinstance(self.friday, list):
                props['Friday'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.friday
                ]
            else:
                props['Friday'] = self.friday

        if self.monday is not None:
            if hasattr(self.monday, 'to_dict'):
                props['Monday'] = self.monday.to_dict()
            elif isinstance(self.monday, list):
                props['Monday'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.monday
                ]
            else:
                props['Monday'] = self.monday

        if self.saturday is not None:
            if hasattr(self.saturday, 'to_dict'):
                props['Saturday'] = self.saturday.to_dict()
            elif isinstance(self.saturday, list):
                props['Saturday'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.saturday
                ]
            else:
                props['Saturday'] = self.saturday

        if self.sunday is not None:
            if hasattr(self.sunday, 'to_dict'):
                props['Sunday'] = self.sunday.to_dict()
            elif isinstance(self.sunday, list):
                props['Sunday'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sunday
                ]
            else:
                props['Sunday'] = self.sunday

        if self.thursday is not None:
            if hasattr(self.thursday, 'to_dict'):
                props['Thursday'] = self.thursday.to_dict()
            elif isinstance(self.thursday, list):
                props['Thursday'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.thursday
                ]
            else:
                props['Thursday'] = self.thursday

        if self.tuesday is not None:
            if hasattr(self.tuesday, 'to_dict'):
                props['Tuesday'] = self.tuesday.to_dict()
            elif isinstance(self.tuesday, list):
                props['Tuesday'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tuesday
                ]
            else:
                props['Tuesday'] = self.tuesday

        if self.wednesday is not None:
            if hasattr(self.wednesday, 'to_dict'):
                props['Wednesday'] = self.wednesday.to_dict()
            elif isinstance(self.wednesday, list):
                props['Wednesday'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.wednesday
                ]
            else:
                props['Wednesday'] = self.wednesday

        return props


@dataclass
class Instance(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opswo"""

    resource_type: ClassVar[str] = "AWS::OpsWorks::Instance"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    agent_version: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ami_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    architecture: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    auto_scaling_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    availability_zone: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    block_device_mappings: Optional[list[BlockDeviceMapping]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ebs_optimized: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    elastic_ips: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    hostname: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    install_updates_on_boot: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    instance_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    layer_ids: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    os: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    root_device_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ssh_key_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    stack_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    subnet_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tenancy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    time_based_auto_scaling: Optional[TimeBasedAutoScaling] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    virtualization_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    volumes: Optional[Union[list[str], Ref]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.agent_version is not None:
            # Serialize agent_version (handle intrinsic functions)
            if hasattr(self.agent_version, 'to_dict'):
                props["AgentVersion"] = self.agent_version.to_dict()
            elif isinstance(self.agent_version, list):
                # Serialize list items (may contain intrinsic functions)
                props['AgentVersion'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.agent_version
                ]
            else:
                props["AgentVersion"] = self.agent_version

        if self.ami_id is not None:
            # Serialize ami_id (handle intrinsic functions)
            if hasattr(self.ami_id, 'to_dict'):
                props["AmiId"] = self.ami_id.to_dict()
            elif isinstance(self.ami_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['AmiId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ami_id
                ]
            else:
                props["AmiId"] = self.ami_id

        if self.architecture is not None:
            # Serialize architecture (handle intrinsic functions)
            if hasattr(self.architecture, 'to_dict'):
                props["Architecture"] = self.architecture.to_dict()
            elif isinstance(self.architecture, list):
                # Serialize list items (may contain intrinsic functions)
                props['Architecture'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.architecture
                ]
            else:
                props["Architecture"] = self.architecture

        if self.auto_scaling_type is not None:
            # Serialize auto_scaling_type (handle intrinsic functions)
            if hasattr(self.auto_scaling_type, 'to_dict'):
                props["AutoScalingType"] = self.auto_scaling_type.to_dict()
            elif isinstance(self.auto_scaling_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['AutoScalingType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auto_scaling_type
                ]
            else:
                props["AutoScalingType"] = self.auto_scaling_type

        if self.availability_zone is not None:
            # Serialize availability_zone (handle intrinsic functions)
            if hasattr(self.availability_zone, 'to_dict'):
                props["AvailabilityZone"] = self.availability_zone.to_dict()
            elif isinstance(self.availability_zone, list):
                # Serialize list items (may contain intrinsic functions)
                props['AvailabilityZone'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.availability_zone
                ]
            else:
                props["AvailabilityZone"] = self.availability_zone

        if self.block_device_mappings is not None:
            # Serialize block_device_mappings (handle intrinsic functions)
            if hasattr(self.block_device_mappings, 'to_dict'):
                props["BlockDeviceMappings"] = self.block_device_mappings.to_dict()
            elif isinstance(self.block_device_mappings, list):
                # Serialize list items (may contain intrinsic functions)
                props['BlockDeviceMappings'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.block_device_mappings
                ]
            else:
                props["BlockDeviceMappings"] = self.block_device_mappings

        if self.ebs_optimized is not None:
            # Serialize ebs_optimized (handle intrinsic functions)
            if hasattr(self.ebs_optimized, 'to_dict'):
                props["EbsOptimized"] = self.ebs_optimized.to_dict()
            elif isinstance(self.ebs_optimized, list):
                # Serialize list items (may contain intrinsic functions)
                props['EbsOptimized'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_optimized
                ]
            else:
                props["EbsOptimized"] = self.ebs_optimized

        if self.elastic_ips is not None:
            # Serialize elastic_ips (handle intrinsic functions)
            if hasattr(self.elastic_ips, 'to_dict'):
                props["ElasticIps"] = self.elastic_ips.to_dict()
            elif isinstance(self.elastic_ips, list):
                # Serialize list items (may contain intrinsic functions)
                props['ElasticIps'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.elastic_ips
                ]
            else:
                props["ElasticIps"] = self.elastic_ips

        if self.hostname is not None:
            # Serialize hostname (handle intrinsic functions)
            if hasattr(self.hostname, 'to_dict'):
                props["Hostname"] = self.hostname.to_dict()
            elif isinstance(self.hostname, list):
                # Serialize list items (may contain intrinsic functions)
                props['Hostname'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.hostname
                ]
            else:
                props["Hostname"] = self.hostname

        if self.install_updates_on_boot is not None:
            # Serialize install_updates_on_boot (handle intrinsic functions)
            if hasattr(self.install_updates_on_boot, 'to_dict'):
                props["InstallUpdatesOnBoot"] = self.install_updates_on_boot.to_dict()
            elif isinstance(self.install_updates_on_boot, list):
                # Serialize list items (may contain intrinsic functions)
                props['InstallUpdatesOnBoot'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.install_updates_on_boot
                ]
            else:
                props["InstallUpdatesOnBoot"] = self.install_updates_on_boot

        if self.instance_type is not None:
            # Serialize instance_type (handle intrinsic functions)
            if hasattr(self.instance_type, 'to_dict'):
                props["InstanceType"] = self.instance_type.to_dict()
            elif isinstance(self.instance_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['InstanceType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_type
                ]
            else:
                props["InstanceType"] = self.instance_type

        if self.layer_ids is not None:
            # Serialize layer_ids (handle intrinsic functions)
            if hasattr(self.layer_ids, 'to_dict'):
                props["LayerIds"] = self.layer_ids.to_dict()
            elif isinstance(self.layer_ids, list):
                # Serialize list items (may contain intrinsic functions)
                props['LayerIds'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.layer_ids
                ]
            else:
                props["LayerIds"] = self.layer_ids

        if self.os is not None:
            # Serialize os (handle intrinsic functions)
            if hasattr(self.os, 'to_dict'):
                props["Os"] = self.os.to_dict()
            elif isinstance(self.os, list):
                # Serialize list items (may contain intrinsic functions)
                props['Os'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.os
                ]
            else:
                props["Os"] = self.os

        if self.root_device_type is not None:
            # Serialize root_device_type (handle intrinsic functions)
            if hasattr(self.root_device_type, 'to_dict'):
                props["RootDeviceType"] = self.root_device_type.to_dict()
            elif isinstance(self.root_device_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['RootDeviceType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.root_device_type
                ]
            else:
                props["RootDeviceType"] = self.root_device_type

        if self.ssh_key_name is not None:
            # Serialize ssh_key_name (handle intrinsic functions)
            if hasattr(self.ssh_key_name, 'to_dict'):
                props["SshKeyName"] = self.ssh_key_name.to_dict()
            elif isinstance(self.ssh_key_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['SshKeyName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ssh_key_name
                ]
            else:
                props["SshKeyName"] = self.ssh_key_name

        if self.stack_id is not None:
            # Serialize stack_id (handle intrinsic functions)
            if hasattr(self.stack_id, 'to_dict'):
                props["StackId"] = self.stack_id.to_dict()
            elif isinstance(self.stack_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['StackId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.stack_id
                ]
            else:
                props["StackId"] = self.stack_id

        if self.subnet_id is not None:
            # Serialize subnet_id (handle intrinsic functions)
            if hasattr(self.subnet_id, 'to_dict'):
                props["SubnetId"] = self.subnet_id.to_dict()
            elif isinstance(self.subnet_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['SubnetId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.subnet_id
                ]
            else:
                props["SubnetId"] = self.subnet_id

        if self.tenancy is not None:
            # Serialize tenancy (handle intrinsic functions)
            if hasattr(self.tenancy, 'to_dict'):
                props["Tenancy"] = self.tenancy.to_dict()
            elif isinstance(self.tenancy, list):
                # Serialize list items (may contain intrinsic functions)
                props['Tenancy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tenancy
                ]
            else:
                props["Tenancy"] = self.tenancy

        if self.time_based_auto_scaling is not None:
            # Serialize time_based_auto_scaling (handle intrinsic functions)
            if hasattr(self.time_based_auto_scaling, 'to_dict'):
                props["TimeBasedAutoScaling"] = self.time_based_auto_scaling.to_dict()
            elif isinstance(self.time_based_auto_scaling, list):
                # Serialize list items (may contain intrinsic functions)
                props['TimeBasedAutoScaling'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.time_based_auto_scaling
                ]
            else:
                props["TimeBasedAutoScaling"] = self.time_based_auto_scaling

        if self.virtualization_type is not None:
            # Serialize virtualization_type (handle intrinsic functions)
            if hasattr(self.virtualization_type, 'to_dict'):
                props["VirtualizationType"] = self.virtualization_type.to_dict()
            elif isinstance(self.virtualization_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['VirtualizationType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtualization_type
                ]
            else:
                props["VirtualizationType"] = self.virtualization_type

        if self.volumes is not None:
            # Serialize volumes (handle intrinsic functions)
            if hasattr(self.volumes, 'to_dict'):
                props["Volumes"] = self.volumes.to_dict()
            elif isinstance(self.volumes, list):
                # Serialize list items (may contain intrinsic functions)
                props['Volumes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volumes
                ]
            else:
                props["Volumes"] = self.volumes

        return props

    @property
    def attr_availability_zone(self) -> GetAtt:
        """Get the AvailabilityZone attribute."""
        return self.get_att("AvailabilityZone")

    @property
    def attr_private_dns_name(self) -> GetAtt:
        """Get the PrivateDnsName attribute."""
        return self.get_att("PrivateDnsName")

    @property
    def attr_private_ip(self) -> GetAtt:
        """Get the PrivateIp attribute."""
        return self.get_att("PrivateIp")

    @property
    def attr_public_dns_name(self) -> GetAtt:
        """Get the PublicDnsName attribute."""
        return self.get_att("PublicDnsName")

    @property
    def attr_public_ip(self) -> GetAtt:
        """Get the PublicIp attribute."""
        return self.get_att("PublicIp")




@dataclass
class AutoScalingThresholds:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    cpu_threshold: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ignore_metrics_time: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    instance_count: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    load_threshold: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    memory_threshold: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    thresholds_wait_time: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.cpu_threshold is not None:
            if hasattr(self.cpu_threshold, 'to_dict'):
                props['CpuThreshold'] = self.cpu_threshold.to_dict()
            elif isinstance(self.cpu_threshold, list):
                props['CpuThreshold'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.cpu_threshold
                ]
            else:
                props['CpuThreshold'] = self.cpu_threshold

        if self.ignore_metrics_time is not None:
            if hasattr(self.ignore_metrics_time, 'to_dict'):
                props['IgnoreMetricsTime'] = self.ignore_metrics_time.to_dict()
            elif isinstance(self.ignore_metrics_time, list):
                props['IgnoreMetricsTime'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ignore_metrics_time
                ]
            else:
                props['IgnoreMetricsTime'] = self.ignore_metrics_time

        if self.instance_count is not None:
            if hasattr(self.instance_count, 'to_dict'):
                props['InstanceCount'] = self.instance_count.to_dict()
            elif isinstance(self.instance_count, list):
                props['InstanceCount'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_count
                ]
            else:
                props['InstanceCount'] = self.instance_count

        if self.load_threshold is not None:
            if hasattr(self.load_threshold, 'to_dict'):
                props['LoadThreshold'] = self.load_threshold.to_dict()
            elif isinstance(self.load_threshold, list):
                props['LoadThreshold'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.load_threshold
                ]
            else:
                props['LoadThreshold'] = self.load_threshold

        if self.memory_threshold is not None:
            if hasattr(self.memory_threshold, 'to_dict'):
                props['MemoryThreshold'] = self.memory_threshold.to_dict()
            elif isinstance(self.memory_threshold, list):
                props['MemoryThreshold'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.memory_threshold
                ]
            else:
                props['MemoryThreshold'] = self.memory_threshold

        if self.thresholds_wait_time is not None:
            if hasattr(self.thresholds_wait_time, 'to_dict'):
                props['ThresholdsWaitTime'] = self.thresholds_wait_time.to_dict()
            elif isinstance(self.thresholds_wait_time, list):
                props['ThresholdsWaitTime'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.thresholds_wait_time
                ]
            else:
                props['ThresholdsWaitTime'] = self.thresholds_wait_time

        return props


@dataclass
class LifecycleEventConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    shutdown_event_configuration: Optional[ShutdownEventConfiguration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.shutdown_event_configuration is not None:
            if hasattr(self.shutdown_event_configuration, 'to_dict'):
                props['ShutdownEventConfiguration'] = self.shutdown_event_configuration.to_dict()
            elif isinstance(self.shutdown_event_configuration, list):
                props['ShutdownEventConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.shutdown_event_configuration
                ]
            else:
                props['ShutdownEventConfiguration'] = self.shutdown_event_configuration

        return props


@dataclass
class LoadBasedAutoScaling:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    down_scaling: Optional[AutoScalingThresholds] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    enable: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    up_scaling: Optional[AutoScalingThresholds] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.down_scaling is not None:
            if hasattr(self.down_scaling, 'to_dict'):
                props['DownScaling'] = self.down_scaling.to_dict()
            elif isinstance(self.down_scaling, list):
                props['DownScaling'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.down_scaling
                ]
            else:
                props['DownScaling'] = self.down_scaling

        if self.enable is not None:
            if hasattr(self.enable, 'to_dict'):
                props['Enable'] = self.enable.to_dict()
            elif isinstance(self.enable, list):
                props['Enable'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.enable
                ]
            else:
                props['Enable'] = self.enable

        if self.up_scaling is not None:
            if hasattr(self.up_scaling, 'to_dict'):
                props['UpScaling'] = self.up_scaling.to_dict()
            elif isinstance(self.up_scaling, list):
                props['UpScaling'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.up_scaling
                ]
            else:
                props['UpScaling'] = self.up_scaling

        return props


@dataclass
class Recipes:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    configure: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    deploy: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    setup: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    shutdown: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    undeploy: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.configure is not None:
            if hasattr(self.configure, 'to_dict'):
                props['Configure'] = self.configure.to_dict()
            elif isinstance(self.configure, list):
                props['Configure'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configure
                ]
            else:
                props['Configure'] = self.configure

        if self.deploy is not None:
            if hasattr(self.deploy, 'to_dict'):
                props['Deploy'] = self.deploy.to_dict()
            elif isinstance(self.deploy, list):
                props['Deploy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.deploy
                ]
            else:
                props['Deploy'] = self.deploy

        if self.setup is not None:
            if hasattr(self.setup, 'to_dict'):
                props['Setup'] = self.setup.to_dict()
            elif isinstance(self.setup, list):
                props['Setup'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.setup
                ]
            else:
                props['Setup'] = self.setup

        if self.shutdown is not None:
            if hasattr(self.shutdown, 'to_dict'):
                props['Shutdown'] = self.shutdown.to_dict()
            elif isinstance(self.shutdown, list):
                props['Shutdown'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.shutdown
                ]
            else:
                props['Shutdown'] = self.shutdown

        if self.undeploy is not None:
            if hasattr(self.undeploy, 'to_dict'):
                props['Undeploy'] = self.undeploy.to_dict()
            elif isinstance(self.undeploy, list):
                props['Undeploy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.undeploy
                ]
            else:
                props['Undeploy'] = self.undeploy

        return props


@dataclass
class ShutdownEventConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    delay_until_elb_connections_drained: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    execution_timeout: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.delay_until_elb_connections_drained is not None:
            if hasattr(self.delay_until_elb_connections_drained, 'to_dict'):
                props['DelayUntilElbConnectionsDrained'] = self.delay_until_elb_connections_drained.to_dict()
            elif isinstance(self.delay_until_elb_connections_drained, list):
                props['DelayUntilElbConnectionsDrained'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.delay_until_elb_connections_drained
                ]
            else:
                props['DelayUntilElbConnectionsDrained'] = self.delay_until_elb_connections_drained

        if self.execution_timeout is not None:
            if hasattr(self.execution_timeout, 'to_dict'):
                props['ExecutionTimeout'] = self.execution_timeout.to_dict()
            elif isinstance(self.execution_timeout, list):
                props['ExecutionTimeout'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.execution_timeout
                ]
            else:
                props['ExecutionTimeout'] = self.execution_timeout

        return props


@dataclass
class VolumeConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    encrypted: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    iops: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    mount_point: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    number_of_disks: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    raid_level: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    size: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volume_type: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.encrypted is not None:
            if hasattr(self.encrypted, 'to_dict'):
                props['Encrypted'] = self.encrypted.to_dict()
            elif isinstance(self.encrypted, list):
                props['Encrypted'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.encrypted
                ]
            else:
                props['Encrypted'] = self.encrypted

        if self.iops is not None:
            if hasattr(self.iops, 'to_dict'):
                props['Iops'] = self.iops.to_dict()
            elif isinstance(self.iops, list):
                props['Iops'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.iops
                ]
            else:
                props['Iops'] = self.iops

        if self.mount_point is not None:
            if hasattr(self.mount_point, 'to_dict'):
                props['MountPoint'] = self.mount_point.to_dict()
            elif isinstance(self.mount_point, list):
                props['MountPoint'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mount_point
                ]
            else:
                props['MountPoint'] = self.mount_point

        if self.number_of_disks is not None:
            if hasattr(self.number_of_disks, 'to_dict'):
                props['NumberOfDisks'] = self.number_of_disks.to_dict()
            elif isinstance(self.number_of_disks, list):
                props['NumberOfDisks'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.number_of_disks
                ]
            else:
                props['NumberOfDisks'] = self.number_of_disks

        if self.raid_level is not None:
            if hasattr(self.raid_level, 'to_dict'):
                props['RaidLevel'] = self.raid_level.to_dict()
            elif isinstance(self.raid_level, list):
                props['RaidLevel'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.raid_level
                ]
            else:
                props['RaidLevel'] = self.raid_level

        if self.size is not None:
            if hasattr(self.size, 'to_dict'):
                props['Size'] = self.size.to_dict()
            elif isinstance(self.size, list):
                props['Size'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.size
                ]
            else:
                props['Size'] = self.size

        if self.volume_type is not None:
            if hasattr(self.volume_type, 'to_dict'):
                props['VolumeType'] = self.volume_type.to_dict()
            elif isinstance(self.volume_type, list):
                props['VolumeType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volume_type
                ]
            else:
                props['VolumeType'] = self.volume_type

        return props


@dataclass
class Layer(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opswo"""

    resource_type: ClassVar[str] = "AWS::OpsWorks::Layer"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    attributes: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    auto_assign_elastic_ips: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    auto_assign_public_ips: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    custom_instance_profile_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    custom_json: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    custom_recipes: Optional[Recipes] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    custom_security_group_ids: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    enable_auto_healing: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    install_updates_on_boot: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    lifecycle_event_configuration: Optional[LifecycleEventConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    load_based_auto_scaling: Optional[LoadBasedAutoScaling] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    packages: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    shortname: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    stack_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    use_ebs_optimized_instances: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    volume_configurations: Optional[list[VolumeConfiguration]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.attributes is not None:
            # Serialize attributes (handle intrinsic functions)
            if hasattr(self.attributes, 'to_dict'):
                props["Attributes"] = self.attributes.to_dict()
            elif isinstance(self.attributes, list):
                # Serialize list items (may contain intrinsic functions)
                props['Attributes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.attributes
                ]
            else:
                props["Attributes"] = self.attributes

        if self.auto_assign_elastic_ips is not None:
            # Serialize auto_assign_elastic_ips (handle intrinsic functions)
            if hasattr(self.auto_assign_elastic_ips, 'to_dict'):
                props["AutoAssignElasticIps"] = self.auto_assign_elastic_ips.to_dict()
            elif isinstance(self.auto_assign_elastic_ips, list):
                # Serialize list items (may contain intrinsic functions)
                props['AutoAssignElasticIps'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auto_assign_elastic_ips
                ]
            else:
                props["AutoAssignElasticIps"] = self.auto_assign_elastic_ips

        if self.auto_assign_public_ips is not None:
            # Serialize auto_assign_public_ips (handle intrinsic functions)
            if hasattr(self.auto_assign_public_ips, 'to_dict'):
                props["AutoAssignPublicIps"] = self.auto_assign_public_ips.to_dict()
            elif isinstance(self.auto_assign_public_ips, list):
                # Serialize list items (may contain intrinsic functions)
                props['AutoAssignPublicIps'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auto_assign_public_ips
                ]
            else:
                props["AutoAssignPublicIps"] = self.auto_assign_public_ips

        if self.custom_instance_profile_arn is not None:
            # Serialize custom_instance_profile_arn (handle intrinsic functions)
            if hasattr(self.custom_instance_profile_arn, 'to_dict'):
                props["CustomInstanceProfileArn"] = self.custom_instance_profile_arn.to_dict()
            elif isinstance(self.custom_instance_profile_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['CustomInstanceProfileArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_instance_profile_arn
                ]
            else:
                props["CustomInstanceProfileArn"] = self.custom_instance_profile_arn

        if self.custom_json is not None:
            # Serialize custom_json (handle intrinsic functions)
            if hasattr(self.custom_json, 'to_dict'):
                props["CustomJson"] = self.custom_json.to_dict()
            elif isinstance(self.custom_json, list):
                # Serialize list items (may contain intrinsic functions)
                props['CustomJson'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_json
                ]
            else:
                props["CustomJson"] = self.custom_json

        if self.custom_recipes is not None:
            # Serialize custom_recipes (handle intrinsic functions)
            if hasattr(self.custom_recipes, 'to_dict'):
                props["CustomRecipes"] = self.custom_recipes.to_dict()
            elif isinstance(self.custom_recipes, list):
                # Serialize list items (may contain intrinsic functions)
                props['CustomRecipes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_recipes
                ]
            else:
                props["CustomRecipes"] = self.custom_recipes

        if self.custom_security_group_ids is not None:
            # Serialize custom_security_group_ids (handle intrinsic functions)
            if hasattr(self.custom_security_group_ids, 'to_dict'):
                props["CustomSecurityGroupIds"] = self.custom_security_group_ids.to_dict()
            elif isinstance(self.custom_security_group_ids, list):
                # Serialize list items (may contain intrinsic functions)
                props['CustomSecurityGroupIds'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_security_group_ids
                ]
            else:
                props["CustomSecurityGroupIds"] = self.custom_security_group_ids

        if self.enable_auto_healing is not None:
            # Serialize enable_auto_healing (handle intrinsic functions)
            if hasattr(self.enable_auto_healing, 'to_dict'):
                props["EnableAutoHealing"] = self.enable_auto_healing.to_dict()
            elif isinstance(self.enable_auto_healing, list):
                # Serialize list items (may contain intrinsic functions)
                props['EnableAutoHealing'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.enable_auto_healing
                ]
            else:
                props["EnableAutoHealing"] = self.enable_auto_healing

        if self.install_updates_on_boot is not None:
            # Serialize install_updates_on_boot (handle intrinsic functions)
            if hasattr(self.install_updates_on_boot, 'to_dict'):
                props["InstallUpdatesOnBoot"] = self.install_updates_on_boot.to_dict()
            elif isinstance(self.install_updates_on_boot, list):
                # Serialize list items (may contain intrinsic functions)
                props['InstallUpdatesOnBoot'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.install_updates_on_boot
                ]
            else:
                props["InstallUpdatesOnBoot"] = self.install_updates_on_boot

        if self.lifecycle_event_configuration is not None:
            # Serialize lifecycle_event_configuration (handle intrinsic functions)
            if hasattr(self.lifecycle_event_configuration, 'to_dict'):
                props["LifecycleEventConfiguration"] = self.lifecycle_event_configuration.to_dict()
            elif isinstance(self.lifecycle_event_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['LifecycleEventConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.lifecycle_event_configuration
                ]
            else:
                props["LifecycleEventConfiguration"] = self.lifecycle_event_configuration

        if self.load_based_auto_scaling is not None:
            # Serialize load_based_auto_scaling (handle intrinsic functions)
            if hasattr(self.load_based_auto_scaling, 'to_dict'):
                props["LoadBasedAutoScaling"] = self.load_based_auto_scaling.to_dict()
            elif isinstance(self.load_based_auto_scaling, list):
                # Serialize list items (may contain intrinsic functions)
                props['LoadBasedAutoScaling'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.load_based_auto_scaling
                ]
            else:
                props["LoadBasedAutoScaling"] = self.load_based_auto_scaling

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        if self.packages is not None:
            # Serialize packages (handle intrinsic functions)
            if hasattr(self.packages, 'to_dict'):
                props["Packages"] = self.packages.to_dict()
            elif isinstance(self.packages, list):
                # Serialize list items (may contain intrinsic functions)
                props['Packages'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.packages
                ]
            else:
                props["Packages"] = self.packages

        if self.shortname is not None:
            # Serialize shortname (handle intrinsic functions)
            if hasattr(self.shortname, 'to_dict'):
                props["Shortname"] = self.shortname.to_dict()
            elif isinstance(self.shortname, list):
                # Serialize list items (may contain intrinsic functions)
                props['Shortname'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.shortname
                ]
            else:
                props["Shortname"] = self.shortname

        if self.stack_id is not None:
            # Serialize stack_id (handle intrinsic functions)
            if hasattr(self.stack_id, 'to_dict'):
                props["StackId"] = self.stack_id.to_dict()
            elif isinstance(self.stack_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['StackId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.stack_id
                ]
            else:
                props["StackId"] = self.stack_id

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.type_ is not None:
            # Serialize type_ (handle intrinsic functions)
            if hasattr(self.type_, 'to_dict'):
                props["Type"] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                # Serialize list items (may contain intrinsic functions)
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props["Type"] = self.type_

        if self.use_ebs_optimized_instances is not None:
            # Serialize use_ebs_optimized_instances (handle intrinsic functions)
            if hasattr(self.use_ebs_optimized_instances, 'to_dict'):
                props["UseEbsOptimizedInstances"] = self.use_ebs_optimized_instances.to_dict()
            elif isinstance(self.use_ebs_optimized_instances, list):
                # Serialize list items (may contain intrinsic functions)
                props['UseEbsOptimizedInstances'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.use_ebs_optimized_instances
                ]
            else:
                props["UseEbsOptimizedInstances"] = self.use_ebs_optimized_instances

        if self.volume_configurations is not None:
            # Serialize volume_configurations (handle intrinsic functions)
            if hasattr(self.volume_configurations, 'to_dict'):
                props["VolumeConfigurations"] = self.volume_configurations.to_dict()
            elif isinstance(self.volume_configurations, list):
                # Serialize list items (may contain intrinsic functions)
                props['VolumeConfigurations'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volume_configurations
                ]
            else:
                props["VolumeConfigurations"] = self.volume_configurations

        return props



@dataclass
class ChefConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    berkshelf_version: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    manage_berkshelf: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.berkshelf_version is not None:
            if hasattr(self.berkshelf_version, 'to_dict'):
                props['BerkshelfVersion'] = self.berkshelf_version.to_dict()
            elif isinstance(self.berkshelf_version, list):
                props['BerkshelfVersion'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.berkshelf_version
                ]
            else:
                props['BerkshelfVersion'] = self.berkshelf_version

        if self.manage_berkshelf is not None:
            if hasattr(self.manage_berkshelf, 'to_dict'):
                props['ManageBerkshelf'] = self.manage_berkshelf.to_dict()
            elif isinstance(self.manage_berkshelf, list):
                props['ManageBerkshelf'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.manage_berkshelf
                ]
            else:
                props['ManageBerkshelf'] = self.manage_berkshelf

        return props


@dataclass
class ElasticIp:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ip: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.ip is not None:
            if hasattr(self.ip, 'to_dict'):
                props['Ip'] = self.ip.to_dict()
            elif isinstance(self.ip, list):
                props['Ip'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ip
                ]
            else:
                props['Ip'] = self.ip

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        return props


@dataclass
class RdsDbInstance:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    db_password: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    db_user: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    rds_db_instance_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.db_password is not None:
            if hasattr(self.db_password, 'to_dict'):
                props['DbPassword'] = self.db_password.to_dict()
            elif isinstance(self.db_password, list):
                props['DbPassword'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.db_password
                ]
            else:
                props['DbPassword'] = self.db_password

        if self.db_user is not None:
            if hasattr(self.db_user, 'to_dict'):
                props['DbUser'] = self.db_user.to_dict()
            elif isinstance(self.db_user, list):
                props['DbUser'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.db_user
                ]
            else:
                props['DbUser'] = self.db_user

        if self.rds_db_instance_arn is not None:
            if hasattr(self.rds_db_instance_arn, 'to_dict'):
                props['RdsDbInstanceArn'] = self.rds_db_instance_arn.to_dict()
            elif isinstance(self.rds_db_instance_arn, list):
                props['RdsDbInstanceArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.rds_db_instance_arn
                ]
            else:
                props['RdsDbInstanceArn'] = self.rds_db_instance_arn

        return props


@dataclass
class Source:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    password: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    revision: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ssh_key: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    url: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    username: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.password is not None:
            if hasattr(self.password, 'to_dict'):
                props['Password'] = self.password.to_dict()
            elif isinstance(self.password, list):
                props['Password'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.password
                ]
            else:
                props['Password'] = self.password

        if self.revision is not None:
            if hasattr(self.revision, 'to_dict'):
                props['Revision'] = self.revision.to_dict()
            elif isinstance(self.revision, list):
                props['Revision'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.revision
                ]
            else:
                props['Revision'] = self.revision

        if self.ssh_key is not None:
            if hasattr(self.ssh_key, 'to_dict'):
                props['SshKey'] = self.ssh_key.to_dict()
            elif isinstance(self.ssh_key, list):
                props['SshKey'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ssh_key
                ]
            else:
                props['SshKey'] = self.ssh_key

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        if self.url is not None:
            if hasattr(self.url, 'to_dict'):
                props['Url'] = self.url.to_dict()
            elif isinstance(self.url, list):
                props['Url'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.url
                ]
            else:
                props['Url'] = self.url

        if self.username is not None:
            if hasattr(self.username, 'to_dict'):
                props['Username'] = self.username.to_dict()
            elif isinstance(self.username, list):
                props['Username'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.username
                ]
            else:
                props['Username'] = self.username

        return props


@dataclass
class StackConfigurationManager:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ops"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    version: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.version is not None:
            if hasattr(self.version, 'to_dict'):
                props['Version'] = self.version.to_dict()
            elif isinstance(self.version, list):
                props['Version'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.version
                ]
            else:
                props['Version'] = self.version

        return props


@dataclass
class Stack(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opswo"""

    resource_type: ClassVar[str] = "AWS::OpsWorks::Stack"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    agent_version: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    attributes: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    chef_configuration: Optional[ChefConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    clone_app_ids: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    clone_permissions: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    configuration_manager: Optional[StackConfigurationManager] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    custom_cookbooks_source: Optional[Source] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    custom_json: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    default_availability_zone: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    default_instance_profile_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    default_os: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    default_root_device_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    default_ssh_key_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    default_subnet_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ecs_cluster_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    elastic_ips: Optional[list[ElasticIp]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    hostname_theme: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    rds_db_instances: Optional[list[RdsDbInstance]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    service_role_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    source_stack_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    use_custom_cookbooks: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    use_opsworks_security_groups: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    vpc_id: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.agent_version is not None:
            # Serialize agent_version (handle intrinsic functions)
            if hasattr(self.agent_version, 'to_dict'):
                props["AgentVersion"] = self.agent_version.to_dict()
            elif isinstance(self.agent_version, list):
                # Serialize list items (may contain intrinsic functions)
                props['AgentVersion'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.agent_version
                ]
            else:
                props["AgentVersion"] = self.agent_version

        if self.attributes is not None:
            # Serialize attributes (handle intrinsic functions)
            if hasattr(self.attributes, 'to_dict'):
                props["Attributes"] = self.attributes.to_dict()
            elif isinstance(self.attributes, list):
                # Serialize list items (may contain intrinsic functions)
                props['Attributes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.attributes
                ]
            else:
                props["Attributes"] = self.attributes

        if self.chef_configuration is not None:
            # Serialize chef_configuration (handle intrinsic functions)
            if hasattr(self.chef_configuration, 'to_dict'):
                props["ChefConfiguration"] = self.chef_configuration.to_dict()
            elif isinstance(self.chef_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['ChefConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.chef_configuration
                ]
            else:
                props["ChefConfiguration"] = self.chef_configuration

        if self.clone_app_ids is not None:
            # Serialize clone_app_ids (handle intrinsic functions)
            if hasattr(self.clone_app_ids, 'to_dict'):
                props["CloneAppIds"] = self.clone_app_ids.to_dict()
            elif isinstance(self.clone_app_ids, list):
                # Serialize list items (may contain intrinsic functions)
                props['CloneAppIds'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.clone_app_ids
                ]
            else:
                props["CloneAppIds"] = self.clone_app_ids

        if self.clone_permissions is not None:
            # Serialize clone_permissions (handle intrinsic functions)
            if hasattr(self.clone_permissions, 'to_dict'):
                props["ClonePermissions"] = self.clone_permissions.to_dict()
            elif isinstance(self.clone_permissions, list):
                # Serialize list items (may contain intrinsic functions)
                props['ClonePermissions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.clone_permissions
                ]
            else:
                props["ClonePermissions"] = self.clone_permissions

        if self.configuration_manager is not None:
            # Serialize configuration_manager (handle intrinsic functions)
            if hasattr(self.configuration_manager, 'to_dict'):
                props["ConfigurationManager"] = self.configuration_manager.to_dict()
            elif isinstance(self.configuration_manager, list):
                # Serialize list items (may contain intrinsic functions)
                props['ConfigurationManager'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configuration_manager
                ]
            else:
                props["ConfigurationManager"] = self.configuration_manager

        if self.custom_cookbooks_source is not None:
            # Serialize custom_cookbooks_source (handle intrinsic functions)
            if hasattr(self.custom_cookbooks_source, 'to_dict'):
                props["CustomCookbooksSource"] = self.custom_cookbooks_source.to_dict()
            elif isinstance(self.custom_cookbooks_source, list):
                # Serialize list items (may contain intrinsic functions)
                props['CustomCookbooksSource'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_cookbooks_source
                ]
            else:
                props["CustomCookbooksSource"] = self.custom_cookbooks_source

        if self.custom_json is not None:
            # Serialize custom_json (handle intrinsic functions)
            if hasattr(self.custom_json, 'to_dict'):
                props["CustomJson"] = self.custom_json.to_dict()
            elif isinstance(self.custom_json, list):
                # Serialize list items (may contain intrinsic functions)
                props['CustomJson'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_json
                ]
            else:
                props["CustomJson"] = self.custom_json

        if self.default_availability_zone is not None:
            # Serialize default_availability_zone (handle intrinsic functions)
            if hasattr(self.default_availability_zone, 'to_dict'):
                props["DefaultAvailabilityZone"] = self.default_availability_zone.to_dict()
            elif isinstance(self.default_availability_zone, list):
                # Serialize list items (may contain intrinsic functions)
                props['DefaultAvailabilityZone'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_availability_zone
                ]
            else:
                props["DefaultAvailabilityZone"] = self.default_availability_zone

        if self.default_instance_profile_arn is not None:
            # Serialize default_instance_profile_arn (handle intrinsic functions)
            if hasattr(self.default_instance_profile_arn, 'to_dict'):
                props["DefaultInstanceProfileArn"] = self.default_instance_profile_arn.to_dict()
            elif isinstance(self.default_instance_profile_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['DefaultInstanceProfileArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_instance_profile_arn
                ]
            else:
                props["DefaultInstanceProfileArn"] = self.default_instance_profile_arn

        if self.default_os is not None:
            # Serialize default_os (handle intrinsic functions)
            if hasattr(self.default_os, 'to_dict'):
                props["DefaultOs"] = self.default_os.to_dict()
            elif isinstance(self.default_os, list):
                # Serialize list items (may contain intrinsic functions)
                props['DefaultOs'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_os
                ]
            else:
                props["DefaultOs"] = self.default_os

        if self.default_root_device_type is not None:
            # Serialize default_root_device_type (handle intrinsic functions)
            if hasattr(self.default_root_device_type, 'to_dict'):
                props["DefaultRootDeviceType"] = self.default_root_device_type.to_dict()
            elif isinstance(self.default_root_device_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['DefaultRootDeviceType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_root_device_type
                ]
            else:
                props["DefaultRootDeviceType"] = self.default_root_device_type

        if self.default_ssh_key_name is not None:
            # Serialize default_ssh_key_name (handle intrinsic functions)
            if hasattr(self.default_ssh_key_name, 'to_dict'):
                props["DefaultSshKeyName"] = self.default_ssh_key_name.to_dict()
            elif isinstance(self.default_ssh_key_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['DefaultSshKeyName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_ssh_key_name
                ]
            else:
                props["DefaultSshKeyName"] = self.default_ssh_key_name

        if self.default_subnet_id is not None:
            # Serialize default_subnet_id (handle intrinsic functions)
            if hasattr(self.default_subnet_id, 'to_dict'):
                props["DefaultSubnetId"] = self.default_subnet_id.to_dict()
            elif isinstance(self.default_subnet_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['DefaultSubnetId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_subnet_id
                ]
            else:
                props["DefaultSubnetId"] = self.default_subnet_id

        if self.ecs_cluster_arn is not None:
            # Serialize ecs_cluster_arn (handle intrinsic functions)
            if hasattr(self.ecs_cluster_arn, 'to_dict'):
                props["EcsClusterArn"] = self.ecs_cluster_arn.to_dict()
            elif isinstance(self.ecs_cluster_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['EcsClusterArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ecs_cluster_arn
                ]
            else:
                props["EcsClusterArn"] = self.ecs_cluster_arn

        if self.elastic_ips is not None:
            # Serialize elastic_ips (handle intrinsic functions)
            if hasattr(self.elastic_ips, 'to_dict'):
                props["ElasticIps"] = self.elastic_ips.to_dict()
            elif isinstance(self.elastic_ips, list):
                # Serialize list items (may contain intrinsic functions)
                props['ElasticIps'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.elastic_ips
                ]
            else:
                props["ElasticIps"] = self.elastic_ips

        if self.hostname_theme is not None:
            # Serialize hostname_theme (handle intrinsic functions)
            if hasattr(self.hostname_theme, 'to_dict'):
                props["HostnameTheme"] = self.hostname_theme.to_dict()
            elif isinstance(self.hostname_theme, list):
                # Serialize list items (may contain intrinsic functions)
                props['HostnameTheme'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.hostname_theme
                ]
            else:
                props["HostnameTheme"] = self.hostname_theme

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        if self.rds_db_instances is not None:
            # Serialize rds_db_instances (handle intrinsic functions)
            if hasattr(self.rds_db_instances, 'to_dict'):
                props["RdsDbInstances"] = self.rds_db_instances.to_dict()
            elif isinstance(self.rds_db_instances, list):
                # Serialize list items (may contain intrinsic functions)
                props['RdsDbInstances'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.rds_db_instances
                ]
            else:
                props["RdsDbInstances"] = self.rds_db_instances

        if self.service_role_arn is not None:
            # Serialize service_role_arn (handle intrinsic functions)
            if hasattr(self.service_role_arn, 'to_dict'):
                props["ServiceRoleArn"] = self.service_role_arn.to_dict()
            elif isinstance(self.service_role_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['ServiceRoleArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.service_role_arn
                ]
            else:
                props["ServiceRoleArn"] = self.service_role_arn

        if self.source_stack_id is not None:
            # Serialize source_stack_id (handle intrinsic functions)
            if hasattr(self.source_stack_id, 'to_dict'):
                props["SourceStackId"] = self.source_stack_id.to_dict()
            elif isinstance(self.source_stack_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['SourceStackId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.source_stack_id
                ]
            else:
                props["SourceStackId"] = self.source_stack_id

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.use_custom_cookbooks is not None:
            # Serialize use_custom_cookbooks (handle intrinsic functions)
            if hasattr(self.use_custom_cookbooks, 'to_dict'):
                props["UseCustomCookbooks"] = self.use_custom_cookbooks.to_dict()
            elif isinstance(self.use_custom_cookbooks, list):
                # Serialize list items (may contain intrinsic functions)
                props['UseCustomCookbooks'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.use_custom_cookbooks
                ]
            else:
                props["UseCustomCookbooks"] = self.use_custom_cookbooks

        if self.use_opsworks_security_groups is not None:
            # Serialize use_opsworks_security_groups (handle intrinsic functions)
            if hasattr(self.use_opsworks_security_groups, 'to_dict'):
                props["UseOpsworksSecurityGroups"] = self.use_opsworks_security_groups.to_dict()
            elif isinstance(self.use_opsworks_security_groups, list):
                # Serialize list items (may contain intrinsic functions)
                props['UseOpsworksSecurityGroups'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.use_opsworks_security_groups
                ]
            else:
                props["UseOpsworksSecurityGroups"] = self.use_opsworks_security_groups

        if self.vpc_id is not None:
            # Serialize vpc_id (handle intrinsic functions)
            if hasattr(self.vpc_id, 'to_dict'):
                props["VpcId"] = self.vpc_id.to_dict()
            elif isinstance(self.vpc_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['VpcId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.vpc_id
                ]
            else:
                props["VpcId"] = self.vpc_id

        return props



@dataclass
class UserProfile(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opswo"""

    resource_type: ClassVar[str] = "AWS::OpsWorks::UserProfile"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    allow_self_management: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    iam_user_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ssh_public_key: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ssh_username: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allow_self_management is not None:
            # Serialize allow_self_management (handle intrinsic functions)
            if hasattr(self.allow_self_management, 'to_dict'):
                props["AllowSelfManagement"] = self.allow_self_management.to_dict()
            elif isinstance(self.allow_self_management, list):
                # Serialize list items (may contain intrinsic functions)
                props['AllowSelfManagement'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allow_self_management
                ]
            else:
                props["AllowSelfManagement"] = self.allow_self_management

        if self.iam_user_arn is not None:
            # Serialize iam_user_arn (handle intrinsic functions)
            if hasattr(self.iam_user_arn, 'to_dict'):
                props["IamUserArn"] = self.iam_user_arn.to_dict()
            elif isinstance(self.iam_user_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['IamUserArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.iam_user_arn
                ]
            else:
                props["IamUserArn"] = self.iam_user_arn

        if self.ssh_public_key is not None:
            # Serialize ssh_public_key (handle intrinsic functions)
            if hasattr(self.ssh_public_key, 'to_dict'):
                props["SshPublicKey"] = self.ssh_public_key.to_dict()
            elif isinstance(self.ssh_public_key, list):
                # Serialize list items (may contain intrinsic functions)
                props['SshPublicKey'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ssh_public_key
                ]
            else:
                props["SshPublicKey"] = self.ssh_public_key

        if self.ssh_username is not None:
            # Serialize ssh_username (handle intrinsic functions)
            if hasattr(self.ssh_username, 'to_dict'):
                props["SshUsername"] = self.ssh_username.to_dict()
            elif isinstance(self.ssh_username, list):
                # Serialize list items (may contain intrinsic functions)
                props['SshUsername'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ssh_username
                ]
            else:
                props["SshUsername"] = self.ssh_username

        return props

    @property
    def attr_ssh_username(self) -> GetAtt:
        """Get the SshUsername attribute."""
        return self.get_att("SshUsername")




@dataclass
class Volume(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opswo"""

    resource_type: ClassVar[str] = "AWS::OpsWorks::Volume"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ec2_volume_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mount_point: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    stack_id: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.ec2_volume_id is not None:
            # Serialize ec2_volume_id (handle intrinsic functions)
            if hasattr(self.ec2_volume_id, 'to_dict'):
                props["Ec2VolumeId"] = self.ec2_volume_id.to_dict()
            elif isinstance(self.ec2_volume_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['Ec2VolumeId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ec2_volume_id
                ]
            else:
                props["Ec2VolumeId"] = self.ec2_volume_id

        if self.mount_point is not None:
            # Serialize mount_point (handle intrinsic functions)
            if hasattr(self.mount_point, 'to_dict'):
                props["MountPoint"] = self.mount_point.to_dict()
            elif isinstance(self.mount_point, list):
                # Serialize list items (may contain intrinsic functions)
                props['MountPoint'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mount_point
                ]
            else:
                props["MountPoint"] = self.mount_point

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        if self.stack_id is not None:
            # Serialize stack_id (handle intrinsic functions)
            if hasattr(self.stack_id, 'to_dict'):
                props["StackId"] = self.stack_id.to_dict()
            elif isinstance(self.stack_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['StackId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.stack_id
                ]
            else:
                props["StackId"] = self.stack_id

        return props


