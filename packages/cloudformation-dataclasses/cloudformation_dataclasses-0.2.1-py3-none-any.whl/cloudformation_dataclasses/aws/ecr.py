"""
AWS CloudFormation ECR Resources

⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY ⚠️

This file is automatically generated from the AWS CloudFormation Resource Specification.
Any manual changes will be overwritten when regenerated.

Version Information:
  CloudFormation Spec: 227.0.0
  Generator Version: 1.0.0
  Combined: spec-227.0.0_gen-1.0.0
  Generated: 2025-12-15 17:57:18

To regenerate this file:
    uv run python -m cloudformation_dataclasses.codegen.generator --service ECR
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any, ClassVar, Optional, Union

from cloudformation_dataclasses.core.base import CloudFormationResource
from cloudformation_dataclasses.intrinsics.functions import GetAtt, Ref, Sub


@dataclass
class RepositoryCatalogData:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    about_text: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    operating_systems: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    usage_text: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    repository_description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    architectures: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.about_text is not None:
            if hasattr(self.about_text, 'to_dict'):
                props['AboutText'] = self.about_text.to_dict()
            elif isinstance(self.about_text, list):
                props['AboutText'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.about_text
                ]
            else:
                props['AboutText'] = self.about_text

        if self.operating_systems is not None:
            if hasattr(self.operating_systems, 'to_dict'):
                props['OperatingSystems'] = self.operating_systems.to_dict()
            elif isinstance(self.operating_systems, list):
                props['OperatingSystems'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.operating_systems
                ]
            else:
                props['OperatingSystems'] = self.operating_systems

        if self.usage_text is not None:
            if hasattr(self.usage_text, 'to_dict'):
                props['UsageText'] = self.usage_text.to_dict()
            elif isinstance(self.usage_text, list):
                props['UsageText'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.usage_text
                ]
            else:
                props['UsageText'] = self.usage_text

        if self.repository_description is not None:
            if hasattr(self.repository_description, 'to_dict'):
                props['RepositoryDescription'] = self.repository_description.to_dict()
            elif isinstance(self.repository_description, list):
                props['RepositoryDescription'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.repository_description
                ]
            else:
                props['RepositoryDescription'] = self.repository_description

        if self.architectures is not None:
            if hasattr(self.architectures, 'to_dict'):
                props['Architectures'] = self.architectures.to_dict()
            elif isinstance(self.architectures, list):
                props['Architectures'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.architectures
                ]
            else:
                props['Architectures'] = self.architectures

        return props


@dataclass
class PublicRepository(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecr-p"""

    resource_type: ClassVar[str] = "AWS::ECR::PublicRepository"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    repository_policy_text: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    repository_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    repository_catalog_data: Optional[RepositoryCatalogData] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.repository_policy_text is not None:
            # Serialize repository_policy_text (handle intrinsic functions)
            if hasattr(self.repository_policy_text, 'to_dict'):
                props["RepositoryPolicyText"] = self.repository_policy_text.to_dict()
            elif isinstance(self.repository_policy_text, list):
                # Serialize list items (may contain intrinsic functions)
                props['RepositoryPolicyText'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.repository_policy_text
                ]
            else:
                props["RepositoryPolicyText"] = self.repository_policy_text

        if self.repository_name is not None:
            # Serialize repository_name (handle intrinsic functions)
            if hasattr(self.repository_name, 'to_dict'):
                props["RepositoryName"] = self.repository_name.to_dict()
            elif isinstance(self.repository_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['RepositoryName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.repository_name
                ]
            else:
                props["RepositoryName"] = self.repository_name

        if self.repository_catalog_data is not None:
            # Serialize repository_catalog_data (handle intrinsic functions)
            if hasattr(self.repository_catalog_data, 'to_dict'):
                props["RepositoryCatalogData"] = self.repository_catalog_data.to_dict()
            elif isinstance(self.repository_catalog_data, list):
                # Serialize list items (may contain intrinsic functions)
                props['RepositoryCatalogData'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.repository_catalog_data
                ]
            else:
                props["RepositoryCatalogData"] = self.repository_catalog_data

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")




@dataclass
class PullThroughCacheRule(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecr-p"""

    resource_type: ClassVar[str] = "AWS::ECR::PullThroughCacheRule"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    upstream_registry_url: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    custom_role_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    upstream_repository_prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    upstream_registry: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    credential_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ecr_repository_prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.upstream_registry_url is not None:
            # Serialize upstream_registry_url (handle intrinsic functions)
            if hasattr(self.upstream_registry_url, 'to_dict'):
                props["UpstreamRegistryUrl"] = self.upstream_registry_url.to_dict()
            elif isinstance(self.upstream_registry_url, list):
                # Serialize list items (may contain intrinsic functions)
                props['UpstreamRegistryUrl'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.upstream_registry_url
                ]
            else:
                props["UpstreamRegistryUrl"] = self.upstream_registry_url

        if self.custom_role_arn is not None:
            # Serialize custom_role_arn (handle intrinsic functions)
            if hasattr(self.custom_role_arn, 'to_dict'):
                props["CustomRoleArn"] = self.custom_role_arn.to_dict()
            elif isinstance(self.custom_role_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['CustomRoleArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_role_arn
                ]
            else:
                props["CustomRoleArn"] = self.custom_role_arn

        if self.upstream_repository_prefix is not None:
            # Serialize upstream_repository_prefix (handle intrinsic functions)
            if hasattr(self.upstream_repository_prefix, 'to_dict'):
                props["UpstreamRepositoryPrefix"] = self.upstream_repository_prefix.to_dict()
            elif isinstance(self.upstream_repository_prefix, list):
                # Serialize list items (may contain intrinsic functions)
                props['UpstreamRepositoryPrefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.upstream_repository_prefix
                ]
            else:
                props["UpstreamRepositoryPrefix"] = self.upstream_repository_prefix

        if self.upstream_registry is not None:
            # Serialize upstream_registry (handle intrinsic functions)
            if hasattr(self.upstream_registry, 'to_dict'):
                props["UpstreamRegistry"] = self.upstream_registry.to_dict()
            elif isinstance(self.upstream_registry, list):
                # Serialize list items (may contain intrinsic functions)
                props['UpstreamRegistry'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.upstream_registry
                ]
            else:
                props["UpstreamRegistry"] = self.upstream_registry

        if self.credential_arn is not None:
            # Serialize credential_arn (handle intrinsic functions)
            if hasattr(self.credential_arn, 'to_dict'):
                props["CredentialArn"] = self.credential_arn.to_dict()
            elif isinstance(self.credential_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['CredentialArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.credential_arn
                ]
            else:
                props["CredentialArn"] = self.credential_arn

        if self.ecr_repository_prefix is not None:
            # Serialize ecr_repository_prefix (handle intrinsic functions)
            if hasattr(self.ecr_repository_prefix, 'to_dict'):
                props["EcrRepositoryPrefix"] = self.ecr_repository_prefix.to_dict()
            elif isinstance(self.ecr_repository_prefix, list):
                # Serialize list items (may contain intrinsic functions)
                props['EcrRepositoryPrefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ecr_repository_prefix
                ]
            else:
                props["EcrRepositoryPrefix"] = self.ecr_repository_prefix

        return props



@dataclass
class PullTimeUpdateExclusion(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecr-p"""

    resource_type: ClassVar[str] = "AWS::ECR::PullTimeUpdateExclusion"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    principal_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.principal_arn is not None:
            # Serialize principal_arn (handle intrinsic functions)
            if hasattr(self.principal_arn, 'to_dict'):
                props["PrincipalArn"] = self.principal_arn.to_dict()
            elif isinstance(self.principal_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['PrincipalArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.principal_arn
                ]
            else:
                props["PrincipalArn"] = self.principal_arn

        return props



@dataclass
class RegistryPolicy(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecr-r"""

    resource_type: ClassVar[str] = "AWS::ECR::RegistryPolicy"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    policy_text: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.policy_text is not None:
            # Serialize policy_text (handle intrinsic functions)
            if hasattr(self.policy_text, 'to_dict'):
                props["PolicyText"] = self.policy_text.to_dict()
            elif isinstance(self.policy_text, list):
                # Serialize list items (may contain intrinsic functions)
                props['PolicyText'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.policy_text
                ]
            else:
                props["PolicyText"] = self.policy_text

        return props

    @property
    def attr_registry_id(self) -> GetAtt:
        """Get the RegistryId attribute."""
        return self.get_att("RegistryId")




@dataclass
class RepositoryFilter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    filter_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    filter: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.filter_type is not None:
            if hasattr(self.filter_type, 'to_dict'):
                props['FilterType'] = self.filter_type.to_dict()
            elif isinstance(self.filter_type, list):
                props['FilterType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.filter_type
                ]
            else:
                props['FilterType'] = self.filter_type

        if self.filter is not None:
            if hasattr(self.filter, 'to_dict'):
                props['Filter'] = self.filter.to_dict()
            elif isinstance(self.filter, list):
                props['Filter'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.filter
                ]
            else:
                props['Filter'] = self.filter

        return props


@dataclass
class ScanningRule:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    repository_filters: Optional[list[RepositoryFilter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    scan_frequency: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.repository_filters is not None:
            if hasattr(self.repository_filters, 'to_dict'):
                props['RepositoryFilters'] = self.repository_filters.to_dict()
            elif isinstance(self.repository_filters, list):
                props['RepositoryFilters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.repository_filters
                ]
            else:
                props['RepositoryFilters'] = self.repository_filters

        if self.scan_frequency is not None:
            if hasattr(self.scan_frequency, 'to_dict'):
                props['ScanFrequency'] = self.scan_frequency.to_dict()
            elif isinstance(self.scan_frequency, list):
                props['ScanFrequency'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.scan_frequency
                ]
            else:
                props['ScanFrequency'] = self.scan_frequency

        return props


@dataclass
class RegistryScanningConfiguration(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecr-r"""

    resource_type: ClassVar[str] = "AWS::ECR::RegistryScanningConfiguration"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    scan_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    rules: Optional[list[ScanningRule]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.scan_type is not None:
            # Serialize scan_type (handle intrinsic functions)
            if hasattr(self.scan_type, 'to_dict'):
                props["ScanType"] = self.scan_type.to_dict()
            elif isinstance(self.scan_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['ScanType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.scan_type
                ]
            else:
                props["ScanType"] = self.scan_type

        if self.rules is not None:
            # Serialize rules (handle intrinsic functions)
            if hasattr(self.rules, 'to_dict'):
                props["Rules"] = self.rules.to_dict()
            elif isinstance(self.rules, list):
                # Serialize list items (may contain intrinsic functions)
                props['Rules'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.rules
                ]
            else:
                props["Rules"] = self.rules

        return props

    @property
    def attr_registry_id(self) -> GetAtt:
        """Get the RegistryId attribute."""
        return self.get_att("RegistryId")




@dataclass
class ReplicationConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    rules: Optional[list[ReplicationRule]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.rules is not None:
            if hasattr(self.rules, 'to_dict'):
                props['Rules'] = self.rules.to_dict()
            elif isinstance(self.rules, list):
                props['Rules'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.rules
                ]
            else:
                props['Rules'] = self.rules

        return props


@dataclass
class ReplicationDestination:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    region: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    registry_id: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.region is not None:
            if hasattr(self.region, 'to_dict'):
                props['Region'] = self.region.to_dict()
            elif isinstance(self.region, list):
                props['Region'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.region
                ]
            else:
                props['Region'] = self.region

        if self.registry_id is not None:
            if hasattr(self.registry_id, 'to_dict'):
                props['RegistryId'] = self.registry_id.to_dict()
            elif isinstance(self.registry_id, list):
                props['RegistryId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.registry_id
                ]
            else:
                props['RegistryId'] = self.registry_id

        return props


@dataclass
class ReplicationRule:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    repository_filters: Optional[list[RepositoryFilter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    destinations: Optional[list[ReplicationDestination]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.repository_filters is not None:
            if hasattr(self.repository_filters, 'to_dict'):
                props['RepositoryFilters'] = self.repository_filters.to_dict()
            elif isinstance(self.repository_filters, list):
                props['RepositoryFilters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.repository_filters
                ]
            else:
                props['RepositoryFilters'] = self.repository_filters

        if self.destinations is not None:
            if hasattr(self.destinations, 'to_dict'):
                props['Destinations'] = self.destinations.to_dict()
            elif isinstance(self.destinations, list):
                props['Destinations'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.destinations
                ]
            else:
                props['Destinations'] = self.destinations

        return props


@dataclass
class RepositoryFilter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    filter_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    filter: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.filter_type is not None:
            if hasattr(self.filter_type, 'to_dict'):
                props['FilterType'] = self.filter_type.to_dict()
            elif isinstance(self.filter_type, list):
                props['FilterType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.filter_type
                ]
            else:
                props['FilterType'] = self.filter_type

        if self.filter is not None:
            if hasattr(self.filter, 'to_dict'):
                props['Filter'] = self.filter.to_dict()
            elif isinstance(self.filter, list):
                props['Filter'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.filter
                ]
            else:
                props['Filter'] = self.filter

        return props


@dataclass
class ReplicationConfiguration(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecr-r"""

    resource_type: ClassVar[str] = "AWS::ECR::ReplicationConfiguration"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    replication_configuration: Optional[ReplicationConfiguration] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.replication_configuration is not None:
            # Serialize replication_configuration (handle intrinsic functions)
            if hasattr(self.replication_configuration, 'to_dict'):
                props["ReplicationConfiguration"] = self.replication_configuration.to_dict()
            elif isinstance(self.replication_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['ReplicationConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.replication_configuration
                ]
            else:
                props["ReplicationConfiguration"] = self.replication_configuration

        return props

    @property
    def attr_registry_id(self) -> GetAtt:
        """Get the RegistryId attribute."""
        return self.get_att("RegistryId")




@dataclass
class EncryptionConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    encryption_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    kms_key: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.encryption_type is not None:
            if hasattr(self.encryption_type, 'to_dict'):
                props['EncryptionType'] = self.encryption_type.to_dict()
            elif isinstance(self.encryption_type, list):
                props['EncryptionType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.encryption_type
                ]
            else:
                props['EncryptionType'] = self.encryption_type

        if self.kms_key is not None:
            if hasattr(self.kms_key, 'to_dict'):
                props['KmsKey'] = self.kms_key.to_dict()
            elif isinstance(self.kms_key, list):
                props['KmsKey'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.kms_key
                ]
            else:
                props['KmsKey'] = self.kms_key

        return props


@dataclass
class ImageScanningConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    scan_on_push: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.scan_on_push is not None:
            if hasattr(self.scan_on_push, 'to_dict'):
                props['ScanOnPush'] = self.scan_on_push.to_dict()
            elif isinstance(self.scan_on_push, list):
                props['ScanOnPush'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.scan_on_push
                ]
            else:
                props['ScanOnPush'] = self.scan_on_push

        return props


@dataclass
class ImageTagMutabilityExclusionFilter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    image_tag_mutability_exclusion_filter_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    image_tag_mutability_exclusion_filter_value: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.image_tag_mutability_exclusion_filter_type is not None:
            if hasattr(self.image_tag_mutability_exclusion_filter_type, 'to_dict'):
                props['ImageTagMutabilityExclusionFilterType'] = self.image_tag_mutability_exclusion_filter_type.to_dict()
            elif isinstance(self.image_tag_mutability_exclusion_filter_type, list):
                props['ImageTagMutabilityExclusionFilterType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.image_tag_mutability_exclusion_filter_type
                ]
            else:
                props['ImageTagMutabilityExclusionFilterType'] = self.image_tag_mutability_exclusion_filter_type

        if self.image_tag_mutability_exclusion_filter_value is not None:
            if hasattr(self.image_tag_mutability_exclusion_filter_value, 'to_dict'):
                props['ImageTagMutabilityExclusionFilterValue'] = self.image_tag_mutability_exclusion_filter_value.to_dict()
            elif isinstance(self.image_tag_mutability_exclusion_filter_value, list):
                props['ImageTagMutabilityExclusionFilterValue'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.image_tag_mutability_exclusion_filter_value
                ]
            else:
                props['ImageTagMutabilityExclusionFilterValue'] = self.image_tag_mutability_exclusion_filter_value

        return props


@dataclass
class LifecyclePolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    lifecycle_policy_text: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    registry_id: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.lifecycle_policy_text is not None:
            if hasattr(self.lifecycle_policy_text, 'to_dict'):
                props['LifecyclePolicyText'] = self.lifecycle_policy_text.to_dict()
            elif isinstance(self.lifecycle_policy_text, list):
                props['LifecyclePolicyText'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.lifecycle_policy_text
                ]
            else:
                props['LifecyclePolicyText'] = self.lifecycle_policy_text

        if self.registry_id is not None:
            if hasattr(self.registry_id, 'to_dict'):
                props['RegistryId'] = self.registry_id.to_dict()
            elif isinstance(self.registry_id, list):
                props['RegistryId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.registry_id
                ]
            else:
                props['RegistryId'] = self.registry_id

        return props


@dataclass
class Repository(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecr-r"""

    resource_type: ClassVar[str] = "AWS::ECR::Repository"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    empty_on_delete: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    image_scanning_configuration: Optional[ImageScanningConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    image_tag_mutability_exclusion_filters: Optional[list[ImageTagMutabilityExclusionFilter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    encryption_configuration: Optional[EncryptionConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    repository_policy_text: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    lifecycle_policy: Optional[LifecyclePolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    repository_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    image_tag_mutability: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.empty_on_delete is not None:
            # Serialize empty_on_delete (handle intrinsic functions)
            if hasattr(self.empty_on_delete, 'to_dict'):
                props["EmptyOnDelete"] = self.empty_on_delete.to_dict()
            elif isinstance(self.empty_on_delete, list):
                # Serialize list items (may contain intrinsic functions)
                props['EmptyOnDelete'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.empty_on_delete
                ]
            else:
                props["EmptyOnDelete"] = self.empty_on_delete

        if self.image_scanning_configuration is not None:
            # Serialize image_scanning_configuration (handle intrinsic functions)
            if hasattr(self.image_scanning_configuration, 'to_dict'):
                props["ImageScanningConfiguration"] = self.image_scanning_configuration.to_dict()
            elif isinstance(self.image_scanning_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['ImageScanningConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.image_scanning_configuration
                ]
            else:
                props["ImageScanningConfiguration"] = self.image_scanning_configuration

        if self.image_tag_mutability_exclusion_filters is not None:
            # Serialize image_tag_mutability_exclusion_filters (handle intrinsic functions)
            if hasattr(self.image_tag_mutability_exclusion_filters, 'to_dict'):
                props["ImageTagMutabilityExclusionFilters"] = self.image_tag_mutability_exclusion_filters.to_dict()
            elif isinstance(self.image_tag_mutability_exclusion_filters, list):
                # Serialize list items (may contain intrinsic functions)
                props['ImageTagMutabilityExclusionFilters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.image_tag_mutability_exclusion_filters
                ]
            else:
                props["ImageTagMutabilityExclusionFilters"] = self.image_tag_mutability_exclusion_filters

        if self.encryption_configuration is not None:
            # Serialize encryption_configuration (handle intrinsic functions)
            if hasattr(self.encryption_configuration, 'to_dict'):
                props["EncryptionConfiguration"] = self.encryption_configuration.to_dict()
            elif isinstance(self.encryption_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['EncryptionConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.encryption_configuration
                ]
            else:
                props["EncryptionConfiguration"] = self.encryption_configuration

        if self.repository_policy_text is not None:
            # Serialize repository_policy_text (handle intrinsic functions)
            if hasattr(self.repository_policy_text, 'to_dict'):
                props["RepositoryPolicyText"] = self.repository_policy_text.to_dict()
            elif isinstance(self.repository_policy_text, list):
                # Serialize list items (may contain intrinsic functions)
                props['RepositoryPolicyText'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.repository_policy_text
                ]
            else:
                props["RepositoryPolicyText"] = self.repository_policy_text

        if self.lifecycle_policy is not None:
            # Serialize lifecycle_policy (handle intrinsic functions)
            if hasattr(self.lifecycle_policy, 'to_dict'):
                props["LifecyclePolicy"] = self.lifecycle_policy.to_dict()
            elif isinstance(self.lifecycle_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['LifecyclePolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.lifecycle_policy
                ]
            else:
                props["LifecyclePolicy"] = self.lifecycle_policy

        if self.repository_name is not None:
            # Serialize repository_name (handle intrinsic functions)
            if hasattr(self.repository_name, 'to_dict'):
                props["RepositoryName"] = self.repository_name.to_dict()
            elif isinstance(self.repository_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['RepositoryName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.repository_name
                ]
            else:
                props["RepositoryName"] = self.repository_name

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.image_tag_mutability is not None:
            # Serialize image_tag_mutability (handle intrinsic functions)
            if hasattr(self.image_tag_mutability, 'to_dict'):
                props["ImageTagMutability"] = self.image_tag_mutability.to_dict()
            elif isinstance(self.image_tag_mutability, list):
                # Serialize list items (may contain intrinsic functions)
                props['ImageTagMutability'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.image_tag_mutability
                ]
            else:
                props["ImageTagMutability"] = self.image_tag_mutability

        return props

    @property
    def attr_repository_uri(self) -> GetAtt:
        """Get the RepositoryUri attribute."""
        return self.get_att("RepositoryUri")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")




@dataclass
class EncryptionConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    encryption_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    kms_key: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.encryption_type is not None:
            if hasattr(self.encryption_type, 'to_dict'):
                props['EncryptionType'] = self.encryption_type.to_dict()
            elif isinstance(self.encryption_type, list):
                props['EncryptionType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.encryption_type
                ]
            else:
                props['EncryptionType'] = self.encryption_type

        if self.kms_key is not None:
            if hasattr(self.kms_key, 'to_dict'):
                props['KmsKey'] = self.kms_key.to_dict()
            elif isinstance(self.kms_key, list):
                props['KmsKey'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.kms_key
                ]
            else:
                props['KmsKey'] = self.kms_key

        return props


@dataclass
class ImageTagMutabilityExclusionFilter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    image_tag_mutability_exclusion_filter_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    image_tag_mutability_exclusion_filter_value: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.image_tag_mutability_exclusion_filter_type is not None:
            if hasattr(self.image_tag_mutability_exclusion_filter_type, 'to_dict'):
                props['ImageTagMutabilityExclusionFilterType'] = self.image_tag_mutability_exclusion_filter_type.to_dict()
            elif isinstance(self.image_tag_mutability_exclusion_filter_type, list):
                props['ImageTagMutabilityExclusionFilterType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.image_tag_mutability_exclusion_filter_type
                ]
            else:
                props['ImageTagMutabilityExclusionFilterType'] = self.image_tag_mutability_exclusion_filter_type

        if self.image_tag_mutability_exclusion_filter_value is not None:
            if hasattr(self.image_tag_mutability_exclusion_filter_value, 'to_dict'):
                props['ImageTagMutabilityExclusionFilterValue'] = self.image_tag_mutability_exclusion_filter_value.to_dict()
            elif isinstance(self.image_tag_mutability_exclusion_filter_value, list):
                props['ImageTagMutabilityExclusionFilterValue'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.image_tag_mutability_exclusion_filter_value
                ]
            else:
                props['ImageTagMutabilityExclusionFilterValue'] = self.image_tag_mutability_exclusion_filter_value

        return props


@dataclass
class RepositoryCreationTemplate(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecr-r"""

    resource_type: ClassVar[str] = "AWS::ECR::RepositoryCreationTemplate"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    image_tag_mutability_exclusion_filters: Optional[list[ImageTagMutabilityExclusionFilter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    custom_role_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    encryption_configuration: Optional[EncryptionConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    resource_tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    repository_policy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    lifecycle_policy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    applied_for: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    image_tag_mutability: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.image_tag_mutability_exclusion_filters is not None:
            # Serialize image_tag_mutability_exclusion_filters (handle intrinsic functions)
            if hasattr(self.image_tag_mutability_exclusion_filters, 'to_dict'):
                props["ImageTagMutabilityExclusionFilters"] = self.image_tag_mutability_exclusion_filters.to_dict()
            elif isinstance(self.image_tag_mutability_exclusion_filters, list):
                # Serialize list items (may contain intrinsic functions)
                props['ImageTagMutabilityExclusionFilters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.image_tag_mutability_exclusion_filters
                ]
            else:
                props["ImageTagMutabilityExclusionFilters"] = self.image_tag_mutability_exclusion_filters

        if self.custom_role_arn is not None:
            # Serialize custom_role_arn (handle intrinsic functions)
            if hasattr(self.custom_role_arn, 'to_dict'):
                props["CustomRoleArn"] = self.custom_role_arn.to_dict()
            elif isinstance(self.custom_role_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['CustomRoleArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_role_arn
                ]
            else:
                props["CustomRoleArn"] = self.custom_role_arn

        if self.description is not None:
            # Serialize description (handle intrinsic functions)
            if hasattr(self.description, 'to_dict'):
                props["Description"] = self.description.to_dict()
            elif isinstance(self.description, list):
                # Serialize list items (may contain intrinsic functions)
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props["Description"] = self.description

        if self.encryption_configuration is not None:
            # Serialize encryption_configuration (handle intrinsic functions)
            if hasattr(self.encryption_configuration, 'to_dict'):
                props["EncryptionConfiguration"] = self.encryption_configuration.to_dict()
            elif isinstance(self.encryption_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['EncryptionConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.encryption_configuration
                ]
            else:
                props["EncryptionConfiguration"] = self.encryption_configuration

        if self.resource_tags is not None:
            # Serialize resource_tags (handle intrinsic functions)
            if hasattr(self.resource_tags, 'to_dict'):
                props["ResourceTags"] = self.resource_tags.to_dict()
            elif isinstance(self.resource_tags, list):
                # Serialize list items (may contain intrinsic functions)
                props['ResourceTags'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.resource_tags
                ]
            else:
                props["ResourceTags"] = self.resource_tags

        if self.repository_policy is not None:
            # Serialize repository_policy (handle intrinsic functions)
            if hasattr(self.repository_policy, 'to_dict'):
                props["RepositoryPolicy"] = self.repository_policy.to_dict()
            elif isinstance(self.repository_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['RepositoryPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.repository_policy
                ]
            else:
                props["RepositoryPolicy"] = self.repository_policy

        if self.lifecycle_policy is not None:
            # Serialize lifecycle_policy (handle intrinsic functions)
            if hasattr(self.lifecycle_policy, 'to_dict'):
                props["LifecyclePolicy"] = self.lifecycle_policy.to_dict()
            elif isinstance(self.lifecycle_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['LifecyclePolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.lifecycle_policy
                ]
            else:
                props["LifecyclePolicy"] = self.lifecycle_policy

        if self.applied_for is not None:
            # Serialize applied_for (handle intrinsic functions)
            if hasattr(self.applied_for, 'to_dict'):
                props["AppliedFor"] = self.applied_for.to_dict()
            elif isinstance(self.applied_for, list):
                # Serialize list items (may contain intrinsic functions)
                props['AppliedFor'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.applied_for
                ]
            else:
                props["AppliedFor"] = self.applied_for

        if self.prefix is not None:
            # Serialize prefix (handle intrinsic functions)
            if hasattr(self.prefix, 'to_dict'):
                props["Prefix"] = self.prefix.to_dict()
            elif isinstance(self.prefix, list):
                # Serialize list items (may contain intrinsic functions)
                props['Prefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.prefix
                ]
            else:
                props["Prefix"] = self.prefix

        if self.image_tag_mutability is not None:
            # Serialize image_tag_mutability (handle intrinsic functions)
            if hasattr(self.image_tag_mutability, 'to_dict'):
                props["ImageTagMutability"] = self.image_tag_mutability.to_dict()
            elif isinstance(self.image_tag_mutability, list):
                # Serialize list items (may contain intrinsic functions)
                props['ImageTagMutability'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.image_tag_mutability
                ]
            else:
                props["ImageTagMutability"] = self.image_tag_mutability

        return props

    @property
    def attr_created_at(self) -> GetAtt:
        """Get the CreatedAt attribute."""
        return self.get_att("CreatedAt")

    @property
    def attr_updated_at(self) -> GetAtt:
        """Get the UpdatedAt attribute."""
        return self.get_att("UpdatedAt")




@dataclass
class RepositoryFilter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    filter_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    filter: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.filter_type is not None:
            if hasattr(self.filter_type, 'to_dict'):
                props['FilterType'] = self.filter_type.to_dict()
            elif isinstance(self.filter_type, list):
                props['FilterType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.filter_type
                ]
            else:
                props['FilterType'] = self.filter_type

        if self.filter is not None:
            if hasattr(self.filter, 'to_dict'):
                props['Filter'] = self.filter.to_dict()
            elif isinstance(self.filter, list):
                props['Filter'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.filter
                ]
            else:
                props['Filter'] = self.filter

        return props


@dataclass
class Rule:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ecr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    repository_filters: Optional[list[RepositoryFilter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    signing_profile_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.repository_filters is not None:
            if hasattr(self.repository_filters, 'to_dict'):
                props['RepositoryFilters'] = self.repository_filters.to_dict()
            elif isinstance(self.repository_filters, list):
                props['RepositoryFilters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.repository_filters
                ]
            else:
                props['RepositoryFilters'] = self.repository_filters

        if self.signing_profile_arn is not None:
            if hasattr(self.signing_profile_arn, 'to_dict'):
                props['SigningProfileArn'] = self.signing_profile_arn.to_dict()
            elif isinstance(self.signing_profile_arn, list):
                props['SigningProfileArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.signing_profile_arn
                ]
            else:
                props['SigningProfileArn'] = self.signing_profile_arn

        return props


@dataclass
class SigningConfiguration(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecr-s"""

    resource_type: ClassVar[str] = "AWS::ECR::SigningConfiguration"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    rules: Optional[list[Rule]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.rules is not None:
            # Serialize rules (handle intrinsic functions)
            if hasattr(self.rules, 'to_dict'):
                props["Rules"] = self.rules.to_dict()
            elif isinstance(self.rules, list):
                # Serialize list items (may contain intrinsic functions)
                props['Rules'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.rules
                ]
            else:
                props["Rules"] = self.rules

        return props

    @property
    def attr_registry_id(self) -> GetAtt:
        """Get the RegistryId attribute."""
        return self.get_att("RegistryId")



