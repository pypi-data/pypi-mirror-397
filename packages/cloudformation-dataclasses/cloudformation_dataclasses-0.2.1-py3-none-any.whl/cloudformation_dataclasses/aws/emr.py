"""
AWS CloudFormation EMR Resources

⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY ⚠️

This file is automatically generated from the AWS CloudFormation Resource Specification.
Any manual changes will be overwritten when regenerated.

Version Information:
  CloudFormation Spec: 227.0.0
  Generator Version: 1.0.0
  Combined: spec-227.0.0_gen-1.0.0
  Generated: 2025-12-15 17:57:19

To regenerate this file:
    uv run python -m cloudformation_dataclasses.codegen.generator --service EMR
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any, ClassVar, Optional, Union

from cloudformation_dataclasses.core.base import CloudFormationResource
from cloudformation_dataclasses.intrinsics.functions import GetAtt, Ref, Sub


@dataclass
class Application:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    additional_info: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    args: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    version: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.additional_info is not None:
            if hasattr(self.additional_info, 'to_dict'):
                props['AdditionalInfo'] = self.additional_info.to_dict()
            elif isinstance(self.additional_info, list):
                props['AdditionalInfo'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.additional_info
                ]
            else:
                props['AdditionalInfo'] = self.additional_info

        if self.args is not None:
            if hasattr(self.args, 'to_dict'):
                props['Args'] = self.args.to_dict()
            elif isinstance(self.args, list):
                props['Args'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.args
                ]
            else:
                props['Args'] = self.args

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.version is not None:
            if hasattr(self.version, 'to_dict'):
                props['Version'] = self.version.to_dict()
            elif isinstance(self.version, list):
                props['Version'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.version
                ]
            else:
                props['Version'] = self.version

        return props


@dataclass
class AutoScalingPolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    constraints: Optional[ScalingConstraints] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    rules: Optional[list[ScalingRule]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.constraints is not None:
            if hasattr(self.constraints, 'to_dict'):
                props['Constraints'] = self.constraints.to_dict()
            elif isinstance(self.constraints, list):
                props['Constraints'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.constraints
                ]
            else:
                props['Constraints'] = self.constraints

        if self.rules is not None:
            if hasattr(self.rules, 'to_dict'):
                props['Rules'] = self.rules.to_dict()
            elif isinstance(self.rules, list):
                props['Rules'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.rules
                ]
            else:
                props['Rules'] = self.rules

        return props


@dataclass
class AutoTerminationPolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    idle_timeout: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.idle_timeout is not None:
            if hasattr(self.idle_timeout, 'to_dict'):
                props['IdleTimeout'] = self.idle_timeout.to_dict()
            elif isinstance(self.idle_timeout, list):
                props['IdleTimeout'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idle_timeout
                ]
            else:
                props['IdleTimeout'] = self.idle_timeout

        return props


@dataclass
class BootstrapActionConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    script_bootstrap_action: Optional[ScriptBootstrapActionConfig] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.script_bootstrap_action is not None:
            if hasattr(self.script_bootstrap_action, 'to_dict'):
                props['ScriptBootstrapAction'] = self.script_bootstrap_action.to_dict()
            elif isinstance(self.script_bootstrap_action, list):
                props['ScriptBootstrapAction'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.script_bootstrap_action
                ]
            else:
                props['ScriptBootstrapAction'] = self.script_bootstrap_action

        return props


@dataclass
class CloudWatchAlarmDefinition:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    comparison_operator: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    dimensions: Optional[list[MetricDimension]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    evaluation_periods: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    metric_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    namespace: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    period: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    statistic: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    threshold: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    unit: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.comparison_operator is not None:
            if hasattr(self.comparison_operator, 'to_dict'):
                props['ComparisonOperator'] = self.comparison_operator.to_dict()
            elif isinstance(self.comparison_operator, list):
                props['ComparisonOperator'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.comparison_operator
                ]
            else:
                props['ComparisonOperator'] = self.comparison_operator

        if self.dimensions is not None:
            if hasattr(self.dimensions, 'to_dict'):
                props['Dimensions'] = self.dimensions.to_dict()
            elif isinstance(self.dimensions, list):
                props['Dimensions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.dimensions
                ]
            else:
                props['Dimensions'] = self.dimensions

        if self.evaluation_periods is not None:
            if hasattr(self.evaluation_periods, 'to_dict'):
                props['EvaluationPeriods'] = self.evaluation_periods.to_dict()
            elif isinstance(self.evaluation_periods, list):
                props['EvaluationPeriods'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.evaluation_periods
                ]
            else:
                props['EvaluationPeriods'] = self.evaluation_periods

        if self.metric_name is not None:
            if hasattr(self.metric_name, 'to_dict'):
                props['MetricName'] = self.metric_name.to_dict()
            elif isinstance(self.metric_name, list):
                props['MetricName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.metric_name
                ]
            else:
                props['MetricName'] = self.metric_name

        if self.namespace is not None:
            if hasattr(self.namespace, 'to_dict'):
                props['Namespace'] = self.namespace.to_dict()
            elif isinstance(self.namespace, list):
                props['Namespace'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.namespace
                ]
            else:
                props['Namespace'] = self.namespace

        if self.period is not None:
            if hasattr(self.period, 'to_dict'):
                props['Period'] = self.period.to_dict()
            elif isinstance(self.period, list):
                props['Period'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.period
                ]
            else:
                props['Period'] = self.period

        if self.statistic is not None:
            if hasattr(self.statistic, 'to_dict'):
                props['Statistic'] = self.statistic.to_dict()
            elif isinstance(self.statistic, list):
                props['Statistic'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.statistic
                ]
            else:
                props['Statistic'] = self.statistic

        if self.threshold is not None:
            if hasattr(self.threshold, 'to_dict'):
                props['Threshold'] = self.threshold.to_dict()
            elif isinstance(self.threshold, list):
                props['Threshold'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.threshold
                ]
            else:
                props['Threshold'] = self.threshold

        if self.unit is not None:
            if hasattr(self.unit, 'to_dict'):
                props['Unit'] = self.unit.to_dict()
            elif isinstance(self.unit, list):
                props['Unit'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.unit
                ]
            else:
                props['Unit'] = self.unit

        return props


@dataclass
class ComputeLimits:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    maximum_capacity_units: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    maximum_core_capacity_units: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    maximum_on_demand_capacity_units: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    minimum_capacity_units: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    unit_type: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.maximum_capacity_units is not None:
            if hasattr(self.maximum_capacity_units, 'to_dict'):
                props['MaximumCapacityUnits'] = self.maximum_capacity_units.to_dict()
            elif isinstance(self.maximum_capacity_units, list):
                props['MaximumCapacityUnits'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.maximum_capacity_units
                ]
            else:
                props['MaximumCapacityUnits'] = self.maximum_capacity_units

        if self.maximum_core_capacity_units is not None:
            if hasattr(self.maximum_core_capacity_units, 'to_dict'):
                props['MaximumCoreCapacityUnits'] = self.maximum_core_capacity_units.to_dict()
            elif isinstance(self.maximum_core_capacity_units, list):
                props['MaximumCoreCapacityUnits'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.maximum_core_capacity_units
                ]
            else:
                props['MaximumCoreCapacityUnits'] = self.maximum_core_capacity_units

        if self.maximum_on_demand_capacity_units is not None:
            if hasattr(self.maximum_on_demand_capacity_units, 'to_dict'):
                props['MaximumOnDemandCapacityUnits'] = self.maximum_on_demand_capacity_units.to_dict()
            elif isinstance(self.maximum_on_demand_capacity_units, list):
                props['MaximumOnDemandCapacityUnits'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.maximum_on_demand_capacity_units
                ]
            else:
                props['MaximumOnDemandCapacityUnits'] = self.maximum_on_demand_capacity_units

        if self.minimum_capacity_units is not None:
            if hasattr(self.minimum_capacity_units, 'to_dict'):
                props['MinimumCapacityUnits'] = self.minimum_capacity_units.to_dict()
            elif isinstance(self.minimum_capacity_units, list):
                props['MinimumCapacityUnits'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.minimum_capacity_units
                ]
            else:
                props['MinimumCapacityUnits'] = self.minimum_capacity_units

        if self.unit_type is not None:
            if hasattr(self.unit_type, 'to_dict'):
                props['UnitType'] = self.unit_type.to_dict()
            elif isinstance(self.unit_type, list):
                props['UnitType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.unit_type
                ]
            else:
                props['UnitType'] = self.unit_type

        return props


@dataclass
class Configuration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    classification: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    configuration_properties: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    configurations: Optional[list[Configuration]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.classification is not None:
            if hasattr(self.classification, 'to_dict'):
                props['Classification'] = self.classification.to_dict()
            elif isinstance(self.classification, list):
                props['Classification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.classification
                ]
            else:
                props['Classification'] = self.classification

        if self.configuration_properties is not None:
            if hasattr(self.configuration_properties, 'to_dict'):
                props['ConfigurationProperties'] = self.configuration_properties.to_dict()
            elif isinstance(self.configuration_properties, list):
                props['ConfigurationProperties'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configuration_properties
                ]
            else:
                props['ConfigurationProperties'] = self.configuration_properties

        if self.configurations is not None:
            if hasattr(self.configurations, 'to_dict'):
                props['Configurations'] = self.configurations.to_dict()
            elif isinstance(self.configurations, list):
                props['Configurations'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configurations
                ]
            else:
                props['Configurations'] = self.configurations

        return props


@dataclass
class EbsBlockDeviceConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volume_specification: Optional[VolumeSpecification] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volumes_per_instance: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.volume_specification is not None:
            if hasattr(self.volume_specification, 'to_dict'):
                props['VolumeSpecification'] = self.volume_specification.to_dict()
            elif isinstance(self.volume_specification, list):
                props['VolumeSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volume_specification
                ]
            else:
                props['VolumeSpecification'] = self.volume_specification

        if self.volumes_per_instance is not None:
            if hasattr(self.volumes_per_instance, 'to_dict'):
                props['VolumesPerInstance'] = self.volumes_per_instance.to_dict()
            elif isinstance(self.volumes_per_instance, list):
                props['VolumesPerInstance'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volumes_per_instance
                ]
            else:
                props['VolumesPerInstance'] = self.volumes_per_instance

        return props


@dataclass
class EbsConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ebs_block_device_configs: Optional[list[EbsBlockDeviceConfig]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ebs_optimized: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.ebs_block_device_configs is not None:
            if hasattr(self.ebs_block_device_configs, 'to_dict'):
                props['EbsBlockDeviceConfigs'] = self.ebs_block_device_configs.to_dict()
            elif isinstance(self.ebs_block_device_configs, list):
                props['EbsBlockDeviceConfigs'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_block_device_configs
                ]
            else:
                props['EbsBlockDeviceConfigs'] = self.ebs_block_device_configs

        if self.ebs_optimized is not None:
            if hasattr(self.ebs_optimized, 'to_dict'):
                props['EbsOptimized'] = self.ebs_optimized.to_dict()
            elif isinstance(self.ebs_optimized, list):
                props['EbsOptimized'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_optimized
                ]
            else:
                props['EbsOptimized'] = self.ebs_optimized

        return props


@dataclass
class HadoopJarStepConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    args: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    jar: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    main_class: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    step_properties: Optional[list[KeyValue]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.args is not None:
            if hasattr(self.args, 'to_dict'):
                props['Args'] = self.args.to_dict()
            elif isinstance(self.args, list):
                props['Args'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.args
                ]
            else:
                props['Args'] = self.args

        if self.jar is not None:
            if hasattr(self.jar, 'to_dict'):
                props['Jar'] = self.jar.to_dict()
            elif isinstance(self.jar, list):
                props['Jar'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.jar
                ]
            else:
                props['Jar'] = self.jar

        if self.main_class is not None:
            if hasattr(self.main_class, 'to_dict'):
                props['MainClass'] = self.main_class.to_dict()
            elif isinstance(self.main_class, list):
                props['MainClass'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.main_class
                ]
            else:
                props['MainClass'] = self.main_class

        if self.step_properties is not None:
            if hasattr(self.step_properties, 'to_dict'):
                props['StepProperties'] = self.step_properties.to_dict()
            elif isinstance(self.step_properties, list):
                props['StepProperties'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.step_properties
                ]
            else:
                props['StepProperties'] = self.step_properties

        return props


@dataclass
class InstanceFleetConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    instance_type_configs: Optional[list[InstanceTypeConfig]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    launch_specifications: Optional[InstanceFleetProvisioningSpecifications] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    resize_specifications: Optional[InstanceFleetResizingSpecifications] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    target_on_demand_capacity: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    target_spot_capacity: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.instance_type_configs is not None:
            if hasattr(self.instance_type_configs, 'to_dict'):
                props['InstanceTypeConfigs'] = self.instance_type_configs.to_dict()
            elif isinstance(self.instance_type_configs, list):
                props['InstanceTypeConfigs'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_type_configs
                ]
            else:
                props['InstanceTypeConfigs'] = self.instance_type_configs

        if self.launch_specifications is not None:
            if hasattr(self.launch_specifications, 'to_dict'):
                props['LaunchSpecifications'] = self.launch_specifications.to_dict()
            elif isinstance(self.launch_specifications, list):
                props['LaunchSpecifications'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.launch_specifications
                ]
            else:
                props['LaunchSpecifications'] = self.launch_specifications

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.resize_specifications is not None:
            if hasattr(self.resize_specifications, 'to_dict'):
                props['ResizeSpecifications'] = self.resize_specifications.to_dict()
            elif isinstance(self.resize_specifications, list):
                props['ResizeSpecifications'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.resize_specifications
                ]
            else:
                props['ResizeSpecifications'] = self.resize_specifications

        if self.target_on_demand_capacity is not None:
            if hasattr(self.target_on_demand_capacity, 'to_dict'):
                props['TargetOnDemandCapacity'] = self.target_on_demand_capacity.to_dict()
            elif isinstance(self.target_on_demand_capacity, list):
                props['TargetOnDemandCapacity'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.target_on_demand_capacity
                ]
            else:
                props['TargetOnDemandCapacity'] = self.target_on_demand_capacity

        if self.target_spot_capacity is not None:
            if hasattr(self.target_spot_capacity, 'to_dict'):
                props['TargetSpotCapacity'] = self.target_spot_capacity.to_dict()
            elif isinstance(self.target_spot_capacity, list):
                props['TargetSpotCapacity'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.target_spot_capacity
                ]
            else:
                props['TargetSpotCapacity'] = self.target_spot_capacity

        return props


@dataclass
class InstanceFleetProvisioningSpecifications:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    on_demand_specification: Optional[OnDemandProvisioningSpecification] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    spot_specification: Optional[SpotProvisioningSpecification] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.on_demand_specification is not None:
            if hasattr(self.on_demand_specification, 'to_dict'):
                props['OnDemandSpecification'] = self.on_demand_specification.to_dict()
            elif isinstance(self.on_demand_specification, list):
                props['OnDemandSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.on_demand_specification
                ]
            else:
                props['OnDemandSpecification'] = self.on_demand_specification

        if self.spot_specification is not None:
            if hasattr(self.spot_specification, 'to_dict'):
                props['SpotSpecification'] = self.spot_specification.to_dict()
            elif isinstance(self.spot_specification, list):
                props['SpotSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spot_specification
                ]
            else:
                props['SpotSpecification'] = self.spot_specification

        return props


@dataclass
class InstanceFleetResizingSpecifications:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    on_demand_resize_specification: Optional[OnDemandResizingSpecification] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    spot_resize_specification: Optional[SpotResizingSpecification] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.on_demand_resize_specification is not None:
            if hasattr(self.on_demand_resize_specification, 'to_dict'):
                props['OnDemandResizeSpecification'] = self.on_demand_resize_specification.to_dict()
            elif isinstance(self.on_demand_resize_specification, list):
                props['OnDemandResizeSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.on_demand_resize_specification
                ]
            else:
                props['OnDemandResizeSpecification'] = self.on_demand_resize_specification

        if self.spot_resize_specification is not None:
            if hasattr(self.spot_resize_specification, 'to_dict'):
                props['SpotResizeSpecification'] = self.spot_resize_specification.to_dict()
            elif isinstance(self.spot_resize_specification, list):
                props['SpotResizeSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spot_resize_specification
                ]
            else:
                props['SpotResizeSpecification'] = self.spot_resize_specification

        return props


@dataclass
class InstanceGroupConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    auto_scaling_policy: Optional[AutoScalingPolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    bid_price: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    configurations: Optional[list[Configuration]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    custom_ami_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ebs_configuration: Optional[EbsConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    instance_count: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    instance_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    market: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.auto_scaling_policy is not None:
            if hasattr(self.auto_scaling_policy, 'to_dict'):
                props['AutoScalingPolicy'] = self.auto_scaling_policy.to_dict()
            elif isinstance(self.auto_scaling_policy, list):
                props['AutoScalingPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auto_scaling_policy
                ]
            else:
                props['AutoScalingPolicy'] = self.auto_scaling_policy

        if self.bid_price is not None:
            if hasattr(self.bid_price, 'to_dict'):
                props['BidPrice'] = self.bid_price.to_dict()
            elif isinstance(self.bid_price, list):
                props['BidPrice'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.bid_price
                ]
            else:
                props['BidPrice'] = self.bid_price

        if self.configurations is not None:
            if hasattr(self.configurations, 'to_dict'):
                props['Configurations'] = self.configurations.to_dict()
            elif isinstance(self.configurations, list):
                props['Configurations'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configurations
                ]
            else:
                props['Configurations'] = self.configurations

        if self.custom_ami_id is not None:
            if hasattr(self.custom_ami_id, 'to_dict'):
                props['CustomAmiId'] = self.custom_ami_id.to_dict()
            elif isinstance(self.custom_ami_id, list):
                props['CustomAmiId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_ami_id
                ]
            else:
                props['CustomAmiId'] = self.custom_ami_id

        if self.ebs_configuration is not None:
            if hasattr(self.ebs_configuration, 'to_dict'):
                props['EbsConfiguration'] = self.ebs_configuration.to_dict()
            elif isinstance(self.ebs_configuration, list):
                props['EbsConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_configuration
                ]
            else:
                props['EbsConfiguration'] = self.ebs_configuration

        if self.instance_count is not None:
            if hasattr(self.instance_count, 'to_dict'):
                props['InstanceCount'] = self.instance_count.to_dict()
            elif isinstance(self.instance_count, list):
                props['InstanceCount'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_count
                ]
            else:
                props['InstanceCount'] = self.instance_count

        if self.instance_type is not None:
            if hasattr(self.instance_type, 'to_dict'):
                props['InstanceType'] = self.instance_type.to_dict()
            elif isinstance(self.instance_type, list):
                props['InstanceType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_type
                ]
            else:
                props['InstanceType'] = self.instance_type

        if self.market is not None:
            if hasattr(self.market, 'to_dict'):
                props['Market'] = self.market.to_dict()
            elif isinstance(self.market, list):
                props['Market'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.market
                ]
            else:
                props['Market'] = self.market

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        return props


@dataclass
class InstanceTypeConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    bid_price: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    bid_price_as_percentage_of_on_demand_price: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    configurations: Optional[list[Configuration]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    custom_ami_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ebs_configuration: Optional[EbsConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    instance_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    priority: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    weighted_capacity: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.bid_price is not None:
            if hasattr(self.bid_price, 'to_dict'):
                props['BidPrice'] = self.bid_price.to_dict()
            elif isinstance(self.bid_price, list):
                props['BidPrice'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.bid_price
                ]
            else:
                props['BidPrice'] = self.bid_price

        if self.bid_price_as_percentage_of_on_demand_price is not None:
            if hasattr(self.bid_price_as_percentage_of_on_demand_price, 'to_dict'):
                props['BidPriceAsPercentageOfOnDemandPrice'] = self.bid_price_as_percentage_of_on_demand_price.to_dict()
            elif isinstance(self.bid_price_as_percentage_of_on_demand_price, list):
                props['BidPriceAsPercentageOfOnDemandPrice'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.bid_price_as_percentage_of_on_demand_price
                ]
            else:
                props['BidPriceAsPercentageOfOnDemandPrice'] = self.bid_price_as_percentage_of_on_demand_price

        if self.configurations is not None:
            if hasattr(self.configurations, 'to_dict'):
                props['Configurations'] = self.configurations.to_dict()
            elif isinstance(self.configurations, list):
                props['Configurations'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configurations
                ]
            else:
                props['Configurations'] = self.configurations

        if self.custom_ami_id is not None:
            if hasattr(self.custom_ami_id, 'to_dict'):
                props['CustomAmiId'] = self.custom_ami_id.to_dict()
            elif isinstance(self.custom_ami_id, list):
                props['CustomAmiId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_ami_id
                ]
            else:
                props['CustomAmiId'] = self.custom_ami_id

        if self.ebs_configuration is not None:
            if hasattr(self.ebs_configuration, 'to_dict'):
                props['EbsConfiguration'] = self.ebs_configuration.to_dict()
            elif isinstance(self.ebs_configuration, list):
                props['EbsConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_configuration
                ]
            else:
                props['EbsConfiguration'] = self.ebs_configuration

        if self.instance_type is not None:
            if hasattr(self.instance_type, 'to_dict'):
                props['InstanceType'] = self.instance_type.to_dict()
            elif isinstance(self.instance_type, list):
                props['InstanceType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_type
                ]
            else:
                props['InstanceType'] = self.instance_type

        if self.priority is not None:
            if hasattr(self.priority, 'to_dict'):
                props['Priority'] = self.priority.to_dict()
            elif isinstance(self.priority, list):
                props['Priority'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.priority
                ]
            else:
                props['Priority'] = self.priority

        if self.weighted_capacity is not None:
            if hasattr(self.weighted_capacity, 'to_dict'):
                props['WeightedCapacity'] = self.weighted_capacity.to_dict()
            elif isinstance(self.weighted_capacity, list):
                props['WeightedCapacity'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.weighted_capacity
                ]
            else:
                props['WeightedCapacity'] = self.weighted_capacity

        return props


@dataclass
class JobFlowInstancesConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    additional_master_security_groups: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    additional_slave_security_groups: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    core_instance_fleet: Optional[InstanceFleetConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    core_instance_group: Optional[InstanceGroupConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ec2_key_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ec2_subnet_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ec2_subnet_ids: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    emr_managed_master_security_group: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    emr_managed_slave_security_group: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    hadoop_version: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    keep_job_flow_alive_when_no_steps: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    master_instance_fleet: Optional[InstanceFleetConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    master_instance_group: Optional[InstanceGroupConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    placement: Optional[PlacementType] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    service_access_security_group: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    task_instance_fleets: Optional[list[InstanceFleetConfig]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    task_instance_groups: Optional[list[InstanceGroupConfig]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    termination_protected: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    unhealthy_node_replacement: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.additional_master_security_groups is not None:
            if hasattr(self.additional_master_security_groups, 'to_dict'):
                props['AdditionalMasterSecurityGroups'] = self.additional_master_security_groups.to_dict()
            elif isinstance(self.additional_master_security_groups, list):
                props['AdditionalMasterSecurityGroups'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.additional_master_security_groups
                ]
            else:
                props['AdditionalMasterSecurityGroups'] = self.additional_master_security_groups

        if self.additional_slave_security_groups is not None:
            if hasattr(self.additional_slave_security_groups, 'to_dict'):
                props['AdditionalSlaveSecurityGroups'] = self.additional_slave_security_groups.to_dict()
            elif isinstance(self.additional_slave_security_groups, list):
                props['AdditionalSlaveSecurityGroups'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.additional_slave_security_groups
                ]
            else:
                props['AdditionalSlaveSecurityGroups'] = self.additional_slave_security_groups

        if self.core_instance_fleet is not None:
            if hasattr(self.core_instance_fleet, 'to_dict'):
                props['CoreInstanceFleet'] = self.core_instance_fleet.to_dict()
            elif isinstance(self.core_instance_fleet, list):
                props['CoreInstanceFleet'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.core_instance_fleet
                ]
            else:
                props['CoreInstanceFleet'] = self.core_instance_fleet

        if self.core_instance_group is not None:
            if hasattr(self.core_instance_group, 'to_dict'):
                props['CoreInstanceGroup'] = self.core_instance_group.to_dict()
            elif isinstance(self.core_instance_group, list):
                props['CoreInstanceGroup'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.core_instance_group
                ]
            else:
                props['CoreInstanceGroup'] = self.core_instance_group

        if self.ec2_key_name is not None:
            if hasattr(self.ec2_key_name, 'to_dict'):
                props['Ec2KeyName'] = self.ec2_key_name.to_dict()
            elif isinstance(self.ec2_key_name, list):
                props['Ec2KeyName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ec2_key_name
                ]
            else:
                props['Ec2KeyName'] = self.ec2_key_name

        if self.ec2_subnet_id is not None:
            if hasattr(self.ec2_subnet_id, 'to_dict'):
                props['Ec2SubnetId'] = self.ec2_subnet_id.to_dict()
            elif isinstance(self.ec2_subnet_id, list):
                props['Ec2SubnetId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ec2_subnet_id
                ]
            else:
                props['Ec2SubnetId'] = self.ec2_subnet_id

        if self.ec2_subnet_ids is not None:
            if hasattr(self.ec2_subnet_ids, 'to_dict'):
                props['Ec2SubnetIds'] = self.ec2_subnet_ids.to_dict()
            elif isinstance(self.ec2_subnet_ids, list):
                props['Ec2SubnetIds'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ec2_subnet_ids
                ]
            else:
                props['Ec2SubnetIds'] = self.ec2_subnet_ids

        if self.emr_managed_master_security_group is not None:
            if hasattr(self.emr_managed_master_security_group, 'to_dict'):
                props['EmrManagedMasterSecurityGroup'] = self.emr_managed_master_security_group.to_dict()
            elif isinstance(self.emr_managed_master_security_group, list):
                props['EmrManagedMasterSecurityGroup'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.emr_managed_master_security_group
                ]
            else:
                props['EmrManagedMasterSecurityGroup'] = self.emr_managed_master_security_group

        if self.emr_managed_slave_security_group is not None:
            if hasattr(self.emr_managed_slave_security_group, 'to_dict'):
                props['EmrManagedSlaveSecurityGroup'] = self.emr_managed_slave_security_group.to_dict()
            elif isinstance(self.emr_managed_slave_security_group, list):
                props['EmrManagedSlaveSecurityGroup'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.emr_managed_slave_security_group
                ]
            else:
                props['EmrManagedSlaveSecurityGroup'] = self.emr_managed_slave_security_group

        if self.hadoop_version is not None:
            if hasattr(self.hadoop_version, 'to_dict'):
                props['HadoopVersion'] = self.hadoop_version.to_dict()
            elif isinstance(self.hadoop_version, list):
                props['HadoopVersion'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.hadoop_version
                ]
            else:
                props['HadoopVersion'] = self.hadoop_version

        if self.keep_job_flow_alive_when_no_steps is not None:
            if hasattr(self.keep_job_flow_alive_when_no_steps, 'to_dict'):
                props['KeepJobFlowAliveWhenNoSteps'] = self.keep_job_flow_alive_when_no_steps.to_dict()
            elif isinstance(self.keep_job_flow_alive_when_no_steps, list):
                props['KeepJobFlowAliveWhenNoSteps'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.keep_job_flow_alive_when_no_steps
                ]
            else:
                props['KeepJobFlowAliveWhenNoSteps'] = self.keep_job_flow_alive_when_no_steps

        if self.master_instance_fleet is not None:
            if hasattr(self.master_instance_fleet, 'to_dict'):
                props['MasterInstanceFleet'] = self.master_instance_fleet.to_dict()
            elif isinstance(self.master_instance_fleet, list):
                props['MasterInstanceFleet'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.master_instance_fleet
                ]
            else:
                props['MasterInstanceFleet'] = self.master_instance_fleet

        if self.master_instance_group is not None:
            if hasattr(self.master_instance_group, 'to_dict'):
                props['MasterInstanceGroup'] = self.master_instance_group.to_dict()
            elif isinstance(self.master_instance_group, list):
                props['MasterInstanceGroup'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.master_instance_group
                ]
            else:
                props['MasterInstanceGroup'] = self.master_instance_group

        if self.placement is not None:
            if hasattr(self.placement, 'to_dict'):
                props['Placement'] = self.placement.to_dict()
            elif isinstance(self.placement, list):
                props['Placement'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.placement
                ]
            else:
                props['Placement'] = self.placement

        if self.service_access_security_group is not None:
            if hasattr(self.service_access_security_group, 'to_dict'):
                props['ServiceAccessSecurityGroup'] = self.service_access_security_group.to_dict()
            elif isinstance(self.service_access_security_group, list):
                props['ServiceAccessSecurityGroup'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.service_access_security_group
                ]
            else:
                props['ServiceAccessSecurityGroup'] = self.service_access_security_group

        if self.task_instance_fleets is not None:
            if hasattr(self.task_instance_fleets, 'to_dict'):
                props['TaskInstanceFleets'] = self.task_instance_fleets.to_dict()
            elif isinstance(self.task_instance_fleets, list):
                props['TaskInstanceFleets'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.task_instance_fleets
                ]
            else:
                props['TaskInstanceFleets'] = self.task_instance_fleets

        if self.task_instance_groups is not None:
            if hasattr(self.task_instance_groups, 'to_dict'):
                props['TaskInstanceGroups'] = self.task_instance_groups.to_dict()
            elif isinstance(self.task_instance_groups, list):
                props['TaskInstanceGroups'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.task_instance_groups
                ]
            else:
                props['TaskInstanceGroups'] = self.task_instance_groups

        if self.termination_protected is not None:
            if hasattr(self.termination_protected, 'to_dict'):
                props['TerminationProtected'] = self.termination_protected.to_dict()
            elif isinstance(self.termination_protected, list):
                props['TerminationProtected'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.termination_protected
                ]
            else:
                props['TerminationProtected'] = self.termination_protected

        if self.unhealthy_node_replacement is not None:
            if hasattr(self.unhealthy_node_replacement, 'to_dict'):
                props['UnhealthyNodeReplacement'] = self.unhealthy_node_replacement.to_dict()
            elif isinstance(self.unhealthy_node_replacement, list):
                props['UnhealthyNodeReplacement'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.unhealthy_node_replacement
                ]
            else:
                props['UnhealthyNodeReplacement'] = self.unhealthy_node_replacement

        return props


@dataclass
class KerberosAttributes:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ad_domain_join_password: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ad_domain_join_user: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    cross_realm_trust_principal_password: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    kdc_admin_password: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    realm: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.ad_domain_join_password is not None:
            if hasattr(self.ad_domain_join_password, 'to_dict'):
                props['ADDomainJoinPassword'] = self.ad_domain_join_password.to_dict()
            elif isinstance(self.ad_domain_join_password, list):
                props['ADDomainJoinPassword'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ad_domain_join_password
                ]
            else:
                props['ADDomainJoinPassword'] = self.ad_domain_join_password

        if self.ad_domain_join_user is not None:
            if hasattr(self.ad_domain_join_user, 'to_dict'):
                props['ADDomainJoinUser'] = self.ad_domain_join_user.to_dict()
            elif isinstance(self.ad_domain_join_user, list):
                props['ADDomainJoinUser'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ad_domain_join_user
                ]
            else:
                props['ADDomainJoinUser'] = self.ad_domain_join_user

        if self.cross_realm_trust_principal_password is not None:
            if hasattr(self.cross_realm_trust_principal_password, 'to_dict'):
                props['CrossRealmTrustPrincipalPassword'] = self.cross_realm_trust_principal_password.to_dict()
            elif isinstance(self.cross_realm_trust_principal_password, list):
                props['CrossRealmTrustPrincipalPassword'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.cross_realm_trust_principal_password
                ]
            else:
                props['CrossRealmTrustPrincipalPassword'] = self.cross_realm_trust_principal_password

        if self.kdc_admin_password is not None:
            if hasattr(self.kdc_admin_password, 'to_dict'):
                props['KdcAdminPassword'] = self.kdc_admin_password.to_dict()
            elif isinstance(self.kdc_admin_password, list):
                props['KdcAdminPassword'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.kdc_admin_password
                ]
            else:
                props['KdcAdminPassword'] = self.kdc_admin_password

        if self.realm is not None:
            if hasattr(self.realm, 'to_dict'):
                props['Realm'] = self.realm.to_dict()
            elif isinstance(self.realm, list):
                props['Realm'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.realm
                ]
            else:
                props['Realm'] = self.realm

        return props


@dataclass
class KeyValue:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.key is not None:
            if hasattr(self.key, 'to_dict'):
                props['Key'] = self.key.to_dict()
            elif isinstance(self.key, list):
                props['Key'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key
                ]
            else:
                props['Key'] = self.key

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        return props


@dataclass
class ManagedScalingPolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    compute_limits: Optional[ComputeLimits] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    scaling_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    utilization_performance_index: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.compute_limits is not None:
            if hasattr(self.compute_limits, 'to_dict'):
                props['ComputeLimits'] = self.compute_limits.to_dict()
            elif isinstance(self.compute_limits, list):
                props['ComputeLimits'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.compute_limits
                ]
            else:
                props['ComputeLimits'] = self.compute_limits

        if self.scaling_strategy is not None:
            if hasattr(self.scaling_strategy, 'to_dict'):
                props['ScalingStrategy'] = self.scaling_strategy.to_dict()
            elif isinstance(self.scaling_strategy, list):
                props['ScalingStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.scaling_strategy
                ]
            else:
                props['ScalingStrategy'] = self.scaling_strategy

        if self.utilization_performance_index is not None:
            if hasattr(self.utilization_performance_index, 'to_dict'):
                props['UtilizationPerformanceIndex'] = self.utilization_performance_index.to_dict()
            elif isinstance(self.utilization_performance_index, list):
                props['UtilizationPerformanceIndex'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.utilization_performance_index
                ]
            else:
                props['UtilizationPerformanceIndex'] = self.utilization_performance_index

        return props


@dataclass
class MetricDimension:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.key is not None:
            if hasattr(self.key, 'to_dict'):
                props['Key'] = self.key.to_dict()
            elif isinstance(self.key, list):
                props['Key'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key
                ]
            else:
                props['Key'] = self.key

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        return props


@dataclass
class OnDemandCapacityReservationOptions:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    capacity_reservation_preference: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    capacity_reservation_resource_group_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    usage_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.capacity_reservation_preference is not None:
            if hasattr(self.capacity_reservation_preference, 'to_dict'):
                props['CapacityReservationPreference'] = self.capacity_reservation_preference.to_dict()
            elif isinstance(self.capacity_reservation_preference, list):
                props['CapacityReservationPreference'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.capacity_reservation_preference
                ]
            else:
                props['CapacityReservationPreference'] = self.capacity_reservation_preference

        if self.capacity_reservation_resource_group_arn is not None:
            if hasattr(self.capacity_reservation_resource_group_arn, 'to_dict'):
                props['CapacityReservationResourceGroupArn'] = self.capacity_reservation_resource_group_arn.to_dict()
            elif isinstance(self.capacity_reservation_resource_group_arn, list):
                props['CapacityReservationResourceGroupArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.capacity_reservation_resource_group_arn
                ]
            else:
                props['CapacityReservationResourceGroupArn'] = self.capacity_reservation_resource_group_arn

        if self.usage_strategy is not None:
            if hasattr(self.usage_strategy, 'to_dict'):
                props['UsageStrategy'] = self.usage_strategy.to_dict()
            elif isinstance(self.usage_strategy, list):
                props['UsageStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.usage_strategy
                ]
            else:
                props['UsageStrategy'] = self.usage_strategy

        return props


@dataclass
class OnDemandProvisioningSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allocation_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    capacity_reservation_options: Optional[OnDemandCapacityReservationOptions] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allocation_strategy is not None:
            if hasattr(self.allocation_strategy, 'to_dict'):
                props['AllocationStrategy'] = self.allocation_strategy.to_dict()
            elif isinstance(self.allocation_strategy, list):
                props['AllocationStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allocation_strategy
                ]
            else:
                props['AllocationStrategy'] = self.allocation_strategy

        if self.capacity_reservation_options is not None:
            if hasattr(self.capacity_reservation_options, 'to_dict'):
                props['CapacityReservationOptions'] = self.capacity_reservation_options.to_dict()
            elif isinstance(self.capacity_reservation_options, list):
                props['CapacityReservationOptions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.capacity_reservation_options
                ]
            else:
                props['CapacityReservationOptions'] = self.capacity_reservation_options

        return props


@dataclass
class OnDemandResizingSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allocation_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    capacity_reservation_options: Optional[OnDemandCapacityReservationOptions] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout_duration_minutes: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allocation_strategy is not None:
            if hasattr(self.allocation_strategy, 'to_dict'):
                props['AllocationStrategy'] = self.allocation_strategy.to_dict()
            elif isinstance(self.allocation_strategy, list):
                props['AllocationStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allocation_strategy
                ]
            else:
                props['AllocationStrategy'] = self.allocation_strategy

        if self.capacity_reservation_options is not None:
            if hasattr(self.capacity_reservation_options, 'to_dict'):
                props['CapacityReservationOptions'] = self.capacity_reservation_options.to_dict()
            elif isinstance(self.capacity_reservation_options, list):
                props['CapacityReservationOptions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.capacity_reservation_options
                ]
            else:
                props['CapacityReservationOptions'] = self.capacity_reservation_options

        if self.timeout_duration_minutes is not None:
            if hasattr(self.timeout_duration_minutes, 'to_dict'):
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes.to_dict()
            elif isinstance(self.timeout_duration_minutes, list):
                props['TimeoutDurationMinutes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout_duration_minutes
                ]
            else:
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes

        return props


@dataclass
class PlacementGroupConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    instance_role: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    placement_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.instance_role is not None:
            if hasattr(self.instance_role, 'to_dict'):
                props['InstanceRole'] = self.instance_role.to_dict()
            elif isinstance(self.instance_role, list):
                props['InstanceRole'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_role
                ]
            else:
                props['InstanceRole'] = self.instance_role

        if self.placement_strategy is not None:
            if hasattr(self.placement_strategy, 'to_dict'):
                props['PlacementStrategy'] = self.placement_strategy.to_dict()
            elif isinstance(self.placement_strategy, list):
                props['PlacementStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.placement_strategy
                ]
            else:
                props['PlacementStrategy'] = self.placement_strategy

        return props


@dataclass
class PlacementType:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    availability_zone: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.availability_zone is not None:
            if hasattr(self.availability_zone, 'to_dict'):
                props['AvailabilityZone'] = self.availability_zone.to_dict()
            elif isinstance(self.availability_zone, list):
                props['AvailabilityZone'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.availability_zone
                ]
            else:
                props['AvailabilityZone'] = self.availability_zone

        return props


@dataclass
class ScalingAction:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    market: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    simple_scaling_policy_configuration: Optional[SimpleScalingPolicyConfiguration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.market is not None:
            if hasattr(self.market, 'to_dict'):
                props['Market'] = self.market.to_dict()
            elif isinstance(self.market, list):
                props['Market'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.market
                ]
            else:
                props['Market'] = self.market

        if self.simple_scaling_policy_configuration is not None:
            if hasattr(self.simple_scaling_policy_configuration, 'to_dict'):
                props['SimpleScalingPolicyConfiguration'] = self.simple_scaling_policy_configuration.to_dict()
            elif isinstance(self.simple_scaling_policy_configuration, list):
                props['SimpleScalingPolicyConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.simple_scaling_policy_configuration
                ]
            else:
                props['SimpleScalingPolicyConfiguration'] = self.simple_scaling_policy_configuration

        return props


@dataclass
class ScalingConstraints:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_capacity: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    min_capacity: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_capacity is not None:
            if hasattr(self.max_capacity, 'to_dict'):
                props['MaxCapacity'] = self.max_capacity.to_dict()
            elif isinstance(self.max_capacity, list):
                props['MaxCapacity'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_capacity
                ]
            else:
                props['MaxCapacity'] = self.max_capacity

        if self.min_capacity is not None:
            if hasattr(self.min_capacity, 'to_dict'):
                props['MinCapacity'] = self.min_capacity.to_dict()
            elif isinstance(self.min_capacity, list):
                props['MinCapacity'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.min_capacity
                ]
            else:
                props['MinCapacity'] = self.min_capacity

        return props


@dataclass
class ScalingRule:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    action: Optional[ScalingAction] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    trigger: Optional[ScalingTrigger] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.action is not None:
            if hasattr(self.action, 'to_dict'):
                props['Action'] = self.action.to_dict()
            elif isinstance(self.action, list):
                props['Action'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.action
                ]
            else:
                props['Action'] = self.action

        if self.description is not None:
            if hasattr(self.description, 'to_dict'):
                props['Description'] = self.description.to_dict()
            elif isinstance(self.description, list):
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props['Description'] = self.description

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.trigger is not None:
            if hasattr(self.trigger, 'to_dict'):
                props['Trigger'] = self.trigger.to_dict()
            elif isinstance(self.trigger, list):
                props['Trigger'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.trigger
                ]
            else:
                props['Trigger'] = self.trigger

        return props


@dataclass
class ScalingTrigger:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    cloud_watch_alarm_definition: Optional[CloudWatchAlarmDefinition] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.cloud_watch_alarm_definition is not None:
            if hasattr(self.cloud_watch_alarm_definition, 'to_dict'):
                props['CloudWatchAlarmDefinition'] = self.cloud_watch_alarm_definition.to_dict()
            elif isinstance(self.cloud_watch_alarm_definition, list):
                props['CloudWatchAlarmDefinition'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.cloud_watch_alarm_definition
                ]
            else:
                props['CloudWatchAlarmDefinition'] = self.cloud_watch_alarm_definition

        return props


@dataclass
class ScriptBootstrapActionConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    args: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    path: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.args is not None:
            if hasattr(self.args, 'to_dict'):
                props['Args'] = self.args.to_dict()
            elif isinstance(self.args, list):
                props['Args'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.args
                ]
            else:
                props['Args'] = self.args

        if self.path is not None:
            if hasattr(self.path, 'to_dict'):
                props['Path'] = self.path.to_dict()
            elif isinstance(self.path, list):
                props['Path'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.path
                ]
            else:
                props['Path'] = self.path

        return props


@dataclass
class SimpleScalingPolicyConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    adjustment_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    cool_down: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    scaling_adjustment: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.adjustment_type is not None:
            if hasattr(self.adjustment_type, 'to_dict'):
                props['AdjustmentType'] = self.adjustment_type.to_dict()
            elif isinstance(self.adjustment_type, list):
                props['AdjustmentType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.adjustment_type
                ]
            else:
                props['AdjustmentType'] = self.adjustment_type

        if self.cool_down is not None:
            if hasattr(self.cool_down, 'to_dict'):
                props['CoolDown'] = self.cool_down.to_dict()
            elif isinstance(self.cool_down, list):
                props['CoolDown'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.cool_down
                ]
            else:
                props['CoolDown'] = self.cool_down

        if self.scaling_adjustment is not None:
            if hasattr(self.scaling_adjustment, 'to_dict'):
                props['ScalingAdjustment'] = self.scaling_adjustment.to_dict()
            elif isinstance(self.scaling_adjustment, list):
                props['ScalingAdjustment'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.scaling_adjustment
                ]
            else:
                props['ScalingAdjustment'] = self.scaling_adjustment

        return props


@dataclass
class SpotProvisioningSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allocation_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    block_duration_minutes: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout_action: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout_duration_minutes: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allocation_strategy is not None:
            if hasattr(self.allocation_strategy, 'to_dict'):
                props['AllocationStrategy'] = self.allocation_strategy.to_dict()
            elif isinstance(self.allocation_strategy, list):
                props['AllocationStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allocation_strategy
                ]
            else:
                props['AllocationStrategy'] = self.allocation_strategy

        if self.block_duration_minutes is not None:
            if hasattr(self.block_duration_minutes, 'to_dict'):
                props['BlockDurationMinutes'] = self.block_duration_minutes.to_dict()
            elif isinstance(self.block_duration_minutes, list):
                props['BlockDurationMinutes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.block_duration_minutes
                ]
            else:
                props['BlockDurationMinutes'] = self.block_duration_minutes

        if self.timeout_action is not None:
            if hasattr(self.timeout_action, 'to_dict'):
                props['TimeoutAction'] = self.timeout_action.to_dict()
            elif isinstance(self.timeout_action, list):
                props['TimeoutAction'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout_action
                ]
            else:
                props['TimeoutAction'] = self.timeout_action

        if self.timeout_duration_minutes is not None:
            if hasattr(self.timeout_duration_minutes, 'to_dict'):
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes.to_dict()
            elif isinstance(self.timeout_duration_minutes, list):
                props['TimeoutDurationMinutes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout_duration_minutes
                ]
            else:
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes

        return props


@dataclass
class SpotResizingSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allocation_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout_duration_minutes: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allocation_strategy is not None:
            if hasattr(self.allocation_strategy, 'to_dict'):
                props['AllocationStrategy'] = self.allocation_strategy.to_dict()
            elif isinstance(self.allocation_strategy, list):
                props['AllocationStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allocation_strategy
                ]
            else:
                props['AllocationStrategy'] = self.allocation_strategy

        if self.timeout_duration_minutes is not None:
            if hasattr(self.timeout_duration_minutes, 'to_dict'):
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes.to_dict()
            elif isinstance(self.timeout_duration_minutes, list):
                props['TimeoutDurationMinutes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout_duration_minutes
                ]
            else:
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes

        return props


@dataclass
class StepConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    action_on_failure: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    hadoop_jar_step: Optional[HadoopJarStepConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.action_on_failure is not None:
            if hasattr(self.action_on_failure, 'to_dict'):
                props['ActionOnFailure'] = self.action_on_failure.to_dict()
            elif isinstance(self.action_on_failure, list):
                props['ActionOnFailure'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.action_on_failure
                ]
            else:
                props['ActionOnFailure'] = self.action_on_failure

        if self.hadoop_jar_step is not None:
            if hasattr(self.hadoop_jar_step, 'to_dict'):
                props['HadoopJarStep'] = self.hadoop_jar_step.to_dict()
            elif isinstance(self.hadoop_jar_step, list):
                props['HadoopJarStep'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.hadoop_jar_step
                ]
            else:
                props['HadoopJarStep'] = self.hadoop_jar_step

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        return props


@dataclass
class VolumeSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    iops: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    size_in_gb: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    throughput: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volume_type: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.iops is not None:
            if hasattr(self.iops, 'to_dict'):
                props['Iops'] = self.iops.to_dict()
            elif isinstance(self.iops, list):
                props['Iops'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.iops
                ]
            else:
                props['Iops'] = self.iops

        if self.size_in_gb is not None:
            if hasattr(self.size_in_gb, 'to_dict'):
                props['SizeInGB'] = self.size_in_gb.to_dict()
            elif isinstance(self.size_in_gb, list):
                props['SizeInGB'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.size_in_gb
                ]
            else:
                props['SizeInGB'] = self.size_in_gb

        if self.throughput is not None:
            if hasattr(self.throughput, 'to_dict'):
                props['Throughput'] = self.throughput.to_dict()
            elif isinstance(self.throughput, list):
                props['Throughput'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.throughput
                ]
            else:
                props['Throughput'] = self.throughput

        if self.volume_type is not None:
            if hasattr(self.volume_type, 'to_dict'):
                props['VolumeType'] = self.volume_type.to_dict()
            elif isinstance(self.volume_type, list):
                props['VolumeType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volume_type
                ]
            else:
                props['VolumeType'] = self.volume_type

        return props


@dataclass
class Cluster(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elast"""

    resource_type: ClassVar[str] = "AWS::EMR::Cluster"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    additional_info: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    applications: Optional[list[Application]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    auto_scaling_role: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    auto_termination_policy: Optional[AutoTerminationPolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    bootstrap_actions: Optional[list[BootstrapActionConfig]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    configurations: Optional[list[Configuration]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    custom_ami_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ebs_root_volume_iops: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ebs_root_volume_size: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ebs_root_volume_throughput: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    instances: Optional[JobFlowInstancesConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    job_flow_role: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    kerberos_attributes: Optional[KerberosAttributes] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    log_encryption_kms_key_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    log_uri: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    managed_scaling_policy: Optional[ManagedScalingPolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    os_release_label: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    placement_group_configs: Optional[list[PlacementGroupConfig]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    release_label: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    scale_down_behavior: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    security_configuration: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    service_role: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    step_concurrency_level: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    steps: Optional[list[StepConfig]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    visible_to_all_users: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.additional_info is not None:
            # Serialize additional_info (handle intrinsic functions)
            if hasattr(self.additional_info, 'to_dict'):
                props["AdditionalInfo"] = self.additional_info.to_dict()
            elif isinstance(self.additional_info, list):
                # Serialize list items (may contain intrinsic functions)
                props['AdditionalInfo'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.additional_info
                ]
            else:
                props["AdditionalInfo"] = self.additional_info

        if self.applications is not None:
            # Serialize applications (handle intrinsic functions)
            if hasattr(self.applications, 'to_dict'):
                props["Applications"] = self.applications.to_dict()
            elif isinstance(self.applications, list):
                # Serialize list items (may contain intrinsic functions)
                props['Applications'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.applications
                ]
            else:
                props["Applications"] = self.applications

        if self.auto_scaling_role is not None:
            # Serialize auto_scaling_role (handle intrinsic functions)
            if hasattr(self.auto_scaling_role, 'to_dict'):
                props["AutoScalingRole"] = self.auto_scaling_role.to_dict()
            elif isinstance(self.auto_scaling_role, list):
                # Serialize list items (may contain intrinsic functions)
                props['AutoScalingRole'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auto_scaling_role
                ]
            else:
                props["AutoScalingRole"] = self.auto_scaling_role

        if self.auto_termination_policy is not None:
            # Serialize auto_termination_policy (handle intrinsic functions)
            if hasattr(self.auto_termination_policy, 'to_dict'):
                props["AutoTerminationPolicy"] = self.auto_termination_policy.to_dict()
            elif isinstance(self.auto_termination_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['AutoTerminationPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auto_termination_policy
                ]
            else:
                props["AutoTerminationPolicy"] = self.auto_termination_policy

        if self.bootstrap_actions is not None:
            # Serialize bootstrap_actions (handle intrinsic functions)
            if hasattr(self.bootstrap_actions, 'to_dict'):
                props["BootstrapActions"] = self.bootstrap_actions.to_dict()
            elif isinstance(self.bootstrap_actions, list):
                # Serialize list items (may contain intrinsic functions)
                props['BootstrapActions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.bootstrap_actions
                ]
            else:
                props["BootstrapActions"] = self.bootstrap_actions

        if self.configurations is not None:
            # Serialize configurations (handle intrinsic functions)
            if hasattr(self.configurations, 'to_dict'):
                props["Configurations"] = self.configurations.to_dict()
            elif isinstance(self.configurations, list):
                # Serialize list items (may contain intrinsic functions)
                props['Configurations'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configurations
                ]
            else:
                props["Configurations"] = self.configurations

        if self.custom_ami_id is not None:
            # Serialize custom_ami_id (handle intrinsic functions)
            if hasattr(self.custom_ami_id, 'to_dict'):
                props["CustomAmiId"] = self.custom_ami_id.to_dict()
            elif isinstance(self.custom_ami_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['CustomAmiId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_ami_id
                ]
            else:
                props["CustomAmiId"] = self.custom_ami_id

        if self.ebs_root_volume_iops is not None:
            # Serialize ebs_root_volume_iops (handle intrinsic functions)
            if hasattr(self.ebs_root_volume_iops, 'to_dict'):
                props["EbsRootVolumeIops"] = self.ebs_root_volume_iops.to_dict()
            elif isinstance(self.ebs_root_volume_iops, list):
                # Serialize list items (may contain intrinsic functions)
                props['EbsRootVolumeIops'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_root_volume_iops
                ]
            else:
                props["EbsRootVolumeIops"] = self.ebs_root_volume_iops

        if self.ebs_root_volume_size is not None:
            # Serialize ebs_root_volume_size (handle intrinsic functions)
            if hasattr(self.ebs_root_volume_size, 'to_dict'):
                props["EbsRootVolumeSize"] = self.ebs_root_volume_size.to_dict()
            elif isinstance(self.ebs_root_volume_size, list):
                # Serialize list items (may contain intrinsic functions)
                props['EbsRootVolumeSize'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_root_volume_size
                ]
            else:
                props["EbsRootVolumeSize"] = self.ebs_root_volume_size

        if self.ebs_root_volume_throughput is not None:
            # Serialize ebs_root_volume_throughput (handle intrinsic functions)
            if hasattr(self.ebs_root_volume_throughput, 'to_dict'):
                props["EbsRootVolumeThroughput"] = self.ebs_root_volume_throughput.to_dict()
            elif isinstance(self.ebs_root_volume_throughput, list):
                # Serialize list items (may contain intrinsic functions)
                props['EbsRootVolumeThroughput'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_root_volume_throughput
                ]
            else:
                props["EbsRootVolumeThroughput"] = self.ebs_root_volume_throughput

        if self.instances is not None:
            # Serialize instances (handle intrinsic functions)
            if hasattr(self.instances, 'to_dict'):
                props["Instances"] = self.instances.to_dict()
            elif isinstance(self.instances, list):
                # Serialize list items (may contain intrinsic functions)
                props['Instances'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instances
                ]
            else:
                props["Instances"] = self.instances

        if self.job_flow_role is not None:
            # Serialize job_flow_role (handle intrinsic functions)
            if hasattr(self.job_flow_role, 'to_dict'):
                props["JobFlowRole"] = self.job_flow_role.to_dict()
            elif isinstance(self.job_flow_role, list):
                # Serialize list items (may contain intrinsic functions)
                props['JobFlowRole'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.job_flow_role
                ]
            else:
                props["JobFlowRole"] = self.job_flow_role

        if self.kerberos_attributes is not None:
            # Serialize kerberos_attributes (handle intrinsic functions)
            if hasattr(self.kerberos_attributes, 'to_dict'):
                props["KerberosAttributes"] = self.kerberos_attributes.to_dict()
            elif isinstance(self.kerberos_attributes, list):
                # Serialize list items (may contain intrinsic functions)
                props['KerberosAttributes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.kerberos_attributes
                ]
            else:
                props["KerberosAttributes"] = self.kerberos_attributes

        if self.log_encryption_kms_key_id is not None:
            # Serialize log_encryption_kms_key_id (handle intrinsic functions)
            if hasattr(self.log_encryption_kms_key_id, 'to_dict'):
                props["LogEncryptionKmsKeyId"] = self.log_encryption_kms_key_id.to_dict()
            elif isinstance(self.log_encryption_kms_key_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['LogEncryptionKmsKeyId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.log_encryption_kms_key_id
                ]
            else:
                props["LogEncryptionKmsKeyId"] = self.log_encryption_kms_key_id

        if self.log_uri is not None:
            # Serialize log_uri (handle intrinsic functions)
            if hasattr(self.log_uri, 'to_dict'):
                props["LogUri"] = self.log_uri.to_dict()
            elif isinstance(self.log_uri, list):
                # Serialize list items (may contain intrinsic functions)
                props['LogUri'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.log_uri
                ]
            else:
                props["LogUri"] = self.log_uri

        if self.managed_scaling_policy is not None:
            # Serialize managed_scaling_policy (handle intrinsic functions)
            if hasattr(self.managed_scaling_policy, 'to_dict'):
                props["ManagedScalingPolicy"] = self.managed_scaling_policy.to_dict()
            elif isinstance(self.managed_scaling_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['ManagedScalingPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.managed_scaling_policy
                ]
            else:
                props["ManagedScalingPolicy"] = self.managed_scaling_policy

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        if self.os_release_label is not None:
            # Serialize os_release_label (handle intrinsic functions)
            if hasattr(self.os_release_label, 'to_dict'):
                props["OSReleaseLabel"] = self.os_release_label.to_dict()
            elif isinstance(self.os_release_label, list):
                # Serialize list items (may contain intrinsic functions)
                props['OSReleaseLabel'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.os_release_label
                ]
            else:
                props["OSReleaseLabel"] = self.os_release_label

        if self.placement_group_configs is not None:
            # Serialize placement_group_configs (handle intrinsic functions)
            if hasattr(self.placement_group_configs, 'to_dict'):
                props["PlacementGroupConfigs"] = self.placement_group_configs.to_dict()
            elif isinstance(self.placement_group_configs, list):
                # Serialize list items (may contain intrinsic functions)
                props['PlacementGroupConfigs'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.placement_group_configs
                ]
            else:
                props["PlacementGroupConfigs"] = self.placement_group_configs

        if self.release_label is not None:
            # Serialize release_label (handle intrinsic functions)
            if hasattr(self.release_label, 'to_dict'):
                props["ReleaseLabel"] = self.release_label.to_dict()
            elif isinstance(self.release_label, list):
                # Serialize list items (may contain intrinsic functions)
                props['ReleaseLabel'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.release_label
                ]
            else:
                props["ReleaseLabel"] = self.release_label

        if self.scale_down_behavior is not None:
            # Serialize scale_down_behavior (handle intrinsic functions)
            if hasattr(self.scale_down_behavior, 'to_dict'):
                props["ScaleDownBehavior"] = self.scale_down_behavior.to_dict()
            elif isinstance(self.scale_down_behavior, list):
                # Serialize list items (may contain intrinsic functions)
                props['ScaleDownBehavior'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.scale_down_behavior
                ]
            else:
                props["ScaleDownBehavior"] = self.scale_down_behavior

        if self.security_configuration is not None:
            # Serialize security_configuration (handle intrinsic functions)
            if hasattr(self.security_configuration, 'to_dict'):
                props["SecurityConfiguration"] = self.security_configuration.to_dict()
            elif isinstance(self.security_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['SecurityConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.security_configuration
                ]
            else:
                props["SecurityConfiguration"] = self.security_configuration

        if self.service_role is not None:
            # Serialize service_role (handle intrinsic functions)
            if hasattr(self.service_role, 'to_dict'):
                props["ServiceRole"] = self.service_role.to_dict()
            elif isinstance(self.service_role, list):
                # Serialize list items (may contain intrinsic functions)
                props['ServiceRole'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.service_role
                ]
            else:
                props["ServiceRole"] = self.service_role

        if self.step_concurrency_level is not None:
            # Serialize step_concurrency_level (handle intrinsic functions)
            if hasattr(self.step_concurrency_level, 'to_dict'):
                props["StepConcurrencyLevel"] = self.step_concurrency_level.to_dict()
            elif isinstance(self.step_concurrency_level, list):
                # Serialize list items (may contain intrinsic functions)
                props['StepConcurrencyLevel'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.step_concurrency_level
                ]
            else:
                props["StepConcurrencyLevel"] = self.step_concurrency_level

        if self.steps is not None:
            # Serialize steps (handle intrinsic functions)
            if hasattr(self.steps, 'to_dict'):
                props["Steps"] = self.steps.to_dict()
            elif isinstance(self.steps, list):
                # Serialize list items (may contain intrinsic functions)
                props['Steps'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.steps
                ]
            else:
                props["Steps"] = self.steps

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.visible_to_all_users is not None:
            # Serialize visible_to_all_users (handle intrinsic functions)
            if hasattr(self.visible_to_all_users, 'to_dict'):
                props["VisibleToAllUsers"] = self.visible_to_all_users.to_dict()
            elif isinstance(self.visible_to_all_users, list):
                # Serialize list items (may contain intrinsic functions)
                props['VisibleToAllUsers'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.visible_to_all_users
                ]
            else:
                props["VisibleToAllUsers"] = self.visible_to_all_users

        return props

    @property
    def attr_master_public_dns(self) -> GetAtt:
        """Get the MasterPublicDNS attribute."""
        return self.get_att("MasterPublicDNS")




@dataclass
class Configuration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    classification: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    configuration_properties: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    configurations: Optional[list[Configuration]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.classification is not None:
            if hasattr(self.classification, 'to_dict'):
                props['Classification'] = self.classification.to_dict()
            elif isinstance(self.classification, list):
                props['Classification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.classification
                ]
            else:
                props['Classification'] = self.classification

        if self.configuration_properties is not None:
            if hasattr(self.configuration_properties, 'to_dict'):
                props['ConfigurationProperties'] = self.configuration_properties.to_dict()
            elif isinstance(self.configuration_properties, list):
                props['ConfigurationProperties'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configuration_properties
                ]
            else:
                props['ConfigurationProperties'] = self.configuration_properties

        if self.configurations is not None:
            if hasattr(self.configurations, 'to_dict'):
                props['Configurations'] = self.configurations.to_dict()
            elif isinstance(self.configurations, list):
                props['Configurations'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configurations
                ]
            else:
                props['Configurations'] = self.configurations

        return props


@dataclass
class EbsBlockDeviceConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volume_specification: Optional[VolumeSpecification] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volumes_per_instance: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.volume_specification is not None:
            if hasattr(self.volume_specification, 'to_dict'):
                props['VolumeSpecification'] = self.volume_specification.to_dict()
            elif isinstance(self.volume_specification, list):
                props['VolumeSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volume_specification
                ]
            else:
                props['VolumeSpecification'] = self.volume_specification

        if self.volumes_per_instance is not None:
            if hasattr(self.volumes_per_instance, 'to_dict'):
                props['VolumesPerInstance'] = self.volumes_per_instance.to_dict()
            elif isinstance(self.volumes_per_instance, list):
                props['VolumesPerInstance'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volumes_per_instance
                ]
            else:
                props['VolumesPerInstance'] = self.volumes_per_instance

        return props


@dataclass
class EbsConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ebs_block_device_configs: Optional[list[EbsBlockDeviceConfig]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ebs_optimized: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.ebs_block_device_configs is not None:
            if hasattr(self.ebs_block_device_configs, 'to_dict'):
                props['EbsBlockDeviceConfigs'] = self.ebs_block_device_configs.to_dict()
            elif isinstance(self.ebs_block_device_configs, list):
                props['EbsBlockDeviceConfigs'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_block_device_configs
                ]
            else:
                props['EbsBlockDeviceConfigs'] = self.ebs_block_device_configs

        if self.ebs_optimized is not None:
            if hasattr(self.ebs_optimized, 'to_dict'):
                props['EbsOptimized'] = self.ebs_optimized.to_dict()
            elif isinstance(self.ebs_optimized, list):
                props['EbsOptimized'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_optimized
                ]
            else:
                props['EbsOptimized'] = self.ebs_optimized

        return props


@dataclass
class InstanceFleetProvisioningSpecifications:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    on_demand_specification: Optional[OnDemandProvisioningSpecification] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    spot_specification: Optional[SpotProvisioningSpecification] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.on_demand_specification is not None:
            if hasattr(self.on_demand_specification, 'to_dict'):
                props['OnDemandSpecification'] = self.on_demand_specification.to_dict()
            elif isinstance(self.on_demand_specification, list):
                props['OnDemandSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.on_demand_specification
                ]
            else:
                props['OnDemandSpecification'] = self.on_demand_specification

        if self.spot_specification is not None:
            if hasattr(self.spot_specification, 'to_dict'):
                props['SpotSpecification'] = self.spot_specification.to_dict()
            elif isinstance(self.spot_specification, list):
                props['SpotSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spot_specification
                ]
            else:
                props['SpotSpecification'] = self.spot_specification

        return props


@dataclass
class InstanceFleetResizingSpecifications:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    on_demand_resize_specification: Optional[OnDemandResizingSpecification] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    spot_resize_specification: Optional[SpotResizingSpecification] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.on_demand_resize_specification is not None:
            if hasattr(self.on_demand_resize_specification, 'to_dict'):
                props['OnDemandResizeSpecification'] = self.on_demand_resize_specification.to_dict()
            elif isinstance(self.on_demand_resize_specification, list):
                props['OnDemandResizeSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.on_demand_resize_specification
                ]
            else:
                props['OnDemandResizeSpecification'] = self.on_demand_resize_specification

        if self.spot_resize_specification is not None:
            if hasattr(self.spot_resize_specification, 'to_dict'):
                props['SpotResizeSpecification'] = self.spot_resize_specification.to_dict()
            elif isinstance(self.spot_resize_specification, list):
                props['SpotResizeSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spot_resize_specification
                ]
            else:
                props['SpotResizeSpecification'] = self.spot_resize_specification

        return props


@dataclass
class InstanceTypeConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    bid_price: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    bid_price_as_percentage_of_on_demand_price: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    configurations: Optional[list[Configuration]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    custom_ami_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ebs_configuration: Optional[EbsConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    instance_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    priority: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    weighted_capacity: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.bid_price is not None:
            if hasattr(self.bid_price, 'to_dict'):
                props['BidPrice'] = self.bid_price.to_dict()
            elif isinstance(self.bid_price, list):
                props['BidPrice'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.bid_price
                ]
            else:
                props['BidPrice'] = self.bid_price

        if self.bid_price_as_percentage_of_on_demand_price is not None:
            if hasattr(self.bid_price_as_percentage_of_on_demand_price, 'to_dict'):
                props['BidPriceAsPercentageOfOnDemandPrice'] = self.bid_price_as_percentage_of_on_demand_price.to_dict()
            elif isinstance(self.bid_price_as_percentage_of_on_demand_price, list):
                props['BidPriceAsPercentageOfOnDemandPrice'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.bid_price_as_percentage_of_on_demand_price
                ]
            else:
                props['BidPriceAsPercentageOfOnDemandPrice'] = self.bid_price_as_percentage_of_on_demand_price

        if self.configurations is not None:
            if hasattr(self.configurations, 'to_dict'):
                props['Configurations'] = self.configurations.to_dict()
            elif isinstance(self.configurations, list):
                props['Configurations'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configurations
                ]
            else:
                props['Configurations'] = self.configurations

        if self.custom_ami_id is not None:
            if hasattr(self.custom_ami_id, 'to_dict'):
                props['CustomAmiId'] = self.custom_ami_id.to_dict()
            elif isinstance(self.custom_ami_id, list):
                props['CustomAmiId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_ami_id
                ]
            else:
                props['CustomAmiId'] = self.custom_ami_id

        if self.ebs_configuration is not None:
            if hasattr(self.ebs_configuration, 'to_dict'):
                props['EbsConfiguration'] = self.ebs_configuration.to_dict()
            elif isinstance(self.ebs_configuration, list):
                props['EbsConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_configuration
                ]
            else:
                props['EbsConfiguration'] = self.ebs_configuration

        if self.instance_type is not None:
            if hasattr(self.instance_type, 'to_dict'):
                props['InstanceType'] = self.instance_type.to_dict()
            elif isinstance(self.instance_type, list):
                props['InstanceType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_type
                ]
            else:
                props['InstanceType'] = self.instance_type

        if self.priority is not None:
            if hasattr(self.priority, 'to_dict'):
                props['Priority'] = self.priority.to_dict()
            elif isinstance(self.priority, list):
                props['Priority'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.priority
                ]
            else:
                props['Priority'] = self.priority

        if self.weighted_capacity is not None:
            if hasattr(self.weighted_capacity, 'to_dict'):
                props['WeightedCapacity'] = self.weighted_capacity.to_dict()
            elif isinstance(self.weighted_capacity, list):
                props['WeightedCapacity'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.weighted_capacity
                ]
            else:
                props['WeightedCapacity'] = self.weighted_capacity

        return props


@dataclass
class OnDemandCapacityReservationOptions:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    capacity_reservation_preference: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    capacity_reservation_resource_group_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    usage_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.capacity_reservation_preference is not None:
            if hasattr(self.capacity_reservation_preference, 'to_dict'):
                props['CapacityReservationPreference'] = self.capacity_reservation_preference.to_dict()
            elif isinstance(self.capacity_reservation_preference, list):
                props['CapacityReservationPreference'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.capacity_reservation_preference
                ]
            else:
                props['CapacityReservationPreference'] = self.capacity_reservation_preference

        if self.capacity_reservation_resource_group_arn is not None:
            if hasattr(self.capacity_reservation_resource_group_arn, 'to_dict'):
                props['CapacityReservationResourceGroupArn'] = self.capacity_reservation_resource_group_arn.to_dict()
            elif isinstance(self.capacity_reservation_resource_group_arn, list):
                props['CapacityReservationResourceGroupArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.capacity_reservation_resource_group_arn
                ]
            else:
                props['CapacityReservationResourceGroupArn'] = self.capacity_reservation_resource_group_arn

        if self.usage_strategy is not None:
            if hasattr(self.usage_strategy, 'to_dict'):
                props['UsageStrategy'] = self.usage_strategy.to_dict()
            elif isinstance(self.usage_strategy, list):
                props['UsageStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.usage_strategy
                ]
            else:
                props['UsageStrategy'] = self.usage_strategy

        return props


@dataclass
class OnDemandProvisioningSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allocation_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    capacity_reservation_options: Optional[OnDemandCapacityReservationOptions] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allocation_strategy is not None:
            if hasattr(self.allocation_strategy, 'to_dict'):
                props['AllocationStrategy'] = self.allocation_strategy.to_dict()
            elif isinstance(self.allocation_strategy, list):
                props['AllocationStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allocation_strategy
                ]
            else:
                props['AllocationStrategy'] = self.allocation_strategy

        if self.capacity_reservation_options is not None:
            if hasattr(self.capacity_reservation_options, 'to_dict'):
                props['CapacityReservationOptions'] = self.capacity_reservation_options.to_dict()
            elif isinstance(self.capacity_reservation_options, list):
                props['CapacityReservationOptions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.capacity_reservation_options
                ]
            else:
                props['CapacityReservationOptions'] = self.capacity_reservation_options

        return props


@dataclass
class OnDemandResizingSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allocation_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    capacity_reservation_options: Optional[OnDemandCapacityReservationOptions] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout_duration_minutes: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allocation_strategy is not None:
            if hasattr(self.allocation_strategy, 'to_dict'):
                props['AllocationStrategy'] = self.allocation_strategy.to_dict()
            elif isinstance(self.allocation_strategy, list):
                props['AllocationStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allocation_strategy
                ]
            else:
                props['AllocationStrategy'] = self.allocation_strategy

        if self.capacity_reservation_options is not None:
            if hasattr(self.capacity_reservation_options, 'to_dict'):
                props['CapacityReservationOptions'] = self.capacity_reservation_options.to_dict()
            elif isinstance(self.capacity_reservation_options, list):
                props['CapacityReservationOptions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.capacity_reservation_options
                ]
            else:
                props['CapacityReservationOptions'] = self.capacity_reservation_options

        if self.timeout_duration_minutes is not None:
            if hasattr(self.timeout_duration_minutes, 'to_dict'):
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes.to_dict()
            elif isinstance(self.timeout_duration_minutes, list):
                props['TimeoutDurationMinutes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout_duration_minutes
                ]
            else:
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes

        return props


@dataclass
class SpotProvisioningSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allocation_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    block_duration_minutes: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout_action: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout_duration_minutes: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allocation_strategy is not None:
            if hasattr(self.allocation_strategy, 'to_dict'):
                props['AllocationStrategy'] = self.allocation_strategy.to_dict()
            elif isinstance(self.allocation_strategy, list):
                props['AllocationStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allocation_strategy
                ]
            else:
                props['AllocationStrategy'] = self.allocation_strategy

        if self.block_duration_minutes is not None:
            if hasattr(self.block_duration_minutes, 'to_dict'):
                props['BlockDurationMinutes'] = self.block_duration_minutes.to_dict()
            elif isinstance(self.block_duration_minutes, list):
                props['BlockDurationMinutes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.block_duration_minutes
                ]
            else:
                props['BlockDurationMinutes'] = self.block_duration_minutes

        if self.timeout_action is not None:
            if hasattr(self.timeout_action, 'to_dict'):
                props['TimeoutAction'] = self.timeout_action.to_dict()
            elif isinstance(self.timeout_action, list):
                props['TimeoutAction'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout_action
                ]
            else:
                props['TimeoutAction'] = self.timeout_action

        if self.timeout_duration_minutes is not None:
            if hasattr(self.timeout_duration_minutes, 'to_dict'):
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes.to_dict()
            elif isinstance(self.timeout_duration_minutes, list):
                props['TimeoutDurationMinutes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout_duration_minutes
                ]
            else:
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes

        return props


@dataclass
class SpotResizingSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allocation_strategy: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout_duration_minutes: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allocation_strategy is not None:
            if hasattr(self.allocation_strategy, 'to_dict'):
                props['AllocationStrategy'] = self.allocation_strategy.to_dict()
            elif isinstance(self.allocation_strategy, list):
                props['AllocationStrategy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allocation_strategy
                ]
            else:
                props['AllocationStrategy'] = self.allocation_strategy

        if self.timeout_duration_minutes is not None:
            if hasattr(self.timeout_duration_minutes, 'to_dict'):
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes.to_dict()
            elif isinstance(self.timeout_duration_minutes, list):
                props['TimeoutDurationMinutes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout_duration_minutes
                ]
            else:
                props['TimeoutDurationMinutes'] = self.timeout_duration_minutes

        return props


@dataclass
class VolumeSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    iops: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    size_in_gb: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    throughput: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volume_type: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.iops is not None:
            if hasattr(self.iops, 'to_dict'):
                props['Iops'] = self.iops.to_dict()
            elif isinstance(self.iops, list):
                props['Iops'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.iops
                ]
            else:
                props['Iops'] = self.iops

        if self.size_in_gb is not None:
            if hasattr(self.size_in_gb, 'to_dict'):
                props['SizeInGB'] = self.size_in_gb.to_dict()
            elif isinstance(self.size_in_gb, list):
                props['SizeInGB'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.size_in_gb
                ]
            else:
                props['SizeInGB'] = self.size_in_gb

        if self.throughput is not None:
            if hasattr(self.throughput, 'to_dict'):
                props['Throughput'] = self.throughput.to_dict()
            elif isinstance(self.throughput, list):
                props['Throughput'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.throughput
                ]
            else:
                props['Throughput'] = self.throughput

        if self.volume_type is not None:
            if hasattr(self.volume_type, 'to_dict'):
                props['VolumeType'] = self.volume_type.to_dict()
            elif isinstance(self.volume_type, list):
                props['VolumeType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volume_type
                ]
            else:
                props['VolumeType'] = self.volume_type

        return props


@dataclass
class InstanceFleetConfig(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elast"""

    resource_type: ClassVar[str] = "AWS::EMR::InstanceFleetConfig"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    cluster_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    instance_fleet_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    instance_type_configs: Optional[list[InstanceTypeConfig]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    launch_specifications: Optional[InstanceFleetProvisioningSpecifications] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    resize_specifications: Optional[InstanceFleetResizingSpecifications] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    target_on_demand_capacity: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    target_spot_capacity: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.cluster_id is not None:
            # Serialize cluster_id (handle intrinsic functions)
            if hasattr(self.cluster_id, 'to_dict'):
                props["ClusterId"] = self.cluster_id.to_dict()
            elif isinstance(self.cluster_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['ClusterId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.cluster_id
                ]
            else:
                props["ClusterId"] = self.cluster_id

        if self.instance_fleet_type is not None:
            # Serialize instance_fleet_type (handle intrinsic functions)
            if hasattr(self.instance_fleet_type, 'to_dict'):
                props["InstanceFleetType"] = self.instance_fleet_type.to_dict()
            elif isinstance(self.instance_fleet_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['InstanceFleetType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_fleet_type
                ]
            else:
                props["InstanceFleetType"] = self.instance_fleet_type

        if self.instance_type_configs is not None:
            # Serialize instance_type_configs (handle intrinsic functions)
            if hasattr(self.instance_type_configs, 'to_dict'):
                props["InstanceTypeConfigs"] = self.instance_type_configs.to_dict()
            elif isinstance(self.instance_type_configs, list):
                # Serialize list items (may contain intrinsic functions)
                props['InstanceTypeConfigs'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_type_configs
                ]
            else:
                props["InstanceTypeConfigs"] = self.instance_type_configs

        if self.launch_specifications is not None:
            # Serialize launch_specifications (handle intrinsic functions)
            if hasattr(self.launch_specifications, 'to_dict'):
                props["LaunchSpecifications"] = self.launch_specifications.to_dict()
            elif isinstance(self.launch_specifications, list):
                # Serialize list items (may contain intrinsic functions)
                props['LaunchSpecifications'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.launch_specifications
                ]
            else:
                props["LaunchSpecifications"] = self.launch_specifications

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        if self.resize_specifications is not None:
            # Serialize resize_specifications (handle intrinsic functions)
            if hasattr(self.resize_specifications, 'to_dict'):
                props["ResizeSpecifications"] = self.resize_specifications.to_dict()
            elif isinstance(self.resize_specifications, list):
                # Serialize list items (may contain intrinsic functions)
                props['ResizeSpecifications'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.resize_specifications
                ]
            else:
                props["ResizeSpecifications"] = self.resize_specifications

        if self.target_on_demand_capacity is not None:
            # Serialize target_on_demand_capacity (handle intrinsic functions)
            if hasattr(self.target_on_demand_capacity, 'to_dict'):
                props["TargetOnDemandCapacity"] = self.target_on_demand_capacity.to_dict()
            elif isinstance(self.target_on_demand_capacity, list):
                # Serialize list items (may contain intrinsic functions)
                props['TargetOnDemandCapacity'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.target_on_demand_capacity
                ]
            else:
                props["TargetOnDemandCapacity"] = self.target_on_demand_capacity

        if self.target_spot_capacity is not None:
            # Serialize target_spot_capacity (handle intrinsic functions)
            if hasattr(self.target_spot_capacity, 'to_dict'):
                props["TargetSpotCapacity"] = self.target_spot_capacity.to_dict()
            elif isinstance(self.target_spot_capacity, list):
                # Serialize list items (may contain intrinsic functions)
                props['TargetSpotCapacity'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.target_spot_capacity
                ]
            else:
                props["TargetSpotCapacity"] = self.target_spot_capacity

        return props



@dataclass
class AutoScalingPolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    constraints: Optional[ScalingConstraints] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    rules: Optional[list[ScalingRule]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.constraints is not None:
            if hasattr(self.constraints, 'to_dict'):
                props['Constraints'] = self.constraints.to_dict()
            elif isinstance(self.constraints, list):
                props['Constraints'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.constraints
                ]
            else:
                props['Constraints'] = self.constraints

        if self.rules is not None:
            if hasattr(self.rules, 'to_dict'):
                props['Rules'] = self.rules.to_dict()
            elif isinstance(self.rules, list):
                props['Rules'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.rules
                ]
            else:
                props['Rules'] = self.rules

        return props


@dataclass
class CloudWatchAlarmDefinition:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    comparison_operator: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    dimensions: Optional[list[MetricDimension]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    evaluation_periods: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    metric_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    namespace: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    period: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    statistic: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    threshold: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    unit: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.comparison_operator is not None:
            if hasattr(self.comparison_operator, 'to_dict'):
                props['ComparisonOperator'] = self.comparison_operator.to_dict()
            elif isinstance(self.comparison_operator, list):
                props['ComparisonOperator'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.comparison_operator
                ]
            else:
                props['ComparisonOperator'] = self.comparison_operator

        if self.dimensions is not None:
            if hasattr(self.dimensions, 'to_dict'):
                props['Dimensions'] = self.dimensions.to_dict()
            elif isinstance(self.dimensions, list):
                props['Dimensions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.dimensions
                ]
            else:
                props['Dimensions'] = self.dimensions

        if self.evaluation_periods is not None:
            if hasattr(self.evaluation_periods, 'to_dict'):
                props['EvaluationPeriods'] = self.evaluation_periods.to_dict()
            elif isinstance(self.evaluation_periods, list):
                props['EvaluationPeriods'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.evaluation_periods
                ]
            else:
                props['EvaluationPeriods'] = self.evaluation_periods

        if self.metric_name is not None:
            if hasattr(self.metric_name, 'to_dict'):
                props['MetricName'] = self.metric_name.to_dict()
            elif isinstance(self.metric_name, list):
                props['MetricName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.metric_name
                ]
            else:
                props['MetricName'] = self.metric_name

        if self.namespace is not None:
            if hasattr(self.namespace, 'to_dict'):
                props['Namespace'] = self.namespace.to_dict()
            elif isinstance(self.namespace, list):
                props['Namespace'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.namespace
                ]
            else:
                props['Namespace'] = self.namespace

        if self.period is not None:
            if hasattr(self.period, 'to_dict'):
                props['Period'] = self.period.to_dict()
            elif isinstance(self.period, list):
                props['Period'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.period
                ]
            else:
                props['Period'] = self.period

        if self.statistic is not None:
            if hasattr(self.statistic, 'to_dict'):
                props['Statistic'] = self.statistic.to_dict()
            elif isinstance(self.statistic, list):
                props['Statistic'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.statistic
                ]
            else:
                props['Statistic'] = self.statistic

        if self.threshold is not None:
            if hasattr(self.threshold, 'to_dict'):
                props['Threshold'] = self.threshold.to_dict()
            elif isinstance(self.threshold, list):
                props['Threshold'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.threshold
                ]
            else:
                props['Threshold'] = self.threshold

        if self.unit is not None:
            if hasattr(self.unit, 'to_dict'):
                props['Unit'] = self.unit.to_dict()
            elif isinstance(self.unit, list):
                props['Unit'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.unit
                ]
            else:
                props['Unit'] = self.unit

        return props


@dataclass
class Configuration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-emr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    classification: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    configuration_properties: Optional[dict[str, str]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    configurations: Optional[list[Configuration]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.classification is not None:
            if hasattr(self.classification, 'to_dict'):
                props['Classification'] = self.classification.to_dict()
            elif isinstance(self.classification, list):
                props['Classification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.classification
                ]
            else:
                props['Classification'] = self.classification

        if self.configuration_properties is not None:
            if hasattr(self.configuration_properties, 'to_dict'):
                props['ConfigurationProperties'] = self.configuration_properties.to_dict()
            elif isinstance(self.configuration_properties, list):
                props['ConfigurationProperties'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configuration_properties
                ]
            else:
                props['ConfigurationProperties'] = self.configuration_properties

        if self.configurations is not None:
            if hasattr(self.configurations, 'to_dict'):
                props['Configurations'] = self.configurations.to_dict()
            elif isinstance(self.configurations, list):
                props['Configurations'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configurations
                ]
            else:
                props['Configurations'] = self.configurations

        return props


@dataclass
class EbsBlockDeviceConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-emr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volume_specification: Optional[VolumeSpecification] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volumes_per_instance: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.volume_specification is not None:
            if hasattr(self.volume_specification, 'to_dict'):
                props['VolumeSpecification'] = self.volume_specification.to_dict()
            elif isinstance(self.volume_specification, list):
                props['VolumeSpecification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volume_specification
                ]
            else:
                props['VolumeSpecification'] = self.volume_specification

        if self.volumes_per_instance is not None:
            if hasattr(self.volumes_per_instance, 'to_dict'):
                props['VolumesPerInstance'] = self.volumes_per_instance.to_dict()
            elif isinstance(self.volumes_per_instance, list):
                props['VolumesPerInstance'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volumes_per_instance
                ]
            else:
                props['VolumesPerInstance'] = self.volumes_per_instance

        return props


@dataclass
class EbsConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-emr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ebs_block_device_configs: Optional[list[EbsBlockDeviceConfig]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ebs_optimized: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.ebs_block_device_configs is not None:
            if hasattr(self.ebs_block_device_configs, 'to_dict'):
                props['EbsBlockDeviceConfigs'] = self.ebs_block_device_configs.to_dict()
            elif isinstance(self.ebs_block_device_configs, list):
                props['EbsBlockDeviceConfigs'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_block_device_configs
                ]
            else:
                props['EbsBlockDeviceConfigs'] = self.ebs_block_device_configs

        if self.ebs_optimized is not None:
            if hasattr(self.ebs_optimized, 'to_dict'):
                props['EbsOptimized'] = self.ebs_optimized.to_dict()
            elif isinstance(self.ebs_optimized, list):
                props['EbsOptimized'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_optimized
                ]
            else:
                props['EbsOptimized'] = self.ebs_optimized

        return props


@dataclass
class MetricDimension:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.key is not None:
            if hasattr(self.key, 'to_dict'):
                props['Key'] = self.key.to_dict()
            elif isinstance(self.key, list):
                props['Key'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key
                ]
            else:
                props['Key'] = self.key

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        return props


@dataclass
class ScalingAction:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    market: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    simple_scaling_policy_configuration: Optional[SimpleScalingPolicyConfiguration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.market is not None:
            if hasattr(self.market, 'to_dict'):
                props['Market'] = self.market.to_dict()
            elif isinstance(self.market, list):
                props['Market'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.market
                ]
            else:
                props['Market'] = self.market

        if self.simple_scaling_policy_configuration is not None:
            if hasattr(self.simple_scaling_policy_configuration, 'to_dict'):
                props['SimpleScalingPolicyConfiguration'] = self.simple_scaling_policy_configuration.to_dict()
            elif isinstance(self.simple_scaling_policy_configuration, list):
                props['SimpleScalingPolicyConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.simple_scaling_policy_configuration
                ]
            else:
                props['SimpleScalingPolicyConfiguration'] = self.simple_scaling_policy_configuration

        return props


@dataclass
class ScalingConstraints:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_capacity: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    min_capacity: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_capacity is not None:
            if hasattr(self.max_capacity, 'to_dict'):
                props['MaxCapacity'] = self.max_capacity.to_dict()
            elif isinstance(self.max_capacity, list):
                props['MaxCapacity'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_capacity
                ]
            else:
                props['MaxCapacity'] = self.max_capacity

        if self.min_capacity is not None:
            if hasattr(self.min_capacity, 'to_dict'):
                props['MinCapacity'] = self.min_capacity.to_dict()
            elif isinstance(self.min_capacity, list):
                props['MinCapacity'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.min_capacity
                ]
            else:
                props['MinCapacity'] = self.min_capacity

        return props


@dataclass
class ScalingRule:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    action: Optional[ScalingAction] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    trigger: Optional[ScalingTrigger] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.action is not None:
            if hasattr(self.action, 'to_dict'):
                props['Action'] = self.action.to_dict()
            elif isinstance(self.action, list):
                props['Action'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.action
                ]
            else:
                props['Action'] = self.action

        if self.description is not None:
            if hasattr(self.description, 'to_dict'):
                props['Description'] = self.description.to_dict()
            elif isinstance(self.description, list):
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props['Description'] = self.description

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.trigger is not None:
            if hasattr(self.trigger, 'to_dict'):
                props['Trigger'] = self.trigger.to_dict()
            elif isinstance(self.trigger, list):
                props['Trigger'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.trigger
                ]
            else:
                props['Trigger'] = self.trigger

        return props


@dataclass
class ScalingTrigger:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    cloud_watch_alarm_definition: Optional[CloudWatchAlarmDefinition] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.cloud_watch_alarm_definition is not None:
            if hasattr(self.cloud_watch_alarm_definition, 'to_dict'):
                props['CloudWatchAlarmDefinition'] = self.cloud_watch_alarm_definition.to_dict()
            elif isinstance(self.cloud_watch_alarm_definition, list):
                props['CloudWatchAlarmDefinition'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.cloud_watch_alarm_definition
                ]
            else:
                props['CloudWatchAlarmDefinition'] = self.cloud_watch_alarm_definition

        return props


@dataclass
class SimpleScalingPolicyConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ela"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    adjustment_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    cool_down: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    scaling_adjustment: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.adjustment_type is not None:
            if hasattr(self.adjustment_type, 'to_dict'):
                props['AdjustmentType'] = self.adjustment_type.to_dict()
            elif isinstance(self.adjustment_type, list):
                props['AdjustmentType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.adjustment_type
                ]
            else:
                props['AdjustmentType'] = self.adjustment_type

        if self.cool_down is not None:
            if hasattr(self.cool_down, 'to_dict'):
                props['CoolDown'] = self.cool_down.to_dict()
            elif isinstance(self.cool_down, list):
                props['CoolDown'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.cool_down
                ]
            else:
                props['CoolDown'] = self.cool_down

        if self.scaling_adjustment is not None:
            if hasattr(self.scaling_adjustment, 'to_dict'):
                props['ScalingAdjustment'] = self.scaling_adjustment.to_dict()
            elif isinstance(self.scaling_adjustment, list):
                props['ScalingAdjustment'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.scaling_adjustment
                ]
            else:
                props['ScalingAdjustment'] = self.scaling_adjustment

        return props


@dataclass
class VolumeSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-emr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    iops: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    size_in_gb: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    throughput: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    volume_type: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.iops is not None:
            if hasattr(self.iops, 'to_dict'):
                props['Iops'] = self.iops.to_dict()
            elif isinstance(self.iops, list):
                props['Iops'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.iops
                ]
            else:
                props['Iops'] = self.iops

        if self.size_in_gb is not None:
            if hasattr(self.size_in_gb, 'to_dict'):
                props['SizeInGB'] = self.size_in_gb.to_dict()
            elif isinstance(self.size_in_gb, list):
                props['SizeInGB'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.size_in_gb
                ]
            else:
                props['SizeInGB'] = self.size_in_gb

        if self.throughput is not None:
            if hasattr(self.throughput, 'to_dict'):
                props['Throughput'] = self.throughput.to_dict()
            elif isinstance(self.throughput, list):
                props['Throughput'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.throughput
                ]
            else:
                props['Throughput'] = self.throughput

        if self.volume_type is not None:
            if hasattr(self.volume_type, 'to_dict'):
                props['VolumeType'] = self.volume_type.to_dict()
            elif isinstance(self.volume_type, list):
                props['VolumeType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.volume_type
                ]
            else:
                props['VolumeType'] = self.volume_type

        return props


@dataclass
class InstanceGroupConfig(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-emr-i"""

    resource_type: ClassVar[str] = "AWS::EMR::InstanceGroupConfig"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    auto_scaling_policy: Optional[AutoScalingPolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    bid_price: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    configurations: Optional[list[Configuration]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    custom_ami_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    ebs_configuration: Optional[EbsConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    instance_count: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    instance_role: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    instance_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    job_flow_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    market: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.auto_scaling_policy is not None:
            # Serialize auto_scaling_policy (handle intrinsic functions)
            if hasattr(self.auto_scaling_policy, 'to_dict'):
                props["AutoScalingPolicy"] = self.auto_scaling_policy.to_dict()
            elif isinstance(self.auto_scaling_policy, list):
                # Serialize list items (may contain intrinsic functions)
                props['AutoScalingPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auto_scaling_policy
                ]
            else:
                props["AutoScalingPolicy"] = self.auto_scaling_policy

        if self.bid_price is not None:
            # Serialize bid_price (handle intrinsic functions)
            if hasattr(self.bid_price, 'to_dict'):
                props["BidPrice"] = self.bid_price.to_dict()
            elif isinstance(self.bid_price, list):
                # Serialize list items (may contain intrinsic functions)
                props['BidPrice'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.bid_price
                ]
            else:
                props["BidPrice"] = self.bid_price

        if self.configurations is not None:
            # Serialize configurations (handle intrinsic functions)
            if hasattr(self.configurations, 'to_dict'):
                props["Configurations"] = self.configurations.to_dict()
            elif isinstance(self.configurations, list):
                # Serialize list items (may contain intrinsic functions)
                props['Configurations'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configurations
                ]
            else:
                props["Configurations"] = self.configurations

        if self.custom_ami_id is not None:
            # Serialize custom_ami_id (handle intrinsic functions)
            if hasattr(self.custom_ami_id, 'to_dict'):
                props["CustomAmiId"] = self.custom_ami_id.to_dict()
            elif isinstance(self.custom_ami_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['CustomAmiId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_ami_id
                ]
            else:
                props["CustomAmiId"] = self.custom_ami_id

        if self.ebs_configuration is not None:
            # Serialize ebs_configuration (handle intrinsic functions)
            if hasattr(self.ebs_configuration, 'to_dict'):
                props["EbsConfiguration"] = self.ebs_configuration.to_dict()
            elif isinstance(self.ebs_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['EbsConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ebs_configuration
                ]
            else:
                props["EbsConfiguration"] = self.ebs_configuration

        if self.instance_count is not None:
            # Serialize instance_count (handle intrinsic functions)
            if hasattr(self.instance_count, 'to_dict'):
                props["InstanceCount"] = self.instance_count.to_dict()
            elif isinstance(self.instance_count, list):
                # Serialize list items (may contain intrinsic functions)
                props['InstanceCount'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_count
                ]
            else:
                props["InstanceCount"] = self.instance_count

        if self.instance_role is not None:
            # Serialize instance_role (handle intrinsic functions)
            if hasattr(self.instance_role, 'to_dict'):
                props["InstanceRole"] = self.instance_role.to_dict()
            elif isinstance(self.instance_role, list):
                # Serialize list items (may contain intrinsic functions)
                props['InstanceRole'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_role
                ]
            else:
                props["InstanceRole"] = self.instance_role

        if self.instance_type is not None:
            # Serialize instance_type (handle intrinsic functions)
            if hasattr(self.instance_type, 'to_dict'):
                props["InstanceType"] = self.instance_type.to_dict()
            elif isinstance(self.instance_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['InstanceType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.instance_type
                ]
            else:
                props["InstanceType"] = self.instance_type

        if self.job_flow_id is not None:
            # Serialize job_flow_id (handle intrinsic functions)
            if hasattr(self.job_flow_id, 'to_dict'):
                props["JobFlowId"] = self.job_flow_id.to_dict()
            elif isinstance(self.job_flow_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['JobFlowId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.job_flow_id
                ]
            else:
                props["JobFlowId"] = self.job_flow_id

        if self.market is not None:
            # Serialize market (handle intrinsic functions)
            if hasattr(self.market, 'to_dict'):
                props["Market"] = self.market.to_dict()
            elif isinstance(self.market, list):
                # Serialize list items (may contain intrinsic functions)
                props['Market'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.market
                ]
            else:
                props["Market"] = self.market

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        return props



@dataclass
class SecurityConfiguration(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-emr-s"""

    resource_type: ClassVar[str] = "AWS::EMR::SecurityConfiguration"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    security_configuration: Optional[Union[dict[str, Any], Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.security_configuration is not None:
            # Serialize security_configuration (handle intrinsic functions)
            if hasattr(self.security_configuration, 'to_dict'):
                props["SecurityConfiguration"] = self.security_configuration.to_dict()
            elif isinstance(self.security_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['SecurityConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.security_configuration
                ]
            else:
                props["SecurityConfiguration"] = self.security_configuration

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        return props



@dataclass
class HadoopJarStepConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-emr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    args: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    main_class: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    step_properties: Optional[list[KeyValue]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    jar: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.args is not None:
            if hasattr(self.args, 'to_dict'):
                props['Args'] = self.args.to_dict()
            elif isinstance(self.args, list):
                props['Args'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.args
                ]
            else:
                props['Args'] = self.args

        if self.main_class is not None:
            if hasattr(self.main_class, 'to_dict'):
                props['MainClass'] = self.main_class.to_dict()
            elif isinstance(self.main_class, list):
                props['MainClass'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.main_class
                ]
            else:
                props['MainClass'] = self.main_class

        if self.step_properties is not None:
            if hasattr(self.step_properties, 'to_dict'):
                props['StepProperties'] = self.step_properties.to_dict()
            elif isinstance(self.step_properties, list):
                props['StepProperties'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.step_properties
                ]
            else:
                props['StepProperties'] = self.step_properties

        if self.jar is not None:
            if hasattr(self.jar, 'to_dict'):
                props['Jar'] = self.jar.to_dict()
            elif isinstance(self.jar, list):
                props['Jar'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.jar
                ]
            else:
                props['Jar'] = self.jar

        return props


@dataclass
class KeyValue:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-emr"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        if self.key is not None:
            if hasattr(self.key, 'to_dict'):
                props['Key'] = self.key.to_dict()
            elif isinstance(self.key, list):
                props['Key'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key
                ]
            else:
                props['Key'] = self.key

        return props


@dataclass
class Step(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-emr-s"""

    resource_type: ClassVar[str] = "AWS::EMR::Step"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    job_flow_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    action_on_failure: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    hadoop_jar_step: Optional[HadoopJarStepConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.job_flow_id is not None:
            # Serialize job_flow_id (handle intrinsic functions)
            if hasattr(self.job_flow_id, 'to_dict'):
                props["JobFlowId"] = self.job_flow_id.to_dict()
            elif isinstance(self.job_flow_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['JobFlowId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.job_flow_id
                ]
            else:
                props["JobFlowId"] = self.job_flow_id

        if self.action_on_failure is not None:
            # Serialize action_on_failure (handle intrinsic functions)
            if hasattr(self.action_on_failure, 'to_dict'):
                props["ActionOnFailure"] = self.action_on_failure.to_dict()
            elif isinstance(self.action_on_failure, list):
                # Serialize list items (may contain intrinsic functions)
                props['ActionOnFailure'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.action_on_failure
                ]
            else:
                props["ActionOnFailure"] = self.action_on_failure

        if self.hadoop_jar_step is not None:
            # Serialize hadoop_jar_step (handle intrinsic functions)
            if hasattr(self.hadoop_jar_step, 'to_dict'):
                props["HadoopJarStep"] = self.hadoop_jar_step.to_dict()
            elif isinstance(self.hadoop_jar_step, list):
                # Serialize list items (may contain intrinsic functions)
                props['HadoopJarStep'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.hadoop_jar_step
                ]
            else:
                props["HadoopJarStep"] = self.hadoop_jar_step

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        return props

    @property
    def attr_id(self) -> GetAtt:
        """Get the Id attribute."""
        return self.get_att("Id")




@dataclass
class Studio(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-emr-s"""

    resource_type: ClassVar[str] = "AWS::EMR::Studio"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    workspace_security_group_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    encryption_key_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    default_s3_location: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    subnet_ids: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    idp_auth_url: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    trusted_identity_propagation_enabled: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    idc_user_assignment: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    service_role: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    vpc_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    engine_security_group_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    user_role: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    idp_relay_state_parameter_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    auth_mode: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    idc_instance_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.workspace_security_group_id is not None:
            # Serialize workspace_security_group_id (handle intrinsic functions)
            if hasattr(self.workspace_security_group_id, 'to_dict'):
                props["WorkspaceSecurityGroupId"] = self.workspace_security_group_id.to_dict()
            elif isinstance(self.workspace_security_group_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['WorkspaceSecurityGroupId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.workspace_security_group_id
                ]
            else:
                props["WorkspaceSecurityGroupId"] = self.workspace_security_group_id

        if self.description is not None:
            # Serialize description (handle intrinsic functions)
            if hasattr(self.description, 'to_dict'):
                props["Description"] = self.description.to_dict()
            elif isinstance(self.description, list):
                # Serialize list items (may contain intrinsic functions)
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props["Description"] = self.description

        if self.encryption_key_arn is not None:
            # Serialize encryption_key_arn (handle intrinsic functions)
            if hasattr(self.encryption_key_arn, 'to_dict'):
                props["EncryptionKeyArn"] = self.encryption_key_arn.to_dict()
            elif isinstance(self.encryption_key_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['EncryptionKeyArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.encryption_key_arn
                ]
            else:
                props["EncryptionKeyArn"] = self.encryption_key_arn

        if self.default_s3_location is not None:
            # Serialize default_s3_location (handle intrinsic functions)
            if hasattr(self.default_s3_location, 'to_dict'):
                props["DefaultS3Location"] = self.default_s3_location.to_dict()
            elif isinstance(self.default_s3_location, list):
                # Serialize list items (may contain intrinsic functions)
                props['DefaultS3Location'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_s3_location
                ]
            else:
                props["DefaultS3Location"] = self.default_s3_location

        if self.subnet_ids is not None:
            # Serialize subnet_ids (handle intrinsic functions)
            if hasattr(self.subnet_ids, 'to_dict'):
                props["SubnetIds"] = self.subnet_ids.to_dict()
            elif isinstance(self.subnet_ids, list):
                # Serialize list items (may contain intrinsic functions)
                props['SubnetIds'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.subnet_ids
                ]
            else:
                props["SubnetIds"] = self.subnet_ids

        if self.idp_auth_url is not None:
            # Serialize idp_auth_url (handle intrinsic functions)
            if hasattr(self.idp_auth_url, 'to_dict'):
                props["IdpAuthUrl"] = self.idp_auth_url.to_dict()
            elif isinstance(self.idp_auth_url, list):
                # Serialize list items (may contain intrinsic functions)
                props['IdpAuthUrl'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idp_auth_url
                ]
            else:
                props["IdpAuthUrl"] = self.idp_auth_url

        if self.trusted_identity_propagation_enabled is not None:
            # Serialize trusted_identity_propagation_enabled (handle intrinsic functions)
            if hasattr(self.trusted_identity_propagation_enabled, 'to_dict'):
                props["TrustedIdentityPropagationEnabled"] = self.trusted_identity_propagation_enabled.to_dict()
            elif isinstance(self.trusted_identity_propagation_enabled, list):
                # Serialize list items (may contain intrinsic functions)
                props['TrustedIdentityPropagationEnabled'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.trusted_identity_propagation_enabled
                ]
            else:
                props["TrustedIdentityPropagationEnabled"] = self.trusted_identity_propagation_enabled

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        if self.idc_user_assignment is not None:
            # Serialize idc_user_assignment (handle intrinsic functions)
            if hasattr(self.idc_user_assignment, 'to_dict'):
                props["IdcUserAssignment"] = self.idc_user_assignment.to_dict()
            elif isinstance(self.idc_user_assignment, list):
                # Serialize list items (may contain intrinsic functions)
                props['IdcUserAssignment'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idc_user_assignment
                ]
            else:
                props["IdcUserAssignment"] = self.idc_user_assignment

        if self.service_role is not None:
            # Serialize service_role (handle intrinsic functions)
            if hasattr(self.service_role, 'to_dict'):
                props["ServiceRole"] = self.service_role.to_dict()
            elif isinstance(self.service_role, list):
                # Serialize list items (may contain intrinsic functions)
                props['ServiceRole'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.service_role
                ]
            else:
                props["ServiceRole"] = self.service_role

        if self.vpc_id is not None:
            # Serialize vpc_id (handle intrinsic functions)
            if hasattr(self.vpc_id, 'to_dict'):
                props["VpcId"] = self.vpc_id.to_dict()
            elif isinstance(self.vpc_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['VpcId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.vpc_id
                ]
            else:
                props["VpcId"] = self.vpc_id

        if self.engine_security_group_id is not None:
            # Serialize engine_security_group_id (handle intrinsic functions)
            if hasattr(self.engine_security_group_id, 'to_dict'):
                props["EngineSecurityGroupId"] = self.engine_security_group_id.to_dict()
            elif isinstance(self.engine_security_group_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['EngineSecurityGroupId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.engine_security_group_id
                ]
            else:
                props["EngineSecurityGroupId"] = self.engine_security_group_id

        if self.user_role is not None:
            # Serialize user_role (handle intrinsic functions)
            if hasattr(self.user_role, 'to_dict'):
                props["UserRole"] = self.user_role.to_dict()
            elif isinstance(self.user_role, list):
                # Serialize list items (may contain intrinsic functions)
                props['UserRole'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.user_role
                ]
            else:
                props["UserRole"] = self.user_role

        if self.idp_relay_state_parameter_name is not None:
            # Serialize idp_relay_state_parameter_name (handle intrinsic functions)
            if hasattr(self.idp_relay_state_parameter_name, 'to_dict'):
                props["IdpRelayStateParameterName"] = self.idp_relay_state_parameter_name.to_dict()
            elif isinstance(self.idp_relay_state_parameter_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['IdpRelayStateParameterName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idp_relay_state_parameter_name
                ]
            else:
                props["IdpRelayStateParameterName"] = self.idp_relay_state_parameter_name

        if self.auth_mode is not None:
            # Serialize auth_mode (handle intrinsic functions)
            if hasattr(self.auth_mode, 'to_dict'):
                props["AuthMode"] = self.auth_mode.to_dict()
            elif isinstance(self.auth_mode, list):
                # Serialize list items (may contain intrinsic functions)
                props['AuthMode'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auth_mode
                ]
            else:
                props["AuthMode"] = self.auth_mode

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.idc_instance_arn is not None:
            # Serialize idc_instance_arn (handle intrinsic functions)
            if hasattr(self.idc_instance_arn, 'to_dict'):
                props["IdcInstanceArn"] = self.idc_instance_arn.to_dict()
            elif isinstance(self.idc_instance_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['IdcInstanceArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idc_instance_arn
                ]
            else:
                props["IdcInstanceArn"] = self.idc_instance_arn

        return props

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")

    @property
    def attr_studio_id(self) -> GetAtt:
        """Get the StudioId attribute."""
        return self.get_att("StudioId")

    @property
    def attr_url(self) -> GetAtt:
        """Get the Url attribute."""
        return self.get_att("Url")




@dataclass
class StudioSessionMapping(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-emr-s"""

    resource_type: ClassVar[str] = "AWS::EMR::StudioSessionMapping"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    identity_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    session_policy_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    studio_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    identity_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.identity_type is not None:
            # Serialize identity_type (handle intrinsic functions)
            if hasattr(self.identity_type, 'to_dict'):
                props["IdentityType"] = self.identity_type.to_dict()
            elif isinstance(self.identity_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['IdentityType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.identity_type
                ]
            else:
                props["IdentityType"] = self.identity_type

        if self.session_policy_arn is not None:
            # Serialize session_policy_arn (handle intrinsic functions)
            if hasattr(self.session_policy_arn, 'to_dict'):
                props["SessionPolicyArn"] = self.session_policy_arn.to_dict()
            elif isinstance(self.session_policy_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['SessionPolicyArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.session_policy_arn
                ]
            else:
                props["SessionPolicyArn"] = self.session_policy_arn

        if self.studio_id is not None:
            # Serialize studio_id (handle intrinsic functions)
            if hasattr(self.studio_id, 'to_dict'):
                props["StudioId"] = self.studio_id.to_dict()
            elif isinstance(self.studio_id, list):
                # Serialize list items (may contain intrinsic functions)
                props['StudioId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.studio_id
                ]
            else:
                props["StudioId"] = self.studio_id

        if self.identity_name is not None:
            # Serialize identity_name (handle intrinsic functions)
            if hasattr(self.identity_name, 'to_dict'):
                props["IdentityName"] = self.identity_name.to_dict()
            elif isinstance(self.identity_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['IdentityName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.identity_name
                ]
            else:
                props["IdentityName"] = self.identity_name

        return props



@dataclass
class WALWorkspace(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-emr-w"""

    resource_type: ClassVar[str] = "AWS::EMR::WALWorkspace"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    wal_workspace_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.wal_workspace_name is not None:
            # Serialize wal_workspace_name (handle intrinsic functions)
            if hasattr(self.wal_workspace_name, 'to_dict'):
                props["WALWorkspaceName"] = self.wal_workspace_name.to_dict()
            elif isinstance(self.wal_workspace_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['WALWorkspaceName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.wal_workspace_name
                ]
            else:
                props["WALWorkspaceName"] = self.wal_workspace_name

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props


