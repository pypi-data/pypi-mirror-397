"""
AWS CloudFormation AppMesh Resources

⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY ⚠️

This file is automatically generated from the AWS CloudFormation Resource Specification.
Any manual changes will be overwritten when regenerated.

Version Information:
  CloudFormation Spec: 227.0.0
  Generator Version: 1.0.0
  Combined: spec-227.0.0_gen-1.0.0
  Generated: 2025-12-15 17:57:10

To regenerate this file:
    uv run python -m cloudformation_dataclasses.codegen.generator --service AppMesh
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any, ClassVar, Optional, Union

from cloudformation_dataclasses.core.base import CloudFormationResource
from cloudformation_dataclasses.intrinsics.functions import GetAtt, Ref, Sub


@dataclass
class GatewayRouteHostnameMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    suffix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.suffix is not None:
            if hasattr(self.suffix, 'to_dict'):
                props['Suffix'] = self.suffix.to_dict()
            elif isinstance(self.suffix, list):
                props['Suffix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.suffix
                ]
            else:
                props['Suffix'] = self.suffix

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        return props


@dataclass
class GatewayRouteHostnameRewrite:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    default_target_hostname: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.default_target_hostname is not None:
            if hasattr(self.default_target_hostname, 'to_dict'):
                props['DefaultTargetHostname'] = self.default_target_hostname.to_dict()
            elif isinstance(self.default_target_hostname, list):
                props['DefaultTargetHostname'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_target_hostname
                ]
            else:
                props['DefaultTargetHostname'] = self.default_target_hostname

        return props


@dataclass
class GatewayRouteMetadataMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    suffix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    regex: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    range: Optional[GatewayRouteRangeMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.suffix is not None:
            if hasattr(self.suffix, 'to_dict'):
                props['Suffix'] = self.suffix.to_dict()
            elif isinstance(self.suffix, list):
                props['Suffix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.suffix
                ]
            else:
                props['Suffix'] = self.suffix

        if self.regex is not None:
            if hasattr(self.regex, 'to_dict'):
                props['Regex'] = self.regex.to_dict()
            elif isinstance(self.regex, list):
                props['Regex'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.regex
                ]
            else:
                props['Regex'] = self.regex

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        if self.prefix is not None:
            if hasattr(self.prefix, 'to_dict'):
                props['Prefix'] = self.prefix.to_dict()
            elif isinstance(self.prefix, list):
                props['Prefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.prefix
                ]
            else:
                props['Prefix'] = self.prefix

        if self.range is not None:
            if hasattr(self.range, 'to_dict'):
                props['Range'] = self.range.to_dict()
            elif isinstance(self.range, list):
                props['Range'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.range
                ]
            else:
                props['Range'] = self.range

        return props


@dataclass
class GatewayRouteRangeMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    start: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    end: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.start is not None:
            if hasattr(self.start, 'to_dict'):
                props['Start'] = self.start.to_dict()
            elif isinstance(self.start, list):
                props['Start'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.start
                ]
            else:
                props['Start'] = self.start

        if self.end is not None:
            if hasattr(self.end, 'to_dict'):
                props['End'] = self.end.to_dict()
            elif isinstance(self.end, list):
                props['End'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.end
                ]
            else:
                props['End'] = self.end

        return props


@dataclass
class GatewayRouteSpec:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http_route: Optional[HttpGatewayRoute] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    priority: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http2_route: Optional[HttpGatewayRoute] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    grpc_route: Optional[GrpcGatewayRoute] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.http_route is not None:
            if hasattr(self.http_route, 'to_dict'):
                props['HttpRoute'] = self.http_route.to_dict()
            elif isinstance(self.http_route, list):
                props['HttpRoute'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http_route
                ]
            else:
                props['HttpRoute'] = self.http_route

        if self.priority is not None:
            if hasattr(self.priority, 'to_dict'):
                props['Priority'] = self.priority.to_dict()
            elif isinstance(self.priority, list):
                props['Priority'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.priority
                ]
            else:
                props['Priority'] = self.priority

        if self.http2_route is not None:
            if hasattr(self.http2_route, 'to_dict'):
                props['Http2Route'] = self.http2_route.to_dict()
            elif isinstance(self.http2_route, list):
                props['Http2Route'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http2_route
                ]
            else:
                props['Http2Route'] = self.http2_route

        if self.grpc_route is not None:
            if hasattr(self.grpc_route, 'to_dict'):
                props['GrpcRoute'] = self.grpc_route.to_dict()
            elif isinstance(self.grpc_route, list):
                props['GrpcRoute'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.grpc_route
                ]
            else:
                props['GrpcRoute'] = self.grpc_route

        return props


@dataclass
class GatewayRouteTarget:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    virtual_service: Optional[GatewayRouteVirtualService] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.virtual_service is not None:
            if hasattr(self.virtual_service, 'to_dict'):
                props['VirtualService'] = self.virtual_service.to_dict()
            elif isinstance(self.virtual_service, list):
                props['VirtualService'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_service
                ]
            else:
                props['VirtualService'] = self.virtual_service

        return props


@dataclass
class GatewayRouteVirtualService:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    virtual_service_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.virtual_service_name is not None:
            if hasattr(self.virtual_service_name, 'to_dict'):
                props['VirtualServiceName'] = self.virtual_service_name.to_dict()
            elif isinstance(self.virtual_service_name, list):
                props['VirtualServiceName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_service_name
                ]
            else:
                props['VirtualServiceName'] = self.virtual_service_name

        return props


@dataclass
class GrpcGatewayRoute:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    action: Optional[GrpcGatewayRouteAction] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[GrpcGatewayRouteMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.action is not None:
            if hasattr(self.action, 'to_dict'):
                props['Action'] = self.action.to_dict()
            elif isinstance(self.action, list):
                props['Action'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.action
                ]
            else:
                props['Action'] = self.action

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class GrpcGatewayRouteAction:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    target: Optional[GatewayRouteTarget] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    rewrite: Optional[GrpcGatewayRouteRewrite] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.target is not None:
            if hasattr(self.target, 'to_dict'):
                props['Target'] = self.target.to_dict()
            elif isinstance(self.target, list):
                props['Target'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.target
                ]
            else:
                props['Target'] = self.target

        if self.rewrite is not None:
            if hasattr(self.rewrite, 'to_dict'):
                props['Rewrite'] = self.rewrite.to_dict()
            elif isinstance(self.rewrite, list):
                props['Rewrite'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.rewrite
                ]
            else:
                props['Rewrite'] = self.rewrite

        return props


@dataclass
class GrpcGatewayRouteMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    service_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    hostname: Optional[GatewayRouteHostnameMatch] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    metadata: Optional[list[GrpcGatewayRouteMetadata]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.service_name is not None:
            if hasattr(self.service_name, 'to_dict'):
                props['ServiceName'] = self.service_name.to_dict()
            elif isinstance(self.service_name, list):
                props['ServiceName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.service_name
                ]
            else:
                props['ServiceName'] = self.service_name

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.hostname is not None:
            if hasattr(self.hostname, 'to_dict'):
                props['Hostname'] = self.hostname.to_dict()
            elif isinstance(self.hostname, list):
                props['Hostname'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.hostname
                ]
            else:
                props['Hostname'] = self.hostname

        if self.metadata is not None:
            if hasattr(self.metadata, 'to_dict'):
                props['Metadata'] = self.metadata.to_dict()
            elif isinstance(self.metadata, list):
                props['Metadata'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.metadata
                ]
            else:
                props['Metadata'] = self.metadata

        return props


@dataclass
class GrpcGatewayRouteMetadata:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    invert: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[GatewayRouteMetadataMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.invert is not None:
            if hasattr(self.invert, 'to_dict'):
                props['Invert'] = self.invert.to_dict()
            elif isinstance(self.invert, list):
                props['Invert'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.invert
                ]
            else:
                props['Invert'] = self.invert

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class GrpcGatewayRouteRewrite:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    hostname: Optional[GatewayRouteHostnameRewrite] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.hostname is not None:
            if hasattr(self.hostname, 'to_dict'):
                props['Hostname'] = self.hostname.to_dict()
            elif isinstance(self.hostname, list):
                props['Hostname'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.hostname
                ]
            else:
                props['Hostname'] = self.hostname

        return props


@dataclass
class HttpGatewayRoute:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    action: Optional[HttpGatewayRouteAction] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[HttpGatewayRouteMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.action is not None:
            if hasattr(self.action, 'to_dict'):
                props['Action'] = self.action.to_dict()
            elif isinstance(self.action, list):
                props['Action'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.action
                ]
            else:
                props['Action'] = self.action

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class HttpGatewayRouteAction:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    target: Optional[GatewayRouteTarget] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    rewrite: Optional[HttpGatewayRouteRewrite] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.target is not None:
            if hasattr(self.target, 'to_dict'):
                props['Target'] = self.target.to_dict()
            elif isinstance(self.target, list):
                props['Target'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.target
                ]
            else:
                props['Target'] = self.target

        if self.rewrite is not None:
            if hasattr(self.rewrite, 'to_dict'):
                props['Rewrite'] = self.rewrite.to_dict()
            elif isinstance(self.rewrite, list):
                props['Rewrite'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.rewrite
                ]
            else:
                props['Rewrite'] = self.rewrite

        return props


@dataclass
class HttpGatewayRouteHeader:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    invert: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[HttpGatewayRouteHeaderMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.invert is not None:
            if hasattr(self.invert, 'to_dict'):
                props['Invert'] = self.invert.to_dict()
            elif isinstance(self.invert, list):
                props['Invert'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.invert
                ]
            else:
                props['Invert'] = self.invert

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class HttpGatewayRouteHeaderMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    suffix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    regex: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    range: Optional[GatewayRouteRangeMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.suffix is not None:
            if hasattr(self.suffix, 'to_dict'):
                props['Suffix'] = self.suffix.to_dict()
            elif isinstance(self.suffix, list):
                props['Suffix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.suffix
                ]
            else:
                props['Suffix'] = self.suffix

        if self.regex is not None:
            if hasattr(self.regex, 'to_dict'):
                props['Regex'] = self.regex.to_dict()
            elif isinstance(self.regex, list):
                props['Regex'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.regex
                ]
            else:
                props['Regex'] = self.regex

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        if self.prefix is not None:
            if hasattr(self.prefix, 'to_dict'):
                props['Prefix'] = self.prefix.to_dict()
            elif isinstance(self.prefix, list):
                props['Prefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.prefix
                ]
            else:
                props['Prefix'] = self.prefix

        if self.range is not None:
            if hasattr(self.range, 'to_dict'):
                props['Range'] = self.range.to_dict()
            elif isinstance(self.range, list):
                props['Range'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.range
                ]
            else:
                props['Range'] = self.range

        return props


@dataclass
class HttpGatewayRouteMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    path: Optional[HttpPathMatch] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    headers: Optional[list[HttpGatewayRouteHeader]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    hostname: Optional[GatewayRouteHostnameMatch] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    method: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    query_parameters: Optional[list[QueryParameter]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.path is not None:
            if hasattr(self.path, 'to_dict'):
                props['Path'] = self.path.to_dict()
            elif isinstance(self.path, list):
                props['Path'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.path
                ]
            else:
                props['Path'] = self.path

        if self.headers is not None:
            if hasattr(self.headers, 'to_dict'):
                props['Headers'] = self.headers.to_dict()
            elif isinstance(self.headers, list):
                props['Headers'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.headers
                ]
            else:
                props['Headers'] = self.headers

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.hostname is not None:
            if hasattr(self.hostname, 'to_dict'):
                props['Hostname'] = self.hostname.to_dict()
            elif isinstance(self.hostname, list):
                props['Hostname'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.hostname
                ]
            else:
                props['Hostname'] = self.hostname

        if self.prefix is not None:
            if hasattr(self.prefix, 'to_dict'):
                props['Prefix'] = self.prefix.to_dict()
            elif isinstance(self.prefix, list):
                props['Prefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.prefix
                ]
            else:
                props['Prefix'] = self.prefix

        if self.method is not None:
            if hasattr(self.method, 'to_dict'):
                props['Method'] = self.method.to_dict()
            elif isinstance(self.method, list):
                props['Method'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.method
                ]
            else:
                props['Method'] = self.method

        if self.query_parameters is not None:
            if hasattr(self.query_parameters, 'to_dict'):
                props['QueryParameters'] = self.query_parameters.to_dict()
            elif isinstance(self.query_parameters, list):
                props['QueryParameters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.query_parameters
                ]
            else:
                props['QueryParameters'] = self.query_parameters

        return props


@dataclass
class HttpGatewayRoutePathRewrite:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        return props


@dataclass
class HttpGatewayRoutePrefixRewrite:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    default_prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        if self.default_prefix is not None:
            if hasattr(self.default_prefix, 'to_dict'):
                props['DefaultPrefix'] = self.default_prefix.to_dict()
            elif isinstance(self.default_prefix, list):
                props['DefaultPrefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_prefix
                ]
            else:
                props['DefaultPrefix'] = self.default_prefix

        return props


@dataclass
class HttpGatewayRouteRewrite:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    path: Optional[HttpGatewayRoutePathRewrite] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    hostname: Optional[GatewayRouteHostnameRewrite] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    prefix: Optional[HttpGatewayRoutePrefixRewrite] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.path is not None:
            if hasattr(self.path, 'to_dict'):
                props['Path'] = self.path.to_dict()
            elif isinstance(self.path, list):
                props['Path'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.path
                ]
            else:
                props['Path'] = self.path

        if self.hostname is not None:
            if hasattr(self.hostname, 'to_dict'):
                props['Hostname'] = self.hostname.to_dict()
            elif isinstance(self.hostname, list):
                props['Hostname'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.hostname
                ]
            else:
                props['Hostname'] = self.hostname

        if self.prefix is not None:
            if hasattr(self.prefix, 'to_dict'):
                props['Prefix'] = self.prefix.to_dict()
            elif isinstance(self.prefix, list):
                props['Prefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.prefix
                ]
            else:
                props['Prefix'] = self.prefix

        return props


@dataclass
class HttpPathMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    regex: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.regex is not None:
            if hasattr(self.regex, 'to_dict'):
                props['Regex'] = self.regex.to_dict()
            elif isinstance(self.regex, list):
                props['Regex'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.regex
                ]
            else:
                props['Regex'] = self.regex

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        return props


@dataclass
class HttpQueryParameterMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        return props


@dataclass
class QueryParameter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[HttpQueryParameterMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class GatewayRoute(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appme"""

    resource_type: ClassVar[str] = "AWS::AppMesh::GatewayRoute"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    virtual_gateway_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_owner: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    gateway_route_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    spec: Optional[GatewayRouteSpec] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.mesh_name is not None:
            # Serialize mesh_name (handle intrinsic functions)
            if hasattr(self.mesh_name, 'to_dict'):
                props["MeshName"] = self.mesh_name.to_dict()
            elif isinstance(self.mesh_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_name
                ]
            else:
                props["MeshName"] = self.mesh_name

        if self.virtual_gateway_name is not None:
            # Serialize virtual_gateway_name (handle intrinsic functions)
            if hasattr(self.virtual_gateway_name, 'to_dict'):
                props["VirtualGatewayName"] = self.virtual_gateway_name.to_dict()
            elif isinstance(self.virtual_gateway_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['VirtualGatewayName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_gateway_name
                ]
            else:
                props["VirtualGatewayName"] = self.virtual_gateway_name

        if self.mesh_owner is not None:
            # Serialize mesh_owner (handle intrinsic functions)
            if hasattr(self.mesh_owner, 'to_dict'):
                props["MeshOwner"] = self.mesh_owner.to_dict()
            elif isinstance(self.mesh_owner, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshOwner'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_owner
                ]
            else:
                props["MeshOwner"] = self.mesh_owner

        if self.gateway_route_name is not None:
            # Serialize gateway_route_name (handle intrinsic functions)
            if hasattr(self.gateway_route_name, 'to_dict'):
                props["GatewayRouteName"] = self.gateway_route_name.to_dict()
            elif isinstance(self.gateway_route_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['GatewayRouteName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.gateway_route_name
                ]
            else:
                props["GatewayRouteName"] = self.gateway_route_name

        if self.spec is not None:
            # Serialize spec (handle intrinsic functions)
            if hasattr(self.spec, 'to_dict'):
                props["Spec"] = self.spec.to_dict()
            elif isinstance(self.spec, list):
                # Serialize list items (may contain intrinsic functions)
                props['Spec'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spec
                ]
            else:
                props["Spec"] = self.spec

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_uid(self) -> GetAtt:
        """Get the Uid attribute."""
        return self.get_att("Uid")

    @property
    def attr_mesh_name(self) -> GetAtt:
        """Get the MeshName attribute."""
        return self.get_att("MeshName")

    @property
    def attr_virtual_gateway_name(self) -> GetAtt:
        """Get the VirtualGatewayName attribute."""
        return self.get_att("VirtualGatewayName")

    @property
    def attr_mesh_owner(self) -> GetAtt:
        """Get the MeshOwner attribute."""
        return self.get_att("MeshOwner")

    @property
    def attr_resource_owner(self) -> GetAtt:
        """Get the ResourceOwner attribute."""
        return self.get_att("ResourceOwner")

    @property
    def attr_gateway_route_name(self) -> GetAtt:
        """Get the GatewayRouteName attribute."""
        return self.get_att("GatewayRouteName")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")




@dataclass
class EgressFilter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        return props


@dataclass
class MeshServiceDiscovery:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ip_preference: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.ip_preference is not None:
            if hasattr(self.ip_preference, 'to_dict'):
                props['IpPreference'] = self.ip_preference.to_dict()
            elif isinstance(self.ip_preference, list):
                props['IpPreference'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ip_preference
                ]
            else:
                props['IpPreference'] = self.ip_preference

        return props


@dataclass
class MeshSpec:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    egress_filter: Optional[EgressFilter] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    service_discovery: Optional[MeshServiceDiscovery] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.egress_filter is not None:
            if hasattr(self.egress_filter, 'to_dict'):
                props['EgressFilter'] = self.egress_filter.to_dict()
            elif isinstance(self.egress_filter, list):
                props['EgressFilter'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.egress_filter
                ]
            else:
                props['EgressFilter'] = self.egress_filter

        if self.service_discovery is not None:
            if hasattr(self.service_discovery, 'to_dict'):
                props['ServiceDiscovery'] = self.service_discovery.to_dict()
            elif isinstance(self.service_discovery, list):
                props['ServiceDiscovery'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.service_discovery
                ]
            else:
                props['ServiceDiscovery'] = self.service_discovery

        return props


@dataclass
class Mesh(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appme"""

    resource_type: ClassVar[str] = "AWS::AppMesh::Mesh"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    spec: Optional[MeshSpec] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.mesh_name is not None:
            # Serialize mesh_name (handle intrinsic functions)
            if hasattr(self.mesh_name, 'to_dict'):
                props["MeshName"] = self.mesh_name.to_dict()
            elif isinstance(self.mesh_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_name
                ]
            else:
                props["MeshName"] = self.mesh_name

        if self.spec is not None:
            # Serialize spec (handle intrinsic functions)
            if hasattr(self.spec, 'to_dict'):
                props["Spec"] = self.spec.to_dict()
            elif isinstance(self.spec, list):
                # Serialize list items (may contain intrinsic functions)
                props['Spec'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spec
                ]
            else:
                props["Spec"] = self.spec

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_uid(self) -> GetAtt:
        """Get the Uid attribute."""
        return self.get_att("Uid")

    @property
    def attr_mesh_name(self) -> GetAtt:
        """Get the MeshName attribute."""
        return self.get_att("MeshName")

    @property
    def attr_mesh_owner(self) -> GetAtt:
        """Get the MeshOwner attribute."""
        return self.get_att("MeshOwner")

    @property
    def attr_resource_owner(self) -> GetAtt:
        """Get the ResourceOwner attribute."""
        return self.get_att("ResourceOwner")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")




@dataclass
class Duration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    unit: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        if self.unit is not None:
            if hasattr(self.unit, 'to_dict'):
                props['Unit'] = self.unit.to_dict()
            elif isinstance(self.unit, list):
                props['Unit'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.unit
                ]
            else:
                props['Unit'] = self.unit

        return props


@dataclass
class GrpcRetryPolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_retries: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    per_retry_timeout: Optional[Duration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    grpc_retry_events: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http_retry_events: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tcp_retry_events: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_retries is not None:
            if hasattr(self.max_retries, 'to_dict'):
                props['MaxRetries'] = self.max_retries.to_dict()
            elif isinstance(self.max_retries, list):
                props['MaxRetries'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_retries
                ]
            else:
                props['MaxRetries'] = self.max_retries

        if self.per_retry_timeout is not None:
            if hasattr(self.per_retry_timeout, 'to_dict'):
                props['PerRetryTimeout'] = self.per_retry_timeout.to_dict()
            elif isinstance(self.per_retry_timeout, list):
                props['PerRetryTimeout'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.per_retry_timeout
                ]
            else:
                props['PerRetryTimeout'] = self.per_retry_timeout

        if self.grpc_retry_events is not None:
            if hasattr(self.grpc_retry_events, 'to_dict'):
                props['GrpcRetryEvents'] = self.grpc_retry_events.to_dict()
            elif isinstance(self.grpc_retry_events, list):
                props['GrpcRetryEvents'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.grpc_retry_events
                ]
            else:
                props['GrpcRetryEvents'] = self.grpc_retry_events

        if self.http_retry_events is not None:
            if hasattr(self.http_retry_events, 'to_dict'):
                props['HttpRetryEvents'] = self.http_retry_events.to_dict()
            elif isinstance(self.http_retry_events, list):
                props['HttpRetryEvents'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http_retry_events
                ]
            else:
                props['HttpRetryEvents'] = self.http_retry_events

        if self.tcp_retry_events is not None:
            if hasattr(self.tcp_retry_events, 'to_dict'):
                props['TcpRetryEvents'] = self.tcp_retry_events.to_dict()
            elif isinstance(self.tcp_retry_events, list):
                props['TcpRetryEvents'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tcp_retry_events
                ]
            else:
                props['TcpRetryEvents'] = self.tcp_retry_events

        return props


@dataclass
class GrpcRoute:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    action: Optional[GrpcRouteAction] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout: Optional[GrpcTimeout] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    retry_policy: Optional[GrpcRetryPolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[GrpcRouteMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.action is not None:
            if hasattr(self.action, 'to_dict'):
                props['Action'] = self.action.to_dict()
            elif isinstance(self.action, list):
                props['Action'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.action
                ]
            else:
                props['Action'] = self.action

        if self.timeout is not None:
            if hasattr(self.timeout, 'to_dict'):
                props['Timeout'] = self.timeout.to_dict()
            elif isinstance(self.timeout, list):
                props['Timeout'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout
                ]
            else:
                props['Timeout'] = self.timeout

        if self.retry_policy is not None:
            if hasattr(self.retry_policy, 'to_dict'):
                props['RetryPolicy'] = self.retry_policy.to_dict()
            elif isinstance(self.retry_policy, list):
                props['RetryPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.retry_policy
                ]
            else:
                props['RetryPolicy'] = self.retry_policy

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class GrpcRouteAction:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    weighted_targets: Optional[list[WeightedTarget]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.weighted_targets is not None:
            if hasattr(self.weighted_targets, 'to_dict'):
                props['WeightedTargets'] = self.weighted_targets.to_dict()
            elif isinstance(self.weighted_targets, list):
                props['WeightedTargets'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.weighted_targets
                ]
            else:
                props['WeightedTargets'] = self.weighted_targets

        return props


@dataclass
class GrpcRouteMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    service_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    metadata: Optional[list[GrpcRouteMetadata]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    method_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.service_name is not None:
            if hasattr(self.service_name, 'to_dict'):
                props['ServiceName'] = self.service_name.to_dict()
            elif isinstance(self.service_name, list):
                props['ServiceName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.service_name
                ]
            else:
                props['ServiceName'] = self.service_name

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.metadata is not None:
            if hasattr(self.metadata, 'to_dict'):
                props['Metadata'] = self.metadata.to_dict()
            elif isinstance(self.metadata, list):
                props['Metadata'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.metadata
                ]
            else:
                props['Metadata'] = self.metadata

        if self.method_name is not None:
            if hasattr(self.method_name, 'to_dict'):
                props['MethodName'] = self.method_name.to_dict()
            elif isinstance(self.method_name, list):
                props['MethodName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.method_name
                ]
            else:
                props['MethodName'] = self.method_name

        return props


@dataclass
class GrpcRouteMetadata:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    invert: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[GrpcRouteMetadataMatchMethod] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.invert is not None:
            if hasattr(self.invert, 'to_dict'):
                props['Invert'] = self.invert.to_dict()
            elif isinstance(self.invert, list):
                props['Invert'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.invert
                ]
            else:
                props['Invert'] = self.invert

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class GrpcRouteMetadataMatchMethod:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    suffix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    regex: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    range: Optional[MatchRange] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.suffix is not None:
            if hasattr(self.suffix, 'to_dict'):
                props['Suffix'] = self.suffix.to_dict()
            elif isinstance(self.suffix, list):
                props['Suffix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.suffix
                ]
            else:
                props['Suffix'] = self.suffix

        if self.regex is not None:
            if hasattr(self.regex, 'to_dict'):
                props['Regex'] = self.regex.to_dict()
            elif isinstance(self.regex, list):
                props['Regex'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.regex
                ]
            else:
                props['Regex'] = self.regex

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        if self.prefix is not None:
            if hasattr(self.prefix, 'to_dict'):
                props['Prefix'] = self.prefix.to_dict()
            elif isinstance(self.prefix, list):
                props['Prefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.prefix
                ]
            else:
                props['Prefix'] = self.prefix

        if self.range is not None:
            if hasattr(self.range, 'to_dict'):
                props['Range'] = self.range.to_dict()
            elif isinstance(self.range, list):
                props['Range'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.range
                ]
            else:
                props['Range'] = self.range

        return props


@dataclass
class GrpcTimeout:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    per_request: Optional[Duration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    idle: Optional[Duration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.per_request is not None:
            if hasattr(self.per_request, 'to_dict'):
                props['PerRequest'] = self.per_request.to_dict()
            elif isinstance(self.per_request, list):
                props['PerRequest'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.per_request
                ]
            else:
                props['PerRequest'] = self.per_request

        if self.idle is not None:
            if hasattr(self.idle, 'to_dict'):
                props['Idle'] = self.idle.to_dict()
            elif isinstance(self.idle, list):
                props['Idle'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idle
                ]
            else:
                props['Idle'] = self.idle

        return props


@dataclass
class HeaderMatchMethod:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    suffix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    regex: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    range: Optional[MatchRange] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.suffix is not None:
            if hasattr(self.suffix, 'to_dict'):
                props['Suffix'] = self.suffix.to_dict()
            elif isinstance(self.suffix, list):
                props['Suffix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.suffix
                ]
            else:
                props['Suffix'] = self.suffix

        if self.regex is not None:
            if hasattr(self.regex, 'to_dict'):
                props['Regex'] = self.regex.to_dict()
            elif isinstance(self.regex, list):
                props['Regex'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.regex
                ]
            else:
                props['Regex'] = self.regex

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        if self.prefix is not None:
            if hasattr(self.prefix, 'to_dict'):
                props['Prefix'] = self.prefix.to_dict()
            elif isinstance(self.prefix, list):
                props['Prefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.prefix
                ]
            else:
                props['Prefix'] = self.prefix

        if self.range is not None:
            if hasattr(self.range, 'to_dict'):
                props['Range'] = self.range.to_dict()
            elif isinstance(self.range, list):
                props['Range'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.range
                ]
            else:
                props['Range'] = self.range

        return props


@dataclass
class HttpPathMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    regex: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.regex is not None:
            if hasattr(self.regex, 'to_dict'):
                props['Regex'] = self.regex.to_dict()
            elif isinstance(self.regex, list):
                props['Regex'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.regex
                ]
            else:
                props['Regex'] = self.regex

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        return props


@dataclass
class HttpQueryParameterMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        return props


@dataclass
class HttpRetryPolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_retries: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    per_retry_timeout: Optional[Duration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http_retry_events: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tcp_retry_events: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_retries is not None:
            if hasattr(self.max_retries, 'to_dict'):
                props['MaxRetries'] = self.max_retries.to_dict()
            elif isinstance(self.max_retries, list):
                props['MaxRetries'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_retries
                ]
            else:
                props['MaxRetries'] = self.max_retries

        if self.per_retry_timeout is not None:
            if hasattr(self.per_retry_timeout, 'to_dict'):
                props['PerRetryTimeout'] = self.per_retry_timeout.to_dict()
            elif isinstance(self.per_retry_timeout, list):
                props['PerRetryTimeout'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.per_retry_timeout
                ]
            else:
                props['PerRetryTimeout'] = self.per_retry_timeout

        if self.http_retry_events is not None:
            if hasattr(self.http_retry_events, 'to_dict'):
                props['HttpRetryEvents'] = self.http_retry_events.to_dict()
            elif isinstance(self.http_retry_events, list):
                props['HttpRetryEvents'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http_retry_events
                ]
            else:
                props['HttpRetryEvents'] = self.http_retry_events

        if self.tcp_retry_events is not None:
            if hasattr(self.tcp_retry_events, 'to_dict'):
                props['TcpRetryEvents'] = self.tcp_retry_events.to_dict()
            elif isinstance(self.tcp_retry_events, list):
                props['TcpRetryEvents'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tcp_retry_events
                ]
            else:
                props['TcpRetryEvents'] = self.tcp_retry_events

        return props


@dataclass
class HttpRoute:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    action: Optional[HttpRouteAction] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout: Optional[HttpTimeout] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    retry_policy: Optional[HttpRetryPolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[HttpRouteMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.action is not None:
            if hasattr(self.action, 'to_dict'):
                props['Action'] = self.action.to_dict()
            elif isinstance(self.action, list):
                props['Action'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.action
                ]
            else:
                props['Action'] = self.action

        if self.timeout is not None:
            if hasattr(self.timeout, 'to_dict'):
                props['Timeout'] = self.timeout.to_dict()
            elif isinstance(self.timeout, list):
                props['Timeout'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout
                ]
            else:
                props['Timeout'] = self.timeout

        if self.retry_policy is not None:
            if hasattr(self.retry_policy, 'to_dict'):
                props['RetryPolicy'] = self.retry_policy.to_dict()
            elif isinstance(self.retry_policy, list):
                props['RetryPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.retry_policy
                ]
            else:
                props['RetryPolicy'] = self.retry_policy

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class HttpRouteAction:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    weighted_targets: Optional[list[WeightedTarget]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.weighted_targets is not None:
            if hasattr(self.weighted_targets, 'to_dict'):
                props['WeightedTargets'] = self.weighted_targets.to_dict()
            elif isinstance(self.weighted_targets, list):
                props['WeightedTargets'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.weighted_targets
                ]
            else:
                props['WeightedTargets'] = self.weighted_targets

        return props


@dataclass
class HttpRouteHeader:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    invert: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[HeaderMatchMethod] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.invert is not None:
            if hasattr(self.invert, 'to_dict'):
                props['Invert'] = self.invert.to_dict()
            elif isinstance(self.invert, list):
                props['Invert'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.invert
                ]
            else:
                props['Invert'] = self.invert

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class HttpRouteMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    path: Optional[HttpPathMatch] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    scheme: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    headers: Optional[list[HttpRouteHeader]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    method: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    query_parameters: Optional[list[QueryParameter]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.path is not None:
            if hasattr(self.path, 'to_dict'):
                props['Path'] = self.path.to_dict()
            elif isinstance(self.path, list):
                props['Path'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.path
                ]
            else:
                props['Path'] = self.path

        if self.scheme is not None:
            if hasattr(self.scheme, 'to_dict'):
                props['Scheme'] = self.scheme.to_dict()
            elif isinstance(self.scheme, list):
                props['Scheme'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.scheme
                ]
            else:
                props['Scheme'] = self.scheme

        if self.headers is not None:
            if hasattr(self.headers, 'to_dict'):
                props['Headers'] = self.headers.to_dict()
            elif isinstance(self.headers, list):
                props['Headers'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.headers
                ]
            else:
                props['Headers'] = self.headers

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.prefix is not None:
            if hasattr(self.prefix, 'to_dict'):
                props['Prefix'] = self.prefix.to_dict()
            elif isinstance(self.prefix, list):
                props['Prefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.prefix
                ]
            else:
                props['Prefix'] = self.prefix

        if self.method is not None:
            if hasattr(self.method, 'to_dict'):
                props['Method'] = self.method.to_dict()
            elif isinstance(self.method, list):
                props['Method'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.method
                ]
            else:
                props['Method'] = self.method

        if self.query_parameters is not None:
            if hasattr(self.query_parameters, 'to_dict'):
                props['QueryParameters'] = self.query_parameters.to_dict()
            elif isinstance(self.query_parameters, list):
                props['QueryParameters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.query_parameters
                ]
            else:
                props['QueryParameters'] = self.query_parameters

        return props


@dataclass
class HttpTimeout:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    per_request: Optional[Duration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    idle: Optional[Duration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.per_request is not None:
            if hasattr(self.per_request, 'to_dict'):
                props['PerRequest'] = self.per_request.to_dict()
            elif isinstance(self.per_request, list):
                props['PerRequest'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.per_request
                ]
            else:
                props['PerRequest'] = self.per_request

        if self.idle is not None:
            if hasattr(self.idle, 'to_dict'):
                props['Idle'] = self.idle.to_dict()
            elif isinstance(self.idle, list):
                props['Idle'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idle
                ]
            else:
                props['Idle'] = self.idle

        return props


@dataclass
class MatchRange:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    start: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    end: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.start is not None:
            if hasattr(self.start, 'to_dict'):
                props['Start'] = self.start.to_dict()
            elif isinstance(self.start, list):
                props['Start'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.start
                ]
            else:
                props['Start'] = self.start

        if self.end is not None:
            if hasattr(self.end, 'to_dict'):
                props['End'] = self.end.to_dict()
            elif isinstance(self.end, list):
                props['End'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.end
                ]
            else:
                props['End'] = self.end

        return props


@dataclass
class QueryParameter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[HttpQueryParameterMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class RouteSpec:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http_route: Optional[HttpRoute] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    priority: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http2_route: Optional[HttpRoute] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    grpc_route: Optional[GrpcRoute] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tcp_route: Optional[TcpRoute] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.http_route is not None:
            if hasattr(self.http_route, 'to_dict'):
                props['HttpRoute'] = self.http_route.to_dict()
            elif isinstance(self.http_route, list):
                props['HttpRoute'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http_route
                ]
            else:
                props['HttpRoute'] = self.http_route

        if self.priority is not None:
            if hasattr(self.priority, 'to_dict'):
                props['Priority'] = self.priority.to_dict()
            elif isinstance(self.priority, list):
                props['Priority'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.priority
                ]
            else:
                props['Priority'] = self.priority

        if self.http2_route is not None:
            if hasattr(self.http2_route, 'to_dict'):
                props['Http2Route'] = self.http2_route.to_dict()
            elif isinstance(self.http2_route, list):
                props['Http2Route'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http2_route
                ]
            else:
                props['Http2Route'] = self.http2_route

        if self.grpc_route is not None:
            if hasattr(self.grpc_route, 'to_dict'):
                props['GrpcRoute'] = self.grpc_route.to_dict()
            elif isinstance(self.grpc_route, list):
                props['GrpcRoute'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.grpc_route
                ]
            else:
                props['GrpcRoute'] = self.grpc_route

        if self.tcp_route is not None:
            if hasattr(self.tcp_route, 'to_dict'):
                props['TcpRoute'] = self.tcp_route.to_dict()
            elif isinstance(self.tcp_route, list):
                props['TcpRoute'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tcp_route
                ]
            else:
                props['TcpRoute'] = self.tcp_route

        return props


@dataclass
class TcpRoute:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    action: Optional[TcpRouteAction] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout: Optional[TcpTimeout] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[TcpRouteMatch] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.action is not None:
            if hasattr(self.action, 'to_dict'):
                props['Action'] = self.action.to_dict()
            elif isinstance(self.action, list):
                props['Action'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.action
                ]
            else:
                props['Action'] = self.action

        if self.timeout is not None:
            if hasattr(self.timeout, 'to_dict'):
                props['Timeout'] = self.timeout.to_dict()
            elif isinstance(self.timeout, list):
                props['Timeout'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout
                ]
            else:
                props['Timeout'] = self.timeout

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class TcpRouteAction:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    weighted_targets: Optional[list[WeightedTarget]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.weighted_targets is not None:
            if hasattr(self.weighted_targets, 'to_dict'):
                props['WeightedTargets'] = self.weighted_targets.to_dict()
            elif isinstance(self.weighted_targets, list):
                props['WeightedTargets'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.weighted_targets
                ]
            else:
                props['WeightedTargets'] = self.weighted_targets

        return props


@dataclass
class TcpRouteMatch:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        return props


@dataclass
class TcpTimeout:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    idle: Optional[Duration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.idle is not None:
            if hasattr(self.idle, 'to_dict'):
                props['Idle'] = self.idle.to_dict()
            elif isinstance(self.idle, list):
                props['Idle'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idle
                ]
            else:
                props['Idle'] = self.idle

        return props


@dataclass
class WeightedTarget:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    virtual_node: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    weight: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.virtual_node is not None:
            if hasattr(self.virtual_node, 'to_dict'):
                props['VirtualNode'] = self.virtual_node.to_dict()
            elif isinstance(self.virtual_node, list):
                props['VirtualNode'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_node
                ]
            else:
                props['VirtualNode'] = self.virtual_node

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.weight is not None:
            if hasattr(self.weight, 'to_dict'):
                props['Weight'] = self.weight.to_dict()
            elif isinstance(self.weight, list):
                props['Weight'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.weight
                ]
            else:
                props['Weight'] = self.weight

        return props


@dataclass
class Route(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appme"""

    resource_type: ClassVar[str] = "AWS::AppMesh::Route"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    virtual_router_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_owner: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    route_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    spec: Optional[RouteSpec] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.mesh_name is not None:
            # Serialize mesh_name (handle intrinsic functions)
            if hasattr(self.mesh_name, 'to_dict'):
                props["MeshName"] = self.mesh_name.to_dict()
            elif isinstance(self.mesh_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_name
                ]
            else:
                props["MeshName"] = self.mesh_name

        if self.virtual_router_name is not None:
            # Serialize virtual_router_name (handle intrinsic functions)
            if hasattr(self.virtual_router_name, 'to_dict'):
                props["VirtualRouterName"] = self.virtual_router_name.to_dict()
            elif isinstance(self.virtual_router_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['VirtualRouterName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_router_name
                ]
            else:
                props["VirtualRouterName"] = self.virtual_router_name

        if self.mesh_owner is not None:
            # Serialize mesh_owner (handle intrinsic functions)
            if hasattr(self.mesh_owner, 'to_dict'):
                props["MeshOwner"] = self.mesh_owner.to_dict()
            elif isinstance(self.mesh_owner, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshOwner'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_owner
                ]
            else:
                props["MeshOwner"] = self.mesh_owner

        if self.route_name is not None:
            # Serialize route_name (handle intrinsic functions)
            if hasattr(self.route_name, 'to_dict'):
                props["RouteName"] = self.route_name.to_dict()
            elif isinstance(self.route_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['RouteName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.route_name
                ]
            else:
                props["RouteName"] = self.route_name

        if self.spec is not None:
            # Serialize spec (handle intrinsic functions)
            if hasattr(self.spec, 'to_dict'):
                props["Spec"] = self.spec.to_dict()
            elif isinstance(self.spec, list):
                # Serialize list items (may contain intrinsic functions)
                props['Spec'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spec
                ]
            else:
                props["Spec"] = self.spec

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_uid(self) -> GetAtt:
        """Get the Uid attribute."""
        return self.get_att("Uid")

    @property
    def attr_mesh_name(self) -> GetAtt:
        """Get the MeshName attribute."""
        return self.get_att("MeshName")

    @property
    def attr_virtual_router_name(self) -> GetAtt:
        """Get the VirtualRouterName attribute."""
        return self.get_att("VirtualRouterName")

    @property
    def attr_mesh_owner(self) -> GetAtt:
        """Get the MeshOwner attribute."""
        return self.get_att("MeshOwner")

    @property
    def attr_resource_owner(self) -> GetAtt:
        """Get the ResourceOwner attribute."""
        return self.get_att("ResourceOwner")

    @property
    def attr_route_name(self) -> GetAtt:
        """Get the RouteName attribute."""
        return self.get_att("RouteName")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")




@dataclass
class JsonFormatRef:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        if self.key is not None:
            if hasattr(self.key, 'to_dict'):
                props['Key'] = self.key.to_dict()
            elif isinstance(self.key, list):
                props['Key'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key
                ]
            else:
                props['Key'] = self.key

        return props


@dataclass
class LoggingFormat:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    text: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    json: Optional[list[JsonFormatRef]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.text is not None:
            if hasattr(self.text, 'to_dict'):
                props['Text'] = self.text.to_dict()
            elif isinstance(self.text, list):
                props['Text'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.text
                ]
            else:
                props['Text'] = self.text

        if self.json is not None:
            if hasattr(self.json, 'to_dict'):
                props['Json'] = self.json.to_dict()
            elif isinstance(self.json, list):
                props['Json'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.json
                ]
            else:
                props['Json'] = self.json

        return props


@dataclass
class SubjectAlternativeNameMatchers:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        return props


@dataclass
class SubjectAlternativeNames:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[SubjectAlternativeNameMatchers] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class VirtualGatewayAccessLog:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    file: Optional[VirtualGatewayFileAccessLog] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.file is not None:
            if hasattr(self.file, 'to_dict'):
                props['File'] = self.file.to_dict()
            elif isinstance(self.file, list):
                props['File'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.file
                ]
            else:
                props['File'] = self.file

        return props


@dataclass
class VirtualGatewayBackendDefaults:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    client_policy: Optional[VirtualGatewayClientPolicy] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.client_policy is not None:
            if hasattr(self.client_policy, 'to_dict'):
                props['ClientPolicy'] = self.client_policy.to_dict()
            elif isinstance(self.client_policy, list):
                props['ClientPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.client_policy
                ]
            else:
                props['ClientPolicy'] = self.client_policy

        return props


@dataclass
class VirtualGatewayClientPolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tls: Optional[VirtualGatewayClientPolicyTls] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.tls is not None:
            if hasattr(self.tls, 'to_dict'):
                props['TLS'] = self.tls.to_dict()
            elif isinstance(self.tls, list):
                props['TLS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tls
                ]
            else:
                props['TLS'] = self.tls

        return props


@dataclass
class VirtualGatewayClientPolicyTls:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    validation: Optional[VirtualGatewayTlsValidationContext] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    enforce: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ports: Optional[Union[list[int], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate: Optional[VirtualGatewayClientTlsCertificate] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.validation is not None:
            if hasattr(self.validation, 'to_dict'):
                props['Validation'] = self.validation.to_dict()
            elif isinstance(self.validation, list):
                props['Validation'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.validation
                ]
            else:
                props['Validation'] = self.validation

        if self.enforce is not None:
            if hasattr(self.enforce, 'to_dict'):
                props['Enforce'] = self.enforce.to_dict()
            elif isinstance(self.enforce, list):
                props['Enforce'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.enforce
                ]
            else:
                props['Enforce'] = self.enforce

        if self.ports is not None:
            if hasattr(self.ports, 'to_dict'):
                props['Ports'] = self.ports.to_dict()
            elif isinstance(self.ports, list):
                props['Ports'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ports
                ]
            else:
                props['Ports'] = self.ports

        if self.certificate is not None:
            if hasattr(self.certificate, 'to_dict'):
                props['Certificate'] = self.certificate.to_dict()
            elif isinstance(self.certificate, list):
                props['Certificate'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate
                ]
            else:
                props['Certificate'] = self.certificate

        return props


@dataclass
class VirtualGatewayClientTlsCertificate:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sds: Optional[VirtualGatewayListenerTlsSdsCertificate] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    file: Optional[VirtualGatewayListenerTlsFileCertificate] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sds is not None:
            if hasattr(self.sds, 'to_dict'):
                props['SDS'] = self.sds.to_dict()
            elif isinstance(self.sds, list):
                props['SDS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sds
                ]
            else:
                props['SDS'] = self.sds

        if self.file is not None:
            if hasattr(self.file, 'to_dict'):
                props['File'] = self.file.to_dict()
            elif isinstance(self.file, list):
                props['File'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.file
                ]
            else:
                props['File'] = self.file

        return props


@dataclass
class VirtualGatewayConnectionPool:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http2: Optional[VirtualGatewayHttp2ConnectionPool] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http: Optional[VirtualGatewayHttpConnectionPool] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    grpc: Optional[VirtualGatewayGrpcConnectionPool] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.http2 is not None:
            if hasattr(self.http2, 'to_dict'):
                props['HTTP2'] = self.http2.to_dict()
            elif isinstance(self.http2, list):
                props['HTTP2'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http2
                ]
            else:
                props['HTTP2'] = self.http2

        if self.http is not None:
            if hasattr(self.http, 'to_dict'):
                props['HTTP'] = self.http.to_dict()
            elif isinstance(self.http, list):
                props['HTTP'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http
                ]
            else:
                props['HTTP'] = self.http

        if self.grpc is not None:
            if hasattr(self.grpc, 'to_dict'):
                props['GRPC'] = self.grpc.to_dict()
            elif isinstance(self.grpc, list):
                props['GRPC'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.grpc
                ]
            else:
                props['GRPC'] = self.grpc

        return props


@dataclass
class VirtualGatewayFileAccessLog:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    path: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    format: Optional[LoggingFormat] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.path is not None:
            if hasattr(self.path, 'to_dict'):
                props['Path'] = self.path.to_dict()
            elif isinstance(self.path, list):
                props['Path'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.path
                ]
            else:
                props['Path'] = self.path

        if self.format is not None:
            if hasattr(self.format, 'to_dict'):
                props['Format'] = self.format.to_dict()
            elif isinstance(self.format, list):
                props['Format'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.format
                ]
            else:
                props['Format'] = self.format

        return props


@dataclass
class VirtualGatewayGrpcConnectionPool:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_requests: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_requests is not None:
            if hasattr(self.max_requests, 'to_dict'):
                props['MaxRequests'] = self.max_requests.to_dict()
            elif isinstance(self.max_requests, list):
                props['MaxRequests'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_requests
                ]
            else:
                props['MaxRequests'] = self.max_requests

        return props


@dataclass
class VirtualGatewayHealthCheckPolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    path: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    unhealthy_threshold: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    healthy_threshold: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout_millis: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    protocol: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    interval_millis: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.path is not None:
            if hasattr(self.path, 'to_dict'):
                props['Path'] = self.path.to_dict()
            elif isinstance(self.path, list):
                props['Path'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.path
                ]
            else:
                props['Path'] = self.path

        if self.unhealthy_threshold is not None:
            if hasattr(self.unhealthy_threshold, 'to_dict'):
                props['UnhealthyThreshold'] = self.unhealthy_threshold.to_dict()
            elif isinstance(self.unhealthy_threshold, list):
                props['UnhealthyThreshold'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.unhealthy_threshold
                ]
            else:
                props['UnhealthyThreshold'] = self.unhealthy_threshold

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.healthy_threshold is not None:
            if hasattr(self.healthy_threshold, 'to_dict'):
                props['HealthyThreshold'] = self.healthy_threshold.to_dict()
            elif isinstance(self.healthy_threshold, list):
                props['HealthyThreshold'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.healthy_threshold
                ]
            else:
                props['HealthyThreshold'] = self.healthy_threshold

        if self.timeout_millis is not None:
            if hasattr(self.timeout_millis, 'to_dict'):
                props['TimeoutMillis'] = self.timeout_millis.to_dict()
            elif isinstance(self.timeout_millis, list):
                props['TimeoutMillis'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout_millis
                ]
            else:
                props['TimeoutMillis'] = self.timeout_millis

        if self.protocol is not None:
            if hasattr(self.protocol, 'to_dict'):
                props['Protocol'] = self.protocol.to_dict()
            elif isinstance(self.protocol, list):
                props['Protocol'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.protocol
                ]
            else:
                props['Protocol'] = self.protocol

        if self.interval_millis is not None:
            if hasattr(self.interval_millis, 'to_dict'):
                props['IntervalMillis'] = self.interval_millis.to_dict()
            elif isinstance(self.interval_millis, list):
                props['IntervalMillis'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.interval_millis
                ]
            else:
                props['IntervalMillis'] = self.interval_millis

        return props


@dataclass
class VirtualGatewayHttp2ConnectionPool:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_requests: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_requests is not None:
            if hasattr(self.max_requests, 'to_dict'):
                props['MaxRequests'] = self.max_requests.to_dict()
            elif isinstance(self.max_requests, list):
                props['MaxRequests'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_requests
                ]
            else:
                props['MaxRequests'] = self.max_requests

        return props


@dataclass
class VirtualGatewayHttpConnectionPool:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_connections: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_pending_requests: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_connections is not None:
            if hasattr(self.max_connections, 'to_dict'):
                props['MaxConnections'] = self.max_connections.to_dict()
            elif isinstance(self.max_connections, list):
                props['MaxConnections'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_connections
                ]
            else:
                props['MaxConnections'] = self.max_connections

        if self.max_pending_requests is not None:
            if hasattr(self.max_pending_requests, 'to_dict'):
                props['MaxPendingRequests'] = self.max_pending_requests.to_dict()
            elif isinstance(self.max_pending_requests, list):
                props['MaxPendingRequests'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_pending_requests
                ]
            else:
                props['MaxPendingRequests'] = self.max_pending_requests

        return props


@dataclass
class VirtualGatewayListener:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    connection_pool: Optional[VirtualGatewayConnectionPool] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    health_check: Optional[VirtualGatewayHealthCheckPolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tls: Optional[VirtualGatewayListenerTls] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port_mapping: Optional[VirtualGatewayPortMapping] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.connection_pool is not None:
            if hasattr(self.connection_pool, 'to_dict'):
                props['ConnectionPool'] = self.connection_pool.to_dict()
            elif isinstance(self.connection_pool, list):
                props['ConnectionPool'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.connection_pool
                ]
            else:
                props['ConnectionPool'] = self.connection_pool

        if self.health_check is not None:
            if hasattr(self.health_check, 'to_dict'):
                props['HealthCheck'] = self.health_check.to_dict()
            elif isinstance(self.health_check, list):
                props['HealthCheck'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.health_check
                ]
            else:
                props['HealthCheck'] = self.health_check

        if self.tls is not None:
            if hasattr(self.tls, 'to_dict'):
                props['TLS'] = self.tls.to_dict()
            elif isinstance(self.tls, list):
                props['TLS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tls
                ]
            else:
                props['TLS'] = self.tls

        if self.port_mapping is not None:
            if hasattr(self.port_mapping, 'to_dict'):
                props['PortMapping'] = self.port_mapping.to_dict()
            elif isinstance(self.port_mapping, list):
                props['PortMapping'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port_mapping
                ]
            else:
                props['PortMapping'] = self.port_mapping

        return props


@dataclass
class VirtualGatewayListenerTls:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    validation: Optional[VirtualGatewayListenerTlsValidationContext] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    mode: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate: Optional[VirtualGatewayListenerTlsCertificate] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.validation is not None:
            if hasattr(self.validation, 'to_dict'):
                props['Validation'] = self.validation.to_dict()
            elif isinstance(self.validation, list):
                props['Validation'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.validation
                ]
            else:
                props['Validation'] = self.validation

        if self.mode is not None:
            if hasattr(self.mode, 'to_dict'):
                props['Mode'] = self.mode.to_dict()
            elif isinstance(self.mode, list):
                props['Mode'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mode
                ]
            else:
                props['Mode'] = self.mode

        if self.certificate is not None:
            if hasattr(self.certificate, 'to_dict'):
                props['Certificate'] = self.certificate.to_dict()
            elif isinstance(self.certificate, list):
                props['Certificate'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate
                ]
            else:
                props['Certificate'] = self.certificate

        return props


@dataclass
class VirtualGatewayListenerTlsAcmCertificate:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.certificate_arn is not None:
            if hasattr(self.certificate_arn, 'to_dict'):
                props['CertificateArn'] = self.certificate_arn.to_dict()
            elif isinstance(self.certificate_arn, list):
                props['CertificateArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate_arn
                ]
            else:
                props['CertificateArn'] = self.certificate_arn

        return props


@dataclass
class VirtualGatewayListenerTlsCertificate:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sds: Optional[VirtualGatewayListenerTlsSdsCertificate] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    acm: Optional[VirtualGatewayListenerTlsAcmCertificate] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    file: Optional[VirtualGatewayListenerTlsFileCertificate] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sds is not None:
            if hasattr(self.sds, 'to_dict'):
                props['SDS'] = self.sds.to_dict()
            elif isinstance(self.sds, list):
                props['SDS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sds
                ]
            else:
                props['SDS'] = self.sds

        if self.acm is not None:
            if hasattr(self.acm, 'to_dict'):
                props['ACM'] = self.acm.to_dict()
            elif isinstance(self.acm, list):
                props['ACM'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.acm
                ]
            else:
                props['ACM'] = self.acm

        if self.file is not None:
            if hasattr(self.file, 'to_dict'):
                props['File'] = self.file.to_dict()
            elif isinstance(self.file, list):
                props['File'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.file
                ]
            else:
                props['File'] = self.file

        return props


@dataclass
class VirtualGatewayListenerTlsFileCertificate:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    private_key: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate_chain: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.private_key is not None:
            if hasattr(self.private_key, 'to_dict'):
                props['PrivateKey'] = self.private_key.to_dict()
            elif isinstance(self.private_key, list):
                props['PrivateKey'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.private_key
                ]
            else:
                props['PrivateKey'] = self.private_key

        if self.certificate_chain is not None:
            if hasattr(self.certificate_chain, 'to_dict'):
                props['CertificateChain'] = self.certificate_chain.to_dict()
            elif isinstance(self.certificate_chain, list):
                props['CertificateChain'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate_chain
                ]
            else:
                props['CertificateChain'] = self.certificate_chain

        return props


@dataclass
class VirtualGatewayListenerTlsSdsCertificate:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    secret_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.secret_name is not None:
            if hasattr(self.secret_name, 'to_dict'):
                props['SecretName'] = self.secret_name.to_dict()
            elif isinstance(self.secret_name, list):
                props['SecretName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.secret_name
                ]
            else:
                props['SecretName'] = self.secret_name

        return props


@dataclass
class VirtualGatewayListenerTlsValidationContext:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    subject_alternative_names: Optional[SubjectAlternativeNames] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    trust: Optional[VirtualGatewayListenerTlsValidationContextTrust] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.subject_alternative_names is not None:
            if hasattr(self.subject_alternative_names, 'to_dict'):
                props['SubjectAlternativeNames'] = self.subject_alternative_names.to_dict()
            elif isinstance(self.subject_alternative_names, list):
                props['SubjectAlternativeNames'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.subject_alternative_names
                ]
            else:
                props['SubjectAlternativeNames'] = self.subject_alternative_names

        if self.trust is not None:
            if hasattr(self.trust, 'to_dict'):
                props['Trust'] = self.trust.to_dict()
            elif isinstance(self.trust, list):
                props['Trust'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.trust
                ]
            else:
                props['Trust'] = self.trust

        return props


@dataclass
class VirtualGatewayListenerTlsValidationContextTrust:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sds: Optional[VirtualGatewayTlsValidationContextSdsTrust] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    file: Optional[VirtualGatewayTlsValidationContextFileTrust] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sds is not None:
            if hasattr(self.sds, 'to_dict'):
                props['SDS'] = self.sds.to_dict()
            elif isinstance(self.sds, list):
                props['SDS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sds
                ]
            else:
                props['SDS'] = self.sds

        if self.file is not None:
            if hasattr(self.file, 'to_dict'):
                props['File'] = self.file.to_dict()
            elif isinstance(self.file, list):
                props['File'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.file
                ]
            else:
                props['File'] = self.file

        return props


@dataclass
class VirtualGatewayLogging:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    access_log: Optional[VirtualGatewayAccessLog] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.access_log is not None:
            if hasattr(self.access_log, 'to_dict'):
                props['AccessLog'] = self.access_log.to_dict()
            elif isinstance(self.access_log, list):
                props['AccessLog'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.access_log
                ]
            else:
                props['AccessLog'] = self.access_log

        return props


@dataclass
class VirtualGatewayPortMapping:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    protocol: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.protocol is not None:
            if hasattr(self.protocol, 'to_dict'):
                props['Protocol'] = self.protocol.to_dict()
            elif isinstance(self.protocol, list):
                props['Protocol'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.protocol
                ]
            else:
                props['Protocol'] = self.protocol

        return props


@dataclass
class VirtualGatewaySpec:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    logging: Optional[VirtualGatewayLogging] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    listeners: Optional[list[VirtualGatewayListener]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    backend_defaults: Optional[VirtualGatewayBackendDefaults] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.logging is not None:
            if hasattr(self.logging, 'to_dict'):
                props['Logging'] = self.logging.to_dict()
            elif isinstance(self.logging, list):
                props['Logging'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.logging
                ]
            else:
                props['Logging'] = self.logging

        if self.listeners is not None:
            if hasattr(self.listeners, 'to_dict'):
                props['Listeners'] = self.listeners.to_dict()
            elif isinstance(self.listeners, list):
                props['Listeners'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.listeners
                ]
            else:
                props['Listeners'] = self.listeners

        if self.backend_defaults is not None:
            if hasattr(self.backend_defaults, 'to_dict'):
                props['BackendDefaults'] = self.backend_defaults.to_dict()
            elif isinstance(self.backend_defaults, list):
                props['BackendDefaults'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backend_defaults
                ]
            else:
                props['BackendDefaults'] = self.backend_defaults

        return props


@dataclass
class VirtualGatewayTlsValidationContext:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    subject_alternative_names: Optional[SubjectAlternativeNames] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    trust: Optional[VirtualGatewayTlsValidationContextTrust] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.subject_alternative_names is not None:
            if hasattr(self.subject_alternative_names, 'to_dict'):
                props['SubjectAlternativeNames'] = self.subject_alternative_names.to_dict()
            elif isinstance(self.subject_alternative_names, list):
                props['SubjectAlternativeNames'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.subject_alternative_names
                ]
            else:
                props['SubjectAlternativeNames'] = self.subject_alternative_names

        if self.trust is not None:
            if hasattr(self.trust, 'to_dict'):
                props['Trust'] = self.trust.to_dict()
            elif isinstance(self.trust, list):
                props['Trust'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.trust
                ]
            else:
                props['Trust'] = self.trust

        return props


@dataclass
class VirtualGatewayTlsValidationContextAcmTrust:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate_authority_arns: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.certificate_authority_arns is not None:
            if hasattr(self.certificate_authority_arns, 'to_dict'):
                props['CertificateAuthorityArns'] = self.certificate_authority_arns.to_dict()
            elif isinstance(self.certificate_authority_arns, list):
                props['CertificateAuthorityArns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate_authority_arns
                ]
            else:
                props['CertificateAuthorityArns'] = self.certificate_authority_arns

        return props


@dataclass
class VirtualGatewayTlsValidationContextFileTrust:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate_chain: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.certificate_chain is not None:
            if hasattr(self.certificate_chain, 'to_dict'):
                props['CertificateChain'] = self.certificate_chain.to_dict()
            elif isinstance(self.certificate_chain, list):
                props['CertificateChain'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate_chain
                ]
            else:
                props['CertificateChain'] = self.certificate_chain

        return props


@dataclass
class VirtualGatewayTlsValidationContextSdsTrust:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    secret_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.secret_name is not None:
            if hasattr(self.secret_name, 'to_dict'):
                props['SecretName'] = self.secret_name.to_dict()
            elif isinstance(self.secret_name, list):
                props['SecretName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.secret_name
                ]
            else:
                props['SecretName'] = self.secret_name

        return props


@dataclass
class VirtualGatewayTlsValidationContextTrust:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sds: Optional[VirtualGatewayTlsValidationContextSdsTrust] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    acm: Optional[VirtualGatewayTlsValidationContextAcmTrust] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    file: Optional[VirtualGatewayTlsValidationContextFileTrust] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sds is not None:
            if hasattr(self.sds, 'to_dict'):
                props['SDS'] = self.sds.to_dict()
            elif isinstance(self.sds, list):
                props['SDS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sds
                ]
            else:
                props['SDS'] = self.sds

        if self.acm is not None:
            if hasattr(self.acm, 'to_dict'):
                props['ACM'] = self.acm.to_dict()
            elif isinstance(self.acm, list):
                props['ACM'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.acm
                ]
            else:
                props['ACM'] = self.acm

        if self.file is not None:
            if hasattr(self.file, 'to_dict'):
                props['File'] = self.file.to_dict()
            elif isinstance(self.file, list):
                props['File'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.file
                ]
            else:
                props['File'] = self.file

        return props


@dataclass
class VirtualGateway(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appme"""

    resource_type: ClassVar[str] = "AWS::AppMesh::VirtualGateway"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    virtual_gateway_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_owner: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    spec: Optional[VirtualGatewaySpec] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.virtual_gateway_name is not None:
            # Serialize virtual_gateway_name (handle intrinsic functions)
            if hasattr(self.virtual_gateway_name, 'to_dict'):
                props["VirtualGatewayName"] = self.virtual_gateway_name.to_dict()
            elif isinstance(self.virtual_gateway_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['VirtualGatewayName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_gateway_name
                ]
            else:
                props["VirtualGatewayName"] = self.virtual_gateway_name

        if self.mesh_name is not None:
            # Serialize mesh_name (handle intrinsic functions)
            if hasattr(self.mesh_name, 'to_dict'):
                props["MeshName"] = self.mesh_name.to_dict()
            elif isinstance(self.mesh_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_name
                ]
            else:
                props["MeshName"] = self.mesh_name

        if self.mesh_owner is not None:
            # Serialize mesh_owner (handle intrinsic functions)
            if hasattr(self.mesh_owner, 'to_dict'):
                props["MeshOwner"] = self.mesh_owner.to_dict()
            elif isinstance(self.mesh_owner, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshOwner'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_owner
                ]
            else:
                props["MeshOwner"] = self.mesh_owner

        if self.spec is not None:
            # Serialize spec (handle intrinsic functions)
            if hasattr(self.spec, 'to_dict'):
                props["Spec"] = self.spec.to_dict()
            elif isinstance(self.spec, list):
                # Serialize list items (may contain intrinsic functions)
                props['Spec'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spec
                ]
            else:
                props["Spec"] = self.spec

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_uid(self) -> GetAtt:
        """Get the Uid attribute."""
        return self.get_att("Uid")

    @property
    def attr_virtual_gateway_name(self) -> GetAtt:
        """Get the VirtualGatewayName attribute."""
        return self.get_att("VirtualGatewayName")

    @property
    def attr_mesh_name(self) -> GetAtt:
        """Get the MeshName attribute."""
        return self.get_att("MeshName")

    @property
    def attr_mesh_owner(self) -> GetAtt:
        """Get the MeshOwner attribute."""
        return self.get_att("MeshOwner")

    @property
    def attr_resource_owner(self) -> GetAtt:
        """Get the ResourceOwner attribute."""
        return self.get_att("ResourceOwner")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")




@dataclass
class AccessLog:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    file: Optional[FileAccessLog] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.file is not None:
            if hasattr(self.file, 'to_dict'):
                props['File'] = self.file.to_dict()
            elif isinstance(self.file, list):
                props['File'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.file
                ]
            else:
                props['File'] = self.file

        return props


@dataclass
class AwsCloudMapInstanceAttribute:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        if self.key is not None:
            if hasattr(self.key, 'to_dict'):
                props['Key'] = self.key.to_dict()
            elif isinstance(self.key, list):
                props['Key'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key
                ]
            else:
                props['Key'] = self.key

        return props


@dataclass
class AwsCloudMapServiceDiscovery:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    namespace_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    service_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ip_preference: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    attributes: Optional[list[AwsCloudMapInstanceAttribute]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.namespace_name is not None:
            if hasattr(self.namespace_name, 'to_dict'):
                props['NamespaceName'] = self.namespace_name.to_dict()
            elif isinstance(self.namespace_name, list):
                props['NamespaceName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.namespace_name
                ]
            else:
                props['NamespaceName'] = self.namespace_name

        if self.service_name is not None:
            if hasattr(self.service_name, 'to_dict'):
                props['ServiceName'] = self.service_name.to_dict()
            elif isinstance(self.service_name, list):
                props['ServiceName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.service_name
                ]
            else:
                props['ServiceName'] = self.service_name

        if self.ip_preference is not None:
            if hasattr(self.ip_preference, 'to_dict'):
                props['IpPreference'] = self.ip_preference.to_dict()
            elif isinstance(self.ip_preference, list):
                props['IpPreference'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ip_preference
                ]
            else:
                props['IpPreference'] = self.ip_preference

        if self.attributes is not None:
            if hasattr(self.attributes, 'to_dict'):
                props['Attributes'] = self.attributes.to_dict()
            elif isinstance(self.attributes, list):
                props['Attributes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.attributes
                ]
            else:
                props['Attributes'] = self.attributes

        return props


@dataclass
class Backend:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    virtual_service: Optional[VirtualServiceBackend] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.virtual_service is not None:
            if hasattr(self.virtual_service, 'to_dict'):
                props['VirtualService'] = self.virtual_service.to_dict()
            elif isinstance(self.virtual_service, list):
                props['VirtualService'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_service
                ]
            else:
                props['VirtualService'] = self.virtual_service

        return props


@dataclass
class BackendDefaults:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    client_policy: Optional[ClientPolicy] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.client_policy is not None:
            if hasattr(self.client_policy, 'to_dict'):
                props['ClientPolicy'] = self.client_policy.to_dict()
            elif isinstance(self.client_policy, list):
                props['ClientPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.client_policy
                ]
            else:
                props['ClientPolicy'] = self.client_policy

        return props


@dataclass
class ClientPolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tls: Optional[ClientPolicyTls] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.tls is not None:
            if hasattr(self.tls, 'to_dict'):
                props['TLS'] = self.tls.to_dict()
            elif isinstance(self.tls, list):
                props['TLS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tls
                ]
            else:
                props['TLS'] = self.tls

        return props


@dataclass
class ClientPolicyTls:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    validation: Optional[TlsValidationContext] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    enforce: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ports: Optional[Union[list[int], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate: Optional[ClientTlsCertificate] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.validation is not None:
            if hasattr(self.validation, 'to_dict'):
                props['Validation'] = self.validation.to_dict()
            elif isinstance(self.validation, list):
                props['Validation'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.validation
                ]
            else:
                props['Validation'] = self.validation

        if self.enforce is not None:
            if hasattr(self.enforce, 'to_dict'):
                props['Enforce'] = self.enforce.to_dict()
            elif isinstance(self.enforce, list):
                props['Enforce'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.enforce
                ]
            else:
                props['Enforce'] = self.enforce

        if self.ports is not None:
            if hasattr(self.ports, 'to_dict'):
                props['Ports'] = self.ports.to_dict()
            elif isinstance(self.ports, list):
                props['Ports'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ports
                ]
            else:
                props['Ports'] = self.ports

        if self.certificate is not None:
            if hasattr(self.certificate, 'to_dict'):
                props['Certificate'] = self.certificate.to_dict()
            elif isinstance(self.certificate, list):
                props['Certificate'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate
                ]
            else:
                props['Certificate'] = self.certificate

        return props


@dataclass
class ClientTlsCertificate:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sds: Optional[ListenerTlsSdsCertificate] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    file: Optional[ListenerTlsFileCertificate] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sds is not None:
            if hasattr(self.sds, 'to_dict'):
                props['SDS'] = self.sds.to_dict()
            elif isinstance(self.sds, list):
                props['SDS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sds
                ]
            else:
                props['SDS'] = self.sds

        if self.file is not None:
            if hasattr(self.file, 'to_dict'):
                props['File'] = self.file.to_dict()
            elif isinstance(self.file, list):
                props['File'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.file
                ]
            else:
                props['File'] = self.file

        return props


@dataclass
class DnsServiceDiscovery:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ip_preference: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    hostname: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    response_type: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.ip_preference is not None:
            if hasattr(self.ip_preference, 'to_dict'):
                props['IpPreference'] = self.ip_preference.to_dict()
            elif isinstance(self.ip_preference, list):
                props['IpPreference'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ip_preference
                ]
            else:
                props['IpPreference'] = self.ip_preference

        if self.hostname is not None:
            if hasattr(self.hostname, 'to_dict'):
                props['Hostname'] = self.hostname.to_dict()
            elif isinstance(self.hostname, list):
                props['Hostname'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.hostname
                ]
            else:
                props['Hostname'] = self.hostname

        if self.response_type is not None:
            if hasattr(self.response_type, 'to_dict'):
                props['ResponseType'] = self.response_type.to_dict()
            elif isinstance(self.response_type, list):
                props['ResponseType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.response_type
                ]
            else:
                props['ResponseType'] = self.response_type

        return props


@dataclass
class Duration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    unit: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        if self.unit is not None:
            if hasattr(self.unit, 'to_dict'):
                props['Unit'] = self.unit.to_dict()
            elif isinstance(self.unit, list):
                props['Unit'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.unit
                ]
            else:
                props['Unit'] = self.unit

        return props


@dataclass
class FileAccessLog:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    path: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    format: Optional[LoggingFormat] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.path is not None:
            if hasattr(self.path, 'to_dict'):
                props['Path'] = self.path.to_dict()
            elif isinstance(self.path, list):
                props['Path'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.path
                ]
            else:
                props['Path'] = self.path

        if self.format is not None:
            if hasattr(self.format, 'to_dict'):
                props['Format'] = self.format.to_dict()
            elif isinstance(self.format, list):
                props['Format'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.format
                ]
            else:
                props['Format'] = self.format

        return props


@dataclass
class GrpcTimeout:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    per_request: Optional[Duration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    idle: Optional[Duration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.per_request is not None:
            if hasattr(self.per_request, 'to_dict'):
                props['PerRequest'] = self.per_request.to_dict()
            elif isinstance(self.per_request, list):
                props['PerRequest'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.per_request
                ]
            else:
                props['PerRequest'] = self.per_request

        if self.idle is not None:
            if hasattr(self.idle, 'to_dict'):
                props['Idle'] = self.idle.to_dict()
            elif isinstance(self.idle, list):
                props['Idle'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idle
                ]
            else:
                props['Idle'] = self.idle

        return props


@dataclass
class HealthCheck:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    path: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    unhealthy_threshold: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    healthy_threshold: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout_millis: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    protocol: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    interval_millis: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.path is not None:
            if hasattr(self.path, 'to_dict'):
                props['Path'] = self.path.to_dict()
            elif isinstance(self.path, list):
                props['Path'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.path
                ]
            else:
                props['Path'] = self.path

        if self.unhealthy_threshold is not None:
            if hasattr(self.unhealthy_threshold, 'to_dict'):
                props['UnhealthyThreshold'] = self.unhealthy_threshold.to_dict()
            elif isinstance(self.unhealthy_threshold, list):
                props['UnhealthyThreshold'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.unhealthy_threshold
                ]
            else:
                props['UnhealthyThreshold'] = self.unhealthy_threshold

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.healthy_threshold is not None:
            if hasattr(self.healthy_threshold, 'to_dict'):
                props['HealthyThreshold'] = self.healthy_threshold.to_dict()
            elif isinstance(self.healthy_threshold, list):
                props['HealthyThreshold'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.healthy_threshold
                ]
            else:
                props['HealthyThreshold'] = self.healthy_threshold

        if self.timeout_millis is not None:
            if hasattr(self.timeout_millis, 'to_dict'):
                props['TimeoutMillis'] = self.timeout_millis.to_dict()
            elif isinstance(self.timeout_millis, list):
                props['TimeoutMillis'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout_millis
                ]
            else:
                props['TimeoutMillis'] = self.timeout_millis

        if self.protocol is not None:
            if hasattr(self.protocol, 'to_dict'):
                props['Protocol'] = self.protocol.to_dict()
            elif isinstance(self.protocol, list):
                props['Protocol'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.protocol
                ]
            else:
                props['Protocol'] = self.protocol

        if self.interval_millis is not None:
            if hasattr(self.interval_millis, 'to_dict'):
                props['IntervalMillis'] = self.interval_millis.to_dict()
            elif isinstance(self.interval_millis, list):
                props['IntervalMillis'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.interval_millis
                ]
            else:
                props['IntervalMillis'] = self.interval_millis

        return props


@dataclass
class HttpTimeout:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    per_request: Optional[Duration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    idle: Optional[Duration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.per_request is not None:
            if hasattr(self.per_request, 'to_dict'):
                props['PerRequest'] = self.per_request.to_dict()
            elif isinstance(self.per_request, list):
                props['PerRequest'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.per_request
                ]
            else:
                props['PerRequest'] = self.per_request

        if self.idle is not None:
            if hasattr(self.idle, 'to_dict'):
                props['Idle'] = self.idle.to_dict()
            elif isinstance(self.idle, list):
                props['Idle'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idle
                ]
            else:
                props['Idle'] = self.idle

        return props


@dataclass
class JsonFormatRef:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    value: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.value is not None:
            if hasattr(self.value, 'to_dict'):
                props['Value'] = self.value.to_dict()
            elif isinstance(self.value, list):
                props['Value'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.value
                ]
            else:
                props['Value'] = self.value

        if self.key is not None:
            if hasattr(self.key, 'to_dict'):
                props['Key'] = self.key.to_dict()
            elif isinstance(self.key, list):
                props['Key'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key
                ]
            else:
                props['Key'] = self.key

        return props


@dataclass
class Listener:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    connection_pool: Optional[VirtualNodeConnectionPool] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    timeout: Optional[ListenerTimeout] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    health_check: Optional[HealthCheck] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tls: Optional[ListenerTls] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port_mapping: Optional[PortMapping] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    outlier_detection: Optional[OutlierDetection] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.connection_pool is not None:
            if hasattr(self.connection_pool, 'to_dict'):
                props['ConnectionPool'] = self.connection_pool.to_dict()
            elif isinstance(self.connection_pool, list):
                props['ConnectionPool'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.connection_pool
                ]
            else:
                props['ConnectionPool'] = self.connection_pool

        if self.timeout is not None:
            if hasattr(self.timeout, 'to_dict'):
                props['Timeout'] = self.timeout.to_dict()
            elif isinstance(self.timeout, list):
                props['Timeout'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.timeout
                ]
            else:
                props['Timeout'] = self.timeout

        if self.health_check is not None:
            if hasattr(self.health_check, 'to_dict'):
                props['HealthCheck'] = self.health_check.to_dict()
            elif isinstance(self.health_check, list):
                props['HealthCheck'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.health_check
                ]
            else:
                props['HealthCheck'] = self.health_check

        if self.tls is not None:
            if hasattr(self.tls, 'to_dict'):
                props['TLS'] = self.tls.to_dict()
            elif isinstance(self.tls, list):
                props['TLS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tls
                ]
            else:
                props['TLS'] = self.tls

        if self.port_mapping is not None:
            if hasattr(self.port_mapping, 'to_dict'):
                props['PortMapping'] = self.port_mapping.to_dict()
            elif isinstance(self.port_mapping, list):
                props['PortMapping'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port_mapping
                ]
            else:
                props['PortMapping'] = self.port_mapping

        if self.outlier_detection is not None:
            if hasattr(self.outlier_detection, 'to_dict'):
                props['OutlierDetection'] = self.outlier_detection.to_dict()
            elif isinstance(self.outlier_detection, list):
                props['OutlierDetection'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.outlier_detection
                ]
            else:
                props['OutlierDetection'] = self.outlier_detection

        return props


@dataclass
class ListenerTimeout:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tcp: Optional[TcpTimeout] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http2: Optional[HttpTimeout] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http: Optional[HttpTimeout] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    grpc: Optional[GrpcTimeout] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.tcp is not None:
            if hasattr(self.tcp, 'to_dict'):
                props['TCP'] = self.tcp.to_dict()
            elif isinstance(self.tcp, list):
                props['TCP'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tcp
                ]
            else:
                props['TCP'] = self.tcp

        if self.http2 is not None:
            if hasattr(self.http2, 'to_dict'):
                props['HTTP2'] = self.http2.to_dict()
            elif isinstance(self.http2, list):
                props['HTTP2'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http2
                ]
            else:
                props['HTTP2'] = self.http2

        if self.http is not None:
            if hasattr(self.http, 'to_dict'):
                props['HTTP'] = self.http.to_dict()
            elif isinstance(self.http, list):
                props['HTTP'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http
                ]
            else:
                props['HTTP'] = self.http

        if self.grpc is not None:
            if hasattr(self.grpc, 'to_dict'):
                props['GRPC'] = self.grpc.to_dict()
            elif isinstance(self.grpc, list):
                props['GRPC'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.grpc
                ]
            else:
                props['GRPC'] = self.grpc

        return props


@dataclass
class ListenerTls:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    validation: Optional[ListenerTlsValidationContext] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    mode: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate: Optional[ListenerTlsCertificate] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.validation is not None:
            if hasattr(self.validation, 'to_dict'):
                props['Validation'] = self.validation.to_dict()
            elif isinstance(self.validation, list):
                props['Validation'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.validation
                ]
            else:
                props['Validation'] = self.validation

        if self.mode is not None:
            if hasattr(self.mode, 'to_dict'):
                props['Mode'] = self.mode.to_dict()
            elif isinstance(self.mode, list):
                props['Mode'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mode
                ]
            else:
                props['Mode'] = self.mode

        if self.certificate is not None:
            if hasattr(self.certificate, 'to_dict'):
                props['Certificate'] = self.certificate.to_dict()
            elif isinstance(self.certificate, list):
                props['Certificate'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate
                ]
            else:
                props['Certificate'] = self.certificate

        return props


@dataclass
class ListenerTlsAcmCertificate:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.certificate_arn is not None:
            if hasattr(self.certificate_arn, 'to_dict'):
                props['CertificateArn'] = self.certificate_arn.to_dict()
            elif isinstance(self.certificate_arn, list):
                props['CertificateArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate_arn
                ]
            else:
                props['CertificateArn'] = self.certificate_arn

        return props


@dataclass
class ListenerTlsCertificate:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sds: Optional[ListenerTlsSdsCertificate] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    acm: Optional[ListenerTlsAcmCertificate] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    file: Optional[ListenerTlsFileCertificate] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sds is not None:
            if hasattr(self.sds, 'to_dict'):
                props['SDS'] = self.sds.to_dict()
            elif isinstance(self.sds, list):
                props['SDS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sds
                ]
            else:
                props['SDS'] = self.sds

        if self.acm is not None:
            if hasattr(self.acm, 'to_dict'):
                props['ACM'] = self.acm.to_dict()
            elif isinstance(self.acm, list):
                props['ACM'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.acm
                ]
            else:
                props['ACM'] = self.acm

        if self.file is not None:
            if hasattr(self.file, 'to_dict'):
                props['File'] = self.file.to_dict()
            elif isinstance(self.file, list):
                props['File'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.file
                ]
            else:
                props['File'] = self.file

        return props


@dataclass
class ListenerTlsFileCertificate:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    private_key: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate_chain: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.private_key is not None:
            if hasattr(self.private_key, 'to_dict'):
                props['PrivateKey'] = self.private_key.to_dict()
            elif isinstance(self.private_key, list):
                props['PrivateKey'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.private_key
                ]
            else:
                props['PrivateKey'] = self.private_key

        if self.certificate_chain is not None:
            if hasattr(self.certificate_chain, 'to_dict'):
                props['CertificateChain'] = self.certificate_chain.to_dict()
            elif isinstance(self.certificate_chain, list):
                props['CertificateChain'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate_chain
                ]
            else:
                props['CertificateChain'] = self.certificate_chain

        return props


@dataclass
class ListenerTlsSdsCertificate:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    secret_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.secret_name is not None:
            if hasattr(self.secret_name, 'to_dict'):
                props['SecretName'] = self.secret_name.to_dict()
            elif isinstance(self.secret_name, list):
                props['SecretName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.secret_name
                ]
            else:
                props['SecretName'] = self.secret_name

        return props


@dataclass
class ListenerTlsValidationContext:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    subject_alternative_names: Optional[SubjectAlternativeNames] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    trust: Optional[ListenerTlsValidationContextTrust] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.subject_alternative_names is not None:
            if hasattr(self.subject_alternative_names, 'to_dict'):
                props['SubjectAlternativeNames'] = self.subject_alternative_names.to_dict()
            elif isinstance(self.subject_alternative_names, list):
                props['SubjectAlternativeNames'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.subject_alternative_names
                ]
            else:
                props['SubjectAlternativeNames'] = self.subject_alternative_names

        if self.trust is not None:
            if hasattr(self.trust, 'to_dict'):
                props['Trust'] = self.trust.to_dict()
            elif isinstance(self.trust, list):
                props['Trust'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.trust
                ]
            else:
                props['Trust'] = self.trust

        return props


@dataclass
class ListenerTlsValidationContextTrust:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sds: Optional[TlsValidationContextSdsTrust] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    file: Optional[TlsValidationContextFileTrust] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sds is not None:
            if hasattr(self.sds, 'to_dict'):
                props['SDS'] = self.sds.to_dict()
            elif isinstance(self.sds, list):
                props['SDS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sds
                ]
            else:
                props['SDS'] = self.sds

        if self.file is not None:
            if hasattr(self.file, 'to_dict'):
                props['File'] = self.file.to_dict()
            elif isinstance(self.file, list):
                props['File'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.file
                ]
            else:
                props['File'] = self.file

        return props


@dataclass
class Logging:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    access_log: Optional[AccessLog] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.access_log is not None:
            if hasattr(self.access_log, 'to_dict'):
                props['AccessLog'] = self.access_log.to_dict()
            elif isinstance(self.access_log, list):
                props['AccessLog'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.access_log
                ]
            else:
                props['AccessLog'] = self.access_log

        return props


@dataclass
class LoggingFormat:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    text: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    json: Optional[list[JsonFormatRef]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.text is not None:
            if hasattr(self.text, 'to_dict'):
                props['Text'] = self.text.to_dict()
            elif isinstance(self.text, list):
                props['Text'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.text
                ]
            else:
                props['Text'] = self.text

        if self.json is not None:
            if hasattr(self.json, 'to_dict'):
                props['Json'] = self.json.to_dict()
            elif isinstance(self.json, list):
                props['Json'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.json
                ]
            else:
                props['Json'] = self.json

        return props


@dataclass
class OutlierDetection:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_ejection_percent: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    base_ejection_duration: Optional[Duration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_server_errors: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    interval: Optional[Duration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_ejection_percent is not None:
            if hasattr(self.max_ejection_percent, 'to_dict'):
                props['MaxEjectionPercent'] = self.max_ejection_percent.to_dict()
            elif isinstance(self.max_ejection_percent, list):
                props['MaxEjectionPercent'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_ejection_percent
                ]
            else:
                props['MaxEjectionPercent'] = self.max_ejection_percent

        if self.base_ejection_duration is not None:
            if hasattr(self.base_ejection_duration, 'to_dict'):
                props['BaseEjectionDuration'] = self.base_ejection_duration.to_dict()
            elif isinstance(self.base_ejection_duration, list):
                props['BaseEjectionDuration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.base_ejection_duration
                ]
            else:
                props['BaseEjectionDuration'] = self.base_ejection_duration

        if self.max_server_errors is not None:
            if hasattr(self.max_server_errors, 'to_dict'):
                props['MaxServerErrors'] = self.max_server_errors.to_dict()
            elif isinstance(self.max_server_errors, list):
                props['MaxServerErrors'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_server_errors
                ]
            else:
                props['MaxServerErrors'] = self.max_server_errors

        if self.interval is not None:
            if hasattr(self.interval, 'to_dict'):
                props['Interval'] = self.interval.to_dict()
            elif isinstance(self.interval, list):
                props['Interval'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.interval
                ]
            else:
                props['Interval'] = self.interval

        return props


@dataclass
class PortMapping:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    protocol: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.protocol is not None:
            if hasattr(self.protocol, 'to_dict'):
                props['Protocol'] = self.protocol.to_dict()
            elif isinstance(self.protocol, list):
                props['Protocol'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.protocol
                ]
            else:
                props['Protocol'] = self.protocol

        return props


@dataclass
class ServiceDiscovery:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    dns: Optional[DnsServiceDiscovery] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    aws_cloud_map: Optional[AwsCloudMapServiceDiscovery] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.dns is not None:
            if hasattr(self.dns, 'to_dict'):
                props['DNS'] = self.dns.to_dict()
            elif isinstance(self.dns, list):
                props['DNS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.dns
                ]
            else:
                props['DNS'] = self.dns

        if self.aws_cloud_map is not None:
            if hasattr(self.aws_cloud_map, 'to_dict'):
                props['AWSCloudMap'] = self.aws_cloud_map.to_dict()
            elif isinstance(self.aws_cloud_map, list):
                props['AWSCloudMap'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.aws_cloud_map
                ]
            else:
                props['AWSCloudMap'] = self.aws_cloud_map

        return props


@dataclass
class SubjectAlternativeNameMatchers:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    exact: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.exact is not None:
            if hasattr(self.exact, 'to_dict'):
                props['Exact'] = self.exact.to_dict()
            elif isinstance(self.exact, list):
                props['Exact'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.exact
                ]
            else:
                props['Exact'] = self.exact

        return props


@dataclass
class SubjectAlternativeNames:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    match: Optional[SubjectAlternativeNameMatchers] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.match is not None:
            if hasattr(self.match, 'to_dict'):
                props['Match'] = self.match.to_dict()
            elif isinstance(self.match, list):
                props['Match'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.match
                ]
            else:
                props['Match'] = self.match

        return props


@dataclass
class TcpTimeout:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    idle: Optional[Duration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.idle is not None:
            if hasattr(self.idle, 'to_dict'):
                props['Idle'] = self.idle.to_dict()
            elif isinstance(self.idle, list):
                props['Idle'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.idle
                ]
            else:
                props['Idle'] = self.idle

        return props


@dataclass
class TlsValidationContext:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    subject_alternative_names: Optional[SubjectAlternativeNames] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    trust: Optional[TlsValidationContextTrust] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.subject_alternative_names is not None:
            if hasattr(self.subject_alternative_names, 'to_dict'):
                props['SubjectAlternativeNames'] = self.subject_alternative_names.to_dict()
            elif isinstance(self.subject_alternative_names, list):
                props['SubjectAlternativeNames'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.subject_alternative_names
                ]
            else:
                props['SubjectAlternativeNames'] = self.subject_alternative_names

        if self.trust is not None:
            if hasattr(self.trust, 'to_dict'):
                props['Trust'] = self.trust.to_dict()
            elif isinstance(self.trust, list):
                props['Trust'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.trust
                ]
            else:
                props['Trust'] = self.trust

        return props


@dataclass
class TlsValidationContextAcmTrust:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate_authority_arns: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.certificate_authority_arns is not None:
            if hasattr(self.certificate_authority_arns, 'to_dict'):
                props['CertificateAuthorityArns'] = self.certificate_authority_arns.to_dict()
            elif isinstance(self.certificate_authority_arns, list):
                props['CertificateAuthorityArns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate_authority_arns
                ]
            else:
                props['CertificateAuthorityArns'] = self.certificate_authority_arns

        return props


@dataclass
class TlsValidationContextFileTrust:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    certificate_chain: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.certificate_chain is not None:
            if hasattr(self.certificate_chain, 'to_dict'):
                props['CertificateChain'] = self.certificate_chain.to_dict()
            elif isinstance(self.certificate_chain, list):
                props['CertificateChain'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.certificate_chain
                ]
            else:
                props['CertificateChain'] = self.certificate_chain

        return props


@dataclass
class TlsValidationContextSdsTrust:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    secret_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.secret_name is not None:
            if hasattr(self.secret_name, 'to_dict'):
                props['SecretName'] = self.secret_name.to_dict()
            elif isinstance(self.secret_name, list):
                props['SecretName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.secret_name
                ]
            else:
                props['SecretName'] = self.secret_name

        return props


@dataclass
class TlsValidationContextTrust:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sds: Optional[TlsValidationContextSdsTrust] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    acm: Optional[TlsValidationContextAcmTrust] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    file: Optional[TlsValidationContextFileTrust] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sds is not None:
            if hasattr(self.sds, 'to_dict'):
                props['SDS'] = self.sds.to_dict()
            elif isinstance(self.sds, list):
                props['SDS'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sds
                ]
            else:
                props['SDS'] = self.sds

        if self.acm is not None:
            if hasattr(self.acm, 'to_dict'):
                props['ACM'] = self.acm.to_dict()
            elif isinstance(self.acm, list):
                props['ACM'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.acm
                ]
            else:
                props['ACM'] = self.acm

        if self.file is not None:
            if hasattr(self.file, 'to_dict'):
                props['File'] = self.file.to_dict()
            elif isinstance(self.file, list):
                props['File'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.file
                ]
            else:
                props['File'] = self.file

        return props


@dataclass
class VirtualNodeConnectionPool:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    tcp: Optional[VirtualNodeTcpConnectionPool] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http2: Optional[VirtualNodeHttp2ConnectionPool] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    http: Optional[VirtualNodeHttpConnectionPool] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    grpc: Optional[VirtualNodeGrpcConnectionPool] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.tcp is not None:
            if hasattr(self.tcp, 'to_dict'):
                props['TCP'] = self.tcp.to_dict()
            elif isinstance(self.tcp, list):
                props['TCP'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.tcp
                ]
            else:
                props['TCP'] = self.tcp

        if self.http2 is not None:
            if hasattr(self.http2, 'to_dict'):
                props['HTTP2'] = self.http2.to_dict()
            elif isinstance(self.http2, list):
                props['HTTP2'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http2
                ]
            else:
                props['HTTP2'] = self.http2

        if self.http is not None:
            if hasattr(self.http, 'to_dict'):
                props['HTTP'] = self.http.to_dict()
            elif isinstance(self.http, list):
                props['HTTP'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.http
                ]
            else:
                props['HTTP'] = self.http

        if self.grpc is not None:
            if hasattr(self.grpc, 'to_dict'):
                props['GRPC'] = self.grpc.to_dict()
            elif isinstance(self.grpc, list):
                props['GRPC'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.grpc
                ]
            else:
                props['GRPC'] = self.grpc

        return props


@dataclass
class VirtualNodeGrpcConnectionPool:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_requests: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_requests is not None:
            if hasattr(self.max_requests, 'to_dict'):
                props['MaxRequests'] = self.max_requests.to_dict()
            elif isinstance(self.max_requests, list):
                props['MaxRequests'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_requests
                ]
            else:
                props['MaxRequests'] = self.max_requests

        return props


@dataclass
class VirtualNodeHttp2ConnectionPool:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_requests: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_requests is not None:
            if hasattr(self.max_requests, 'to_dict'):
                props['MaxRequests'] = self.max_requests.to_dict()
            elif isinstance(self.max_requests, list):
                props['MaxRequests'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_requests
                ]
            else:
                props['MaxRequests'] = self.max_requests

        return props


@dataclass
class VirtualNodeHttpConnectionPool:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_connections: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_pending_requests: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_connections is not None:
            if hasattr(self.max_connections, 'to_dict'):
                props['MaxConnections'] = self.max_connections.to_dict()
            elif isinstance(self.max_connections, list):
                props['MaxConnections'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_connections
                ]
            else:
                props['MaxConnections'] = self.max_connections

        if self.max_pending_requests is not None:
            if hasattr(self.max_pending_requests, 'to_dict'):
                props['MaxPendingRequests'] = self.max_pending_requests.to_dict()
            elif isinstance(self.max_pending_requests, list):
                props['MaxPendingRequests'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_pending_requests
                ]
            else:
                props['MaxPendingRequests'] = self.max_pending_requests

        return props


@dataclass
class VirtualNodeSpec:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    logging: Optional[Logging] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    backends: Optional[list[Backend]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    listeners: Optional[list[Listener]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    backend_defaults: Optional[BackendDefaults] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    service_discovery: Optional[ServiceDiscovery] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.logging is not None:
            if hasattr(self.logging, 'to_dict'):
                props['Logging'] = self.logging.to_dict()
            elif isinstance(self.logging, list):
                props['Logging'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.logging
                ]
            else:
                props['Logging'] = self.logging

        if self.backends is not None:
            if hasattr(self.backends, 'to_dict'):
                props['Backends'] = self.backends.to_dict()
            elif isinstance(self.backends, list):
                props['Backends'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backends
                ]
            else:
                props['Backends'] = self.backends

        if self.listeners is not None:
            if hasattr(self.listeners, 'to_dict'):
                props['Listeners'] = self.listeners.to_dict()
            elif isinstance(self.listeners, list):
                props['Listeners'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.listeners
                ]
            else:
                props['Listeners'] = self.listeners

        if self.backend_defaults is not None:
            if hasattr(self.backend_defaults, 'to_dict'):
                props['BackendDefaults'] = self.backend_defaults.to_dict()
            elif isinstance(self.backend_defaults, list):
                props['BackendDefaults'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.backend_defaults
                ]
            else:
                props['BackendDefaults'] = self.backend_defaults

        if self.service_discovery is not None:
            if hasattr(self.service_discovery, 'to_dict'):
                props['ServiceDiscovery'] = self.service_discovery.to_dict()
            elif isinstance(self.service_discovery, list):
                props['ServiceDiscovery'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.service_discovery
                ]
            else:
                props['ServiceDiscovery'] = self.service_discovery

        return props


@dataclass
class VirtualNodeTcpConnectionPool:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_connections: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.max_connections is not None:
            if hasattr(self.max_connections, 'to_dict'):
                props['MaxConnections'] = self.max_connections.to_dict()
            elif isinstance(self.max_connections, list):
                props['MaxConnections'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_connections
                ]
            else:
                props['MaxConnections'] = self.max_connections

        return props


@dataclass
class VirtualServiceBackend:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    client_policy: Optional[ClientPolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    virtual_service_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.client_policy is not None:
            if hasattr(self.client_policy, 'to_dict'):
                props['ClientPolicy'] = self.client_policy.to_dict()
            elif isinstance(self.client_policy, list):
                props['ClientPolicy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.client_policy
                ]
            else:
                props['ClientPolicy'] = self.client_policy

        if self.virtual_service_name is not None:
            if hasattr(self.virtual_service_name, 'to_dict'):
                props['VirtualServiceName'] = self.virtual_service_name.to_dict()
            elif isinstance(self.virtual_service_name, list):
                props['VirtualServiceName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_service_name
                ]
            else:
                props['VirtualServiceName'] = self.virtual_service_name

        return props


@dataclass
class VirtualNode(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appme"""

    resource_type: ClassVar[str] = "AWS::AppMesh::VirtualNode"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_owner: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    spec: Optional[VirtualNodeSpec] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    virtual_node_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.mesh_name is not None:
            # Serialize mesh_name (handle intrinsic functions)
            if hasattr(self.mesh_name, 'to_dict'):
                props["MeshName"] = self.mesh_name.to_dict()
            elif isinstance(self.mesh_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_name
                ]
            else:
                props["MeshName"] = self.mesh_name

        if self.mesh_owner is not None:
            # Serialize mesh_owner (handle intrinsic functions)
            if hasattr(self.mesh_owner, 'to_dict'):
                props["MeshOwner"] = self.mesh_owner.to_dict()
            elif isinstance(self.mesh_owner, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshOwner'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_owner
                ]
            else:
                props["MeshOwner"] = self.mesh_owner

        if self.spec is not None:
            # Serialize spec (handle intrinsic functions)
            if hasattr(self.spec, 'to_dict'):
                props["Spec"] = self.spec.to_dict()
            elif isinstance(self.spec, list):
                # Serialize list items (may contain intrinsic functions)
                props['Spec'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spec
                ]
            else:
                props["Spec"] = self.spec

        if self.virtual_node_name is not None:
            # Serialize virtual_node_name (handle intrinsic functions)
            if hasattr(self.virtual_node_name, 'to_dict'):
                props["VirtualNodeName"] = self.virtual_node_name.to_dict()
            elif isinstance(self.virtual_node_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['VirtualNodeName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_node_name
                ]
            else:
                props["VirtualNodeName"] = self.virtual_node_name

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_uid(self) -> GetAtt:
        """Get the Uid attribute."""
        return self.get_att("Uid")

    @property
    def attr_mesh_name(self) -> GetAtt:
        """Get the MeshName attribute."""
        return self.get_att("MeshName")

    @property
    def attr_mesh_owner(self) -> GetAtt:
        """Get the MeshOwner attribute."""
        return self.get_att("MeshOwner")

    @property
    def attr_resource_owner(self) -> GetAtt:
        """Get the ResourceOwner attribute."""
        return self.get_att("ResourceOwner")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")

    @property
    def attr_virtual_node_name(self) -> GetAtt:
        """Get the VirtualNodeName attribute."""
        return self.get_att("VirtualNodeName")




@dataclass
class PortMapping:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    protocol: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.port is not None:
            if hasattr(self.port, 'to_dict'):
                props['Port'] = self.port.to_dict()
            elif isinstance(self.port, list):
                props['Port'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port
                ]
            else:
                props['Port'] = self.port

        if self.protocol is not None:
            if hasattr(self.protocol, 'to_dict'):
                props['Protocol'] = self.protocol.to_dict()
            elif isinstance(self.protocol, list):
                props['Protocol'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.protocol
                ]
            else:
                props['Protocol'] = self.protocol

        return props


@dataclass
class VirtualRouterListener:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    port_mapping: Optional[PortMapping] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.port_mapping is not None:
            if hasattr(self.port_mapping, 'to_dict'):
                props['PortMapping'] = self.port_mapping.to_dict()
            elif isinstance(self.port_mapping, list):
                props['PortMapping'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.port_mapping
                ]
            else:
                props['PortMapping'] = self.port_mapping

        return props


@dataclass
class VirtualRouterSpec:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    listeners: Optional[list[VirtualRouterListener]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.listeners is not None:
            if hasattr(self.listeners, 'to_dict'):
                props['Listeners'] = self.listeners.to_dict()
            elif isinstance(self.listeners, list):
                props['Listeners'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.listeners
                ]
            else:
                props['Listeners'] = self.listeners

        return props


@dataclass
class VirtualRouter(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appme"""

    resource_type: ClassVar[str] = "AWS::AppMesh::VirtualRouter"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    virtual_router_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_owner: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    spec: Optional[VirtualRouterSpec] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.mesh_name is not None:
            # Serialize mesh_name (handle intrinsic functions)
            if hasattr(self.mesh_name, 'to_dict'):
                props["MeshName"] = self.mesh_name.to_dict()
            elif isinstance(self.mesh_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_name
                ]
            else:
                props["MeshName"] = self.mesh_name

        if self.virtual_router_name is not None:
            # Serialize virtual_router_name (handle intrinsic functions)
            if hasattr(self.virtual_router_name, 'to_dict'):
                props["VirtualRouterName"] = self.virtual_router_name.to_dict()
            elif isinstance(self.virtual_router_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['VirtualRouterName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_router_name
                ]
            else:
                props["VirtualRouterName"] = self.virtual_router_name

        if self.mesh_owner is not None:
            # Serialize mesh_owner (handle intrinsic functions)
            if hasattr(self.mesh_owner, 'to_dict'):
                props["MeshOwner"] = self.mesh_owner.to_dict()
            elif isinstance(self.mesh_owner, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshOwner'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_owner
                ]
            else:
                props["MeshOwner"] = self.mesh_owner

        if self.spec is not None:
            # Serialize spec (handle intrinsic functions)
            if hasattr(self.spec, 'to_dict'):
                props["Spec"] = self.spec.to_dict()
            elif isinstance(self.spec, list):
                # Serialize list items (may contain intrinsic functions)
                props['Spec'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spec
                ]
            else:
                props["Spec"] = self.spec

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_uid(self) -> GetAtt:
        """Get the Uid attribute."""
        return self.get_att("Uid")

    @property
    def attr_mesh_name(self) -> GetAtt:
        """Get the MeshName attribute."""
        return self.get_att("MeshName")

    @property
    def attr_virtual_router_name(self) -> GetAtt:
        """Get the VirtualRouterName attribute."""
        return self.get_att("VirtualRouterName")

    @property
    def attr_mesh_owner(self) -> GetAtt:
        """Get the MeshOwner attribute."""
        return self.get_att("MeshOwner")

    @property
    def attr_resource_owner(self) -> GetAtt:
        """Get the ResourceOwner attribute."""
        return self.get_att("ResourceOwner")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")




@dataclass
class VirtualNodeServiceProvider:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    virtual_node_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.virtual_node_name is not None:
            if hasattr(self.virtual_node_name, 'to_dict'):
                props['VirtualNodeName'] = self.virtual_node_name.to_dict()
            elif isinstance(self.virtual_node_name, list):
                props['VirtualNodeName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_node_name
                ]
            else:
                props['VirtualNodeName'] = self.virtual_node_name

        return props


@dataclass
class VirtualRouterServiceProvider:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    virtual_router_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.virtual_router_name is not None:
            if hasattr(self.virtual_router_name, 'to_dict'):
                props['VirtualRouterName'] = self.virtual_router_name.to_dict()
            elif isinstance(self.virtual_router_name, list):
                props['VirtualRouterName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_router_name
                ]
            else:
                props['VirtualRouterName'] = self.virtual_router_name

        return props


@dataclass
class VirtualServiceProvider:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    virtual_node: Optional[VirtualNodeServiceProvider] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    virtual_router: Optional[VirtualRouterServiceProvider] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.virtual_node is not None:
            if hasattr(self.virtual_node, 'to_dict'):
                props['VirtualNode'] = self.virtual_node.to_dict()
            elif isinstance(self.virtual_node, list):
                props['VirtualNode'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_node
                ]
            else:
                props['VirtualNode'] = self.virtual_node

        if self.virtual_router is not None:
            if hasattr(self.virtual_router, 'to_dict'):
                props['VirtualRouter'] = self.virtual_router.to_dict()
            elif isinstance(self.virtual_router, list):
                props['VirtualRouter'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_router
                ]
            else:
                props['VirtualRouter'] = self.virtual_router

        return props


@dataclass
class VirtualServiceSpec:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-app"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    provider: Optional[VirtualServiceProvider] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.provider is not None:
            if hasattr(self.provider, 'to_dict'):
                props['Provider'] = self.provider.to_dict()
            elif isinstance(self.provider, list):
                props['Provider'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.provider
                ]
            else:
                props['Provider'] = self.provider

        return props


@dataclass
class VirtualService(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appme"""

    resource_type: ClassVar[str] = "AWS::AppMesh::VirtualService"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    mesh_owner: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    virtual_service_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    spec: Optional[VirtualServiceSpec] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.mesh_name is not None:
            # Serialize mesh_name (handle intrinsic functions)
            if hasattr(self.mesh_name, 'to_dict'):
                props["MeshName"] = self.mesh_name.to_dict()
            elif isinstance(self.mesh_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_name
                ]
            else:
                props["MeshName"] = self.mesh_name

        if self.mesh_owner is not None:
            # Serialize mesh_owner (handle intrinsic functions)
            if hasattr(self.mesh_owner, 'to_dict'):
                props["MeshOwner"] = self.mesh_owner.to_dict()
            elif isinstance(self.mesh_owner, list):
                # Serialize list items (may contain intrinsic functions)
                props['MeshOwner'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.mesh_owner
                ]
            else:
                props["MeshOwner"] = self.mesh_owner

        if self.virtual_service_name is not None:
            # Serialize virtual_service_name (handle intrinsic functions)
            if hasattr(self.virtual_service_name, 'to_dict'):
                props["VirtualServiceName"] = self.virtual_service_name.to_dict()
            elif isinstance(self.virtual_service_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['VirtualServiceName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.virtual_service_name
                ]
            else:
                props["VirtualServiceName"] = self.virtual_service_name

        if self.spec is not None:
            # Serialize spec (handle intrinsic functions)
            if hasattr(self.spec, 'to_dict'):
                props["Spec"] = self.spec.to_dict()
            elif isinstance(self.spec, list):
                # Serialize list items (may contain intrinsic functions)
                props['Spec'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.spec
                ]
            else:
                props["Spec"] = self.spec

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        return props

    @property
    def attr_uid(self) -> GetAtt:
        """Get the Uid attribute."""
        return self.get_att("Uid")

    @property
    def attr_mesh_name(self) -> GetAtt:
        """Get the MeshName attribute."""
        return self.get_att("MeshName")

    @property
    def attr_mesh_owner(self) -> GetAtt:
        """Get the MeshOwner attribute."""
        return self.get_att("MeshOwner")

    @property
    def attr_resource_owner(self) -> GetAtt:
        """Get the ResourceOwner attribute."""
        return self.get_att("ResourceOwner")

    @property
    def attr_virtual_service_name(self) -> GetAtt:
        """Get the VirtualServiceName attribute."""
        return self.get_att("VirtualServiceName")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")



