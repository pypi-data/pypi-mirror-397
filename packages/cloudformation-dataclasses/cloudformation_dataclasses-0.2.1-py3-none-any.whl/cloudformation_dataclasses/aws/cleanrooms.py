"""
AWS CloudFormation CleanRooms Resources

⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY ⚠️

This file is automatically generated from the AWS CloudFormation Resource Specification.
Any manual changes will be overwritten when regenerated.

Version Information:
  CloudFormation Spec: 227.0.0
  Generator Version: 1.0.0
  Combined: spec-227.0.0_gen-1.0.0
  Generated: 2025-12-15 17:57:13

To regenerate this file:
    uv run python -m cloudformation_dataclasses.codegen.generator --service CleanRooms
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any, ClassVar, Optional, Union

from cloudformation_dataclasses.core.base import CloudFormationResource
from cloudformation_dataclasses.intrinsics.functions import GetAtt, Ref, Sub


@dataclass
class AnalysisParameter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    default_value: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.default_value is not None:
            if hasattr(self.default_value, 'to_dict'):
                props['DefaultValue'] = self.default_value.to_dict()
            elif isinstance(self.default_value, list):
                props['DefaultValue'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_value
                ]
            else:
                props['DefaultValue'] = self.default_value

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        return props


@dataclass
class AnalysisSchema:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    referenced_tables: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.referenced_tables is not None:
            if hasattr(self.referenced_tables, 'to_dict'):
                props['ReferencedTables'] = self.referenced_tables.to_dict()
            elif isinstance(self.referenced_tables, list):
                props['ReferencedTables'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.referenced_tables
                ]
            else:
                props['ReferencedTables'] = self.referenced_tables

        return props


@dataclass
class AnalysisSource:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    artifacts: Optional[AnalysisTemplateArtifacts] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    text: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.artifacts is not None:
            if hasattr(self.artifacts, 'to_dict'):
                props['Artifacts'] = self.artifacts.to_dict()
            elif isinstance(self.artifacts, list):
                props['Artifacts'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.artifacts
                ]
            else:
                props['Artifacts'] = self.artifacts

        if self.text is not None:
            if hasattr(self.text, 'to_dict'):
                props['Text'] = self.text.to_dict()
            elif isinstance(self.text, list):
                props['Text'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.text
                ]
            else:
                props['Text'] = self.text

        return props


@dataclass
class AnalysisSourceMetadata:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    artifacts: Optional[AnalysisTemplateArtifactMetadata] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.artifacts is not None:
            if hasattr(self.artifacts, 'to_dict'):
                props['Artifacts'] = self.artifacts.to_dict()
            elif isinstance(self.artifacts, list):
                props['Artifacts'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.artifacts
                ]
            else:
                props['Artifacts'] = self.artifacts

        return props


@dataclass
class AnalysisTemplateArtifact:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    location: Optional[S3Location] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.location is not None:
            if hasattr(self.location, 'to_dict'):
                props['Location'] = self.location.to_dict()
            elif isinstance(self.location, list):
                props['Location'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.location
                ]
            else:
                props['Location'] = self.location

        return props


@dataclass
class AnalysisTemplateArtifactMetadata:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    entry_point_hash: Optional[Hash] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    additional_artifact_hashes: Optional[list[Hash]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.entry_point_hash is not None:
            if hasattr(self.entry_point_hash, 'to_dict'):
                props['EntryPointHash'] = self.entry_point_hash.to_dict()
            elif isinstance(self.entry_point_hash, list):
                props['EntryPointHash'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.entry_point_hash
                ]
            else:
                props['EntryPointHash'] = self.entry_point_hash

        if self.additional_artifact_hashes is not None:
            if hasattr(self.additional_artifact_hashes, 'to_dict'):
                props['AdditionalArtifactHashes'] = self.additional_artifact_hashes.to_dict()
            elif isinstance(self.additional_artifact_hashes, list):
                props['AdditionalArtifactHashes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.additional_artifact_hashes
                ]
            else:
                props['AdditionalArtifactHashes'] = self.additional_artifact_hashes

        return props


@dataclass
class AnalysisTemplateArtifacts:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    additional_artifacts: Optional[list[AnalysisTemplateArtifact]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    entry_point: Optional[AnalysisTemplateArtifact] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    role_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.additional_artifacts is not None:
            if hasattr(self.additional_artifacts, 'to_dict'):
                props['AdditionalArtifacts'] = self.additional_artifacts.to_dict()
            elif isinstance(self.additional_artifacts, list):
                props['AdditionalArtifacts'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.additional_artifacts
                ]
            else:
                props['AdditionalArtifacts'] = self.additional_artifacts

        if self.entry_point is not None:
            if hasattr(self.entry_point, 'to_dict'):
                props['EntryPoint'] = self.entry_point.to_dict()
            elif isinstance(self.entry_point, list):
                props['EntryPoint'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.entry_point
                ]
            else:
                props['EntryPoint'] = self.entry_point

        if self.role_arn is not None:
            if hasattr(self.role_arn, 'to_dict'):
                props['RoleArn'] = self.role_arn.to_dict()
            elif isinstance(self.role_arn, list):
                props['RoleArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.role_arn
                ]
            else:
                props['RoleArn'] = self.role_arn

        return props


@dataclass
class ColumnClassificationDetails:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    column_mapping: Optional[list[SyntheticDataColumnProperties]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.column_mapping is not None:
            if hasattr(self.column_mapping, 'to_dict'):
                props['ColumnMapping'] = self.column_mapping.to_dict()
            elif isinstance(self.column_mapping, list):
                props['ColumnMapping'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.column_mapping
                ]
            else:
                props['ColumnMapping'] = self.column_mapping

        return props


@dataclass
class ErrorMessageConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        return props


@dataclass
class Hash:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    sha256: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.sha256 is not None:
            if hasattr(self.sha256, 'to_dict'):
                props['Sha256'] = self.sha256.to_dict()
            elif isinstance(self.sha256, list):
                props['Sha256'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.sha256
                ]
            else:
                props['Sha256'] = self.sha256

        return props


@dataclass
class MLSyntheticDataParameters:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    column_classification: Optional[ColumnClassificationDetails] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    epsilon: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    max_membership_inference_attack_score: Optional[Union[float, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.column_classification is not None:
            if hasattr(self.column_classification, 'to_dict'):
                props['ColumnClassification'] = self.column_classification.to_dict()
            elif isinstance(self.column_classification, list):
                props['ColumnClassification'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.column_classification
                ]
            else:
                props['ColumnClassification'] = self.column_classification

        if self.epsilon is not None:
            if hasattr(self.epsilon, 'to_dict'):
                props['Epsilon'] = self.epsilon.to_dict()
            elif isinstance(self.epsilon, list):
                props['Epsilon'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.epsilon
                ]
            else:
                props['Epsilon'] = self.epsilon

        if self.max_membership_inference_attack_score is not None:
            if hasattr(self.max_membership_inference_attack_score, 'to_dict'):
                props['MaxMembershipInferenceAttackScore'] = self.max_membership_inference_attack_score.to_dict()
            elif isinstance(self.max_membership_inference_attack_score, list):
                props['MaxMembershipInferenceAttackScore'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.max_membership_inference_attack_score
                ]
            else:
                props['MaxMembershipInferenceAttackScore'] = self.max_membership_inference_attack_score

        return props


@dataclass
class S3Location:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    bucket: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.bucket is not None:
            if hasattr(self.bucket, 'to_dict'):
                props['Bucket'] = self.bucket.to_dict()
            elif isinstance(self.bucket, list):
                props['Bucket'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.bucket
                ]
            else:
                props['Bucket'] = self.bucket

        if self.key is not None:
            if hasattr(self.key, 'to_dict'):
                props['Key'] = self.key.to_dict()
            elif isinstance(self.key, list):
                props['Key'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key
                ]
            else:
                props['Key'] = self.key

        return props


@dataclass
class SyntheticDataColumnProperties:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    column_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    column_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_predictive_value: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.column_name is not None:
            if hasattr(self.column_name, 'to_dict'):
                props['ColumnName'] = self.column_name.to_dict()
            elif isinstance(self.column_name, list):
                props['ColumnName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.column_name
                ]
            else:
                props['ColumnName'] = self.column_name

        if self.column_type is not None:
            if hasattr(self.column_type, 'to_dict'):
                props['ColumnType'] = self.column_type.to_dict()
            elif isinstance(self.column_type, list):
                props['ColumnType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.column_type
                ]
            else:
                props['ColumnType'] = self.column_type

        if self.is_predictive_value is not None:
            if hasattr(self.is_predictive_value, 'to_dict'):
                props['IsPredictiveValue'] = self.is_predictive_value.to_dict()
            elif isinstance(self.is_predictive_value, list):
                props['IsPredictiveValue'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_predictive_value
                ]
            else:
                props['IsPredictiveValue'] = self.is_predictive_value

        return props


@dataclass
class SyntheticDataParameters:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ml_synthetic_data_parameters: Optional[MLSyntheticDataParameters] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.ml_synthetic_data_parameters is not None:
            if hasattr(self.ml_synthetic_data_parameters, 'to_dict'):
                props['MlSyntheticDataParameters'] = self.ml_synthetic_data_parameters.to_dict()
            elif isinstance(self.ml_synthetic_data_parameters, list):
                props['MlSyntheticDataParameters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ml_synthetic_data_parameters
                ]
            else:
                props['MlSyntheticDataParameters'] = self.ml_synthetic_data_parameters

        return props


@dataclass
class AnalysisTemplate(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-clean"""

    resource_type: ClassVar[str] = "AWS::CleanRooms::AnalysisTemplate"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    membership_identifier: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    format: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    source_metadata: Optional[AnalysisSourceMetadata] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    error_message_configuration: Optional[ErrorMessageConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    analysis_parameters: Optional[list[AnalysisParameter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    schema: Optional[AnalysisSchema] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    synthetic_data_parameters: Optional[SyntheticDataParameters] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    source: Optional[AnalysisSource] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.membership_identifier is not None:
            # Serialize membership_identifier (handle intrinsic functions)
            if hasattr(self.membership_identifier, 'to_dict'):
                props["MembershipIdentifier"] = self.membership_identifier.to_dict()
            elif isinstance(self.membership_identifier, list):
                # Serialize list items (may contain intrinsic functions)
                props['MembershipIdentifier'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.membership_identifier
                ]
            else:
                props["MembershipIdentifier"] = self.membership_identifier

        if self.description is not None:
            # Serialize description (handle intrinsic functions)
            if hasattr(self.description, 'to_dict'):
                props["Description"] = self.description.to_dict()
            elif isinstance(self.description, list):
                # Serialize list items (may contain intrinsic functions)
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props["Description"] = self.description

        if self.format is not None:
            # Serialize format (handle intrinsic functions)
            if hasattr(self.format, 'to_dict'):
                props["Format"] = self.format.to_dict()
            elif isinstance(self.format, list):
                # Serialize list items (may contain intrinsic functions)
                props['Format'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.format
                ]
            else:
                props["Format"] = self.format

        if self.source_metadata is not None:
            # Serialize source_metadata (handle intrinsic functions)
            if hasattr(self.source_metadata, 'to_dict'):
                props["SourceMetadata"] = self.source_metadata.to_dict()
            elif isinstance(self.source_metadata, list):
                # Serialize list items (may contain intrinsic functions)
                props['SourceMetadata'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.source_metadata
                ]
            else:
                props["SourceMetadata"] = self.source_metadata

        if self.error_message_configuration is not None:
            # Serialize error_message_configuration (handle intrinsic functions)
            if hasattr(self.error_message_configuration, 'to_dict'):
                props["ErrorMessageConfiguration"] = self.error_message_configuration.to_dict()
            elif isinstance(self.error_message_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['ErrorMessageConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.error_message_configuration
                ]
            else:
                props["ErrorMessageConfiguration"] = self.error_message_configuration

        if self.analysis_parameters is not None:
            # Serialize analysis_parameters (handle intrinsic functions)
            if hasattr(self.analysis_parameters, 'to_dict'):
                props["AnalysisParameters"] = self.analysis_parameters.to_dict()
            elif isinstance(self.analysis_parameters, list):
                # Serialize list items (may contain intrinsic functions)
                props['AnalysisParameters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.analysis_parameters
                ]
            else:
                props["AnalysisParameters"] = self.analysis_parameters

        if self.schema is not None:
            # Serialize schema (handle intrinsic functions)
            if hasattr(self.schema, 'to_dict'):
                props["Schema"] = self.schema.to_dict()
            elif isinstance(self.schema, list):
                # Serialize list items (may contain intrinsic functions)
                props['Schema'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.schema
                ]
            else:
                props["Schema"] = self.schema

        if self.synthetic_data_parameters is not None:
            # Serialize synthetic_data_parameters (handle intrinsic functions)
            if hasattr(self.synthetic_data_parameters, 'to_dict'):
                props["SyntheticDataParameters"] = self.synthetic_data_parameters.to_dict()
            elif isinstance(self.synthetic_data_parameters, list):
                # Serialize list items (may contain intrinsic functions)
                props['SyntheticDataParameters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.synthetic_data_parameters
                ]
            else:
                props["SyntheticDataParameters"] = self.synthetic_data_parameters

        if self.source is not None:
            # Serialize source (handle intrinsic functions)
            if hasattr(self.source, 'to_dict'):
                props["Source"] = self.source.to_dict()
            elif isinstance(self.source, list):
                # Serialize list items (may contain intrinsic functions)
                props['Source'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.source
                ]
            else:
                props["Source"] = self.source

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        return props

    @property
    def attr_collaboration_identifier(self) -> GetAtt:
        """Get the CollaborationIdentifier attribute."""
        return self.get_att("CollaborationIdentifier")

    @property
    def attr_membership_arn(self) -> GetAtt:
        """Get the MembershipArn attribute."""
        return self.get_att("MembershipArn")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")

    @property
    def attr_collaboration_arn(self) -> GetAtt:
        """Get the CollaborationArn attribute."""
        return self.get_att("CollaborationArn")

    @property
    def attr_analysis_template_identifier(self) -> GetAtt:
        """Get the AnalysisTemplateIdentifier attribute."""
        return self.get_att("AnalysisTemplateIdentifier")




@dataclass
class DataEncryptionMetadata:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allow_cleartext: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    preserve_nulls: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allow_joins_on_columns_with_different_names: Optional[Union[bool, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allow_duplicates: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allow_cleartext is not None:
            if hasattr(self.allow_cleartext, 'to_dict'):
                props['AllowCleartext'] = self.allow_cleartext.to_dict()
            elif isinstance(self.allow_cleartext, list):
                props['AllowCleartext'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allow_cleartext
                ]
            else:
                props['AllowCleartext'] = self.allow_cleartext

        if self.preserve_nulls is not None:
            if hasattr(self.preserve_nulls, 'to_dict'):
                props['PreserveNulls'] = self.preserve_nulls.to_dict()
            elif isinstance(self.preserve_nulls, list):
                props['PreserveNulls'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.preserve_nulls
                ]
            else:
                props['PreserveNulls'] = self.preserve_nulls

        if self.allow_joins_on_columns_with_different_names is not None:
            if hasattr(self.allow_joins_on_columns_with_different_names, 'to_dict'):
                props['AllowJoinsOnColumnsWithDifferentNames'] = self.allow_joins_on_columns_with_different_names.to_dict()
            elif isinstance(self.allow_joins_on_columns_with_different_names, list):
                props['AllowJoinsOnColumnsWithDifferentNames'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allow_joins_on_columns_with_different_names
                ]
            else:
                props['AllowJoinsOnColumnsWithDifferentNames'] = self.allow_joins_on_columns_with_different_names

        if self.allow_duplicates is not None:
            if hasattr(self.allow_duplicates, 'to_dict'):
                props['AllowDuplicates'] = self.allow_duplicates.to_dict()
            elif isinstance(self.allow_duplicates, list):
                props['AllowDuplicates'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allow_duplicates
                ]
            else:
                props['AllowDuplicates'] = self.allow_duplicates

        return props


@dataclass
class JobComputePaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_responsible: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.is_responsible is not None:
            if hasattr(self.is_responsible, 'to_dict'):
                props['IsResponsible'] = self.is_responsible.to_dict()
            elif isinstance(self.is_responsible, list):
                props['IsResponsible'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_responsible
                ]
            else:
                props['IsResponsible'] = self.is_responsible

        return props


@dataclass
class MLMemberAbilities:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    custom_ml_member_abilities: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.custom_ml_member_abilities is not None:
            if hasattr(self.custom_ml_member_abilities, 'to_dict'):
                props['CustomMLMemberAbilities'] = self.custom_ml_member_abilities.to_dict()
            elif isinstance(self.custom_ml_member_abilities, list):
                props['CustomMLMemberAbilities'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom_ml_member_abilities
                ]
            else:
                props['CustomMLMemberAbilities'] = self.custom_ml_member_abilities

        return props


@dataclass
class MLPaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    model_inference: Optional[ModelInferencePaymentConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    synthetic_data_generation: Optional[SyntheticDataGenerationPaymentConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    model_training: Optional[ModelTrainingPaymentConfig] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.model_inference is not None:
            if hasattr(self.model_inference, 'to_dict'):
                props['ModelInference'] = self.model_inference.to_dict()
            elif isinstance(self.model_inference, list):
                props['ModelInference'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.model_inference
                ]
            else:
                props['ModelInference'] = self.model_inference

        if self.synthetic_data_generation is not None:
            if hasattr(self.synthetic_data_generation, 'to_dict'):
                props['SyntheticDataGeneration'] = self.synthetic_data_generation.to_dict()
            elif isinstance(self.synthetic_data_generation, list):
                props['SyntheticDataGeneration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.synthetic_data_generation
                ]
            else:
                props['SyntheticDataGeneration'] = self.synthetic_data_generation

        if self.model_training is not None:
            if hasattr(self.model_training, 'to_dict'):
                props['ModelTraining'] = self.model_training.to_dict()
            elif isinstance(self.model_training, list):
                props['ModelTraining'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.model_training
                ]
            else:
                props['ModelTraining'] = self.model_training

        return props


@dataclass
class MemberSpecification:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    account_id: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    ml_member_abilities: Optional[MLMemberAbilities] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    display_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    member_abilities: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    payment_configuration: Optional[PaymentConfiguration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.account_id is not None:
            if hasattr(self.account_id, 'to_dict'):
                props['AccountId'] = self.account_id.to_dict()
            elif isinstance(self.account_id, list):
                props['AccountId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.account_id
                ]
            else:
                props['AccountId'] = self.account_id

        if self.ml_member_abilities is not None:
            if hasattr(self.ml_member_abilities, 'to_dict'):
                props['MLMemberAbilities'] = self.ml_member_abilities.to_dict()
            elif isinstance(self.ml_member_abilities, list):
                props['MLMemberAbilities'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.ml_member_abilities
                ]
            else:
                props['MLMemberAbilities'] = self.ml_member_abilities

        if self.display_name is not None:
            if hasattr(self.display_name, 'to_dict'):
                props['DisplayName'] = self.display_name.to_dict()
            elif isinstance(self.display_name, list):
                props['DisplayName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.display_name
                ]
            else:
                props['DisplayName'] = self.display_name

        if self.member_abilities is not None:
            if hasattr(self.member_abilities, 'to_dict'):
                props['MemberAbilities'] = self.member_abilities.to_dict()
            elif isinstance(self.member_abilities, list):
                props['MemberAbilities'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.member_abilities
                ]
            else:
                props['MemberAbilities'] = self.member_abilities

        if self.payment_configuration is not None:
            if hasattr(self.payment_configuration, 'to_dict'):
                props['PaymentConfiguration'] = self.payment_configuration.to_dict()
            elif isinstance(self.payment_configuration, list):
                props['PaymentConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.payment_configuration
                ]
            else:
                props['PaymentConfiguration'] = self.payment_configuration

        return props


@dataclass
class ModelInferencePaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_responsible: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.is_responsible is not None:
            if hasattr(self.is_responsible, 'to_dict'):
                props['IsResponsible'] = self.is_responsible.to_dict()
            elif isinstance(self.is_responsible, list):
                props['IsResponsible'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_responsible
                ]
            else:
                props['IsResponsible'] = self.is_responsible

        return props


@dataclass
class ModelTrainingPaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_responsible: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.is_responsible is not None:
            if hasattr(self.is_responsible, 'to_dict'):
                props['IsResponsible'] = self.is_responsible.to_dict()
            elif isinstance(self.is_responsible, list):
                props['IsResponsible'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_responsible
                ]
            else:
                props['IsResponsible'] = self.is_responsible

        return props


@dataclass
class PaymentConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    job_compute: Optional[JobComputePaymentConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    query_compute: Optional[QueryComputePaymentConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    machine_learning: Optional[MLPaymentConfig] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.job_compute is not None:
            if hasattr(self.job_compute, 'to_dict'):
                props['JobCompute'] = self.job_compute.to_dict()
            elif isinstance(self.job_compute, list):
                props['JobCompute'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.job_compute
                ]
            else:
                props['JobCompute'] = self.job_compute

        if self.query_compute is not None:
            if hasattr(self.query_compute, 'to_dict'):
                props['QueryCompute'] = self.query_compute.to_dict()
            elif isinstance(self.query_compute, list):
                props['QueryCompute'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.query_compute
                ]
            else:
                props['QueryCompute'] = self.query_compute

        if self.machine_learning is not None:
            if hasattr(self.machine_learning, 'to_dict'):
                props['MachineLearning'] = self.machine_learning.to_dict()
            elif isinstance(self.machine_learning, list):
                props['MachineLearning'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.machine_learning
                ]
            else:
                props['MachineLearning'] = self.machine_learning

        return props


@dataclass
class QueryComputePaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_responsible: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.is_responsible is not None:
            if hasattr(self.is_responsible, 'to_dict'):
                props['IsResponsible'] = self.is_responsible.to_dict()
            elif isinstance(self.is_responsible, list):
                props['IsResponsible'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_responsible
                ]
            else:
                props['IsResponsible'] = self.is_responsible

        return props


@dataclass
class SyntheticDataGenerationPaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_responsible: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.is_responsible is not None:
            if hasattr(self.is_responsible, 'to_dict'):
                props['IsResponsible'] = self.is_responsible.to_dict()
            elif isinstance(self.is_responsible, list):
                props['IsResponsible'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_responsible
                ]
            else:
                props['IsResponsible'] = self.is_responsible

        return props


@dataclass
class Collaboration(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-clean"""

    resource_type: ClassVar[str] = "AWS::CleanRooms::Collaboration"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    analytics_engine: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    creator_display_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    creator_member_abilities: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    creator_ml_member_abilities: Optional[MLMemberAbilities] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    job_log_status: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    query_log_status: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    auto_approved_change_types: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    creator_payment_configuration: Optional[PaymentConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    data_encryption_metadata: Optional[DataEncryptionMetadata] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    members: Optional[list[MemberSpecification]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    allowed_result_regions: Optional[Union[list[str], Ref]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.analytics_engine is not None:
            # Serialize analytics_engine (handle intrinsic functions)
            if hasattr(self.analytics_engine, 'to_dict'):
                props["AnalyticsEngine"] = self.analytics_engine.to_dict()
            elif isinstance(self.analytics_engine, list):
                # Serialize list items (may contain intrinsic functions)
                props['AnalyticsEngine'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.analytics_engine
                ]
            else:
                props["AnalyticsEngine"] = self.analytics_engine

        if self.creator_display_name is not None:
            # Serialize creator_display_name (handle intrinsic functions)
            if hasattr(self.creator_display_name, 'to_dict'):
                props["CreatorDisplayName"] = self.creator_display_name.to_dict()
            elif isinstance(self.creator_display_name, list):
                # Serialize list items (may contain intrinsic functions)
                props['CreatorDisplayName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.creator_display_name
                ]
            else:
                props["CreatorDisplayName"] = self.creator_display_name

        if self.creator_member_abilities is not None:
            # Serialize creator_member_abilities (handle intrinsic functions)
            if hasattr(self.creator_member_abilities, 'to_dict'):
                props["CreatorMemberAbilities"] = self.creator_member_abilities.to_dict()
            elif isinstance(self.creator_member_abilities, list):
                # Serialize list items (may contain intrinsic functions)
                props['CreatorMemberAbilities'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.creator_member_abilities
                ]
            else:
                props["CreatorMemberAbilities"] = self.creator_member_abilities

        if self.description is not None:
            # Serialize description (handle intrinsic functions)
            if hasattr(self.description, 'to_dict'):
                props["Description"] = self.description.to_dict()
            elif isinstance(self.description, list):
                # Serialize list items (may contain intrinsic functions)
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props["Description"] = self.description

        if self.creator_ml_member_abilities is not None:
            # Serialize creator_ml_member_abilities (handle intrinsic functions)
            if hasattr(self.creator_ml_member_abilities, 'to_dict'):
                props["CreatorMLMemberAbilities"] = self.creator_ml_member_abilities.to_dict()
            elif isinstance(self.creator_ml_member_abilities, list):
                # Serialize list items (may contain intrinsic functions)
                props['CreatorMLMemberAbilities'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.creator_ml_member_abilities
                ]
            else:
                props["CreatorMLMemberAbilities"] = self.creator_ml_member_abilities

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        if self.job_log_status is not None:
            # Serialize job_log_status (handle intrinsic functions)
            if hasattr(self.job_log_status, 'to_dict'):
                props["JobLogStatus"] = self.job_log_status.to_dict()
            elif isinstance(self.job_log_status, list):
                # Serialize list items (may contain intrinsic functions)
                props['JobLogStatus'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.job_log_status
                ]
            else:
                props["JobLogStatus"] = self.job_log_status

        if self.query_log_status is not None:
            # Serialize query_log_status (handle intrinsic functions)
            if hasattr(self.query_log_status, 'to_dict'):
                props["QueryLogStatus"] = self.query_log_status.to_dict()
            elif isinstance(self.query_log_status, list):
                # Serialize list items (may contain intrinsic functions)
                props['QueryLogStatus'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.query_log_status
                ]
            else:
                props["QueryLogStatus"] = self.query_log_status

        if self.auto_approved_change_types is not None:
            # Serialize auto_approved_change_types (handle intrinsic functions)
            if hasattr(self.auto_approved_change_types, 'to_dict'):
                props["AutoApprovedChangeTypes"] = self.auto_approved_change_types.to_dict()
            elif isinstance(self.auto_approved_change_types, list):
                # Serialize list items (may contain intrinsic functions)
                props['AutoApprovedChangeTypes'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auto_approved_change_types
                ]
            else:
                props["AutoApprovedChangeTypes"] = self.auto_approved_change_types

        if self.creator_payment_configuration is not None:
            # Serialize creator_payment_configuration (handle intrinsic functions)
            if hasattr(self.creator_payment_configuration, 'to_dict'):
                props["CreatorPaymentConfiguration"] = self.creator_payment_configuration.to_dict()
            elif isinstance(self.creator_payment_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['CreatorPaymentConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.creator_payment_configuration
                ]
            else:
                props["CreatorPaymentConfiguration"] = self.creator_payment_configuration

        if self.data_encryption_metadata is not None:
            # Serialize data_encryption_metadata (handle intrinsic functions)
            if hasattr(self.data_encryption_metadata, 'to_dict'):
                props["DataEncryptionMetadata"] = self.data_encryption_metadata.to_dict()
            elif isinstance(self.data_encryption_metadata, list):
                # Serialize list items (may contain intrinsic functions)
                props['DataEncryptionMetadata'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.data_encryption_metadata
                ]
            else:
                props["DataEncryptionMetadata"] = self.data_encryption_metadata

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.members is not None:
            # Serialize members (handle intrinsic functions)
            if hasattr(self.members, 'to_dict'):
                props["Members"] = self.members.to_dict()
            elif isinstance(self.members, list):
                # Serialize list items (may contain intrinsic functions)
                props['Members'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.members
                ]
            else:
                props["Members"] = self.members

        if self.allowed_result_regions is not None:
            # Serialize allowed_result_regions (handle intrinsic functions)
            if hasattr(self.allowed_result_regions, 'to_dict'):
                props["AllowedResultRegions"] = self.allowed_result_regions.to_dict()
            elif isinstance(self.allowed_result_regions, list):
                # Serialize list items (may contain intrinsic functions)
                props['AllowedResultRegions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_result_regions
                ]
            else:
                props["AllowedResultRegions"] = self.allowed_result_regions

        return props

    @property
    def attr_collaboration_identifier(self) -> GetAtt:
        """Get the CollaborationIdentifier attribute."""
        return self.get_att("CollaborationIdentifier")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")




@dataclass
class AggregateColumn:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    function: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    column_names: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.function is not None:
            if hasattr(self.function, 'to_dict'):
                props['Function'] = self.function.to_dict()
            elif isinstance(self.function, list):
                props['Function'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.function
                ]
            else:
                props['Function'] = self.function

        if self.column_names is not None:
            if hasattr(self.column_names, 'to_dict'):
                props['ColumnNames'] = self.column_names.to_dict()
            elif isinstance(self.column_names, list):
                props['ColumnNames'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.column_names
                ]
            else:
                props['ColumnNames'] = self.column_names

        return props


@dataclass
class AggregationConstraint:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    column_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    minimum: Optional[Union[float, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.column_name is not None:
            if hasattr(self.column_name, 'to_dict'):
                props['ColumnName'] = self.column_name.to_dict()
            elif isinstance(self.column_name, list):
                props['ColumnName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.column_name
                ]
            else:
                props['ColumnName'] = self.column_name

        if self.minimum is not None:
            if hasattr(self.minimum, 'to_dict'):
                props['Minimum'] = self.minimum.to_dict()
            elif isinstance(self.minimum, list):
                props['Minimum'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.minimum
                ]
            else:
                props['Minimum'] = self.minimum

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        return props


@dataclass
class AnalysisRule:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    policy: Optional[ConfiguredTableAnalysisRulePolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.policy is not None:
            if hasattr(self.policy, 'to_dict'):
                props['Policy'] = self.policy.to_dict()
            elif isinstance(self.policy, list):
                props['Policy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.policy
                ]
            else:
                props['Policy'] = self.policy

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        return props


@dataclass
class AnalysisRuleAggregation:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_join_operators: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    scalar_functions: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    additional_analyses: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    output_constraints: Optional[list[AggregationConstraint]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    dimension_columns: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    join_columns: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    join_required: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    aggregate_columns: Optional[list[AggregateColumn]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allowed_join_operators is not None:
            if hasattr(self.allowed_join_operators, 'to_dict'):
                props['AllowedJoinOperators'] = self.allowed_join_operators.to_dict()
            elif isinstance(self.allowed_join_operators, list):
                props['AllowedJoinOperators'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_join_operators
                ]
            else:
                props['AllowedJoinOperators'] = self.allowed_join_operators

        if self.scalar_functions is not None:
            if hasattr(self.scalar_functions, 'to_dict'):
                props['ScalarFunctions'] = self.scalar_functions.to_dict()
            elif isinstance(self.scalar_functions, list):
                props['ScalarFunctions'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.scalar_functions
                ]
            else:
                props['ScalarFunctions'] = self.scalar_functions

        if self.additional_analyses is not None:
            if hasattr(self.additional_analyses, 'to_dict'):
                props['AdditionalAnalyses'] = self.additional_analyses.to_dict()
            elif isinstance(self.additional_analyses, list):
                props['AdditionalAnalyses'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.additional_analyses
                ]
            else:
                props['AdditionalAnalyses'] = self.additional_analyses

        if self.output_constraints is not None:
            if hasattr(self.output_constraints, 'to_dict'):
                props['OutputConstraints'] = self.output_constraints.to_dict()
            elif isinstance(self.output_constraints, list):
                props['OutputConstraints'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.output_constraints
                ]
            else:
                props['OutputConstraints'] = self.output_constraints

        if self.dimension_columns is not None:
            if hasattr(self.dimension_columns, 'to_dict'):
                props['DimensionColumns'] = self.dimension_columns.to_dict()
            elif isinstance(self.dimension_columns, list):
                props['DimensionColumns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.dimension_columns
                ]
            else:
                props['DimensionColumns'] = self.dimension_columns

        if self.join_columns is not None:
            if hasattr(self.join_columns, 'to_dict'):
                props['JoinColumns'] = self.join_columns.to_dict()
            elif isinstance(self.join_columns, list):
                props['JoinColumns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.join_columns
                ]
            else:
                props['JoinColumns'] = self.join_columns

        if self.join_required is not None:
            if hasattr(self.join_required, 'to_dict'):
                props['JoinRequired'] = self.join_required.to_dict()
            elif isinstance(self.join_required, list):
                props['JoinRequired'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.join_required
                ]
            else:
                props['JoinRequired'] = self.join_required

        if self.aggregate_columns is not None:
            if hasattr(self.aggregate_columns, 'to_dict'):
                props['AggregateColumns'] = self.aggregate_columns.to_dict()
            elif isinstance(self.aggregate_columns, list):
                props['AggregateColumns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.aggregate_columns
                ]
            else:
                props['AggregateColumns'] = self.aggregate_columns

        return props


@dataclass
class AnalysisRuleCustom:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    additional_analyses: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_analysis_providers: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    differential_privacy: Optional[DifferentialPrivacy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_analyses: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    disallowed_output_columns: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.additional_analyses is not None:
            if hasattr(self.additional_analyses, 'to_dict'):
                props['AdditionalAnalyses'] = self.additional_analyses.to_dict()
            elif isinstance(self.additional_analyses, list):
                props['AdditionalAnalyses'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.additional_analyses
                ]
            else:
                props['AdditionalAnalyses'] = self.additional_analyses

        if self.allowed_analysis_providers is not None:
            if hasattr(self.allowed_analysis_providers, 'to_dict'):
                props['AllowedAnalysisProviders'] = self.allowed_analysis_providers.to_dict()
            elif isinstance(self.allowed_analysis_providers, list):
                props['AllowedAnalysisProviders'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_analysis_providers
                ]
            else:
                props['AllowedAnalysisProviders'] = self.allowed_analysis_providers

        if self.differential_privacy is not None:
            if hasattr(self.differential_privacy, 'to_dict'):
                props['DifferentialPrivacy'] = self.differential_privacy.to_dict()
            elif isinstance(self.differential_privacy, list):
                props['DifferentialPrivacy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.differential_privacy
                ]
            else:
                props['DifferentialPrivacy'] = self.differential_privacy

        if self.allowed_analyses is not None:
            if hasattr(self.allowed_analyses, 'to_dict'):
                props['AllowedAnalyses'] = self.allowed_analyses.to_dict()
            elif isinstance(self.allowed_analyses, list):
                props['AllowedAnalyses'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_analyses
                ]
            else:
                props['AllowedAnalyses'] = self.allowed_analyses

        if self.disallowed_output_columns is not None:
            if hasattr(self.disallowed_output_columns, 'to_dict'):
                props['DisallowedOutputColumns'] = self.disallowed_output_columns.to_dict()
            elif isinstance(self.disallowed_output_columns, list):
                props['DisallowedOutputColumns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.disallowed_output_columns
                ]
            else:
                props['DisallowedOutputColumns'] = self.disallowed_output_columns

        return props


@dataclass
class AnalysisRuleList:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_join_operators: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    list_columns: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    additional_analyses: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    join_columns: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allowed_join_operators is not None:
            if hasattr(self.allowed_join_operators, 'to_dict'):
                props['AllowedJoinOperators'] = self.allowed_join_operators.to_dict()
            elif isinstance(self.allowed_join_operators, list):
                props['AllowedJoinOperators'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_join_operators
                ]
            else:
                props['AllowedJoinOperators'] = self.allowed_join_operators

        if self.list_columns is not None:
            if hasattr(self.list_columns, 'to_dict'):
                props['ListColumns'] = self.list_columns.to_dict()
            elif isinstance(self.list_columns, list):
                props['ListColumns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.list_columns
                ]
            else:
                props['ListColumns'] = self.list_columns

        if self.additional_analyses is not None:
            if hasattr(self.additional_analyses, 'to_dict'):
                props['AdditionalAnalyses'] = self.additional_analyses.to_dict()
            elif isinstance(self.additional_analyses, list):
                props['AdditionalAnalyses'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.additional_analyses
                ]
            else:
                props['AdditionalAnalyses'] = self.additional_analyses

        if self.join_columns is not None:
            if hasattr(self.join_columns, 'to_dict'):
                props['JoinColumns'] = self.join_columns.to_dict()
            elif isinstance(self.join_columns, list):
                props['JoinColumns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.join_columns
                ]
            else:
                props['JoinColumns'] = self.join_columns

        return props


@dataclass
class AthenaTableReference:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    work_group: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    table_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    database_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    region: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    output_location: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.work_group is not None:
            if hasattr(self.work_group, 'to_dict'):
                props['WorkGroup'] = self.work_group.to_dict()
            elif isinstance(self.work_group, list):
                props['WorkGroup'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.work_group
                ]
            else:
                props['WorkGroup'] = self.work_group

        if self.table_name is not None:
            if hasattr(self.table_name, 'to_dict'):
                props['TableName'] = self.table_name.to_dict()
            elif isinstance(self.table_name, list):
                props['TableName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_name
                ]
            else:
                props['TableName'] = self.table_name

        if self.database_name is not None:
            if hasattr(self.database_name, 'to_dict'):
                props['DatabaseName'] = self.database_name.to_dict()
            elif isinstance(self.database_name, list):
                props['DatabaseName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.database_name
                ]
            else:
                props['DatabaseName'] = self.database_name

        if self.region is not None:
            if hasattr(self.region, 'to_dict'):
                props['Region'] = self.region.to_dict()
            elif isinstance(self.region, list):
                props['Region'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.region
                ]
            else:
                props['Region'] = self.region

        if self.output_location is not None:
            if hasattr(self.output_location, 'to_dict'):
                props['OutputLocation'] = self.output_location.to_dict()
            elif isinstance(self.output_location, list):
                props['OutputLocation'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.output_location
                ]
            else:
                props['OutputLocation'] = self.output_location

        return props


@dataclass
class ConfiguredTableAnalysisRulePolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    v1: Optional[ConfiguredTableAnalysisRulePolicyV1] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.v1 is not None:
            if hasattr(self.v1, 'to_dict'):
                props['V1'] = self.v1.to_dict()
            elif isinstance(self.v1, list):
                props['V1'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.v1
                ]
            else:
                props['V1'] = self.v1

        return props


@dataclass
class ConfiguredTableAnalysisRulePolicyV1:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    aggregation: Optional[AnalysisRuleAggregation] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    list: Optional[AnalysisRuleList] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    custom: Optional[AnalysisRuleCustom] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.aggregation is not None:
            if hasattr(self.aggregation, 'to_dict'):
                props['Aggregation'] = self.aggregation.to_dict()
            elif isinstance(self.aggregation, list):
                props['Aggregation'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.aggregation
                ]
            else:
                props['Aggregation'] = self.aggregation

        if self.list is not None:
            if hasattr(self.list, 'to_dict'):
                props['List'] = self.list.to_dict()
            elif isinstance(self.list, list):
                props['List'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.list
                ]
            else:
                props['List'] = self.list

        if self.custom is not None:
            if hasattr(self.custom, 'to_dict'):
                props['Custom'] = self.custom.to_dict()
            elif isinstance(self.custom, list):
                props['Custom'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom
                ]
            else:
                props['Custom'] = self.custom

        return props


@dataclass
class DifferentialPrivacy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    columns: Optional[list[DifferentialPrivacyColumn]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.columns is not None:
            if hasattr(self.columns, 'to_dict'):
                props['Columns'] = self.columns.to_dict()
            elif isinstance(self.columns, list):
                props['Columns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.columns
                ]
            else:
                props['Columns'] = self.columns

        return props


@dataclass
class DifferentialPrivacyColumn:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.name is not None:
            if hasattr(self.name, 'to_dict'):
                props['Name'] = self.name.to_dict()
            elif isinstance(self.name, list):
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props['Name'] = self.name

        return props


@dataclass
class GlueTableReference:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    table_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    database_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    region: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.table_name is not None:
            if hasattr(self.table_name, 'to_dict'):
                props['TableName'] = self.table_name.to_dict()
            elif isinstance(self.table_name, list):
                props['TableName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_name
                ]
            else:
                props['TableName'] = self.table_name

        if self.database_name is not None:
            if hasattr(self.database_name, 'to_dict'):
                props['DatabaseName'] = self.database_name.to_dict()
            elif isinstance(self.database_name, list):
                props['DatabaseName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.database_name
                ]
            else:
                props['DatabaseName'] = self.database_name

        if self.region is not None:
            if hasattr(self.region, 'to_dict'):
                props['Region'] = self.region.to_dict()
            elif isinstance(self.region, list):
                props['Region'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.region
                ]
            else:
                props['Region'] = self.region

        return props


@dataclass
class SnowflakeTableReference:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    secret_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    table_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    table_schema: Optional[SnowflakeTableSchema] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    account_identifier: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    database_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    schema_name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.secret_arn is not None:
            if hasattr(self.secret_arn, 'to_dict'):
                props['SecretArn'] = self.secret_arn.to_dict()
            elif isinstance(self.secret_arn, list):
                props['SecretArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.secret_arn
                ]
            else:
                props['SecretArn'] = self.secret_arn

        if self.table_name is not None:
            if hasattr(self.table_name, 'to_dict'):
                props['TableName'] = self.table_name.to_dict()
            elif isinstance(self.table_name, list):
                props['TableName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_name
                ]
            else:
                props['TableName'] = self.table_name

        if self.table_schema is not None:
            if hasattr(self.table_schema, 'to_dict'):
                props['TableSchema'] = self.table_schema.to_dict()
            elif isinstance(self.table_schema, list):
                props['TableSchema'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_schema
                ]
            else:
                props['TableSchema'] = self.table_schema

        if self.account_identifier is not None:
            if hasattr(self.account_identifier, 'to_dict'):
                props['AccountIdentifier'] = self.account_identifier.to_dict()
            elif isinstance(self.account_identifier, list):
                props['AccountIdentifier'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.account_identifier
                ]
            else:
                props['AccountIdentifier'] = self.account_identifier

        if self.database_name is not None:
            if hasattr(self.database_name, 'to_dict'):
                props['DatabaseName'] = self.database_name.to_dict()
            elif isinstance(self.database_name, list):
                props['DatabaseName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.database_name
                ]
            else:
                props['DatabaseName'] = self.database_name

        if self.schema_name is not None:
            if hasattr(self.schema_name, 'to_dict'):
                props['SchemaName'] = self.schema_name.to_dict()
            elif isinstance(self.schema_name, list):
                props['SchemaName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.schema_name
                ]
            else:
                props['SchemaName'] = self.schema_name

        return props


@dataclass
class SnowflakeTableSchema:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    v1: Optional[list[SnowflakeTableSchemaV1]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.v1 is not None:
            if hasattr(self.v1, 'to_dict'):
                props['V1'] = self.v1.to_dict()
            elif isinstance(self.v1, list):
                props['V1'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.v1
                ]
            else:
                props['V1'] = self.v1

        return props


@dataclass
class SnowflakeTableSchemaV1:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    column_name: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    column_type: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.column_name is not None:
            if hasattr(self.column_name, 'to_dict'):
                props['ColumnName'] = self.column_name.to_dict()
            elif isinstance(self.column_name, list):
                props['ColumnName'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.column_name
                ]
            else:
                props['ColumnName'] = self.column_name

        if self.column_type is not None:
            if hasattr(self.column_type, 'to_dict'):
                props['ColumnType'] = self.column_type.to_dict()
            elif isinstance(self.column_type, list):
                props['ColumnType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.column_type
                ]
            else:
                props['ColumnType'] = self.column_type

        return props


@dataclass
class TableReference:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    glue: Optional[GlueTableReference] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    snowflake: Optional[SnowflakeTableReference] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    athena: Optional[AthenaTableReference] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.glue is not None:
            if hasattr(self.glue, 'to_dict'):
                props['Glue'] = self.glue.to_dict()
            elif isinstance(self.glue, list):
                props['Glue'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.glue
                ]
            else:
                props['Glue'] = self.glue

        if self.snowflake is not None:
            if hasattr(self.snowflake, 'to_dict'):
                props['Snowflake'] = self.snowflake.to_dict()
            elif isinstance(self.snowflake, list):
                props['Snowflake'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.snowflake
                ]
            else:
                props['Snowflake'] = self.snowflake

        if self.athena is not None:
            if hasattr(self.athena, 'to_dict'):
                props['Athena'] = self.athena.to_dict()
            elif isinstance(self.athena, list):
                props['Athena'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.athena
                ]
            else:
                props['Athena'] = self.athena

        return props


@dataclass
class ConfiguredTable(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-clean"""

    resource_type: ClassVar[str] = "AWS::CleanRooms::ConfiguredTable"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    selected_analysis_methods: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    analysis_method: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    table_reference: Optional[TableReference] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    analysis_rules: Optional[list[AnalysisRule]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    allowed_columns: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.selected_analysis_methods is not None:
            # Serialize selected_analysis_methods (handle intrinsic functions)
            if hasattr(self.selected_analysis_methods, 'to_dict'):
                props["SelectedAnalysisMethods"] = self.selected_analysis_methods.to_dict()
            elif isinstance(self.selected_analysis_methods, list):
                # Serialize list items (may contain intrinsic functions)
                props['SelectedAnalysisMethods'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.selected_analysis_methods
                ]
            else:
                props["SelectedAnalysisMethods"] = self.selected_analysis_methods

        if self.analysis_method is not None:
            # Serialize analysis_method (handle intrinsic functions)
            if hasattr(self.analysis_method, 'to_dict'):
                props["AnalysisMethod"] = self.analysis_method.to_dict()
            elif isinstance(self.analysis_method, list):
                # Serialize list items (may contain intrinsic functions)
                props['AnalysisMethod'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.analysis_method
                ]
            else:
                props["AnalysisMethod"] = self.analysis_method

        if self.table_reference is not None:
            # Serialize table_reference (handle intrinsic functions)
            if hasattr(self.table_reference, 'to_dict'):
                props["TableReference"] = self.table_reference.to_dict()
            elif isinstance(self.table_reference, list):
                # Serialize list items (may contain intrinsic functions)
                props['TableReference'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.table_reference
                ]
            else:
                props["TableReference"] = self.table_reference

        if self.description is not None:
            # Serialize description (handle intrinsic functions)
            if hasattr(self.description, 'to_dict'):
                props["Description"] = self.description.to_dict()
            elif isinstance(self.description, list):
                # Serialize list items (may contain intrinsic functions)
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props["Description"] = self.description

        if self.analysis_rules is not None:
            # Serialize analysis_rules (handle intrinsic functions)
            if hasattr(self.analysis_rules, 'to_dict'):
                props["AnalysisRules"] = self.analysis_rules.to_dict()
            elif isinstance(self.analysis_rules, list):
                # Serialize list items (may contain intrinsic functions)
                props['AnalysisRules'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.analysis_rules
                ]
            else:
                props["AnalysisRules"] = self.analysis_rules

        if self.allowed_columns is not None:
            # Serialize allowed_columns (handle intrinsic functions)
            if hasattr(self.allowed_columns, 'to_dict'):
                props["AllowedColumns"] = self.allowed_columns.to_dict()
            elif isinstance(self.allowed_columns, list):
                # Serialize list items (may contain intrinsic functions)
                props['AllowedColumns'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_columns
                ]
            else:
                props["AllowedColumns"] = self.allowed_columns

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        return props

    @property
    def attr_configured_table_identifier(self) -> GetAtt:
        """Get the ConfiguredTableIdentifier attribute."""
        return self.get_att("ConfiguredTableIdentifier")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")




@dataclass
class ConfiguredTableAssociationAnalysisRule:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    policy: Optional[ConfiguredTableAssociationAnalysisRulePolicy] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.policy is not None:
            if hasattr(self.policy, 'to_dict'):
                props['Policy'] = self.policy.to_dict()
            elif isinstance(self.policy, list):
                props['Policy'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.policy
                ]
            else:
                props['Policy'] = self.policy

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        return props


@dataclass
class ConfiguredTableAssociationAnalysisRuleAggregation:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_result_receivers: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_additional_analyses: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allowed_result_receivers is not None:
            if hasattr(self.allowed_result_receivers, 'to_dict'):
                props['AllowedResultReceivers'] = self.allowed_result_receivers.to_dict()
            elif isinstance(self.allowed_result_receivers, list):
                props['AllowedResultReceivers'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_result_receivers
                ]
            else:
                props['AllowedResultReceivers'] = self.allowed_result_receivers

        if self.allowed_additional_analyses is not None:
            if hasattr(self.allowed_additional_analyses, 'to_dict'):
                props['AllowedAdditionalAnalyses'] = self.allowed_additional_analyses.to_dict()
            elif isinstance(self.allowed_additional_analyses, list):
                props['AllowedAdditionalAnalyses'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_additional_analyses
                ]
            else:
                props['AllowedAdditionalAnalyses'] = self.allowed_additional_analyses

        return props


@dataclass
class ConfiguredTableAssociationAnalysisRuleCustom:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_result_receivers: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_additional_analyses: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allowed_result_receivers is not None:
            if hasattr(self.allowed_result_receivers, 'to_dict'):
                props['AllowedResultReceivers'] = self.allowed_result_receivers.to_dict()
            elif isinstance(self.allowed_result_receivers, list):
                props['AllowedResultReceivers'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_result_receivers
                ]
            else:
                props['AllowedResultReceivers'] = self.allowed_result_receivers

        if self.allowed_additional_analyses is not None:
            if hasattr(self.allowed_additional_analyses, 'to_dict'):
                props['AllowedAdditionalAnalyses'] = self.allowed_additional_analyses.to_dict()
            elif isinstance(self.allowed_additional_analyses, list):
                props['AllowedAdditionalAnalyses'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_additional_analyses
                ]
            else:
                props['AllowedAdditionalAnalyses'] = self.allowed_additional_analyses

        return props


@dataclass
class ConfiguredTableAssociationAnalysisRuleList:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_result_receivers: Optional[Union[list[str], Ref]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allowed_additional_analyses: Optional[Union[list[str], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allowed_result_receivers is not None:
            if hasattr(self.allowed_result_receivers, 'to_dict'):
                props['AllowedResultReceivers'] = self.allowed_result_receivers.to_dict()
            elif isinstance(self.allowed_result_receivers, list):
                props['AllowedResultReceivers'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_result_receivers
                ]
            else:
                props['AllowedResultReceivers'] = self.allowed_result_receivers

        if self.allowed_additional_analyses is not None:
            if hasattr(self.allowed_additional_analyses, 'to_dict'):
                props['AllowedAdditionalAnalyses'] = self.allowed_additional_analyses.to_dict()
            elif isinstance(self.allowed_additional_analyses, list):
                props['AllowedAdditionalAnalyses'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allowed_additional_analyses
                ]
            else:
                props['AllowedAdditionalAnalyses'] = self.allowed_additional_analyses

        return props


@dataclass
class ConfiguredTableAssociationAnalysisRulePolicy:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    v1: Optional[ConfiguredTableAssociationAnalysisRulePolicyV1] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.v1 is not None:
            if hasattr(self.v1, 'to_dict'):
                props['V1'] = self.v1.to_dict()
            elif isinstance(self.v1, list):
                props['V1'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.v1
                ]
            else:
                props['V1'] = self.v1

        return props


@dataclass
class ConfiguredTableAssociationAnalysisRulePolicyV1:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    aggregation: Optional[ConfiguredTableAssociationAnalysisRuleAggregation] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    list: Optional[ConfiguredTableAssociationAnalysisRuleList] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    custom: Optional[ConfiguredTableAssociationAnalysisRuleCustom] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.aggregation is not None:
            if hasattr(self.aggregation, 'to_dict'):
                props['Aggregation'] = self.aggregation.to_dict()
            elif isinstance(self.aggregation, list):
                props['Aggregation'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.aggregation
                ]
            else:
                props['Aggregation'] = self.aggregation

        if self.list is not None:
            if hasattr(self.list, 'to_dict'):
                props['List'] = self.list.to_dict()
            elif isinstance(self.list, list):
                props['List'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.list
                ]
            else:
                props['List'] = self.list

        if self.custom is not None:
            if hasattr(self.custom, 'to_dict'):
                props['Custom'] = self.custom.to_dict()
            elif isinstance(self.custom, list):
                props['Custom'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.custom
                ]
            else:
                props['Custom'] = self.custom

        return props


@dataclass
class ConfiguredTableAssociation(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-clean"""

    resource_type: ClassVar[str] = "AWS::CleanRooms::ConfiguredTableAssociation"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    membership_identifier: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    configured_table_association_analysis_rules: Optional[list[ConfiguredTableAssociationAnalysisRule]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    configured_table_identifier: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    role_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.membership_identifier is not None:
            # Serialize membership_identifier (handle intrinsic functions)
            if hasattr(self.membership_identifier, 'to_dict'):
                props["MembershipIdentifier"] = self.membership_identifier.to_dict()
            elif isinstance(self.membership_identifier, list):
                # Serialize list items (may contain intrinsic functions)
                props['MembershipIdentifier'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.membership_identifier
                ]
            else:
                props["MembershipIdentifier"] = self.membership_identifier

        if self.description is not None:
            # Serialize description (handle intrinsic functions)
            if hasattr(self.description, 'to_dict'):
                props["Description"] = self.description.to_dict()
            elif isinstance(self.description, list):
                # Serialize list items (may contain intrinsic functions)
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props["Description"] = self.description

        if self.configured_table_association_analysis_rules is not None:
            # Serialize configured_table_association_analysis_rules (handle intrinsic functions)
            if hasattr(self.configured_table_association_analysis_rules, 'to_dict'):
                props["ConfiguredTableAssociationAnalysisRules"] = self.configured_table_association_analysis_rules.to_dict()
            elif isinstance(self.configured_table_association_analysis_rules, list):
                # Serialize list items (may contain intrinsic functions)
                props['ConfiguredTableAssociationAnalysisRules'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configured_table_association_analysis_rules
                ]
            else:
                props["ConfiguredTableAssociationAnalysisRules"] = self.configured_table_association_analysis_rules

        if self.configured_table_identifier is not None:
            # Serialize configured_table_identifier (handle intrinsic functions)
            if hasattr(self.configured_table_identifier, 'to_dict'):
                props["ConfiguredTableIdentifier"] = self.configured_table_identifier.to_dict()
            elif isinstance(self.configured_table_identifier, list):
                # Serialize list items (may contain intrinsic functions)
                props['ConfiguredTableIdentifier'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.configured_table_identifier
                ]
            else:
                props["ConfiguredTableIdentifier"] = self.configured_table_identifier

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.role_arn is not None:
            # Serialize role_arn (handle intrinsic functions)
            if hasattr(self.role_arn, 'to_dict'):
                props["RoleArn"] = self.role_arn.to_dict()
            elif isinstance(self.role_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['RoleArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.role_arn
                ]
            else:
                props["RoleArn"] = self.role_arn

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        return props

    @property
    def attr_configured_table_association_identifier(self) -> GetAtt:
        """Get the ConfiguredTableAssociationIdentifier attribute."""
        return self.get_att("ConfiguredTableAssociationIdentifier")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")




@dataclass
class IdMappingTableInputReferenceConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    input_reference_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    manage_resource_policies: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.input_reference_arn is not None:
            if hasattr(self.input_reference_arn, 'to_dict'):
                props['InputReferenceArn'] = self.input_reference_arn.to_dict()
            elif isinstance(self.input_reference_arn, list):
                props['InputReferenceArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.input_reference_arn
                ]
            else:
                props['InputReferenceArn'] = self.input_reference_arn

        if self.manage_resource_policies is not None:
            if hasattr(self.manage_resource_policies, 'to_dict'):
                props['ManageResourcePolicies'] = self.manage_resource_policies.to_dict()
            elif isinstance(self.manage_resource_policies, list):
                props['ManageResourcePolicies'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.manage_resource_policies
                ]
            else:
                props['ManageResourcePolicies'] = self.manage_resource_policies

        return props


@dataclass
class IdMappingTableInputReferenceProperties:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    id_mapping_table_input_source: Optional[list[IdMappingTableInputSource]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.id_mapping_table_input_source is not None:
            if hasattr(self.id_mapping_table_input_source, 'to_dict'):
                props['IdMappingTableInputSource'] = self.id_mapping_table_input_source.to_dict()
            elif isinstance(self.id_mapping_table_input_source, list):
                props['IdMappingTableInputSource'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.id_mapping_table_input_source
                ]
            else:
                props['IdMappingTableInputSource'] = self.id_mapping_table_input_source

        return props


@dataclass
class IdMappingTableInputSource:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    id_namespace_association_id: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        if self.id_namespace_association_id is not None:
            if hasattr(self.id_namespace_association_id, 'to_dict'):
                props['IdNamespaceAssociationId'] = self.id_namespace_association_id.to_dict()
            elif isinstance(self.id_namespace_association_id, list):
                props['IdNamespaceAssociationId'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.id_namespace_association_id
                ]
            else:
                props['IdNamespaceAssociationId'] = self.id_namespace_association_id

        return props


@dataclass
class IdMappingTable(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-clean"""

    resource_type: ClassVar[str] = "AWS::CleanRooms::IdMappingTable"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    membership_identifier: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    kms_key_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    input_reference_config: Optional[IdMappingTableInputReferenceConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.membership_identifier is not None:
            # Serialize membership_identifier (handle intrinsic functions)
            if hasattr(self.membership_identifier, 'to_dict'):
                props["MembershipIdentifier"] = self.membership_identifier.to_dict()
            elif isinstance(self.membership_identifier, list):
                # Serialize list items (may contain intrinsic functions)
                props['MembershipIdentifier'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.membership_identifier
                ]
            else:
                props["MembershipIdentifier"] = self.membership_identifier

        if self.description is not None:
            # Serialize description (handle intrinsic functions)
            if hasattr(self.description, 'to_dict'):
                props["Description"] = self.description.to_dict()
            elif isinstance(self.description, list):
                # Serialize list items (may contain intrinsic functions)
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props["Description"] = self.description

        if self.kms_key_arn is not None:
            # Serialize kms_key_arn (handle intrinsic functions)
            if hasattr(self.kms_key_arn, 'to_dict'):
                props["KmsKeyArn"] = self.kms_key_arn.to_dict()
            elif isinstance(self.kms_key_arn, list):
                # Serialize list items (may contain intrinsic functions)
                props['KmsKeyArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.kms_key_arn
                ]
            else:
                props["KmsKeyArn"] = self.kms_key_arn

        if self.input_reference_config is not None:
            # Serialize input_reference_config (handle intrinsic functions)
            if hasattr(self.input_reference_config, 'to_dict'):
                props["InputReferenceConfig"] = self.input_reference_config.to_dict()
            elif isinstance(self.input_reference_config, list):
                # Serialize list items (may contain intrinsic functions)
                props['InputReferenceConfig'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.input_reference_config
                ]
            else:
                props["InputReferenceConfig"] = self.input_reference_config

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        return props

    @property
    def attr_collaboration_identifier(self) -> GetAtt:
        """Get the CollaborationIdentifier attribute."""
        return self.get_att("CollaborationIdentifier")

    @property
    def attr_membership_arn(self) -> GetAtt:
        """Get the MembershipArn attribute."""
        return self.get_att("MembershipArn")

    @property
    def attr_id_mapping_table_identifier(self) -> GetAtt:
        """Get the IdMappingTableIdentifier attribute."""
        return self.get_att("IdMappingTableIdentifier")

    @property
    def attr_input_reference_properties(self) -> GetAtt:
        """Get the InputReferenceProperties attribute."""
        return self.get_att("InputReferenceProperties")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")

    @property
    def attr_input_reference_properties__id_mapping_table_input_source(self) -> GetAtt:
        """Get the InputReferenceProperties.IdMappingTableInputSource attribute."""
        return self.get_att("InputReferenceProperties.IdMappingTableInputSource")

    @property
    def attr_collaboration_arn(self) -> GetAtt:
        """Get the CollaborationArn attribute."""
        return self.get_att("CollaborationArn")




@dataclass
class IdMappingConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    allow_use_as_dimension_column: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.allow_use_as_dimension_column is not None:
            if hasattr(self.allow_use_as_dimension_column, 'to_dict'):
                props['AllowUseAsDimensionColumn'] = self.allow_use_as_dimension_column.to_dict()
            elif isinstance(self.allow_use_as_dimension_column, list):
                props['AllowUseAsDimensionColumn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.allow_use_as_dimension_column
                ]
            else:
                props['AllowUseAsDimensionColumn'] = self.allow_use_as_dimension_column

        return props


@dataclass
class IdNamespaceAssociationInputReferenceConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    input_reference_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    manage_resource_policies: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.input_reference_arn is not None:
            if hasattr(self.input_reference_arn, 'to_dict'):
                props['InputReferenceArn'] = self.input_reference_arn.to_dict()
            elif isinstance(self.input_reference_arn, list):
                props['InputReferenceArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.input_reference_arn
                ]
            else:
                props['InputReferenceArn'] = self.input_reference_arn

        if self.manage_resource_policies is not None:
            if hasattr(self.manage_resource_policies, 'to_dict'):
                props['ManageResourcePolicies'] = self.manage_resource_policies.to_dict()
            elif isinstance(self.manage_resource_policies, list):
                props['ManageResourcePolicies'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.manage_resource_policies
                ]
            else:
                props['ManageResourcePolicies'] = self.manage_resource_policies

        return props


@dataclass
class IdNamespaceAssociationInputReferenceProperties:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    id_namespace_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    id_mapping_workflows_supported: Optional[Union[list[dict[str, Any]], Ref]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.id_namespace_type is not None:
            if hasattr(self.id_namespace_type, 'to_dict'):
                props['IdNamespaceType'] = self.id_namespace_type.to_dict()
            elif isinstance(self.id_namespace_type, list):
                props['IdNamespaceType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.id_namespace_type
                ]
            else:
                props['IdNamespaceType'] = self.id_namespace_type

        if self.id_mapping_workflows_supported is not None:
            if hasattr(self.id_mapping_workflows_supported, 'to_dict'):
                props['IdMappingWorkflowsSupported'] = self.id_mapping_workflows_supported.to_dict()
            elif isinstance(self.id_mapping_workflows_supported, list):
                props['IdMappingWorkflowsSupported'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.id_mapping_workflows_supported
                ]
            else:
                props['IdMappingWorkflowsSupported'] = self.id_mapping_workflows_supported

        return props


@dataclass
class IdNamespaceAssociation(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-clean"""

    resource_type: ClassVar[str] = "AWS::CleanRooms::IdNamespaceAssociation"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    id_mapping_config: Optional[IdMappingConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    membership_identifier: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    description: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    input_reference_config: Optional[IdNamespaceAssociationInputReferenceConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    name: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.id_mapping_config is not None:
            # Serialize id_mapping_config (handle intrinsic functions)
            if hasattr(self.id_mapping_config, 'to_dict'):
                props["IdMappingConfig"] = self.id_mapping_config.to_dict()
            elif isinstance(self.id_mapping_config, list):
                # Serialize list items (may contain intrinsic functions)
                props['IdMappingConfig'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.id_mapping_config
                ]
            else:
                props["IdMappingConfig"] = self.id_mapping_config

        if self.membership_identifier is not None:
            # Serialize membership_identifier (handle intrinsic functions)
            if hasattr(self.membership_identifier, 'to_dict'):
                props["MembershipIdentifier"] = self.membership_identifier.to_dict()
            elif isinstance(self.membership_identifier, list):
                # Serialize list items (may contain intrinsic functions)
                props['MembershipIdentifier'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.membership_identifier
                ]
            else:
                props["MembershipIdentifier"] = self.membership_identifier

        if self.description is not None:
            # Serialize description (handle intrinsic functions)
            if hasattr(self.description, 'to_dict'):
                props["Description"] = self.description.to_dict()
            elif isinstance(self.description, list):
                # Serialize list items (may contain intrinsic functions)
                props['Description'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.description
                ]
            else:
                props["Description"] = self.description

        if self.input_reference_config is not None:
            # Serialize input_reference_config (handle intrinsic functions)
            if hasattr(self.input_reference_config, 'to_dict'):
                props["InputReferenceConfig"] = self.input_reference_config.to_dict()
            elif isinstance(self.input_reference_config, list):
                # Serialize list items (may contain intrinsic functions)
                props['InputReferenceConfig'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.input_reference_config
                ]
            else:
                props["InputReferenceConfig"] = self.input_reference_config

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.name is not None:
            # Serialize name (handle intrinsic functions)
            if hasattr(self.name, 'to_dict'):
                props["Name"] = self.name.to_dict()
            elif isinstance(self.name, list):
                # Serialize list items (may contain intrinsic functions)
                props['Name'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.name
                ]
            else:
                props["Name"] = self.name

        return props

    @property
    def attr_collaboration_identifier(self) -> GetAtt:
        """Get the CollaborationIdentifier attribute."""
        return self.get_att("CollaborationIdentifier")

    @property
    def attr_membership_arn(self) -> GetAtt:
        """Get the MembershipArn attribute."""
        return self.get_att("MembershipArn")

    @property
    def attr_input_reference_properties(self) -> GetAtt:
        """Get the InputReferenceProperties attribute."""
        return self.get_att("InputReferenceProperties")

    @property
    def attr_input_reference_properties__id_namespace_type(self) -> GetAtt:
        """Get the InputReferenceProperties.IdNamespaceType attribute."""
        return self.get_att("InputReferenceProperties.IdNamespaceType")

    @property
    def attr_input_reference_properties__id_mapping_workflows_supported(self) -> GetAtt:
        """Get the InputReferenceProperties.IdMappingWorkflowsSupported attribute."""
        return self.get_att("InputReferenceProperties.IdMappingWorkflowsSupported")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")

    @property
    def attr_id_namespace_association_identifier(self) -> GetAtt:
        """Get the IdNamespaceAssociationIdentifier attribute."""
        return self.get_att("IdNamespaceAssociationIdentifier")

    @property
    def attr_collaboration_arn(self) -> GetAtt:
        """Get the CollaborationArn attribute."""
        return self.get_att("CollaborationArn")




@dataclass
class MembershipJobComputePaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_responsible: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.is_responsible is not None:
            if hasattr(self.is_responsible, 'to_dict'):
                props['IsResponsible'] = self.is_responsible.to_dict()
            elif isinstance(self.is_responsible, list):
                props['IsResponsible'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_responsible
                ]
            else:
                props['IsResponsible'] = self.is_responsible

        return props


@dataclass
class MembershipMLPaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    model_inference: Optional[MembershipModelInferencePaymentConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    synthetic_data_generation: Optional[MembershipSyntheticDataGenerationPaymentConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    model_training: Optional[MembershipModelTrainingPaymentConfig] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.model_inference is not None:
            if hasattr(self.model_inference, 'to_dict'):
                props['ModelInference'] = self.model_inference.to_dict()
            elif isinstance(self.model_inference, list):
                props['ModelInference'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.model_inference
                ]
            else:
                props['ModelInference'] = self.model_inference

        if self.synthetic_data_generation is not None:
            if hasattr(self.synthetic_data_generation, 'to_dict'):
                props['SyntheticDataGeneration'] = self.synthetic_data_generation.to_dict()
            elif isinstance(self.synthetic_data_generation, list):
                props['SyntheticDataGeneration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.synthetic_data_generation
                ]
            else:
                props['SyntheticDataGeneration'] = self.synthetic_data_generation

        if self.model_training is not None:
            if hasattr(self.model_training, 'to_dict'):
                props['ModelTraining'] = self.model_training.to_dict()
            elif isinstance(self.model_training, list):
                props['ModelTraining'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.model_training
                ]
            else:
                props['ModelTraining'] = self.model_training

        return props


@dataclass
class MembershipModelInferencePaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_responsible: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.is_responsible is not None:
            if hasattr(self.is_responsible, 'to_dict'):
                props['IsResponsible'] = self.is_responsible.to_dict()
            elif isinstance(self.is_responsible, list):
                props['IsResponsible'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_responsible
                ]
            else:
                props['IsResponsible'] = self.is_responsible

        return props


@dataclass
class MembershipModelTrainingPaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_responsible: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.is_responsible is not None:
            if hasattr(self.is_responsible, 'to_dict'):
                props['IsResponsible'] = self.is_responsible.to_dict()
            elif isinstance(self.is_responsible, list):
                props['IsResponsible'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_responsible
                ]
            else:
                props['IsResponsible'] = self.is_responsible

        return props


@dataclass
class MembershipPaymentConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    job_compute: Optional[MembershipJobComputePaymentConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    query_compute: Optional[MembershipQueryComputePaymentConfig] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    machine_learning: Optional[MembershipMLPaymentConfig] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.job_compute is not None:
            if hasattr(self.job_compute, 'to_dict'):
                props['JobCompute'] = self.job_compute.to_dict()
            elif isinstance(self.job_compute, list):
                props['JobCompute'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.job_compute
                ]
            else:
                props['JobCompute'] = self.job_compute

        if self.query_compute is not None:
            if hasattr(self.query_compute, 'to_dict'):
                props['QueryCompute'] = self.query_compute.to_dict()
            elif isinstance(self.query_compute, list):
                props['QueryCompute'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.query_compute
                ]
            else:
                props['QueryCompute'] = self.query_compute

        if self.machine_learning is not None:
            if hasattr(self.machine_learning, 'to_dict'):
                props['MachineLearning'] = self.machine_learning.to_dict()
            elif isinstance(self.machine_learning, list):
                props['MachineLearning'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.machine_learning
                ]
            else:
                props['MachineLearning'] = self.machine_learning

        return props


@dataclass
class MembershipProtectedJobOutputConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    s3: Optional[ProtectedJobS3OutputConfigurationInput] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.s3 is not None:
            if hasattr(self.s3, 'to_dict'):
                props['S3'] = self.s3.to_dict()
            elif isinstance(self.s3, list):
                props['S3'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.s3
                ]
            else:
                props['S3'] = self.s3

        return props


@dataclass
class MembershipProtectedJobResultConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    output_configuration: Optional[MembershipProtectedJobOutputConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    role_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.output_configuration is not None:
            if hasattr(self.output_configuration, 'to_dict'):
                props['OutputConfiguration'] = self.output_configuration.to_dict()
            elif isinstance(self.output_configuration, list):
                props['OutputConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.output_configuration
                ]
            else:
                props['OutputConfiguration'] = self.output_configuration

        if self.role_arn is not None:
            if hasattr(self.role_arn, 'to_dict'):
                props['RoleArn'] = self.role_arn.to_dict()
            elif isinstance(self.role_arn, list):
                props['RoleArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.role_arn
                ]
            else:
                props['RoleArn'] = self.role_arn

        return props


@dataclass
class MembershipProtectedQueryOutputConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    s3: Optional[ProtectedQueryS3OutputConfiguration] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.s3 is not None:
            if hasattr(self.s3, 'to_dict'):
                props['S3'] = self.s3.to_dict()
            elif isinstance(self.s3, list):
                props['S3'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.s3
                ]
            else:
                props['S3'] = self.s3

        return props


@dataclass
class MembershipProtectedQueryResultConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    output_configuration: Optional[MembershipProtectedQueryOutputConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    role_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.output_configuration is not None:
            if hasattr(self.output_configuration, 'to_dict'):
                props['OutputConfiguration'] = self.output_configuration.to_dict()
            elif isinstance(self.output_configuration, list):
                props['OutputConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.output_configuration
                ]
            else:
                props['OutputConfiguration'] = self.output_configuration

        if self.role_arn is not None:
            if hasattr(self.role_arn, 'to_dict'):
                props['RoleArn'] = self.role_arn.to_dict()
            elif isinstance(self.role_arn, list):
                props['RoleArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.role_arn
                ]
            else:
                props['RoleArn'] = self.role_arn

        return props


@dataclass
class MembershipQueryComputePaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_responsible: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.is_responsible is not None:
            if hasattr(self.is_responsible, 'to_dict'):
                props['IsResponsible'] = self.is_responsible.to_dict()
            elif isinstance(self.is_responsible, list):
                props['IsResponsible'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_responsible
                ]
            else:
                props['IsResponsible'] = self.is_responsible

        return props


@dataclass
class MembershipSyntheticDataGenerationPaymentConfig:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    is_responsible: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.is_responsible is not None:
            if hasattr(self.is_responsible, 'to_dict'):
                props['IsResponsible'] = self.is_responsible.to_dict()
            elif isinstance(self.is_responsible, list):
                props['IsResponsible'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.is_responsible
                ]
            else:
                props['IsResponsible'] = self.is_responsible

        return props


@dataclass
class ProtectedJobS3OutputConfigurationInput:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    bucket: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key_prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.bucket is not None:
            if hasattr(self.bucket, 'to_dict'):
                props['Bucket'] = self.bucket.to_dict()
            elif isinstance(self.bucket, list):
                props['Bucket'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.bucket
                ]
            else:
                props['Bucket'] = self.bucket

        if self.key_prefix is not None:
            if hasattr(self.key_prefix, 'to_dict'):
                props['KeyPrefix'] = self.key_prefix.to_dict()
            elif isinstance(self.key_prefix, list):
                props['KeyPrefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key_prefix
                ]
            else:
                props['KeyPrefix'] = self.key_prefix

        return props


@dataclass
class ProtectedQueryS3OutputConfiguration:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    bucket: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    result_format: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    key_prefix: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    single_file_output: Optional[Union[bool, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.bucket is not None:
            if hasattr(self.bucket, 'to_dict'):
                props['Bucket'] = self.bucket.to_dict()
            elif isinstance(self.bucket, list):
                props['Bucket'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.bucket
                ]
            else:
                props['Bucket'] = self.bucket

        if self.result_format is not None:
            if hasattr(self.result_format, 'to_dict'):
                props['ResultFormat'] = self.result_format.to_dict()
            elif isinstance(self.result_format, list):
                props['ResultFormat'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.result_format
                ]
            else:
                props['ResultFormat'] = self.result_format

        if self.key_prefix is not None:
            if hasattr(self.key_prefix, 'to_dict'):
                props['KeyPrefix'] = self.key_prefix.to_dict()
            elif isinstance(self.key_prefix, list):
                props['KeyPrefix'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.key_prefix
                ]
            else:
                props['KeyPrefix'] = self.key_prefix

        if self.single_file_output is not None:
            if hasattr(self.single_file_output, 'to_dict'):
                props['SingleFileOutput'] = self.single_file_output.to_dict()
            elif isinstance(self.single_file_output, list):
                props['SingleFileOutput'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.single_file_output
                ]
            else:
                props['SingleFileOutput'] = self.single_file_output

        return props


@dataclass
class Membership(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-clean"""

    resource_type: ClassVar[str] = "AWS::CleanRooms::Membership"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    collaboration_identifier: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    job_log_status: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    default_result_configuration: Optional[MembershipProtectedQueryResultConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    query_log_status: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    default_job_result_configuration: Optional[MembershipProtectedJobResultConfiguration] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    payment_configuration: Optional[MembershipPaymentConfiguration] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.collaboration_identifier is not None:
            # Serialize collaboration_identifier (handle intrinsic functions)
            if hasattr(self.collaboration_identifier, 'to_dict'):
                props["CollaborationIdentifier"] = self.collaboration_identifier.to_dict()
            elif isinstance(self.collaboration_identifier, list):
                # Serialize list items (may contain intrinsic functions)
                props['CollaborationIdentifier'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.collaboration_identifier
                ]
            else:
                props["CollaborationIdentifier"] = self.collaboration_identifier

        if self.job_log_status is not None:
            # Serialize job_log_status (handle intrinsic functions)
            if hasattr(self.job_log_status, 'to_dict'):
                props["JobLogStatus"] = self.job_log_status.to_dict()
            elif isinstance(self.job_log_status, list):
                # Serialize list items (may contain intrinsic functions)
                props['JobLogStatus'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.job_log_status
                ]
            else:
                props["JobLogStatus"] = self.job_log_status

        if self.default_result_configuration is not None:
            # Serialize default_result_configuration (handle intrinsic functions)
            if hasattr(self.default_result_configuration, 'to_dict'):
                props["DefaultResultConfiguration"] = self.default_result_configuration.to_dict()
            elif isinstance(self.default_result_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['DefaultResultConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_result_configuration
                ]
            else:
                props["DefaultResultConfiguration"] = self.default_result_configuration

        if self.query_log_status is not None:
            # Serialize query_log_status (handle intrinsic functions)
            if hasattr(self.query_log_status, 'to_dict'):
                props["QueryLogStatus"] = self.query_log_status.to_dict()
            elif isinstance(self.query_log_status, list):
                # Serialize list items (may contain intrinsic functions)
                props['QueryLogStatus'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.query_log_status
                ]
            else:
                props["QueryLogStatus"] = self.query_log_status

        if self.default_job_result_configuration is not None:
            # Serialize default_job_result_configuration (handle intrinsic functions)
            if hasattr(self.default_job_result_configuration, 'to_dict'):
                props["DefaultJobResultConfiguration"] = self.default_job_result_configuration.to_dict()
            elif isinstance(self.default_job_result_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['DefaultJobResultConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.default_job_result_configuration
                ]
            else:
                props["DefaultJobResultConfiguration"] = self.default_job_result_configuration

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.payment_configuration is not None:
            # Serialize payment_configuration (handle intrinsic functions)
            if hasattr(self.payment_configuration, 'to_dict'):
                props["PaymentConfiguration"] = self.payment_configuration.to_dict()
            elif isinstance(self.payment_configuration, list):
                # Serialize list items (may contain intrinsic functions)
                props['PaymentConfiguration'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.payment_configuration
                ]
            else:
                props["PaymentConfiguration"] = self.payment_configuration

        return props

    @property
    def attr_membership_identifier(self) -> GetAtt:
        """Get the MembershipIdentifier attribute."""
        return self.get_att("MembershipIdentifier")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")

    @property
    def attr_collaboration_creator_account_id(self) -> GetAtt:
        """Get the CollaborationCreatorAccountId attribute."""
        return self.get_att("CollaborationCreatorAccountId")

    @property
    def attr_collaboration_arn(self) -> GetAtt:
        """Get the CollaborationArn attribute."""
        return self.get_att("CollaborationArn")




@dataclass
class BudgetParameter:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    type_: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    budget: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    auto_refresh: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.type_ is not None:
            if hasattr(self.type_, 'to_dict'):
                props['Type'] = self.type_.to_dict()
            elif isinstance(self.type_, list):
                props['Type'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.type_
                ]
            else:
                props['Type'] = self.type_

        if self.budget is not None:
            if hasattr(self.budget, 'to_dict'):
                props['Budget'] = self.budget.to_dict()
            elif isinstance(self.budget, list):
                props['Budget'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.budget
                ]
            else:
                props['Budget'] = self.budget

        if self.auto_refresh is not None:
            if hasattr(self.auto_refresh, 'to_dict'):
                props['AutoRefresh'] = self.auto_refresh.to_dict()
            elif isinstance(self.auto_refresh, list):
                props['AutoRefresh'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auto_refresh
                ]
            else:
                props['AutoRefresh'] = self.auto_refresh

        return props


@dataclass
class Parameters:
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cle"""

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    resource_arn: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    budget_parameters: Optional[list[BudgetParameter]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    epsilon: Optional[Union[int, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuid
    users_noise_per_query: Optional[Union[int, Ref, GetAtt, Sub]] = None

    def to_dict(self) -> dict[str, Any]:
        """Serialize to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.resource_arn is not None:
            if hasattr(self.resource_arn, 'to_dict'):
                props['ResourceArn'] = self.resource_arn.to_dict()
            elif isinstance(self.resource_arn, list):
                props['ResourceArn'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.resource_arn
                ]
            else:
                props['ResourceArn'] = self.resource_arn

        if self.budget_parameters is not None:
            if hasattr(self.budget_parameters, 'to_dict'):
                props['BudgetParameters'] = self.budget_parameters.to_dict()
            elif isinstance(self.budget_parameters, list):
                props['BudgetParameters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.budget_parameters
                ]
            else:
                props['BudgetParameters'] = self.budget_parameters

        if self.epsilon is not None:
            if hasattr(self.epsilon, 'to_dict'):
                props['Epsilon'] = self.epsilon.to_dict()
            elif isinstance(self.epsilon, list):
                props['Epsilon'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.epsilon
                ]
            else:
                props['Epsilon'] = self.epsilon

        if self.users_noise_per_query is not None:
            if hasattr(self.users_noise_per_query, 'to_dict'):
                props['UsersNoisePerQuery'] = self.users_noise_per_query.to_dict()
            elif isinstance(self.users_noise_per_query, list):
                props['UsersNoisePerQuery'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.users_noise_per_query
                ]
            else:
                props['UsersNoisePerQuery'] = self.users_noise_per_query

        return props


@dataclass
class PrivacyBudgetTemplate(CloudFormationResource):
    """http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-clean"""

    resource_type: ClassVar[str] = "AWS::CleanRooms::PrivacyBudgetTemplate"

    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    privacy_budget_type: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    membership_identifier: Optional[Union[str, Ref, GetAtt, Sub]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    parameters: Optional[Parameters] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    tags: Optional[list[Tag]] = None
    # http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-reso
    auto_refresh: Optional[Union[str, Ref, GetAtt, Sub]] = None

    def _get_properties(self) -> dict[str, Any]:
        """Serialize resource properties to CloudFormation format."""
        props: dict[str, Any] = {}

        if self.privacy_budget_type is not None:
            # Serialize privacy_budget_type (handle intrinsic functions)
            if hasattr(self.privacy_budget_type, 'to_dict'):
                props["PrivacyBudgetType"] = self.privacy_budget_type.to_dict()
            elif isinstance(self.privacy_budget_type, list):
                # Serialize list items (may contain intrinsic functions)
                props['PrivacyBudgetType'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.privacy_budget_type
                ]
            else:
                props["PrivacyBudgetType"] = self.privacy_budget_type

        if self.membership_identifier is not None:
            # Serialize membership_identifier (handle intrinsic functions)
            if hasattr(self.membership_identifier, 'to_dict'):
                props["MembershipIdentifier"] = self.membership_identifier.to_dict()
            elif isinstance(self.membership_identifier, list):
                # Serialize list items (may contain intrinsic functions)
                props['MembershipIdentifier'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.membership_identifier
                ]
            else:
                props["MembershipIdentifier"] = self.membership_identifier

        if self.parameters is not None:
            # Serialize parameters (handle intrinsic functions)
            if hasattr(self.parameters, 'to_dict'):
                props["Parameters"] = self.parameters.to_dict()
            elif isinstance(self.parameters, list):
                # Serialize list items (may contain intrinsic functions)
                props['Parameters'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.parameters
                ]
            else:
                props["Parameters"] = self.parameters

        # Serialize tags - use all_tags to include context tags
        merged_tags = self.all_tags
        if merged_tags:
            props['Tags'] = [
                item.to_dict() if hasattr(item, 'to_dict') else item
                for item in merged_tags
            ]

        if self.auto_refresh is not None:
            # Serialize auto_refresh (handle intrinsic functions)
            if hasattr(self.auto_refresh, 'to_dict'):
                props["AutoRefresh"] = self.auto_refresh.to_dict()
            elif isinstance(self.auto_refresh, list):
                # Serialize list items (may contain intrinsic functions)
                props['AutoRefresh'] = [
                    item.to_dict() if hasattr(item, 'to_dict') else item
                    for item in self.auto_refresh
                ]
            else:
                props["AutoRefresh"] = self.auto_refresh

        return props

    @property
    def attr_collaboration_identifier(self) -> GetAtt:
        """Get the CollaborationIdentifier attribute."""
        return self.get_att("CollaborationIdentifier")

    @property
    def attr_membership_arn(self) -> GetAtt:
        """Get the MembershipArn attribute."""
        return self.get_att("MembershipArn")

    @property
    def attr_privacy_budget_template_identifier(self) -> GetAtt:
        """Get the PrivacyBudgetTemplateIdentifier attribute."""
        return self.get_att("PrivacyBudgetTemplateIdentifier")

    @property
    def attr_arn(self) -> GetAtt:
        """Get the Arn attribute."""
        return self.get_att("Arn")

    @property
    def attr_collaboration_arn(self) -> GetAtt:
        """Get the CollaborationArn attribute."""
        return self.get_att("CollaborationArn")



