<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright 2022 OpenSynergy Indonesia
     Copyright 2022 PT. Simetri Sinergi Indonesia
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). -->
<odoo>
<record id="odoo_use_case_specification_view_search" model="ir.ui.view">
    <field name="name">odoo_use_case_specification - search</field>
    <field name="model">odoo_use_case_specification</field>
    <field name="mode">primary</field>
    <field
            name="inherit_id"
            ref="ssi_transaction_mixin.mixin_transaction_view_search"
        />
    <field name="arch" type="xml">
        <data>
            <xpath expr="//field[@name='user_id']" position="after">
                <field name="feature_id" />
                <field name="use_case_id" />
                <field name="partner_id" />
                <field name="odoo_implementation_id" />
            </xpath>
            <xpath expr="//group[@name='group_by']" position="inside">
                <filter
                        name="grp_feature"
                        string="Feature"
                        context="{'group_by':'feature_id'}"
                    />
                <filter
                        name="grp_use_case"
                        string="Use Case"
                        context="{'group_by':'use_case_id'}"
                    />
                <filter
                        name="grp_partner"
                        string="Partner"
                        context="{'group_by':'partner_id'}"
                    />
                <filter
                        name="grp_odoo_implementation"
                        string="Odoo Implementation"
                        context="{'group_by':'odoo_implementation_id'}"
                    />
            </xpath>
        </data>
    </field>
</record>

<record id="odoo_use_case_specification_view_tree" model="ir.ui.view">
    <field name="name">odoo_use_case_specification - tree</field>
    <field name="model">odoo_use_case_specification</field>
    <field name="mode">primary</field>
    <field name="inherit_id" ref="ssi_transaction_mixin.mixin_transaction_view_tree" />
    <field name="arch" type="xml">
        <data>
            <xpath expr="//field[@name='company_id']" position="after">
                <field name="date" optional="hide" />
                <field name="feature_id" />
                <field name="use_case_id" />
                <field name="partner_id" />
                <field name="odoo_implementation_id" />
            </xpath>
        </data>
    </field>
</record>

<record id="odoo_use_case_specification_view_form" model="ir.ui.view">
    <field name="name">odoo_use_case_specification - form</field>
    <field name="model">odoo_use_case_specification</field>
    <field name="mode">primary</field>
    <field name="inherit_id" ref="ssi_transaction_mixin.mixin_transaction_view_form" />
    <field name="arch" type="xml">
        <data>
            <xpath expr="//field[@name='user_id']" position="after">
                <field name="feature_id" />
                <field name="use_case_id" domain="[('feature_id','=',feature_id)]" />
            </xpath>
            <xpath expr="//group[@name='header_right']" position="inside">
                <field name="date" />
                <field name="partner_id" />
                <field
                        name="odoo_implementation_id"
                        domain="[('partner_id','=',partner_id)]"
                    />
            </xpath>
            <xpath expr="//page[1]" position="before">
                <page name="trigger_actor" string="Trigger &amp; Actor">
                    <group name="trigger" string="Trigger" colspan="4" col="2">
                        <field
                                name="trigger"
                                colspan="2"
                                nolabel="1"
                                widget="ckeditor"
                            />
                    </group>
                    <group name="actor" string="Actor" colspan="4" col="2">
                        <field name="actor" colspan="2" nolabel="1" widget="ckeditor" />
                    </group>
                </page>
                <page name="precondition" string="Precondition">
                    <group
                            name="precondition"
                            string="Precondition"
                            colspan="4"
                            col="2"
                        >
                        <field
                                name="precondition"
                                colspan="2"
                                nolabel="1"
                                widget="ckeditor"
                            />
                    </group>
                </page>
                <page name="flow" string="Flow">
                    <group name="main_flow" string="Main Flow" colspan="4" col="2">
                        <field
                                name="main_flow"
                                colspan="2"
                                nolabel="1"
                                widget="ckeditor"
                            />
                    </group>
                    <separator string="Sub Flows" colspan="4" />
                    <field name="sub_flow_ids">
                        <tree>
                            <field name="sequence" widget="handle" />
                            <field
                                    name="name"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                            <field name="fork_point" />
                            <field
                                    name="description"
                                    widget="ckeditor"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                            <field name="join_point" />
                        </tree>
                        <form>
                            <sheet>
                                <group colspan="4" col="2">
                                    <field name="sequence" />
                                    <field name="name" />
                                    <field name="fork_point" />
                                    <field name="join_point" />
                                </group>
                                <notebook>
                                    <page name="steps" string="Steps">
                                        <field
                                                name="description"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                </notebook>
                            </sheet>
                        </form>
                    </field>
                    <separator string="Alternate Flows" colspan="4" />
                    <field name="alternate_flow_ids">
                        <tree>
                            <field name="sequence" widget="handle" />
                            <field
                                    name="name"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                            <field
                                    name="fork_point"
                                    widget="ckeditor"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                            <field
                                    name="condition"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                            <field
                                    name="description"
                                    widget="ckeditor"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                        </tree>
                        <form>
                            <sheet>
                                <group colspan="4" col="2">
                                    <field name="sequence" />
                                    <field name="name" />
                                    <field name="fork_point" widget="ckeditor" />
                                    <field name="condition" />
                                </group>
                                <notebook>
                                    <page name="steps" string="Steps">
                                        <field
                                                name="description"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                </notebook>
                            </sheet>
                        </form>
                    </field>
                    <separator string="Exception Flows" colspan="4" />
                    <field name="exception_flow_ids">
                        <tree>
                            <field name="sequence" widget="handle" />
                            <field
                                    name="name"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                            <field
                                    name="trigger"
                                    widget="ckeditor"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                            <field
                                    name="condition"
                                    widget="ckeditor"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                            <field
                                    name="system_response"
                                    widget="ckeditor"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                            <field
                                    name="correction_procedure"
                                    widget="ckeditor"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                        </tree>
                        <form>
                            <sheet>
                                <group colspan="4" col="2">
                                    <field name="sequence" />
                                    <field name="name" />
                                </group>
                                <notebook>
                                    <page name="description" string="Description">
                                        <field
                                                name="description"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                    <page name="trigger" string="Trigger">
                                        <field
                                                name="trigger"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                    <page name="condition" string="Condition">
                                        <field
                                                name="condition"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                    <page
                                            name="system_response"
                                            string="System Response"
                                        >
                                        <field
                                                name="system_response"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                    <page
                                            name="correction_procedure"
                                            string="Correction Procedure"
                                        >
                                        <field
                                                name="correction_procedure"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                </notebook>
                            </sheet>
                        </form>
                    </field>
                </page>
                <page name="business_rule" string="Business Rules">
                    <group
                            name="business_rule"
                            string="Business Rules"
                            colspan="4"
                            col="2"
                        >
                        <field
                                name="business_rule"
                                colspan="2"
                                nolabel="1"
                                widget="ckeditor"
                            />
                    </group>
                    <separator string="Default Values" colspan="4" />
                    <field name="default_value_ids">
                        <tree>
                            <field name="sequence" widget="handle" />
                            <field name="field_name" />
                            <field
                                    name="business_rule"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                    widget="ckeditor"
                                />
                        </tree>
                        <form>
                            <sheet>
                                <group>
                                    <field name="sequence" />
                                    <field name="field_name" />
                                </group>
                                <notebook>
                                    <page name="business_rule" string="Business Rule">
                                        <field
                                                name="business_rule"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                </notebook>
                            </sheet>
                        </form>
                    </field>
                    <separator string="Computed Values" colspan="4" />
                    <field name="computed_value_ids">
                        <tree>
                            <field name="sequence" widget="handle" />
                            <field name="field_name" />
                            <field
                                    name="trigger"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                    widget="ckeditor"
                                />
                            <field
                                    name="business_rule"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                    widget="ckeditor"
                                />
                        </tree>
                        <form>
                            <sheet>
                                <group>
                                    <field name="sequence" />
                                    <field name="field_name" />
                                </group>
                                <notebook>
                                    <page name="trigger" string="Trigger">
                                        <field
                                                name="trigger"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                    <page name="business_rule" string="Business Rule">
                                        <field
                                                name="business_rule"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                </notebook>
                            </sheet>
                        </form>
                    </field>
                    <separator string="Onchanges" colspan="4" />
                    <field name="onchange_ids">
                        <tree>
                            <field name="sequence" widget="handle" />
                            <field name="field_name" />
                            <field
                                    name="trigger"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                    widget="ckeditor"
                                />
                            <field
                                    name="business_rule"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                    widget="ckeditor"
                                />
                        </tree>
                        <form>
                            <sheet>
                                <group>
                                    <field name="sequence" />
                                    <field name="field_name" />
                                </group>
                                <notebook>
                                    <page name="trigger" string="Trigger">
                                        <field
                                                name="trigger"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                    <page name="business_rule" string="Business Rule">
                                        <field
                                                name="business_rule"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                </notebook>
                            </sheet>
                        </form>
                    </field>
                    <separator string="Domain" colspan="4" />
                    <field name="domain_ids">
                        <tree>
                            <field name="sequence" widget="handle" />
                            <field name="field_name" />
                            <field
                                    name="trigger"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                    widget="ckeditor"
                                />
                            <field
                                    name="business_rule"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                    widget="ckeditor"
                                />
                        </tree>
                        <form>
                            <sheet>
                                <group>
                                    <field name="sequence" />
                                    <field name="field_name" />
                                </group>
                                <notebook>
                                    <page name="trigger" string="Trigger">
                                        <field
                                                name="trigger"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                    <page name="business_rule" string="Business Rule">
                                        <field
                                                name="business_rule"
                                                widget="ckeditor"
                                                nolabel="1"
                                                colspan="2"
                                            />
                                    </page>
                                </notebook>
                            </sheet>
                        </form>
                    </field>
                    <separator string="Button Actions" colspan="4" />
                    <field name="button_ids">
                        <tree>
                            <field name="sequence" widget="handle" />
                            <field name="button_name" />
                            <field
                                    name="system_response"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                    widget="ckeditor"
                                />
                        </tree>
                        <form>
                            <group>
                                <field name="sequence" />
                                <field name="button_name" />
                            </group>
                            <notebook>
                                <page name="system_response" string="System Response">
                                    <field
                                            name="system_response"
                                            widget="ckeditor"
                                            nolabel="1"
                                            colspan="2"
                                        />
                                </page>
                            </notebook>
                        </form>
                    </field>
                </page>
                <page name="postcondition" string="Postcondition">
                    <group
                            name="postcondition"
                            string="Postcondition"
                            colspan="4"
                            col="2"
                        >
                        <field
                                name="postcondition"
                                colspan="2"
                                nolabel="1"
                                widget="ckeditor"
                            />
                    </group>
                    <separator string="Conditional Postconditions" colspan="4" />
                    <field name="conditional_postcondition_ids" nolabel="1">
                        <tree>
                            <field name="sequence" widget="handle" />
                            <field name="flow" />
                            <field
                                    name="name"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                            <field
                                    name="postcondition"
                                    widget="ckeditor"
                                    style="white-space: normal; word-wrap: break-word; overflow-wrap: break-word;"
                                />
                        </tree>
                        <form>
                            <sheet>
                                <group>
                                    <field name="sequence" />
                                    <field name="flow" />
                                    <field name="name" />
                                    <field
                                            name="postcondition"
                                            widget="ckeditor"
                                            nolabel="1"
                                            colspan="2"
                                        />
                                </group>
                            </sheet>
                        </form>
                    </field>
                </page>
            </xpath>
            <xpath expr="//group[@name='footer_left']" position="inside">
                <div class="oe_mb16">
                    <table class="table table-sm table-bordered">
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Hex</th>
                                <th>Preview</th>
                            </tr>
                        </thead>
                        <tbody>

                            <!-- 1 -->
                            <tr>
                                <td>Group</td>
                                <td><code>#D38FA0</code></td>
                                <td><span
                                            style="display:inline-block;width:40px;height:18px;border:1px solid #ccc;background-color:#D38FA0;"
                                        /></td>
                            </tr>

                            <!-- 2 -->
                            <tr>
                                <td>Menu</td>
                                <td><code>#D9A076</code></td>
                                <td><span
                                            style="display:inline-block;width:40px;height:18px;border:1px solid #ccc;background-color:#D9A076;"
                                        /></td>
                            </tr>

                            <!-- 3 -->
                            <tr>
                                <td>Button</td>
                                <td><code>#D6C672</code></td>
                                <td><span
                                            style="display:inline-block;width:40px;height:18px;border:1px solid #ccc;background-color:#D6C672;"
                                        /></td>
                            </tr>

                            <!-- 4 -->
                            <tr>
                                <td>Field</td>
                                <td><code>#9CBF9A</code></td>
                                <td><span
                                            style="display:inline-block;width:40px;height:18px;border:1px solid #ccc;background-color:#9CBF9A;"
                                        /></td>
                            </tr>

                            <!-- 5 -->
                            <tr>
                                <td>Sub Flow</td>
                                <td><code>#7FB8B8</code></td>
                                <td><span
                                            style="display:inline-block;width:40px;height:18px;border:1px solid #ccc;background-color:#7FB8B8;"
                                        /></td>
                            </tr>

                            <!-- 6 -->
                            <tr>
                                <td>Page</td>
                                <td><code>#B7A4C9</code></td>
                                <td><span
                                            style="display:inline-block;width:40px;height:18px;border:1px solid #ccc;background-color:#B7A4C9;"
                                        /></td>
                            </tr>

                            <!-- 7 -->
                            <tr>
                                <td>Use Case</td>
                                <td><code>#8FAFD4</code></td>
                                <td><span
                                            style="display:inline-block;width:40px;height:18px;border:1px solid #ccc;background-color:#8FAFD4;"
                                        /></td>
                            </tr>

                            <!-- 8 -->
                            <tr>
                                <td>Field Value</td>
                                <td><code>#C27A76</code></td>
                                <td><span
                                            style="display:inline-block;width:40px;height:18px;border:1px solid #ccc;background-color:#C27A76;"
                                        /></td>
                            </tr>

                            <!-- 9 -->
                            <tr>
                                <td>Deep Pastel Moss</td>
                                <td><code>#7A8F6A</code></td>
                                <td><span
                                            style="display:inline-block;width:40px;height:18px;border:1px solid #ccc;background-color:#7A8F6A;"
                                        /></td>
                            </tr>

                            <!-- 10 -->
                            <tr>
                                <td>End Use Case</td>
                                <td><code>#6E7BA5</code></td>
                                <td><span
                                            style="display:inline-block;width:40px;height:18px;border:1px solid #ccc;background-color:#6E7BA5;"
                                        /></td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </xpath>
        </data>
    </field>
</record>

<record id="odoo_use_case_specification_action" model="ir.actions.act_window">
    <field name="name">Odoo Use Case Specifications</field>
    <field name="res_model">odoo_use_case_specification</field>
    <field name="search_view_id" ref="odoo_use_case_specification_view_search" />
    <field name="view_mode">tree,form</field>
    <field
            name="context"
        >{'search_default_dom_draft':1,'search_default_dom_open':1, 'search_default_dom_confirm':1, 'search_default_dom_ready':1}</field>
</record>

<menuitem
        id="odoo_use_case_specification_menu"
        name="Use Case Specifications"
        parent="menu_root_odoo"
        action="odoo_use_case_specification_action"
        groups="odoo_use_case_specification_viewer_group"
        sequence="50"
    />
</odoo>
