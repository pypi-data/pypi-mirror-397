(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[2658],{2259:(e,t,n)=>{"use strict";n.d(t,{SO:()=>a,Sg:()=>s,pA:()=>i});var o=n(7683),r=n(93590),l=n(52451);const i=(e,t,n=!1,o=!1)=>{const r={};return n?r.adhoc_filters=[{expressionType:l.A.Sql,clause:l.v.Where,sqlExpression:"1 = 0"}]:null!=t&&0!==t.length&&(r.filters=[{col:e,op:o?"NOT IN":"IN",val:t}]),r},a=(e,t,n)=>{const o=[];return null!=t&&t!==n&&o.push({col:e,op:">=",val:t}),null!=n&&n!==t&&o.push({col:e,op:"<=",val:n}),null!=n&&null!=t&&n===t&&o.push({col:e,op:"==",val:n}),o.length?{filters:o}:{}};function s({timeFormatter:e,numberFormatter:t}={}){return(n,l)=>{if(null==n)return r.mu;if("boolean"==typeof n)return n?r.PU:r.qC;if(l===o.s.Boolean)try{return JSON.parse(String(n).toLowerCase())?r.PU:r.qC}catch{return r.qC}return"string"==typeof n?n:"bigint"==typeof n?String(n):e&&l===o.s.Temporal?e(n):t&&"number"==typeof n&&l===o.s.Numeric?t(n):String(n)}}},13130:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});const o=e=>"object"==typeof e&&null!=e&&1===e.nodeType,r=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,l=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return r(n.overflowY,t)||r(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},i=(e,t,n,o,r,l,i,a)=>l<e&&i>t||l>e&&i<t?0:l<=e&&a<=n||i>=t&&a>=n?l-e-o:i>t&&a<n||l<e&&a>n?i-t+r:0,a=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},s=(e,t)=>{var n,r,s,u;if("undefined"==typeof document)return[];const{scrollMode:c,block:d,inline:f,boundary:p,skipOverflowHiddenElements:h}=t,m="function"==typeof p?p:e=>e!==p;if(!o(e))throw new TypeError("Invalid target");const g=document.scrollingElement||document.documentElement,v=[];let S=e;for(;o(S)&&m(S);){if(S=a(S),S===g){v.push(S);break}null!=S&&S===document.body&&l(S)&&!l(document.documentElement)||null!=S&&l(S,h)&&v.push(S)}const b=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,w=null!=(u=null==(s=window.visualViewport)?void 0:s.height)?u:innerHeight,{scrollX:y,scrollY:M}=window,{height:F,width:x,top:C,right:N,bottom:A,left:E}=e.getBoundingClientRect(),{top:H,right:O,bottom:I,left:W}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let k="start"===d||"nearest"===d?C-H:"end"===d?A+I:C+F/2-H+I,$="center"===f?E+x/2-W+O:"end"===f?N+O:E-W;const D=[];for(let e=0;e<v.length;e++){const t=v[e],{height:n,width:o,top:r,right:a,bottom:s,left:u}=t.getBoundingClientRect();if("if-needed"===c&&C>=0&&E>=0&&A<=w&&N<=b&&(t===g&&!l(t)||C>=r&&A<=s&&E>=u&&N<=a))return D;const p=getComputedStyle(t),h=parseInt(p.borderLeftWidth,10),m=parseInt(p.borderTopWidth,10),S=parseInt(p.borderRightWidth,10),H=parseInt(p.borderBottomWidth,10);let O=0,I=0;const W="offsetWidth"in t?t.offsetWidth-t.clientWidth-h-S:0,R="offsetHeight"in t?t.offsetHeight-t.clientHeight-m-H:0,T="offsetWidth"in t?0===t.offsetWidth?0:o/t.offsetWidth:0,Y="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(g===t)O="start"===d?k:"end"===d?k-w:"nearest"===d?i(M,M+w,w,m,H,M+k,M+k+F,F):k-w/2,I="start"===f?$:"center"===f?$-b/2:"end"===f?$-b:i(y,y+b,b,h,S,y+$,y+$+x,x),O=Math.max(0,O+M),I=Math.max(0,I+y);else{O="start"===d?k-r-m:"end"===d?k-s+H+R:"nearest"===d?i(r,s,n,m,H+R,k,k+F,F):k-(r+n/2)+R/2,I="start"===f?$-u-h:"center"===f?$-(u+o/2)+W/2:"end"===f?$-a+S+W:i(u,a,o,h,S+W,$,$+x,x);const{scrollLeft:e,scrollTop:l}=t;O=0===Y?0:Math.max(0,Math.min(l+O/Y,t.scrollHeight-n/Y+R)),I=0===T?0:Math.max(0,Math.min(e+I/T,t.scrollWidth-o/T+W)),k+=l-O,$+=e-I}D.push({el:t,top:O,left:I})}return D},u=e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"};function c(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(s(e,t));const o="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:r,top:l,left:i}of s(e,u(t))){const e=l-n.top+n.bottom,t=i-n.left+n.right;r.scroll({top:e,left:t,behavior:o})}}},17102:(e,t,n)=>{"use strict";n.d(t,{Mo:()=>a,YH:()=>l,j3:()=>i});var o=n(50290),r=n(82384);const l=0,i=o.I4.div`
  min-height: ${({height:e})=>e}px;
  width: ${({width:e})=>e===l?"100%":`${e}px`};
`,a=((0,o.I4)(r.e)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,o.I4.div`
  color: ${({theme:e,status:t="error"})=>{if("help"===t)return e.colorTextSecondary;switch(t){case"error":default:return e.colorError;case"warning":return e.colorWarning;case"info":return e.colorInfo}}};
  text-align: ${({centerText:e})=>e?"center":"left"};
  width: 100%;
`)},18981:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(53705),r=n(86471),l=n(23223);function i(e,t=!1){const n=t?o.DC:o.aL,i=n("%Y-%m-%d %H:%M:%S.%L"),a=n("%Y-%m-%d %H:%M:%S"),s=n("%Y-%m-%d %H:%M"),u=n("%Y-%m-%d %H:%M"),c=n("%Y-%m-%d"),d=n("%Y-%m-%d"),f=n("%Y"),{hasMillisecond:p,hasSecond:h,hasMinute:m,hasHour:g,isNotFirstDayOfMonth:v,isNotFirstMonth:S}=t?r.m:r.w;let b=f;return e.forEach((e=>{"bigint"!=typeof e&&(b===f&&S(e)&&(b=d),b===d&&v(e)&&(b=c),b===c&&g(e)&&(b=u),b===u&&m(e)&&(b=s),b===s&&h(e)&&(b=a),b===a&&p(e)&&(b=i))})),new l.A({description:"Use the finest grain in an array of dates to format all dates in the array",formatFunc:b,id:"finest_temporal_grain",label:"Format temporal columns with the finest grain",useLocalTime:t})}},38489:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var o=n(62216),r=n.n(o),l=n(38221),i=n.n(l),a=n(2445),s=n(96540),u=n(50290),c=n(90924),d=n(65432),f=n(18981),p=n(74098),h=n(81115),m=n(64687),g=n(28392),v=n(23575),S=n(82384),b=n(2801),w=n(7466),y=n(61412),M=n(2259),F=n(17102);function x(e,t){switch(t.type){case"ownState":return e.ownState={...e.ownState,...t.ownState},e;case"filterState":return JSON.stringify(e.extraFormData)!==JSON.stringify(t.extraFormData)&&(e.extraFormData=t.extraFormData),JSON.stringify(e.filterState)!==JSON.stringify(t.filterState)&&(e.filterState={...e.filterState,...t.filterState}),e;default:return e}}const C=(0,u.I4)(g.A)`
  display: flex;
  align-items: center;
  width: 100%;

  .exclude-select {
    width: 80px;
    flex-shrink: 0;
  }

  &.ant-space {
    .ant-space-item {
      width: ${({inverseSelection:e})=>e?"auto":"100%"};
    }
  }
`,N=new Map;function A(e){const{coltypeMap:t,data:n,filterState:o,formData:l,height:u,isRefreshing:g,width:A,setDataMask:E,setHoveredFilter:H,unsetHoveredFilter:O,setFocusedFilter:I,unsetFocusedFilter:W,setFilterActive:k,appSection:$,showOverflow:D,parentRef:R,inputRef:T,filterBarOrientation:Y,clearAllTrigger:L,onClearAllComplete:V}=e,{enableEmptyFilter:j,creatable:q,multiSelect:z,showSearch:B,inverseSelection:J,defaultToFirstItem:U,searchAllOptions:P}=l,X=(0,s.useMemo)((()=>(0,c.A)(l.groupby).map(d.A)),[l.groupby]),[_]=X,[Q]=(0,s.useState)(t),[G,K]=(0,s.useState)(""),Z=(0,s.useRef)(!1),ee=(0,s.useRef)(n),[te,ne]=(0,m.A)(x,{extraFormData:{},filterState:o}),oe=t[_],re=(0,s.useMemo)((()=>(0,M.Sg)({timeFormatter:(0,f.A)(n.map((e=>e[_])))})),[n,_]),[le,ie]=(0,s.useState)(!!r()(null==o?void 0:o.excludeFilterValues)||(null==o?void 0:o.excludeFilterValues)),ae=(0,s.useRef)(le),se=(0,s.useRef)(!1);(0,s.useEffect)((()=>{const e=N.get(l.nativeFilterId);se.current=void 0!==e&&e!==Y,Y&&N.set(l.nativeFilterId,Y)}),[Y]);const ue=(0,s.useCallback)((e=>{const t=j&&!J&&!(null!=e&&e.length),n=J&&null!=e&&e.length?(0,p.t)(" (excluded)"):"";ne({type:"filterState",extraFormData:(0,M.pA)(_,e,t,le&&J),filterState:{...o,label:null!=e&&e.length?`${(e||[]).map((e=>re(e,oe))).join(", ")}${n}`:void 0,value:$===h.$s.FilterConfigModal&&U?void 0:e,excludeFilterValues:le}})}),[$,_,oe,U,ne,j,J,le,JSON.stringify(o),re]),ce=$===h.$s.FilterConfigModal&&U,de=(0,s.useMemo)((()=>i()((e=>{K(e),P&&ne({type:"ownState",ownState:{coltypeMap:Q,search:e}})}),v.Y.SLOW_DEBOUNCE)),[ne,Q,P]),fe=(0,s.useCallback)((()=>{W(),de("")}),[de,W]),pe=(0,s.useCallback)((e=>{const t=null===e?[null]:(0,c.A)(e);0===t.length?ue(null):ue(t),Z.current=!0}),[ue,l.nativeFilterId,L]),he=0===n.length?(0,p.t)("No data"):(0,p.tn)("%s option","%s options",n.length,n.length),me=(0,s.useMemo)((()=>{if(o.validateMessage)return(0,a.Y)(F.Mo,{status:o.validateStatus,children:o.validateMessage})}),[o.validateMessage,o.validateStatus]),ge=(0,s.useMemo)((()=>[...new Set([...n.map((e=>e[_]))])].map((e=>({label:re(e,oe),value:e,isNewOption:!1})))),[n,oe,_,re]),ve=(0,s.useMemo)((()=>(!G||z||(0,w.Kz)(G,ge,!0)||ge.unshift({label:G,value:G,isNewOption:!0}),ge)),[z,G,ge]),Se=(0,s.useCallback)(((e,t)=>{if(l.sortMetric)return 0;const n=(0,w.qw)("label");return l.sortAscending?n(e,t):n(t,e)}),[l.sortAscending,l.sortMetric]);return(0,s.useEffect)((()=>{if(!se.current)if(ce)ue(null);else if(void 0===o.value){if(!L)if(U){const e=n[0]?X.map((e=>n[0][e])):null;void 0!==(null==e?void 0:e[0])&&ue(e)}else null!=l&&l.defaultValue&&ue(l.defaultValue)}else ue(o.value)}),[ce,j,U,null==l?void 0:l.defaultValue,n,X,_,J,L]),(0,s.useEffect)((()=>{const e=ee.current,t=n;((null==e?void 0:e.length)!==(null==t?void 0:t.length)||(null==e?void 0:e.some(((e,n)=>{const o=e[_],r=t[n][_];return"bigint"==typeof o||"bigint"==typeof r?(null==o?void 0:o.toString())!==(null==r?void 0:r.toString()):o!==r}))))&&(Z.current=!1,ee.current=n)}),[n,_]),(0,s.useEffect)((()=>{if(Z.current&&o.value&&o.value.every((e=>n.some((t=>t[_]===e)))))return;const e=n[0]?X.map((e=>n[0][e])):null;!L&&U&&Object.keys((null==l?void 0:l.extraFormData)||{}).length&&void 0!==o.value&&null!==e&&o.value!==e&&void 0!==(null==e?void 0:e[0])&&ue(e)}),[U,ue,l,n,JSON.stringify(o.value),Z.current,L]),(0,s.useEffect)((()=>{E(te)}),[JSON.stringify(te)]),(0,s.useEffect)((()=>{L&&(ne({type:"filterState",extraFormData:{},filterState:{value:void 0,label:void 0}}),ue(null),K(""),null==V||V(l.nativeFilterId))}),[L,V,ue]),(0,s.useEffect)((()=>{var e;ae.current!==le&&(ne({type:"filterState",extraFormData:(0,M.pA)(_,o.value,!(null!=(e=o.value)&&e.length),le&&J),filterState:{...o,excludeFilterValues:le}}),ae.current=le)}),[le]),(0,a.Y)(F.j3,{height:u,width:A,children:(0,a.Y)(S.e,{validateStatus:o.validateStatus,extra:me,children:(0,a.FD)(C,{appSection:$,inverseSelection:J,children:[$!==h.$s.FilterConfigModal&&J&&(0,a.Y)(b.A,{className:"exclude-select",value:`${le}`,options:[{value:"true",label:(0,p.t)("is not")},{value:"false",label:(0,p.t)("is")}],onChange:e=>{ie("true"===e)}}),(0,a.Y)(b.A,{name:l.nativeFilterId,allowClear:!0,allowNewOptions:!P&&!1!==q,allowSelectAll:!P,value:o.value||[],disabled:ce,getPopupContainer:D?()=>(null==R?void 0:R.current)||document.body:e=>(null==e?void 0:e.parentNode)||document.body,showSearch:B,mode:z?"multiple":"single",placeholder:he,onClear:()=>de(""),onSearch:de,onBlur:fe,onFocus:I,onMouseEnter:H,onMouseLeave:O,onChange:pe,ref:T,loading:g,oneLine:Y===y.QI.Horizontal,invertSelection:J&&le,options:ve,sortComparator:Se,onOpenChange:k,className:"select-container"})]})})})}},52451:(e,t,n)=>{"use strict";var o,r;n.d(t,{A:()=>o,v:()=>r}),function(e){e.Simple="SIMPLE",e.Sql="SQL"}(o||(o={})),function(e){e.Having="HAVING",e.Where="WHERE"}(r||(r={}))},62216:e=>{e.exports=function(e){return void 0===e}},64687:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,e:()=>l});var o=n(1932),r=n(96540);function l(e){var t=(0,r.useState)((function(){return(0,o.CN)("function"==typeof e?e():e,!0)})),n=t[1];return[t[0],(0,r.useCallback)((function(e){n("function"==typeof e?(0,o.jM)(e):(0,o.CN)(e))}),[])]}function i(e,t,n){var l=(0,r.useMemo)((function(){return(0,o.jM)(e)}),[e]);return(0,r.useReducer)(l,t,n)}},82384:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var o=n(89467);const r=(0,n(50290).I4)(o.A.Item)`
  ${({theme:e})=>`\n    &.ant-form-item > .ant-row > .ant-form-item-label {\n      padding-bottom: ${e.paddingXXS}px;\n    }\n    .ant-form-item-label {\n      & > label {\n        font-size: ${e.fontSizeSM}px;\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            visibility: visible;\n            color: ${e.colorError};\n            font-size: ${e.fontSizeSM}px;\n            content: '*';\n          }\n        }\n      }\n    }\n    .ant-form-item-extra {\n      margin-top: ${e.sizeUnit}px;\n      font-size: ${e.fontSizeSM}px;\n    }\n  `}
`}}]);