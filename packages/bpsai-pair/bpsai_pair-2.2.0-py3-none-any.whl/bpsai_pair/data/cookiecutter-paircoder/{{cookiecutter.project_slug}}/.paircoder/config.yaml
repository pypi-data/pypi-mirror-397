version: "2.0"

project:
  name: "{{ cookiecutter.project_slug }}"
  description: "{{ cookiecutter.project_name }}"
  primary_goal: "{{ cookiecutter.primary_goal }}"
  coverage_target: {{ cookiecutter.coverage_target | replace('%', '') }}

workflow:
  default_branch_type: "feature"
  main_branch: "main"
  context_dir: ".paircoder/context"
  flows_dir: ".paircoder/flows"
  plans_dir: ".paircoder/plans"
  tasks_dir: ".paircoder/tasks"

pack:
  default_name: "agent_pack.tgz"
  excludes:
    - ".git"
    - ".venv"
    - "__pycache__"
    - "node_modules"
    - "dist"
    - "build"
    - "*.log"
    - "*.bak"
    - "*.egg-info"

models:
  # Role-based model assignment
  navigator: claude-sonnet-4-5
  driver: claude-sonnet-4-5
  reviewer: claude-sonnet-4-5

routing:
  by_complexity:
    trivial:   { max_score: 20,  model: claude-haiku-4-5 }
    simple:    { max_score: 40,  model: claude-haiku-4-5 }
    moderate:  { max_score: 60,  model: claude-sonnet-4-5 }
    complex:   { max_score: 80,  model: claude-opus-4-5 }
    epic:      { max_score: 100, model: claude-opus-4-5 }
  overrides:
    security: claude-opus-4-5
    architecture: claude-opus-4-5

flows:
  enabled:
    - design-plan-implement
    - tdd-implement
    - review
    - finish-branch
  triggers:
    feature_request:
      - design-plan-implement
    bugfix:
      - tdd-implement
    pre_merge:
      - review
      - finish-branch

metrics:
  enabled: true
  store_path: .paircoder/history/metrics.jsonl
