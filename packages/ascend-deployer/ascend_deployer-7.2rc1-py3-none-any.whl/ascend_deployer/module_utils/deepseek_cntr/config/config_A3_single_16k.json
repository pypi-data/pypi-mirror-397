{
  "Version" : "1.0.0",

  "ServerConfig" :
  {
      "ipAddress" : "127.0.0.1",
      "managementIpAddress" : "127.0.0.2",
      "port" : 1025,
      "managementPort" : 1026,
      "metricsPort" : 1027,
      "allowAllZeroIpListening" : false,
      "maxLinkNum" : 1000,
      "httpsEnabled" : false,
      "fullTextEnabled" : false,
      "tlsCaPath" : "security/ca/",
      "tlsCaFile" : ["ca.pem"],
      "tlsCert" : "security/certs/server.pem",
      "tlsPk" : "security/keys/server.key.pem",
      "tlsPkPwd" : "security/pass/key_pwd.txt",
      "tlsCrlPath" : "security/certs/",
      "tlsCrlFiles" : ["server_crl.pem"],
      "managementTlsCaFile" : ["management_ca.pem"],
      "managementTlsCert" : "security/certs/management/server.pem",
      "managementTlsPk" : "security/keys/management/server.key.pem",
      "managementTlsPkPwd" : "security/pass/management/key_pwd.txt",
      "managementTlsCrlPath" : "security/management/certs/",
      "managementTlsCrlFiles" : ["server_crl.pem"],
      "kmcKsfMaster" : "tools/pmt/master/ksfa",
      "kmcKsfStandby" : "tools/pmt/standby/ksfb",
      "inferMode" : "standard",
      "interCommTLSEnabled" : true,
      "interCommPort" : 1121,
      "interCommTlsCaPath" : "security/grpc/ca/",
      "interCommTlsCaFiles" : ["ca.pem"],
      "interCommTlsCert" : "security/grpc/certs/server.pem",
      "interCommPk" : "security/grpc/keys/server.key.pem",
      "interCommPkPwd" : "security/grpc/pass/key_pwd.txt",
      "interCommTlsCrlPath" : "security/grpc/certs/",
      "interCommTlsCrlFiles" : ["server_crl.pem"],
      "openAiSupport" : "vllm",
      "tokenTimeout" : 3600,
      "e2eTimeout" : 3600,
      "distDPServerEnabled":false
  },

  "BackendConfig" : {
      "backendName" : "mindieservice_llm_engine",
      "modelInstanceNumber" : 1,
      "npuDeviceIds" : [[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]],
      "tokenizerProcessNumber" : 8,
      "multiNodesInferEnabled" : false,
      "multiNodesInferPort" : 1120,
      "interNodeTLSEnabled" : true,
      "interNodeTlsCaPath" : "security/grpc/ca/",
      "interNodeTlsCaFiles" : ["ca.pem"],
      "interNodeTlsCert" : "security/grpc/certs/server.pem",
      "interNodeTlsPk" : "security/grpc/keys/server.key.pem",
      "interNodeTlsPkPwd" : "security/grpc/pass/mindie_server_key_pwd.txt",
      "interNodeTlsCrlPath" : "security/grpc/certs/",
      "interNodeTlsCrlFiles" : ["server_crl.pem"],
      "interNodeKmcKsfMaster" : "tools/pmt/master/ksfa",
      "interNodeKmcKsfStandby" : "tools/pmt/standby/ksfb",
      "ModelDeployConfig" :
      {
          "maxSeqLen" : 16384,
          "maxInputTokenLen" : 16384,
          "truncation" : false,
          "ModelConfig" : [
              {
                  "modelInstanceType" : "Standard",
                  "modelName" : "ds",
                  "modelWeightPath" : "/mnt/share/DeepSeek-R1_w8a8_mtp/",
                  "worldSize" : 16,
                  "cpuMemSize" : 5,
                  "npuMemSize" : -1,
                  "backendType" : "atb",
                  "trustRemoteCode" : false,
      "async_scheduler_wait_time": 120,
                  "kv_trans_timeout": 10,
                  "kv_link_timeout": 1080,
      "dp": 2,
                  "tp": 8,
                  "sp": 1,
                  "moe_tp": 4,
                  "moe_ep": 4,
      "models": {
        "deepseekv2": {
          "ep_level":1,
          "kv_cache_options": {"enable_nz": true},
          "enable_mlapo_prefetch": true
        }
      }
              }
          ]
      },

      "ScheduleConfig" :
      {
          "templateType" : "Standard",
          "templateName" : "Standard_LLM",
          "cacheBlockSize" : 128,

          "maxPrefillBatchSize" : 50,
          "maxPrefillTokens" : 16384,
          "prefillTimeMsPerReq" : 150,
          "prefillPolicyType" : 0,

          "decodeTimeMsPerReq" : 50,
          "decodePolicyType" : 0,

          "maxBatchSize" : 200,
          "maxIterTimes" : 16384,
          "maxPreemptCount" : 0,
          "supportSelectBatch" : false,
          "maxQueueDelayMicroseconds" : 5000
      }
  }
}
