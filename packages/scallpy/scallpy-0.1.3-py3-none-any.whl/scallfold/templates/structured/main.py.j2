from fastapi import FastAPI
from .api.routes import router as api_router
{% if use_db %}
# from src.{{ project_name }}.core.database import Base, engine
# Import your models here
# from src.{{ project_name }}.models import example

def create_db_tables():
    Base.metadata.create_all(bind=engine)
{% endif %}

app = FastAPI(title="{{ project_name }}")

@app.get("/")
def read_root():
    return {"message": "API is running"}
{% if use_db %}
# Uncomment the following to automatically create DB tables on startup
# @app.on_event("startup")
# async def startup_event():
#     create_db_tables()
{% endif %}

app.include_router(api_router)
