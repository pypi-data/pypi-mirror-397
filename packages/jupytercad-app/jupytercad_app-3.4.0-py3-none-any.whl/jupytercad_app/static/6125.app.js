"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[6125],{6125(e,t,o){o.r(t),o.d(t,{DEFAULT_CONTEXT_ITEM_RANK:()=>S,default:()=>O});var n=o(96576),a=o(18504),i=o(62246),r=o(68211);const s=new r.Token("@jupyterlab/property-inspector:IPropertyInspectorProvider","A service to register new widgets in the property inspector side panel.");var l,d=o(90182),c=o(64530),u=o(30427),p=o(80281);class g extends p.Widget{constructor(){super(),this._tracker=new p.FocusTracker,this._inspectors=new Map,this.addClass("jp-PropertyInspector"),this._tracker=new p.FocusTracker,this._tracker.currentChanged.connect(this._onCurrentChanged,this)}register(e){if(this._inspectors.has(e))throw new Error("Widget is already registered");const t=new l.PropertyInspector(e);return e.disposed.connect(this._onWidgetDisposed,this),this._inspectors.set(e,t),t.onAction.connect(this._onInspectorAction,this),this._tracker.add(e),t}get currentWidget(){return this._tracker.currentWidget}refresh(){const e=this._tracker.currentWidget;if(!e)return void this.setContent(null);const t=this._inspectors.get(e);t&&this.setContent(t.content)}_onWidgetDisposed(e){const t=this._inspectors.get(e);t&&(t.dispose(),this._inspectors.delete(e))}_onInspectorAction(e,t){const o=e.owner,n=this._tracker.currentWidget;switch(t){case"content":n===o&&this.setContent(e.content);break;case"dispose":o&&(this._tracker.remove(o),this._inspectors.delete(o));break;case"show-panel":n===o&&this.showPanel();break;default:throw new Error("Unsupported inspector action")}}_onCurrentChanged(){const e=this._tracker.currentWidget;if(e){const t=this._inspectors.get(e).content;this.setContent(t)}else this.setContent(null)}}class h extends g{constructor({shell:e,placeholder:t,translator:o}){super(),this._labshell=e,this.translator=o||d.nullTranslator,this._trans=this.translator.load("jupyterlab");const n=this.layout=new p.SingletonLayout;if(t)this._placeholder=t;else{const e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("h3"),n=document.createElement("p");o.textContent=this._trans.__("No Properties"),n.textContent=this._trans.__("The property inspector allows to view and edit properties of a selected notebook."),t.className="jp-PropertyInspector-placeholderContent",t.appendChild(o),t.appendChild(n),e.appendChild(t),this._placeholder=new p.Widget({node:e}),this._placeholder.addClass("jp-PropertyInspector-placeholder")}n.widget=this._placeholder,this._labshell.currentChanged.connect(this._onShellCurrentChanged,this),this._onShellCurrentChanged()}setContent(e){const t=this.layout;t.widget&&(t.widget.removeClass("jp-PropertyInspector-content"),t.removeWidget(t.widget)),e||(e=this._placeholder),e.addClass("jp-PropertyInspector-content"),t.widget=e}showPanel(){this._labshell.activateById(this.id)}_onShellCurrentChanged(){const e=this.currentWidget;if(!e)return void this.setContent(null);const t=this._labshell.currentWidget;(null==t?void 0:t.node.contains(e.node))?this.refresh():this.setContent(null)}}!function(e){e.PropertyInspector=class{constructor(e){this._isDisposed=!1,this._content=null,this._owner=null,this._onAction=new u.Signal(this),this._owner=e}get owner(){return this._owner}get content(){return this._content}get isDisposed(){return this._isDisposed}get onAction(){return this._onAction}showPanel(){this._isDisposed||this._onAction.emit("show-panel")}render(e){this._isDisposed||(e instanceof p.Widget?this._content=e:this._content=c.ReactWidget.create(e),this._onAction.emit("content"))}dispose(){this._isDisposed||(this._isDisposed=!0,this._content=null,this._owner=null,u.Signal.clearData(this))}}}(l||(l={}));var m=o(59182),b=o(96190),y=o(43154),v=o(45945),_=o(47079),f=o(49711),x=o(95870);const w={id:"@jupyterlab/application-extension:top-bar",description:"Adds a toolbar to the top area (next to the main menu bar).",autoStart:!0,requires:[m.ISettingRegistry,a.IToolbarWidgetRegistry],optional:[d.ITranslator],activate:(e,t,o,n)=>{const i=(null!=n?n:d.nullTranslator).load("jupyterlab"),r=new c.Toolbar;r.id="jp-top-bar",r.node.setAttribute("aria-label",i.__("Topbar toolbar")),(0,a.setToolbar)(r,(0,a.createToolbarFactory)(o,t,"TopBar",w.id,null!=n?n:d.nullTranslator),r),e.shell.add(r,"top",{rank:900})}},S=100;var C;!function(e){e.activateNextTab="application:activate-next-tab",e.activatePreviousTab="application:activate-previous-tab",e.activateNextTabBar="application:activate-next-tab-bar",e.activatePreviousTabBar="application:activate-previous-tab-bar",e.close="application:close",e.closeOtherTabs="application:close-other-tabs",e.closeRightTabs="application:close-right-tabs",e.closeAll="application:close-all",e.setMode="application:set-mode",e.showPropertyPanel="property-inspector:show-panel",e.resetLayout="application:reset-layout",e.toggleContextMenu="application:toggle-context-menu",e.toggleHeader="application:toggle-header",e.toggleMode="application:toggle-mode",e.toggleLeftArea="application:toggle-left-area",e.toggleRightArea="application:toggle-right-area",e.toggleSideTabBar="application:toggle-side-tabbar",e.toggleSidebarWidget="application:toggle-sidebar-widget",e.togglePresentationMode="application:toggle-presentation-mode",e.toggleFullscreenMode="application:toggle-fullscreen-mode",e.tree="router:tree",e.switchSidebar="sidebar:switch"}(C||(C={}));const T={id:"@jupyterlab/application-extension:commands",description:"Adds commands related to the shell.",autoStart:!0,requires:[d.ITranslator],optional:[n.ILabShell,a.ICommandPalette],activate:(e,t,o,a)=>{var r;const{commands:s,shell:l}=e,d=t.load("jupyterlab"),c=d.__("Main Area");s.addCommand(n.JupyterFrontEndContextMenu.contextMenu,{label:d.__("Shift+Right Click for Browser Menu"),describedBy:{args:{type:"object",properties:{}}},isEnabled:()=>!1,execute:()=>{}});const u=()=>{const t=e.contextMenuHitTest(e=>!!e.dataset.id);return t&&(0,v.find)(l.widgets("main"),e=>e.id===t.dataset.id)||l.currentWidget},p=(e,t)=>{if("tab-area"===e.type)return e.widgets.includes(t)?e:null;if("split-area"===e.type)for(const o of e.children){const e=p(o,t);if(e)return e}return null},g=e=>{const{id:t}=e,n=(e=>{var t;const n=null==o?void 0:o.saveLayout(),a=null==n?void 0:n.mainArea;if(!a||"multiple-document"!==i.PageConfig.getOption("mode"))return null;const r=null===(t=a.dock)||void 0===t?void 0:t.main;return r?p(r,e):null})(e),a=n&&n.widgets||[],r=a.findIndex(e=>e.id===t);return r<0?[]:a.slice(r+1)};function h(e){e&&e.focus()}s.addCommand(C.close,{label:()=>d.__("Close Tab"),describedBy:{args:{type:"object",properties:{}}},isEnabled:()=>{const e=u();return!!e&&e.title.closable},execute:()=>{const e=u();e&&e.close()}}),s.addCommand(C.closeOtherTabs,{label:()=>d.__("Close All Other Tabs"),describedBy:{args:{type:"object",properties:{}}},isEnabled:()=>(0,v.some)(l.widgets("main"),(e,t)=>1===t),execute:()=>{const e=u();if(!e)return;const{id:t}=e;for(const e of l.widgets("main"))e.id!==t&&e.close()}}),s.addCommand(C.closeRightTabs,{label:()=>d.__("Close Tabs to Right"),describedBy:{args:{type:"object",properties:{}}},isEnabled:()=>!!u()&&g(u()).length>0,execute:()=>{const e=u();e&&g(e).forEach(e=>e.close())}}),null===(r=l.currentChanged)||void 0===r||r.connect(()=>{[C.close,C.closeOtherTabs,C.closeRightTabs].forEach(e=>s.notifyCommandChanged(e))}),o&&(s.addCommand(C.activateNextTab,{label:d.__("Activate Next Tab"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.activateNextTab()}}),s.addCommand(C.activatePreviousTab,{label:d.__("Activate Previous Tab"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.activatePreviousTab()}}),s.addCommand(C.activateNextTabBar,{label:d.__("Activate Next Tab Bar"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.activateNextTabBar()}}),s.addCommand(C.activatePreviousTabBar,{label:d.__("Activate Previous Tab Bar"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.activatePreviousTabBar()}}),s.addCommand(C.closeAll,{label:d.__("Close All Tabs"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.closeAll()}}),s.addCommand(C.toggleHeader,{label:d.__("Show Header"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{"single-document"===o.mode&&o.toggleTopInSimpleModeVisibility()},isToggled:()=>o.isTopInSimpleModeVisible(),isVisible:()=>"single-document"===o.mode}),s.addCommand(C.toggleLeftArea,{label:d.__("Show Left Sidebar"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.leftCollapsed?o.expandLeft():(o.collapseLeft(),o.currentWidget&&o.activateById(o.currentWidget.id))},isToggled:()=>!o.leftCollapsed,isEnabled:()=>!o.isEmpty("left")}),s.addCommand(C.toggleRightArea,{label:d.__("Show Right Sidebar"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.rightCollapsed?o.expandRight():(o.collapseRight(),o.currentWidget&&o.activateById(o.currentWidget.id))},isToggled:()=>!o.rightCollapsed,isEnabled:()=>!o.isEmpty("right")}),s.addCommand(C.toggleSidebarWidget,{label:e=>void 0===e||void 0===e.side||void 0===e.index?d.__("Toggle Sidebar Element"):"right"===e.side?d.__("Toggle Element %1 in Right Sidebar",parseInt(e.index,10)+1):d.__("Toggle Element %1 in Left Sidebar",parseInt(e.index,10)+1),describedBy:{args:{type:"object",properties:{side:{type:"string",enum:["left","right"],description:d.__("The sidebar side")},index:{type:["string","number"],description:d.__("The index of the sidebar widget")}},required:["side","index"]}},execute:e=>{const t=parseInt(e.index,10);if("left"!=e.side&&"right"!=e.side)throw Error(`Unsupported sidebar: ${e.side}`);const n=Array.from(o.widgets(e.side));if(t>=n.length)return;const a=n[t].id,i=document.querySelector("[data-id='"+a+"']");(e=>{let t;if("left"!=e&&"right"!=e)throw Error(`Unsupported sidebar: ${e}`);if("left"===e)t=document.querySelector(".lm-TabBar-tab.lm-mod-current");else{const e=document.querySelectorAll(".lm-TabBar-tab.lm-mod-current");t=e[e.length-1]}const o=null==t?void 0:t.getAttribute("data-id");return o?null==o?void 0:o.toString():""})(e.side)===a?("left"==e.side&&(o.collapseLeft(),h(i)),"right"==e.side&&(o.collapseRight(),h(i))):(o.activateById(a),h(i))}}),s.addCommand(C.toggleSideTabBar,{label:e=>"right"===e.side?d.__("Show Right Activity Bar"):d.__("Show Left Activity Bar"),describedBy:{args:{type:"object",properties:{side:{type:"string",enum:["left","right"],description:d.__("The sidebar side")}},required:["side"]}},execute:e=>{"right"===e.side?o.toggleSideTabBarVisibility("right"):o.toggleSideTabBarVisibility("left")},isToggled:e=>"right"===e.side?o.isSideTabBarVisible("right"):o.isSideTabBarVisible("left"),isEnabled:e=>"right"===e.side?!o.isEmpty("right"):!o.isEmpty("left")}),s.addCommand(C.togglePresentationMode,{label:()=>d.__("Presentation Mode"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.presentationMode=!o.presentationMode},isToggled:()=>o.presentationMode,isVisible:()=>!0}),s.addCommand(C.toggleFullscreenMode,{label:d.__("Fullscreen Mode"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{null===document.fullscreenElement||void 0===document.fullscreenElement?document.documentElement.requestFullscreen().catch(e=>{console.error("Failed to enter fullscreen mode.",e)}):null!==document.fullscreenElement&&document.exitFullscreen().catch(e=>{console.error("Failed to exit fullscreen mode.",e)})},isToggled:()=>null!==document.fullscreenElement}),s.addCommand(C.setMode,{label:e=>e.mode?d.__("Set %1 mode.",e.mode):d.__("Set the layout `mode`."),caption:d.__('The layout `mode` can be "single-document" or "multiple-document".'),describedBy:{args:{type:"object",properties:{mode:{type:"string",enum:["single-document","multiple-document"],description:d.__("The layout mode")}},required:["mode"]}},isVisible:e=>{const t=e.mode;return"single-document"===t||"multiple-document"===t},execute:e=>{const t=e.mode;if("single-document"!==t&&"multiple-document"!==t)throw new Error(`Unsupported application shell mode: ${t}`);o.mode=t}}),s.addCommand(C.toggleMode,{label:d.__("Simple Interface"),describedBy:{args:{type:"object",properties:{}}},isToggled:()=>"single-document"===o.mode,execute:()=>{const e="multiple-document"===o.mode?{mode:"single-document"}:{mode:"multiple-document"};return s.execute(C.setMode,e)}}),s.addCommand(C.resetLayout,{label:d.__("Reset Default Layout"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{o.presentationMode&&s.execute(C.togglePresentationMode).catch(e=>{console.error("Failed to undo presentation mode.",e)}),null===document.fullscreenElement&&void 0===document.fullscreenElement||s.execute(C.toggleFullscreenMode).catch(e=>{console.error("Failed to exit fullscreen mode.",e)}),"single-document"!==o.mode||o.isTopInSimpleModeVisible()||s.execute(C.toggleHeader).catch(e=>{console.error("Failed to display title header.",e)}),["left","right"].forEach(e=>{o.isSideTabBarVisible(e)||o.isEmpty(e)||s.execute(C.toggleSideTabBar,{side:e}).catch(t=>{console.error(`Failed to show ${e} activity bar.`,t)})})}})),a&&([C.activateNextTab,C.activatePreviousTab,C.activateNextTabBar,C.activatePreviousTabBar,C.close,C.closeAll,C.closeOtherTabs,C.closeRightTabs,C.toggleHeader,C.toggleLeftArea,C.toggleRightArea,C.togglePresentationMode,C.toggleFullscreenMode,C.toggleMode,C.resetLayout].forEach(e=>a.addItem({command:e,category:c})),["right","left"].forEach(e=>{a.addItem({command:C.toggleSideTabBar,category:c,args:{side:e}})}))}},I={id:"@jupyterlab/application-extension:main",description:"Initializes the application and provides the URL tree path handler.",requires:[n.IRouter,a.IWindowResolver,d.ITranslator,n.JupyterFrontEnd.ITreeResolver],optional:[n.IConnectionLost],provides:n.ITreePathUpdater,activate:(e,t,o,r,s,l)=>{const d=r.load("jupyterlab");if(!(e instanceof n.JupyterLab))throw new Error(`${I.id} must be activated in JupyterLab.`);let c="",u="";const p=o.name;if(console.debug(`Starting application in workspace: "${p}"`),0!==e.registerPluginErrors.length){const t=x.createElement("pre",null,e.registerPluginErrors.map(e=>e.message).join("\n"));(0,a.showErrorMessage)(d.__("Error Registering Plugins"),{message:t})}e.shell.modeChanged.connect((e,o)=>{const n=i.PageConfig.getUrl({mode:o}),a=i.URLExt.parse(n).pathname;t.navigate(a,{skipRouting:!0}),i.PageConfig.setOption("mode",o)}),s.paths.then(()=>{e.shell.currentPathChanged.connect((e,o)=>{const n=o.newValue,a=n||u,r=i.PageConfig.getUrl({treePath:a}),s=i.URLExt.parse(r).pathname;t.navigate(s,{skipRouting:!0}),i.PageConfig.setOption("treePath",a),c=n})}),l=l||n.ConnectionLost,e.serviceManager.connectionFailure.connect((e,t)=>l(e,t,r));const g=e.serviceManager.builder,h=()=>g.build().then(()=>(0,a.showDialog)({title:d.__("Build Complete"),body:x.createElement("div",null,d.__("Build successfully completed, reload page?"),x.createElement("br",null),d.__("You will lose any unsaved changes.")),buttons:[a.Dialog.cancelButton({label:d.__("Reload Without Saving"),actions:["reload"]}),a.Dialog.okButton({label:d.__("Save and Reload")})],hasClose:!0})).then(({button:{accept:o,actions:n}})=>{o?e.commands.execute("docmanager:save").then(()=>{t.reload()}).catch(e=>{(0,a.showErrorMessage)(d.__("Save Failed"),{message:x.createElement("pre",null,e.message)})}):n.includes("reload")&&t.reload()}).catch(e=>{(0,a.showErrorMessage)(d.__("Build Failed"),{message:x.createElement("pre",null,e.message)})});return g.isAvailable&&g.shouldCheck&&g.getStatus().then(e=>{if("building"===e.status)return h();if("needed"!==e.status)return;const t=x.createElement("div",null,d.__("JupyterLab build is suggested:"),x.createElement("br",null),x.createElement("pre",null,e.message));(0,a.showDialog)({title:d.__("Build Recommended"),body:t,buttons:[a.Dialog.cancelButton(),a.Dialog.okButton({label:d.__("Build")})]}).then(e=>e.button.accept?h():void 0)}),function(e){s.paths.then(()=>{if(u=e,!c){const o=i.PageConfig.getUrl({treePath:e}),n=i.URLExt.parse(o).pathname;t.navigate(n,{skipRouting:!0}),i.PageConfig.setOption("treePath",e)}})}},autoStart:!0},E={id:"@jupyterlab/application-extension:context-menu",description:"Populates the context menu.",autoStart:!0,requires:[m.ISettingRegistry,d.ITranslator],optional:[a.ICommandPalette],activate:(e,t,o,n)=>{const a=o.load("jupyterlab");function i(t){const o=new c.RankedMenu({...t,commands:e.commands});return t.label&&(o.title.label=a.__(t.label)),o}e.started.then(()=>U.loadSettingsContextMenu(e.contextMenu,e.commands,t,i,o)).then(()=>{n&&(null==n||n.addItem({category:a.__("Settings"),command:C.toggleContextMenu}))}).catch(e=>{console.error("Failed to load context menu items from settings registry.",e)})}},P={id:"@jupyterlab/application-extension:dirty",description:"Adds safeguard dialog when closing the browser tab with unsaved modifications.",autoStart:!0,requires:[d.ITranslator],activate:(e,t)=>{if(!(e instanceof n.JupyterLab))throw new Error(`${P.id} must be activated in JupyterLab.`);const o=t.load("jupyterlab").__("Are you sure you want to exit JupyterLab?\n\nAny unsaved changes will be lost.");window.addEventListener("beforeunload",t=>{if(e.status.isDirty)return t.returnValue=o})}},B={id:"@jupyterlab/application-extension:layout",description:"Provides the shell layout restorer.",requires:[b.IStateDB,n.ILabShell,m.ISettingRegistry],optional:[d.ITranslator],activate:(e,t,o,s,l)=>{const c=(null!=l?l:d.nullTranslator).load("jupyterlab"),u=e.started,p=e.commands,g=i.PageConfig.getOption("mode"),h=new n.LayoutRestorer({connector:t,first:u,registry:p,mode:g});return s.load(k.id).then(t=>{var n,a;const i=t.composite.layout;o.restoreLayout(g,h,{"multiple-document":null!==(n=i.multiple)&&void 0!==n?n:{},"single-document":null!==(a=i.single)&&void 0!==a?a:{}}).then(()=>{o.layoutModified.connect(()=>{h.save(o.saveLayout())}),t.changed.connect(m),U.activateSidebarSwitcher(e,o,t,c)})}).catch(e=>{console.error("Fail to load settings for the layout restorer."),console.error(e)}),h;async function m(e){r.JSONExt.deepEqual(e.composite.layout,{single:o.userLayout["single-document"],multiple:o.userLayout["multiple-document"]})||(await(0,a.showDialog)({title:c.__("Information"),body:c.__("User layout customization has changed. You may need to reload JupyterLab to see the changes."),buttons:[a.Dialog.cancelButton(),a.Dialog.okButton({label:c.__("Reload")})]})).button.accept&&location.reload()}},autoStart:!0,provides:n.ILayoutRestorer},j={id:"@jupyterlab/application-extension:router",description:"Provides the URL router",requires:[n.JupyterFrontEnd.IPaths],activate:(e,t)=>{const{commands:o}=e,a=t.urls.base,i=new n.Router({base:a,commands:o});return e.started.then(()=>{i.route(),window.addEventListener("popstate",()=>{i.route()})}),i},autoStart:!0,provides:n.IRouter},L={id:"@jupyterlab/application-extension:tree-resolver",description:"Provides the tree route resolver",autoStart:!0,requires:[n.IRouter],optional:[d.ITranslator],provides:n.JupyterFrontEnd.ITreeResolver,activate:(e,t,o)=>{const n=(null!=o?o:d.nullTranslator).load("jupyterlab"),{commands:a}=e,s=new f.DisposableSet,l=new r.PromiseDelegate,c=new RegExp("/(lab|doc)(/workspaces/[a-zA-Z0-9-_]+)?(/tree/.*)?");s.add(a.addCommand(C.tree,{describedBy:{args:{type:"object",properties:{search:{type:"string",description:n.__("The URL search string containing query parameters")}}}},execute:async e=>{var t;if(s.isDisposed)return;const o=i.URLExt.queryStringToObject(null!==(t=e.search)&&void 0!==t?t:""),n=o["file-browser-path"]||"";delete o["file-browser-path"],s.dispose(),l.resolve({browser:n,file:i.PageConfig.getOption("treePath")})}})),s.add(t.register({command:C.tree,pattern:c}));const u=()=>{s.isDisposed||(s.dispose(),l.resolve(null))};return t.routed.connect(u),s.add(new f.DisposableDelegate(()=>{t.routed.disconnect(u)})),{paths:l.promise}}},R={id:"@jupyterlab/application-extension:notfound",description:"Defines the behavior for not found URL (aka route).",requires:[n.JupyterFrontEnd.IPaths,n.IRouter,d.ITranslator],activate:(e,t,o,n)=>{const i=n.load("jupyterlab"),r=t.urls.notFound;if(!r)return;const s=o.base,l=i.__("The path: %1 was not found. JupyterLab redirected to: %2",r,s);o.navigate(""),(0,a.showErrorMessage)(i.__("Path Not Found"),{message:l})},autoStart:!0},M={id:"@jupyterlab/application-extension:faviconbusy",description:"Handles the favicon depending on the application status.",requires:[n.ILabStatus],activate:async(e,t)=>{t.busySignal.connect((e,t)=>{const o=document.querySelector('link[rel="icon"]'+(t?".idle.favicon":".busy.favicon"));if(!o)return;const n=document.querySelector("link"+(t?".busy.favicon":".idle.favicon"));n&&o!==n&&(o.rel="",n.rel="icon",n.parentNode.replaceChild(n,n))})},autoStart:!0},k={id:"@jupyterlab/application-extension:shell",description:"Provides the JupyterLab shell. It has an extended API compared to `app.shell`.",optional:[m.ISettingRegistry],activate:(e,t)=>{if(!(e.shell instanceof n.LabShell))throw new Error(`${k.id} did not find a LabShell instance.`);return t&&t.load(k.id).then(t=>{e.shell.updateConfig(t.composite),t.changed.connect(()=>{e.shell.updateConfig(t.composite)})}),e.shell},autoStart:!0,provides:n.ILabShell},A={id:"@jupyterlab/application-extension:status",description:"Provides the application status.",activate:e=>{if(!(e instanceof n.JupyterLab))throw new Error(`${A.id} must be activated in JupyterLab.`);return e.status},autoStart:!0,provides:n.ILabStatus},D={id:"@jupyterlab/application-extension:info",description:"Provides the application information.",activate:e=>{if(!(e instanceof n.JupyterLab))throw new Error(`${D.id} must be activated in JupyterLab.`);return e.info},autoStart:!0,provides:n.JupyterLab.IInfo},F={id:"@jupyterlab/application-extension:paths",description:"Provides the application paths.",activate:e=>{if(!(e instanceof n.JupyterLab))throw new Error(`${F.id} must be activated in JupyterLab.`);return e.paths},autoStart:!0,provides:n.JupyterFrontEnd.IPaths},J={id:"@jupyterlab/application-extension:property-inspector",description:"Provides the property inspector.",autoStart:!0,requires:[n.ILabShell,d.ITranslator],optional:[n.ILayoutRestorer],provides:s,activate:(e,t,o,n)=>{const a=o.load("jupyterlab"),i=new h({shell:t,translator:o});return i.title.icon=c.buildIcon,i.title.caption=a.__("Property Inspector"),i.id="jp-property-inspector",t.add(i,"right",{rank:100,type:"Property Inspector"}),e.commands.addCommand(C.showPropertyPanel,{label:a.__("Property Inspector"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{t.activateById(i.id)}}),n&&n.add(i,"jp-property-inspector"),i}},q={id:"@jupyterlab/application-extension:logo",description:"Sets the application logo.",autoStart:!0,requires:[n.ILabShell],activate:(e,t)=>{const o=new p.Widget;c.jupyterIcon.element({container:o.node,elementPosition:"center",margin:"2px 2px 2px 8px",height:"auto",width:"16px"}),o.id="jp-MainLogo",t.add(o,"top",{rank:0})}},W={id:"@jupyterlab/application-extension:mode-switch",description:"Adds the interface mode switch",requires:[n.ILabShell,d.ITranslator],optional:[y.IStatusBar,m.ISettingRegistry],activate:(e,t,o,n,a)=>{if(null===n)return;const i=o.load("jupyterlab"),r=new c.Switch;if(r.id="jp-single-document-mode",r.valueChanged.connect((e,o)=>{t.mode=o.newValue?"single-document":"multiple-document"}),t.modeChanged.connect((e,t)=>{r.value="single-document"===t}),a){const o=a.load(k.id),n=e=>{const o=e.get("startMode").composite;o&&(t.mode="single"===o?"single-document":"multiple-document")};Promise.all([o,e.restored]).then(([e])=>{n(e)}).catch(e=>{console.error(e.message)})}const s=()=>{const t=e.commands.keyBindings.find(e=>"application:toggle-mode"===e.command);if(t){const e=t.keys.map(_.CommandRegistry.formatKeystroke).join(", ");r.caption=i.__("Simple Interface (%1)",e)}else r.caption=i.__("Simple Interface")};s(),e.commands.keyBindingChanged.connect(()=>{s()}),r.label=i.__("Simple"),n.registerStatusItem(W.id,{priority:1,item:r,align:"left",rank:-1})},autoStart:!0},O=[E,P,I,T,B,j,L,R,M,k,A,D,W,F,J,q,w];var U;!function(e){async function t(e){(await(0,a.showDialog)({title:e.__("Information"),body:e.__("Context menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[a.Dialog.cancelButton(),a.Dialog.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.loadSettingsContextMenu=async function(e,o,n,i,s){var l;const d=s.load("jupyterlab"),c=E.id;let u=null,p={};function g(e){var t,o;p={};const a=Object.keys(n.plugins).map(e=>{var t,o;const a=null!==(o=null===(t=n.plugins[e].schema["jupyter.lab.menus"])||void 0===t?void 0:t.context)&&void 0!==o?o:[];return p[e]=a,a}).concat([null!==(o=null===(t=e["jupyter.lab.menus"])||void 0===t?void 0:t.context)&&void 0!==o?o:[]]).reduceRight((e,t)=>m.SettingRegistry.reconcileItems(e,t,!0),[]);e.properties.contextMenu.default=m.SettingRegistry.reconcileItems(a,e.properties.contextMenu.default,!0).sort((e,t)=>{var o,n;return(null!==(o=e.rank)&&void 0!==o?o:1/0)-(null!==(n=t.rank)&&void 0!==n?n:1/0)})}n.transform(c,{compose:e=>{var t,o,n,a;u||(u=r.JSONExt.deepCopy(e.schema),g(u));const i=null!==(n=null===(o=null===(t=u.properties)||void 0===t?void 0:t.contextMenu)||void 0===o?void 0:o.default)&&void 0!==n?n:[],s={...e.data.user,contextMenu:null!==(a=e.data.user.contextMenu)&&void 0!==a?a:[]},l={...e.data.composite,contextMenu:m.SettingRegistry.reconcileItems(i,s.contextMenu,!1)};return e.data={composite:l,user:s},e},fetch:e=>(u||(u=r.JSONExt.deepCopy(e.schema),g(u)),{data:e.data,id:e.id,raw:e.raw,schema:u,version:e.version})});const h=await n.load(c),b=e=>{const t=document.body,o=t.hasAttribute("data-jp-suppress-context-menu"),n=e.get("disabled").composite;o&&!n?t.removeAttribute("data-jp-suppress-context-menu"):n&&!o&&t.setAttribute("data-jp-suppress-context-menu","true")},y=null!==(l=h.composite.contextMenu)&&void 0!==l?l:[];m.SettingRegistry.filterDisabledItems(y).forEach(t=>{a.MenuFactory.addContextItem({rank:S,...t},e,i)}),h.changed.connect(()=>{var e;const o=null!==(e=h.composite.contextMenu)&&void 0!==e?e:[];r.JSONExt.deepEqual(y,o)||t(d),b(h)}),n.pluginChanged.connect(async(o,s)=>{var l,u,g,h;if(s!==c){const o=null!==(l=p[s])&&void 0!==l?l:[],c=null!==(g=null===(u=n.plugins[s].schema["jupyter.lab.menus"])||void 0===u?void 0:u.context)&&void 0!==g?g:[];if(!r.JSONExt.deepEqual(o,c))if(p[s])await t(d);else{p[s]=r.JSONExt.deepCopy(c);const t=null!==(h=m.SettingRegistry.reconcileItems(c,y,!1,!1))&&void 0!==h?h:[];m.SettingRegistry.filterDisabledItems(t).forEach(t=>{a.MenuFactory.addContextItem({rank:S,...t},e,i)})}}}),b(h),o.addCommand(C.toggleContextMenu,{label:d.__("Enable Context Menu"),describedBy:{args:{type:"object",properties:{}}},isToggleable:!0,isToggled:()=>!h.get("disabled").composite,execute:()=>{h.set("disabled",!h.get("disabled").composite)}})},e.activateSidebarSwitcher=function(e,t,o,n){e.commands.addCommand(C.switchSidebar,{label:n.__("Switch Sidebar Side"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const n=e.contextMenuHitTest(e=>!!e.dataset.id);if(!n)return;const a=n.dataset.id,i=document.getElementById("jp-left-stack"),r=document.getElementById(a);let s=null;if(i&&r&&i.contains(r)){const e=(0,v.find)(t.widgets("left"),e=>e.id===a);e&&(s=t.move(e,"right"),t.activateById(e.id))}else{const e=(0,v.find)(t.widgets("right"),e=>e.id===a);e&&(s=t.move(e,"left"),t.activateById(e.id))}s&&o.set("layout",{single:s["single-document"],multiple:s["multiple-document"]}).catch(e=>{console.error("Failed to save user layout customization.",e)})}}),e.commands.commandExecuted.connect((e,t)=>{t.id===C.resetLayout&&o.remove("layout").catch(e=>{console.error("Failed to remove user layout customization.",e)})})}}(U||(U={}))}}]);