"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[9538],{99538(e,o,t){t.r(o),t.d(o,{default:()=>j,lineColItem:()=>R});var r,n=t(96576),i=t(86012),d=t(43154),a=t(90182),l=t(22944),s=t(86776),c=t(83174),m=t(63068),u=t(18504);!function(e){e.deleteLine="codemirror:delete-line",e.toggleBlockComment="codemirror:toggle-block-comment",e.toggleComment="codemirror:toggle-comment",e.selectNextOccurrence="codemirror:select-next-occurrence",e.toggleTabFocusMode="codemirror:toggle-tab-focus-mode",e.foldCurrent="codemirror:fold-current",e.unfoldCurrent="codemirror:unfold-current",e.foldSubregions="codemirror:fold-subregions",e.unfoldSubregions="codemirror:unfold-subregions",e.foldAll="codemirror:fold-all",e.unfoldAll="codemirror:unfold-all"}(r||(r={}));const g=".cm-content",f={id:"@jupyterlab/codemirror-extension:commands",description:"Registers commands acting on selected/active CodeMirror editor.",autoStart:!0,requires:[m.INotebookTracker],optional:[a.ITranslator,u.ICommandPalette],activate:(e,o,t,n)=>{const i=(t=null!=t?t:a.nullTranslator).load("jupyterlab"),d=e=>e.classList.contains(g),m=()=>{var o,t;const r=null!==(o=e.contextMenuHitTest(d))&&void 0!==o?o:null===(t=document.activeElement)||void 0===t?void 0:t.closest(g);if(r&&"cmView"in r)return r.cmView.view},u=()=>!!m(),f=()=>{var t,r;const n=e.shell.currentWidget,i=null===(t=o.currentWidget)||void 0===t?void 0:t.content;if(null!==o.currentWidget&&o.currentWidget===n&&i&&i.activeCell)return{type:"notebook",widget:n,notebook:i,isEnabled:!0};const d=n;return d&&d.content&&"function"==typeof(null===(r=d.content.editor)||void 0===r?void 0:r.focus)?{type:"fileEditor",widget:d,isEnabled:!0}:{type:"none",widget:null,isEnabled:!1}},p=()=>f().isEnabled;if(e.commands.addCommand(r.deleteLine,{label:i.__("Delete the current line"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const e=m();e&&(0,l.SA)(e)},isEnabled:u}),e.commands.addCommand(r.toggleBlockComment,{label:i.__("Toggle Block Comment"),caption:i.__("Toggles block comments in languages which support it (e.g. C, JavaScript)"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const e=m();e&&(0,l.NH)(e)},isEnabled:u}),e.commands.addCommand(r.toggleComment,{label:i.__("Toggle Comment"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const e=m();e&&(0,l.qh)(e)},isEnabled:u}),e.commands.addCommand(r.toggleTabFocusMode,{label:i.__("Toggle Tab Focus Mode"),caption:i.__("Toggles behavior of Tab key between inserting indentation and moving to next focusable element"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const e=m();e&&(0,l.ND)(e)},isEnabled:u}),e.commands.addCommand(r.selectNextOccurrence,{label:i.__("Select Next Occurrence"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const e=m();e&&(0,c.dg)(e)},isEnabled:u}),e.commands.addCommand(r.foldCurrent,{label:i.__("Fold Current Region"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const o=f();"notebook"===o.type?(o.notebook.mode="edit",o.notebook.activeCell&&(null===(e=o.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===o.type&&o.widget.content.editor.focus();const t=m();if(!t)return;const{state:r}=t,n=r.selection.main.head,i=r.doc.lineAt(n);(0,s.wg)(r,i.from,i.to)&&(0,s.Tm)(t)},isEnabled:p}),e.commands.addCommand(r.unfoldCurrent,{label:i.__("Unfold Current Region"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const o=f();"notebook"===o.type?(o.notebook.mode="edit",o.notebook.activeCell&&(null===(e=o.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===o.type&&o.widget.content.editor.focus();const t=m();if(!t)return;const{state:r}=t,n=r.selection.main.head,i=r.doc.lineAt(n);(0,s.wg)(r,i.from,i.to)&&(0,s.Kc)(t)},isEnabled:p}),e.commands.addCommand(r.foldSubregions,{label:i.__("Fold All Subregions"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const o=f();"notebook"===o.type?(o.notebook.mode="edit",o.notebook.activeCell&&(null===(e=o.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===o.type&&o.widget.content.editor.focus();const t=m();if(t)try{const{state:e}=t,o=e.selection.main.head,r=e.doc.lineAt(o),n=(0,s.wg)(e,r.from,r.to);let i=!1;try{i=void 0!==e.field(s.rI,!1)}catch(e){i=!1}if(i||((0,s.Tm)(t),(0,s.Kc)(t)),!n)return;const d=[];let a=n.from+1;for(;a<n.to;){const o=e.doc.lineAt(a),t=(0,s.wg)(e,o.from,o.to);t&&t.from>n.from&&t.to<=n.to?(d.push(s.R3.of(t)),a=t.to):a=o.to+1}d.length>0&&t.dispatch({effects:d})}catch(e){}},isEnabled:p}),e.commands.addCommand(r.unfoldSubregions,{label:i.__("Unfold All Subregions"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const o=f();"notebook"===o.type?(o.notebook.mode="edit",o.notebook.activeCell&&(null===(e=o.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===o.type&&o.widget.content.editor.focus();const t=m();if(t)try{const{state:e}=t,o=e.selection.main.head,r=e.doc.lineAt(o),n=(0,s.wg)(e,r.from,r.to);if(!n)return;const i=e.field(s.rI,!1);if(!i)return;const d=[];i.between(n.from+1,n.to,(e,o)=>{e>n.from&&o<=n.to&&d.push(s.c1.of({from:e,to:o}))}),d.length>0&&t.dispatch({effects:d})}catch(e){}},isEnabled:p}),e.commands.addCommand(r.foldAll,{label:i.__("Fold All Regions"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const o=f();"notebook"===o.type?(o.notebook.mode="edit",o.notebook.activeCell&&(null===(e=o.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===o.type&&o.widget.content.editor.focus();const t=m();if(t)try{(0,s.hY)(t)}catch(e){}},isEnabled:p}),e.commands.addCommand(r.unfoldAll,{label:i.__("Unfold All Regions"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const o=f();"notebook"===o.type?(o.notebook.mode="edit",o.notebook.activeCell&&(null===(e=o.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===o.type&&o.widget.content.editor.focus();const t=m();if(t)try{(0,s._I)(t)}catch(e){}},isEnabled:p}),n){const e=i.__("File Operations");[r.foldCurrent,r.unfoldCurrent,r.foldSubregions,r.unfoldSubregions,r.foldAll,r.unfoldAll].forEach(o=>{n.addItem({command:o,category:e})})}}};var p=t(21656),b=t(59182),y=t(64530),v=t(68211),h=t(99925),C=t(95870),E=t.n(C);const x="@jupyterlab/codemirror-extension:plugin",k={id:"@jupyterlab/codemirror-extension:languages",description:"Provides the CodeMirror languages registry.",provides:p.IEditorLanguageRegistry,optional:[a.ITranslator],activate:(e,o)=>{const r=new p.EditorLanguageRegistry;for(const e of p.EditorLanguageRegistry.getDefaultLanguages(o))r.addLanguage(e);return r.addLanguage({name:"ipythongfm",mime:"text/x-ipythongfm",load:async()=>{const[e,o,n]=await Promise.all([Promise.all([t.e(7488),t.e(9162),t.e(1187),t.e(2552),t.e(4642)]).then(t.bind(t,14642)),Promise.all([t.e(1187),t.e(7572)]).then(t.bind(t,47572)),t.e(5637).then(t.bind(t,25637))]),i=e.markdown({base:e.markdownLanguage,codeLanguages:e=>r.findBest(e),extensions:[(0,p.parseMathIPython)(s.Tg.define(n.stexMath).parser)]});return new s.Yy(i.language,[i.support,(0,p.pythonBuiltin)(o.pythonLanguage)])}}),r}},T={id:"@jupyterlab/codemirror-extension:themes",description:"Provides the CodeMirror theme registry",provides:p.IEditorThemeRegistry,optional:[a.ITranslator],activate:(e,o)=>{const t=new p.EditorThemeRegistry;for(const e of p.EditorThemeRegistry.getDefaultThemes(o))t.addTheme(e);return t}},w={id:"@jupyterlab/codemirror-extension:extensions",description:"Provides the CodeMirror extension factory registry.",provides:p.IEditorExtensionRegistry,requires:[p.IEditorThemeRegistry],optional:[a.ITranslator,b.ISettingRegistry,y.IFormRendererRegistry],activate:(e,o,t,r,n)=>{const i=new p.EditorExtensionRegistry;for(const e of p.EditorExtensionRegistry.getDefaultExtensions({themes:o,translator:t}))i.addExtension(e);if(r){const o=e=>{var o;i.baseConfiguration=null!==(o=e.get("defaultConfig").composite)&&void 0!==o?o:{}};Promise.all([r.load(x),e.restored]).then(([e])=>{o(e),e.changed.connect(o)}),null==n||n.addRenderer(`${x}.defaultConfig`,{fieldRenderer:e=>{let o;const r=E().useMemo(()=>i.settingsSchema,[]);o=e.name in e.formContext.defaultFormData?e.formContext.defaultFormData[e.name]:{};for(const[e,t]of Object.entries(i.defaultConfiguration))void 0===r[e]||e in o||(o[e]=t);return E().createElement("div",{className:"jp-FormGroup-contentNormal"},E().createElement("h3",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem"},e.schema.title),e.schema.description&&E().createElement("div",{className:"jp-FormGroup-description"},e.schema.description),E().createElement(y.FormComponent,{schema:{title:e.schema.title,description:e.schema.description,type:"object",properties:r,additionalProperties:!1},validator:h.Ay,formData:{...o,...e.formData},formContext:{defaultFormData:o},liveValidate:!0,onChange:t=>{var r;const n={};for(const[e,i]of Object.entries(null!==(r=t.formData)&&void 0!==r?r:{})){const t=o[e];void 0!==t&&v.JSONExt.deepEqual(i,t)||(n[e]=i)}e.onChange(n)},tagName:"div",translator:null!=t?t:a.nullTranslator}))}})}return i}},_={id:"@jupyterlab/codemirror-extension:binding",description:"Register the CodeMirror extension factory binding the editor and the shared model.",autoStart:!0,requires:[p.IEditorExtensionRegistry],activate:(e,o)=>{o.addExtension({name:"shared-model-binding",factory:e=>{var o;const t=e.model.sharedModel;return p.EditorExtensionRegistry.createImmutableExtension((0,p.ybinding)({ytext:t.ysource,undoManager:null!==(o=t.undoManager)&&void 0!==o?o:void 0}))}})}},I={id:"@jupyterlab/codemirror-extension:services",description:"Provides the service to instantiate CodeMirror editors.",provides:i.IEditorServices,requires:[p.IEditorLanguageRegistry,p.IEditorExtensionRegistry],optional:[a.ITranslator],activate:(e,o,t,r)=>({factoryService:new p.CodeMirrorEditorFactory({extensions:t,languages:o,translator:null!=r?r:a.nullTranslator}),mimeTypeService:new p.CodeMirrorMimeTypeService(o)})},R={id:"@jupyterlab/codemirror-extension:line-col-status",description:"Provides the code editor cursor position model.",autoStart:!0,requires:[a.ITranslator],optional:[n.ILabShell,d.IStatusBar],provides:i.IPositionModel,activate:(e,o,t,r)=>{const n=new i.LineCol(o),d=new Set;function a(e,o){Promise.all([...d].map(e=>e(o.newValue))).then(e=>{var o;n.model.editor=null!==(o=e.filter(e=>null!==e)[0])&&void 0!==o?o:null}).catch(e=>{console.error("Get editors",e)})}return r&&r.registerStatusItem(R.id,{priority:1,item:n,align:"right",rank:2,isActive:()=>!!n.model.editor}),t&&t.currentChanged.connect(a),{addEditorProvider:o=>{d.add(o),e.shell.currentWidget&&a(e.shell,{newValue:e.shell.currentWidget,oldValue:null})},update:()=>{a(e.shell,{oldValue:e.shell.currentWidget,newValue:e.shell.currentWidget})}}}},j=[f,k,T,_,w,I,R]}}]);