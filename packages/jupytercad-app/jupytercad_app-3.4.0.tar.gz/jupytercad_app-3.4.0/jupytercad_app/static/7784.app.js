"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[7784],{17966(t,e,s){s.d(e,{B:()=>r,a:()=>n});const r=Symbol("Equality"),n=(t,e)=>t===e||t[r]?.(e)||!1},46132(t,e,s){s.d(e,{Ej:()=>i,Gv:()=>n,Im:()=>h,SQ:()=>f,Si:()=>u,Tj:()=>l,i5:()=>d,jJ:()=>a,kp:()=>o,ol:()=>v});var r=s(17966);const n=t=>"object"==typeof t,o=Object.assign,c=Object.keys,a=(Object.values,(t,e)=>{for(const s in t)e(t[s],s)}),l=(t,e)=>{const s=[];for(const r in t)s.push(e(t[r],r));return s},i=t=>c(t).length,h=t=>{for(const e in t)return!1;return!0},u=(t,e)=>{for(const s in t)if(!e(t[s],s))return!1;return!0},d=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),f=(t,e)=>t===e||i(t)===i(e)&&u(t,(t,s)=>(void 0!==t||d(e,s))&&r.a(e[s],t)),g=Object.freeze,v=t=>{for(const e in t){const s=t[e];"object"!=typeof s&&"function"!=typeof s||v(t[e])}return g(t)}},51370(t,e,s){s.d(e,{W:()=>c,c:()=>a});var r=s(76505),n=s(69279),o=s(47198);class c{constructor(){this._observers=r.vt()}on(t,e){return r._4(this._observers,t,n.vt).add(e),e}once(t,e){const s=(...r)=>{this.off(t,s),e(...r)};this.on(t,s)}off(t,e){const s=this._observers.get(t);void 0!==s&&(s.delete(e),0===s.size&&this._observers.delete(t))}emit(t,e){return o.HT((this._observers.get(t)||r.vt()).values()).forEach(t=>t(...e))}destroy(){this._observers=r.vt()}}class a{constructor(){this._observers=r.vt()}on(t,e){r._4(this._observers,t,n.vt).add(e)}once(t,e){const s=(...r)=>{this.off(t,s),e(...r)};this.on(t,s)}off(t,e){const s=this._observers.get(t);void 0!==s&&(s.delete(e),0===s.size&&this._observers.delete(t))}emit(t,e){return o.HT((this._observers.get(t)||r.vt()).values()).forEach(t=>t(...e))}destroy(){this._observers=r.vt()}}},66527(t,e,s){s.d(e,{EK:()=>i,OK:()=>c,id:()=>a,vo:()=>l});var r=s(47198),n=s(46132),o=s(17966);const c=(t,e,s=0)=>{try{for(;s<t.length;s++)t[s](...e)}finally{s<t.length&&c(t,e,s+1)}},a=t=>t,l=(t,e)=>{if(t===e)return!0;if(null==t||null==e||t.constructor!==e.constructor&&(t.constructor||Object)!==(e.constructor||Object))return!1;if(null!=t[o.B])return t[o.B](e);switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:if(t.byteLength!==e.byteLength)return!1;for(let s=0;s<t.length;s++)if(t[s]!==e[s])return!1;break;case Set:if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;break;case Map:if(t.size!==e.size)return!1;for(const s of t.keys())if(!e.has(s)||!l(t.get(s),e.get(s)))return!1;break;case void 0:case Object:if(n.Ej(t)!==n.Ej(e))return!1;for(const s in t)if(!n.i5(t,s)||!l(t[s],e[s]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(!l(t[s],e[s]))return!1;break;default:return!1}return!0},i=(t,e)=>e.includes(t);r.cy},69279(t,e,s){s.d(e,{vt:()=>r});const r=()=>new Set},76505(t,e,s){s.d(e,{C:()=>n,Tj:()=>c,_4:()=>o,bz:()=>a,vt:()=>r});const r=()=>new Map,n=t=>{const e=r();return t.forEach((t,s)=>{e.set(s,t)}),e},o=(t,e,s)=>{let r=t.get(e);return void 0===r&&t.set(e,r=s()),r},c=(t,e)=>{const s=[];for(const[r,n]of t)s.push(e(n,r));return s},a=(t,e)=>{for(const[s,r]of t)if(e(r,s))return!0;return!1}},90482(t,e,s){s.d(e,{_g:()=>r});const r=Date.now},97784(t,e,s){s.d(e,{X3:()=>u,_g:()=>h,tQ:()=>d,ww:()=>i});var r=s(96214),n=s(19326),o=s(90482),c=s(30801),a=s(51370),l=s(66527);s(58919);class i extends a.c{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const t=o._g();null!==this.getLocalState()&&15e3<=t-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const e=[];this.meta.forEach((s,r)=>{r!==this.clientID&&3e4<=t-s.lastUpdated&&this.states.has(r)&&e.push(r)}),e.length>0&&h(this,e,"timeout")},c.RI(3e3)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const e=this.clientID,s=this.meta.get(e),r=void 0===s?0:s.clock+1,n=this.states.get(e);null===t?this.states.delete(e):this.states.set(e,t),this.meta.set(e,{clock:r,lastUpdated:o._g()});const c=[],a=[],i=[],h=[];null===t?h.push(e):null==n?null!=t&&c.push(e):(a.push(e),l.vo(n,t)||i.push(e)),(c.length>0||i.length>0||h.length>0)&&this.emit("change",[{added:c,updated:i,removed:h},"local"]),this.emit("update",[{added:c,updated:a,removed:h},"local"])}setLocalStateField(t,e){const s=this.getLocalState();null!==s&&this.setLocalState({...s,[t]:e})}getStates(){return this.states}}const h=(t,e,s)=>{const r=[];for(let s=0;s<e.length;s++){const n=e[s];if(t.states.has(n)){if(t.states.delete(n),n===t.clientID){const e=t.meta.get(n);t.meta.set(n,{clock:e.clock+1,lastUpdated:o._g()})}r.push(n)}}r.length>0&&(t.emit("change",[{added:[],updated:[],removed:r},s]),t.emit("update",[{added:[],updated:[],removed:r},s]))},u=(t,e,s=t.states)=>{const n=e.length,o=r.xv();r.zd(o,n);for(let c=0;c<n;c++){const n=e[c],a=s.get(n)||null,l=t.meta.get(n).clock;r.zd(o,n),r.zd(o,l),r.Qj(o,JSON.stringify(a))}return r.Fo(o)},d=(t,e,s)=>{const r=n.$C(e),c=o._g(),a=[],i=[],h=[],u=[],d=n.cw(r);for(let e=0;e<d;e++){const e=n.cw(r);let s=n.cw(r);const o=JSON.parse(n.t3(r)),d=t.meta.get(e),f=t.states.get(e),g=void 0===d?0:d.clock;(g<s||g===s&&null===o&&t.states.has(e))&&(null===o?e===t.clientID&&null!=t.getLocalState()?s++:t.states.delete(e):t.states.set(e,o),t.meta.set(e,{clock:s,lastUpdated:c}),void 0===d&&null!==o?a.push(e):void 0!==d&&null===o?u.push(e):null!==o&&(l.vo(o,f)||h.push(e),i.push(e)))}(a.length>0||h.length>0||u.length>0)&&t.emit("change",[{added:a,updated:h,removed:u},s]),(a.length>0||i.length>0||u.length>0)&&t.emit("update",[{added:a,updated:i,removed:u},s])}}}]);