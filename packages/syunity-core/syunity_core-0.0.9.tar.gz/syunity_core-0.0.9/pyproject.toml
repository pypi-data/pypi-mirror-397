[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "syunity-core"
version = "0.0.9"
description = "A unified core kernel containing MQTT (v2), IoTDB, Sanic, and utility modules for Syunity projects."
readme = "README.md"
requires-python = ">=3.9"  # 建议放宽，除非必须 3.13
license = "MIT"
authors = [
  {name = "ZHOU HUAN", email = "shenarder@syunity.cn"},
]
keywords = ["iot", "mqtt", "sanic", "iotdb", "utility", "kernel"]
classifiers = [
  "Development Status :: 3 - Alpha",
  "Intended Audience :: Developers",
  "Topic :: Software Development :: Libraries :: Python Modules",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
]

# 修正后的依赖列表：去重、规范命名、放宽限制
dependencies = [
    "cryptography>=43.0.0",
    "PyYAML>=6.0.0",
    "loguru>=0.7.0",
    "pendulum>=3.0.0",
    "psutil>=6.0.0",
    "apache-iotdb>=1.3.0",      # 注意：通常 PyPI 上是 apache-iotdb，2.0.5 可能过高，请确认
    "deepmerge>=1.1.0",
    "numpy>=1.26.0",            # 建议放宽，配合 pandas
    "paho-mqtt>=2.1.0",         # 修正下划线为中划线
    "pandas>=2.0.0",
    "pydantic>=2.0.0",
    "pydantic-settings>=2.0.0", # 修正下划线
    "PyJWT>=2.8.0",
    "pypinyin>=0.49.0",
    "bcrypt>=4.0.0",            # 修正：现在通常用 bcrypt 而不是 python_bcrypt
    "requests>=2.31.0",         # 修正大小写
    "sanic>=23.12.0"
]

[project.urls]
"Homepage" = "https://gitee.com/shenarder/syunity-core"
"Bug Tracker" = "https://gitee.com/shenarder/syunity-core/issues"

[tool.setuptools.packages.find]
where = ["."]
include = ["syunity_core*"]
exclude = ["tests*", "docs*", "syunity_core/test_logs*"]