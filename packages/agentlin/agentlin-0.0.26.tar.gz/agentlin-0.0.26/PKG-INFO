Metadata-Version: 2.4
Name: agentlin
Version: 0.0.26
Summary: General Agent Framework by LinXueyuan
License: MIT
License-File: LICENSE
Author: LinXueyuanStdio
Author-email: 23211526+LinXueyuanStdio@users.noreply.github.com
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 2
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.4
Classifier: Programming Language :: Python :: 3.5
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Programming Language :: Python :: 3.14
Requires-Dist: Pillow
Requires-Dist: aio-pika
Requires-Dist: beautifulsoup4
Requires-Dist: croniter
Requires-Dist: datasets
Requires-Dist: fastapi
Requires-Dist: fastmcp
Requires-Dist: google-genai
Requires-Dist: holidays
Requires-Dist: html2text
Requires-Dist: kaleido
Requires-Dist: loguru
Requires-Dist: omegaconf
Requires-Dist: openai (==2.3.0)
Requires-Dist: openai-chatkit
Requires-Dist: plotly
Requires-Dist: psutil
Requires-Dist: pylatexenc
Requires-Dist: python-dotenv
Requires-Dist: rich
Requires-Dist: ripgrep-python
Requires-Dist: sseclient
Requires-Dist: stevedore
Requires-Dist: streamlit (>=1.46.0,<2.0.0)
Requires-Dist: streamlit-markdown
Requires-Dist: ta
Requires-Dist: typer
Requires-Dist: uvicorn
Requires-Dist: websockets
Requires-Dist: xlin
Description-Content-Type: text/markdown

# AgentLin

é€šç”¨ Agent æ¶æ„ï¼Œæ”¯æŒå¤šAgentåä½œå’ŒRPCè¿œç¨‹è°ƒç”¨ã€‚

## ä¸»è¦ç‰¹æ€§

- ğŸ¤– **å¤šAgentç³»ç»Ÿ**: åŸºäºRabbitMQçš„æ¶ˆæ¯é˜Ÿåˆ—æ”¯æŒå¤šAgentåä½œ
- ğŸ”— **RPCè¿œç¨‹è°ƒç”¨**: åƒæœ¬åœ°å‡½æ•°ä¸€æ ·è°ƒç”¨è¿œç¨‹Agentæ–¹æ³•
- â° **æ—¶é—´åŒæ­¥**: åˆ†å¸ƒå¼æ—¶é—´åè°ƒæœºåˆ¶
- ğŸ› ï¸ **å·¥å…·é›†æˆ**: ä¸°å¯Œçš„å·¥å…·ç”Ÿæ€ç³»ç»Ÿ
- ğŸ“Š **æ•°æ®å¤„ç†**: å†…ç½®æ•°æ®åˆ†æå’Œå¯è§†åŒ–å·¥å…·
- ğŸ”„ **è‡ªåŠ¨é‡è¿**: å¥å£®çš„è¿æ¥ç®¡ç†å’Œæ•…éšœæ¢å¤


## å¼€å§‹ä½¿ç”¨

### 1. å®‰è£…

```bash
pip install agentlin
```

æœ¬åœ°å®‰è£…

```bash
apt-get install build-essential libssl-dev libffi-dev python3-dev
pip install pip --upgrade
pip install -e .
# plotly éœ€è¦é¢å¤–ä¸‹è½½ chrome å†…æ ¸ç”¨äºæ¸²æŸ“å›¾è¡¨
plotly_get_chrome
```

### 2. åˆ›å»º `.env` æ–‡ä»¶

å¤åˆ¶ `.env.example` æ–‡ä»¶ä¸º `.env` å¹¶å¡«å†™æ‰€éœ€çš„ç¯å¢ƒå˜é‡ã€‚

ç¯å¢ƒå˜é‡å®šä¹‰äº†è®¿é—® o3 æ¨¡å‹çš„ API å¯†é’¥å’Œå…¶ä»–é…ç½®ã€‚


### 3. åˆ›å»ºè½¯é“¾æ¥

å°†å…¬å…±æ•°æ®ç›®å½• `/mnt/aime/datasets/agent/agent_data` è½¯é“¾æ¥åˆ°ä½ æœ¬åœ°é¡¹ç›®çš„ `data` ç›®å½•ä¸‹

```bash
ln -s /mnt/aime/datasets/agent/agent_data data
```

### 4. è¿è¡Œåº”ç”¨ç¨‹åº

```bash
streamlit run chart_o3_toolcall.py
```

æ³¨æ„ï¼šå¦‚æœä½ ä¸æ˜¯åœ¨äº¤äº’å¼å»ºæ¨¡çš„å®¹å™¨é‡Œè¿è¡Œçš„ï¼Œéœ€è¦æŒ‚ä¸€ä¸ªä»£ç†æœåŠ¡å°†æœ¬åœ°è¯·æ±‚è½¬å‘åˆ°åŒ—ç¾ï¼š

```bash
cd tool_server
bash run_aime_proxy_server.sh
```

### 5. è¿è¡Œ MCP æœåŠ¡å™¨

```bash
HOME_DIR=<your_home_directory> agentlin mcp-server --name file_system --host localhost --port 9999 --path /mcp --debug
agentlin mcp-server --name bash --host localhost --port 9999 --path /mcp --debug
agentlin mcp-server --name memory --host localhost --port 9999 --path /mcp --debug
agentlin mcp-server --name web --host localhost --port 9999 --path /mcp --debug
TODO_FILE_PATH=<your_todo_file_path> agentlin mcp-server --name todo --host localhost --port 7780 --path /mcp --debug
```

## è¯¦ç»†æ–‡æ¡£

å‚è§ [RPCæ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨æŒ‡å—](docs/rpc_message_queue_guide.md)


## ç›®å½•ç»“æ„

```sh
agentlin/
â”œâ”€â”€ core/                     # æ ¸å¿ƒæ¶æ„ç»„ä»¶
â”‚   â”œâ”€â”€ agent_schema.py       # Agent æ¨¡å¼å®šä¹‰
â”‚   â”œâ”€â”€ simulator.py          # ä»¿çœŸå™¨
â”‚   â”œâ”€â”€ multimodal.py         # å¤šæ¨¡æ€æ”¯æŒ
â”‚   â””â”€â”€ types.py              # æ•°æ®ç±»å‹å®šä¹‰
â”œâ”€â”€ route/                    # è·¯ç”±å’Œä»£ç†ç®¡ç†
â”‚   â”œâ”€â”€ client.py             # å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ mcp_proxy_*.py        # MCP ä»£ç†ç›¸å…³
â”‚   â”œâ”€â”€ task_agent_manager.py # agent ä¼šè¯ç®¡ç†
â”‚   â””â”€â”€ task_*_manager.py     # ä»»åŠ¡ç®¡ç†å™¨
â”œâ”€â”€ code_interpreter/         # ä»£ç è§£é‡Šå™¨
â”‚   â”œâ”€â”€ client.py             # è§£é‡Šå™¨å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ jupyter_*.py          # Jupyter é›†æˆ
â”‚   â”œâ”€â”€ tool_call_display.py  # å·¥å…·è°ƒç”¨æ˜¾ç¤º
â”‚   â””â”€â”€ ...                   # å…¶ä»–ç»„ä»¶
â””â”€â”€ tools/                    # å·¥å…·é›†åˆ
    â”œâ”€â”€ tool_aime.py          # AIME å·¥å…·
    â”œâ”€â”€ tool_code_interpreter.py # ä»£ç è§£é‡Šå™¨å·¥å…·
    â”œâ”€â”€ tool_chart.py         # å›¾è¡¨å·¥å…·
    â””â”€â”€ tool_*.py             # å…¶ä»–å·¥å…·

chart_agent/                  # å›¾è¡¨ Agent
table_agent/                  # è¡¨æ ¼ Agent
tool_server/                  # å·¥å…·æœåŠ¡å™¨
docs/                        # é¡¹ç›®æ–‡æ¡£
assets/                      # é…ç½®æ–‡ä»¶
data/                        # æ•°æ®æ–‡ä»¶ï¼Œè½¯é“¾æ¥åˆ° /mnt/aime/datasets/agent/agent_data
```


## Agent èƒ½åŠ›æ‰©å±•

æˆ‘ä»¬é€šè¿‡å¤šä¸ªå±‚çº§å¯¹ agent èƒ½åŠ›è¿›è¡Œæ‰©å±•ï¼š

1. **åŸå­å·¥å…·ï¼ˆAtomic Toolsï¼‰**: æœ€åŸºæœ¬çš„åŠŸèƒ½å•å…ƒï¼Œè¶³å¤Ÿé€šç”¨æ‰èƒ½æˆä¸ºåŸå­å·¥å…·ï¼Œå¦‚ä»£ç è§£é‡Šå™¨ã€ç»“æ„åŒ–æ•°æ®ç”Ÿæˆå™¨ä½œä¸ºå·¥å…·ã€å­æ™ºèƒ½ä½“èƒ½åŠ›ä½œä¸ºå·¥å…·ã€åŠ¨æ€åŠ è½½æŠ€èƒ½çš„èƒ½åŠ›ä½œä¸ºå·¥å…·ã€MCP èƒ½åŠ›ä½œä¸ºå·¥å…·ã€‚
   1. **ä»£ç è§£é‡Šå™¨ï¼ˆCode Interpreterï¼‰**: é€šè¿‡ä»£ç è§£é‡Šå™¨æ‰§è¡Œä»£ç çš„èƒ½åŠ›ï¼Œå¯ä»¥åœ¨ä»£ç é‡Œè°ƒç”¨å…¶ä»–å·¥å…·ã€å‡½æ•°
   2. **å­æ™ºèƒ½ä½“ï¼ˆSubAgentï¼‰**: ç»„åˆå¤šä¸ªå·¥å…·ï¼Œå…·æœ‰ç‹¬ç«‹ä¸Šä¸‹æ–‡ï¼Œå½¢æˆç‰¹å®šèƒ½åŠ›çš„æ™ºèƒ½ä½“
   3. **æŠ€èƒ½ï¼ˆSkillsï¼‰**: æŒ‰éœ€åŠ è½½çš„æŠ€èƒ½åŒ…ï¼ŒåŒ…å«ä¸€äº›å·¥å…·ã€å…³äºä½¿ç”¨è¿™äº›å·¥å…·çš„æç¤ºè¯å’Œç¤ºä¾‹
   4. **ç»“æ„åŒ–æ•°æ®ç”Ÿæˆå™¨ï¼ˆStructured Data Generatorsï¼‰**: ç”¨æˆ·è¦æ±‚è¿”å›ç»“æ„åŒ–æ•°æ®æ—¶ï¼Œä¸“é—¨ç”¨äºç”Ÿæˆç»“æ„åŒ–æ•°æ®çš„å·¥å…·ã€‚å¯ä»¥åˆ©ç”¨ LLM çº¦æŸè§£ç èƒ½åŠ›ï¼Œç¡®ä¿æ•°æ®ç»“æ„æ­£ç¡®ã€‚
   5. **MCP èƒ½åŠ›ï¼ˆMCP Capabilitiesï¼‰**: é€šè¿‡ MCP åè®®è°ƒç”¨è¿œç¨‹æœåŠ¡çš„èƒ½åŠ›ï¼Œå…è®¸ agent ä½¿ç”¨åˆ†å¸ƒå¼èµ„æºå’ŒæœåŠ¡
   6. **æ™ºèƒ½ä½“ä½œä¸ºå·¥å…·ï¼ˆAgent-as-Toolï¼‰**: å°†å®Œæ•´çš„æ™ºèƒ½ä½“å°è£…ä¸ºå·¥å…·
2. **ç¯å¢ƒï¼ˆEnvironmentï¼‰**: é¢„å®šä¹‰çš„ä»»åŠ¡ç¯å¢ƒï¼Œé›†æˆäº†å¤šç§å·¥å…·å’ŒæŠ€èƒ½ï¼Œç¯å¢ƒçš„æè¿°å’Œæç¤ºè¯æ³¨å…¥åˆ°ç³»ç»Ÿæç¤ºè¯ä¸­ï¼Œç¯å¢ƒçš„å·¥å…·æ³¨å†Œä¸ºåŸå­å·¥å…·
   1. **é€šç”¨ç¯å¢ƒï¼ˆGeneral Environmentsï¼‰**: é¢å‘å¹¿æ³›ä»»åŠ¡çš„ç¯å¢ƒï¼Œå¦‚æœ‰çŠ¶æ€æµè§ˆå™¨ç¯å¢ƒã€æ–‡ä»¶ç³»ç»Ÿç¯å¢ƒã€æ²™ç›’ç¯å¢ƒ
   2. **ä¸“ç”¨ç¯å¢ƒï¼ˆSpecialized Environmentsï¼‰**: é¢å‘ç‰¹å®šä»»åŠ¡çš„ç¯å¢ƒï¼Œå¦‚é‡åŒ–äº¤æ˜“ç¯å¢ƒã€æ¼æ´æŒ–æ˜ç¯å¢ƒ
3. **åŸºäº Bash æ‰©å±•çš„å·¥å…·ï¼ˆTools-in-Bashï¼‰**: å®šä¹‰åœ¨ Bash ç¯å¢ƒä¸­è¿è¡Œçš„å·¥å…·ï¼Œagent éœ€è¦é€šè¿‡ `ls`ã€`cat`ã€`--help` ç­‰å‘½ä»¤æ¥æ¢ç´¢å’Œä½¿ç”¨è¿™äº›å·¥å…·
4. **åŸºäº MCP æ‰©å±•çš„å·¥å…·ï¼ˆTools-in-MCPï¼‰**: å®šä¹‰åœ¨ MCP æœåŠ¡å™¨ä¸­è¿è¡Œçš„å·¥å…·ï¼Œagent é€šè¿‡ MCP åè®®çš„ `list_tools`ï¼Œ`call_tool` ç­‰æ–¹æ³•æ¥è°ƒç”¨è¿™äº›å·¥å…·
5. **åŸºäºä»£ç æ‰§è¡Œçš„å·¥å…·ï¼ˆTools-in-CodeInterpreterï¼‰**: å®šä¹‰åœ¨ä»£ç æ‰§è¡Œç¯å¢ƒä¸­è¿è¡Œçš„å·¥å…·ï¼Œagent é€šè¿‡ä»£ç è°ƒç”¨è¿™äº›å·¥å…·
6. **åŸºäºæµè§ˆå™¨æ‰©å±•çš„å·¥å…·ï¼ˆTools-in-Browserï¼‰**: å®šä¹‰åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­è¿è¡Œçš„å·¥å…·ã€æ’ä»¶ã€æ‰©å±•ï¼Œagent é€šè¿‡ browser-use å·¥å…·æ¥è°ƒç”¨è¿™äº›æµè§ˆå™¨å·¥å…·
7. **åŸºäºè®¡ç®—æœºæ‰©å±•çš„å·¥å…·ï¼ˆTools-in-Computerï¼‰**: å®šä¹‰åœ¨è®¡ç®—æœºç¯å¢ƒä¸­è¿è¡Œçš„å·¥å…·ã€APPï¼Œagent é€šè¿‡ computer-use å·¥å…·æ¥è°ƒç”¨è¿™äº›è®¡ç®—æœºå·¥å…·
8. **åŸºäºæ‰‹æœºæ‰©å±•çš„å·¥å…·ï¼ˆTools-in-Mobileï¼‰**: å®šä¹‰åœ¨æ‰‹æœºç¯å¢ƒä¸­è¿è¡Œçš„å·¥å…·ã€APPï¼Œagent é€šè¿‡ mobile-use å·¥å…·æ¥è°ƒç”¨è¿™äº›æ‰‹æœºå·¥å…·

åŒæ—¶ï¼ŒæŒ‰æƒé™çº§åˆ«å¯¹å·¥å…·è¿›è¡Œåˆ†ç±»ï¼š
1. **ç³»ç»Ÿçº§å·¥å…·ï¼ˆSystem-level Toolsï¼‰**: å†…å»ºäº agentlin æ¡†æ¶ä¸­çš„åŸå­å·¥å…·
2. **å¼€å‘è€…çº§å·¥å…·ï¼ˆDeveloper-level Toolsï¼‰**: ç”±ç¯å¢ƒæˆ– MCP æœåŠ¡å™¨æ³¨å†Œçš„å·¥å…·
3. **ç”¨æˆ·çº§å·¥å…·ï¼ˆUser-level Tools, Client-Side Toolsï¼‰**: ç”±ç”¨æˆ·è‡ªå®šä¹‰å¹¶æ³¨å†Œçš„å·¥å…·


## agentlin CLI å·¥å…·

ä½¿ç”¨ `agentlin --help` æŸ¥çœ‹å‘½ä»¤è¡Œå·¥å…·çš„å¸®åŠ©ä¿¡æ¯ï¼š

| å‘½ä»¤åç§°                | æè¿°                          |
| ----------------------- | ----------------------------- |
| mcp-server              | è¿è¡ŒæŒ‡å®šçš„ MCP æœåŠ¡å™¨ã€‚       |
| env-as-mcp-server       | å°†ç¯å¢ƒä½œä¸º MCP æœåŠ¡å™¨è¿è¡Œã€‚   |
| code-interpreter-server | è¿è¡Œä»£ç è§£é‡Šå™¨æœåŠ¡å™¨ã€‚         |
| agent-server            | è¿è¡Œä»£ç†æœåŠ¡å™¨ã€‚               |
| task-server             | è¿è¡Œä»»åŠ¡æœåŠ¡å™¨ã€‚               |
| sgl-server              | è¿è¡Œ sgl æœåŠ¡å™¨ã€‚              |
| evaluate                | è¿è¡Œè¯„ä¼°ã€‚                     |
| run                     | è¿è¡Œæ™ºèƒ½ä½“ï¼ˆAgentsï¼‰ã€‚          |
| env                     | ç®¡ç†ã€æä¾›æœåŠ¡å¹¶ä¸ç¯å¢ƒäº¤äº’ã€‚   |
| tool                    | ç®¡ç†å’Œè¿è¡Œå·¥å…·ã€‚               |
| skill                   | ç®¡ç†å’Œè¿è¡ŒæŠ€èƒ½ã€‚               |
| code-interpreter        | è¿è¡Œä»£ç è§£é‡Šå™¨ã€‚               |

### agentlin mcp-server
å¯åŠ¨ MCP æœåŠ¡å™¨ï¼Œæ³¨å†Œå·¥å…·ä¾› agent è°ƒç”¨

```bash
agentlin mcp-server --name <tool_name> --host <host> --port <port> --path <path> [--debug]
```

### agentlin env ï¼ˆagent-envï¼‰
ç®¡ç†å’Œè¿è¡Œç¯å¢ƒï¼Œæä¾›ç¯å¢ƒæœåŠ¡

```bash
agentlin env list
agentlin env info <env_name>
agentlin env play --env <env_name> --env-args '{"arg1": "value1", "arg2": "value2"}'
```

å¦‚æœç¯å¢ƒæ˜¯å¸¦å·¥å…·çš„ï¼Œå³ç»§æ‰¿è‡ª IToolEnvironmentï¼Œåˆ™å¯ä»¥å°†ç¯å¢ƒè½¬æ¢ä¸º MCP serverï¼Œåç»­å¯æ³¨å†Œç¯å¢ƒå†…çš„å·¥å…·ä¾› agent è°ƒç”¨ã€‚

```bash
agentlin env-as-mcp-server --env <env_name> --port <port> --env-args '{"arg1": "value1", "arg2": "value2"}'
```

### agentlin tool ï¼ˆagent-toolï¼‰
ç®¡ç†å’Œè¿è¡Œå·¥å…·ï¼Œæä¾›å·¥å…·æœåŠ¡

```bash
agentlin tool list
agentlin tool --name <tool_name> --tool-args '{"arg1": "value1", "arg2": "value2"}'
```

### agentlin skill ï¼ˆagent-skillï¼‰
ç®¡ç†å’Œè¿è¡ŒæŠ€èƒ½ï¼Œæä¾›æŠ€èƒ½æœåŠ¡
```bash
agentlin skill list
agentlin skill info <skill_name>
agentlin skill --name <skill_name> --skill-args '{"arg1": "value1", "arg2": "value2"}'
```

