"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[2795],{63711:(t,e,s)=>{function a(t,e){[["x"],["y"]].forEach((([s])=>{const a=t["x"===s?"horizontal":"vertical"],{keys:i,captions:n}=a;for(let t=0;t<i.length;t++){const a="x"===s?t+1:2*t+1;e({axis:s,subplotKey:`${s}axis${1===a?"":a}`,caption:n[t]})}}))}s.d(e,{U:()=>a})},53248:(t,e,s)=>{s.d(e,{F:()=>c});var a=s(31529),i=s(69278),n=s(16888),o=s(63711);function r(t){const{numberOfDecimals:e=2,numberFormat:s}=t,a=`,.${e}f`;let i;switch(s){case"percentage":i=" %";break;case"thousands":i=" K";break;case"millions":i=" M";break;case"billions":i=" B";break;default:i=void 0}return{tickformat:a,ticksuffix:i}}const c=(t,e,s)=>{if(!t)return{};const{mapping:c,style:u}=t;if((0,a.isEmpty)(u?.measures))return{};const l={},f={};(0,i.W)(e).forEach((([t,e])=>{if(!e)return;const s=c[e];if(s&&0!==s.length)for(const e of s){if(!(0,n.isMeasureInMapping)(e))continue;const s=u?.measures?.[e.measureName];if(!s)continue;const a=r(s);l[t]={tickformat:a.tickformat,...a.ticksuffix&&{ticksuffix:a.ticksuffix}},f[t]=a;break}}));const p=((t,e)=>{const s={};return(0,o.U)(t,(({axis:t,subplotKey:a})=>{const i=e[`${t}axis`];i&&(s[a]={tickformat:i.tickformat,...i.ticksuffix&&{ticksuffix:i.ticksuffix}})})),s})(s,f);return{...l,...p}}},14763:(t,e,s)=>{s.d(e,{U:()=>n});var a=s(69278),i=s(16888);const n=(t,e)=>{if(!t?.style?.areAxisTitlesVisible)return{};const s={},{mapping:n}=t;return(0,a.W)(e).forEach((([t,e])=>{const a=e?n[e]:void 0,o=[];a?.forEach((e=>{!(0,i.isMeasureInMapping)(e)||"yaxis2"===t&&n.verticalSubplots?.[0]?(0,i.isHierarchyInMapping)(e)&&o.push(e.levelName):o.push(e.caption??e.measureName)})),s[t]={title:{text:o.join(", "),standoff:20}}})),s}},27675:(t,e,s)=>{s.d(e,{M:()=>i});var a=s(63711);const i=(t,e)=>{const s={};return(0,a.U)(t,(({axis:t,subplotKey:a,caption:i})=>{const n={title:i,...e?.fontSize&&{titlefont:{size:e?.fontSize}},...e?.[t]};s[a]=n})),s}},64811:(t,e,s)=>{s.d(e,{w:()=>n});var a=s(95678),i=s(34007);const n=t=>{if(0===t.horizontal.captions.length&&0===t.vertical.captions.length)return{};const e=(0,i.y)(t.vertical),s=(0,i.y)(t.horizontal),n=[];for(let t=0;t<e;t++){const e=[];for(let i=0;i<s;i++){const s=0===i?"x":`x${i+1}`,n=(0,a.D)(t);e.push(`${s}${n}`)}n.push(e)}return{grid:{rows:e,columns:s,subplots:n,pattern:"coupled"}}}},95678:(t,e,s)=>{function a(t){return 0===t?"y":"y"+(2*t+1)}s.d(e,{D:()=>a})},34007:(t,e,s)=>{s.d(e,{y:()=>a});const a=({captions:t,limit:e})=>Math.max(1,Math.min(t.length,e))},18594:(t,e,s)=>{s.d(e,{n:()=>i});const a={showspikes:!0,spikethickness:1,spikemode:"toaxis+across+marker"},i={xaxis:a,yaxis:a}},18665:(t,e,s)=>{s.d(e,{C:()=>n});var a=s(90147),i=s(31529);const n=(t,{axes:e,fontSize:s})=>void 0===s?t:(0,a.produce)(t,(t=>{for(const s of e)s in t||(t[s]={});for(const e in t)e.startsWith("xaxis")||e.startsWith("yaxis")?(0,i.set)(t,[e,"tickfont","size"],s):e.startsWith("polar")&&(0,i.set)(t,[e,"angularaxis","tickfont","size"],s)}))},42795:(t,e,s)=>{s.r(e),s.d(e,{default:()=>b});var a=s(74389),i=s(93345),n=s(47357),o=s(46250),r=s(54809),c=s(80343),u=s(17231),l=s(18594),f=s(64811),p=s(27675),x=s(14763),m=s(53248),d=s(18665),h=s(78351);const k={xaxis:"xValues",yaxis:"yValues"};var y=s(29144);const b=(0,u.withLoadingOverlay)((0,u.withoutIrrelevantRenders)((0,o.c)((0,i.memo)((t=>{const{cube:e,data:s,metaData:o,widgetState:u}=t,{formatMessage:b}=(0,n.useIntl)(),[g]=(0,c.i)("style.members"),v=b({id:"aui.total"}),z=(0,i.useMemo)((()=>(0,y.g)({cube:e,data:s,metaData:o,widgetState:u,captionForTotals:v,userTupleStyles:g})),[e,s,o,u,v,g]),M=(0,i.useMemo)((()=>((t,e)=>{if(!t)return{};let s=(0,h.Z)(l.n,(0,f.w)(t.subplots),(0,p.M)(t.subplots,{fontSize:e?.style?.axisLabelFontSize}),(0,x.U)(e,k),(0,m.F)(e,k,t.subplots));return s=(0,d.C)(s,{axes:["xaxis","yaxis"],fontSize:e?.style?.axisLabelFontSize}),s})(o,u)),[o,u]);return(0,a.Y)(r.Kl,{...t,traces:z,layout:M,cube:e,data:s,metaData:o})})))))},78351:(t,e,s)=>{s.d(e,{Z:()=>n});var a=s(90147),i=s(31529);const n=function(t,...e){return(0,a.produce)(t??{},(t=>{(0,i.defaultsDeep)(t,...e)}))}}}]);