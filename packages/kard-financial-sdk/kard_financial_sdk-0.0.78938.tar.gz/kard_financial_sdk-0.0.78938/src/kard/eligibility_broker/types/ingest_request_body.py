# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
from ...core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from .ingestion_events import IngestionEvents


class IngestRequestBody(UniversalBaseModel):
    """
    Examples
    --------
    import datetime

    from kard.eligibility_broker import (
        IngestionEvents_SegmentUser,
        IngestRequestBody,
        SegmentationIngestionEventAttributes,
    )

    IngestRequestBody(
        data=[
            IngestionEvents_SegmentUser(
                attributes=SegmentationIngestionEventAttributes(
                    user_id="6FHt5b6Fnp0qdomMEy5AN6PXcSJIeX69",
                    issuer_id="00073100",
                    segment_id="5eb2d4a39ce24e00081488c4",
                    status="ACTIVE",
                    event_time=datetime.datetime.fromisoformat(
                        "2021-07-02 17:47:06+00:00",
                    ),
                ),
            )
        ],
    )
    """

    data: typing.List[IngestionEvents] = pydantic.Field()
    """
    Discriminated union representing the request body for submitting an eligibility event.
    Use `type` to distinguish between the two:
    - `segmentUser`: For segmentation events that change eligibility.
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
