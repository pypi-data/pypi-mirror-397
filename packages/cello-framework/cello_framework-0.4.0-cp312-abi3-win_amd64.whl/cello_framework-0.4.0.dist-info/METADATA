Metadata-Version: 2.4
Name: cello-framework
Version: 0.4.0
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Programming Language :: Python :: 3.14
Classifier: Programming Language :: Rust
Classifier: Framework :: AsyncIO
Classifier: Topic :: Internet :: WWW/HTTP :: HTTP Servers
Requires-Dist: pytest>=7.0 ; extra == 'dev'
Requires-Dist: requests>=2.28 ; extra == 'dev'
Requires-Dist: websockets>=11.0 ; extra == 'dev'
Requires-Dist: aiohttp>=3.8 ; extra == 'dev'
Requires-Dist: ruff>=0.1.0 ; extra == 'dev'
Provides-Extra: dev
License-File: LICENSE
Summary: Ultra-fast Rust-powered Python async web framework
Keywords: web,framework,async,rust,fast,http,websocket
Author: Jagadeesh Katla
License: MIT
Requires-Python: >=3.12
Description-Content-Type: text/markdown; charset=UTF-8; variant=GFM
Project-URL: Homepage, https://github.com/jagadeesh32/cello
Project-URL: Repository, https://github.com/jagadeesh32/cello
Project-URL: Documentation, https://github.com/jagadeesh32/cello#readme

<p align="center">
  <img src="docs/assets/cello-logo.png" alt="Cello" width="200" height="200">
</p>

<h1 align="center">Cello</h1>

<p align="center">
  <strong>Ultra-fast Rust-powered Python web framework</strong>
</p>

<p align="center">
  <a href="https://github.com/jagadeesh32/cello/actions/workflows/ci.yml"><img src="https://github.com/jagadeesh32/cello/actions/workflows/ci.yml/badge.svg" alt="CI"></a>
  <a href="https://pypi.org/project/cello-framework/"><img src="https://img.shields.io/pypi/v/cello-framework.svg" alt="PyPI"></a>
  <a href="https://pypi.org/project/cello-framework/"><img src="https://img.shields.io/pypi/pyversions/cello-framework.svg" alt="Python"></a>
  <a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License"></a>
</p>

<p align="center">
  <a href="#-quick-start">Quick Start</a> â€¢
  <a href="#-features">Features</a> â€¢
  <a href="#-examples">Examples</a> â€¢
  <a href="docs/README.md">Documentation</a>
</p>

---

## Why Cello?

Cello is the **fastest Python web framework** â€” combining Python's developer experience with Rust's raw performance. All HTTP handling, routing, JSON serialization, and middleware execute in native Rust. Python handles only your business logic.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Request â†’ Rust HTTP Engine â†’ Python Handler â†’ Rust Response   â”‚
â”‚                  â”‚                    â”‚                         â”‚
â”‚                  â”œâ”€ SIMD JSON         â”œâ”€ Return dict            â”‚
â”‚                  â”œâ”€ Radix routing     â””â”€ Return Response        â”‚
â”‚                  â””â”€ Middleware (Rust)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Installation

```bash
pip install cello-framework
```

**From source:**
```bash
git clone https://github.com/jagadeesh32/cello.git
cd cello
pip install maturin
maturin develop
```

**Requirements:** Python 3.12+

---

## ğŸš€ Quick Start

```python
from cello import App, Response

app = App()

@app.get("/")
def home(request):
    return {"message": "Hello, Cello! ğŸ¸"}

@app.get("/users/{id}")
def get_user(request):
    return {"id": request.params["id"], "name": "John Doe"}

@app.post("/users")
def create_user(request):
    data = request.json()
    return Response.json({"id": 1, **data}, status=201)

if __name__ == "__main__":
    app.run()
```

```bash
python app.py
# ğŸš€ Cello running at http://127.0.0.1:8000
```

---

## âœ¨ Features

### Core Features

| Feature | Description |
|---------|-------------|
| ğŸš€ **Blazing Fast** | Tokio + Hyper async HTTP engine in pure Rust |
| ğŸ“¦ **SIMD JSON** | SIMD-accelerated JSON parsing with `simd-json` |
| ï¿½ï¸ **Radix Routing** | Ultra-fast route matching with `matchit` |
| ğŸ”„ **Async/Sync** | Support for both `async def` and regular `def` handlers |
| ï¿½ğŸ›¡ï¸ **Middleware** | Built-in CORS, logging, compression, rate limiting |
| ï¿½ **Blueprints** | Flask-like route grouping and modular apps |
| ğŸŒ **WebSocket** | Real-time bidirectional communication |
| ğŸ“¡ **SSE** | Server-Sent Events for streaming |
| ğŸ“ **Multipart** | File uploads and form data handling |

### Enterprise Features

| Feature | Description |
|---------|-------------|
| ğŸ” **Authentication** | JWT, Basic Auth, API Key with constant-time validation |
| ğŸ›¡ï¸ **CSRF Protection** | Double-submit cookie and signed token patterns |
| â±ï¸ **Rate Limiting** | Token bucket and sliding window algorithms |
| ğŸª **Sessions** | Secure cookie-based session management |
| ï¿½ **Security Headers** | CSP, HSTS, X-Frame-Options, Referrer-Policy |
| ğŸ­ **Cluster Mode** | Multi-worker process deployment |
| ï¿½ **TLS/SSL** | Native HTTPS with rustls |
| âš¡ **HTTP/2 & HTTP/3** | Modern protocol support including QUIC |
| â° **Timeouts** | Request/response timeout protection |

---

## ï¿½ Examples

### Blueprints (Route Grouping)

```python
from cello import App, Blueprint

# Create versioned API blueprint
api_v1 = Blueprint("/api/v1")

@api_v1.get("/users")
def list_users(request):
    return {"users": [{"id": 1, "name": "Alice"}, {"id": 2, "name": "Bob"}]}

@api_v1.get("/users/{id}")
def get_user(request):
    return {"id": request.params["id"]}

@api_v1.post("/users")
def create_user(request):
    return Response.json(request.json(), status=201)

# Mount blueprint
app = App()
app.register_blueprint(api_v1)
app.run()
```

### Async Handlers

```python
@app.get("/sync")
def sync_handler(request):
    """Sync handler for simple operations"""
    return {"message": "Hello from sync!"}

@app.get("/async")
async def async_handler(request):
    """Async handler for I/O operations"""
    users = await database.fetch_users()
    return {"users": users}

@app.post("/data")
async def process_data(request):
    data = request.json()
    result = await external_api.process(data)
    return {"result": result}
```

### Request Object

```python
@app.post("/example")
def handler(request):
    # Request properties
    request.method              # "GET", "POST", etc.
    request.path                # "/users/123"
    request.params["id"]        # Path parameters
    request.query["search"]     # Query parameters (?search=value)
    request.get_header("Authorization")
    
    # Body parsing
    request.body()              # Raw bytes
    request.text()              # String body
    request.json()              # Parsed JSON dict
    request.form()              # Form data dict
    
    return {"received": True}
```

### Response Types

```python
from cello import Response

# JSON (default - just return a dict)
return {"data": "value"}

# Explicit JSON with status
return Response.json({"created": True}, status=201)

# Text response
return Response.text("Hello, World!")

# HTML response
return Response.html("<h1>Welcome</h1>")

# File download
return Response.file("/path/to/document.pdf")

# Redirect
return Response.redirect("/new-location")

# No content (204)
return Response.no_content()

# Binary data
return Response.binary(image_bytes, content_type="image/png")

# Custom headers
response = Response.json({"ok": True})
response.set_header("X-Custom", "value")
return response
```

### Middleware

```python
app = App()

# CORS - Cross-Origin Resource Sharing
app.enable_cors()
app.enable_cors(origins=["https://example.com", "https://app.example.com"])

# Request logging
app.enable_logging()

# Gzip compression
app.enable_compression()
app.enable_compression(min_size=1024)  # Only compress if > 1KB

# Security headers (CSP, HSTS, X-Frame-Options, etc.)
app.enable_security_headers()

# Rate limiting
app.enable_rate_limit(requests=100, window=60)  # 100 req/min
```

### WebSocket

```python
@app.websocket("/ws/chat")
def chat_handler(ws):
    ws.send_text("Welcome to the chat!")
    
    while True:
        message = ws.recv()
        if message is None:
            break
        
        # Echo back
        ws.send_text(f"You said: {message.text}")
        
        # Or send JSON
        ws.send_json({"type": "message", "content": message.text})
```

### Server-Sent Events (SSE)

```python
from cello import SseEvent, SseStream

@app.get("/events")
def event_stream(request):
    stream = SseStream()
    
    # Simple data
    stream.add_data("Connection established")
    
    # Named events with JSON
    stream.add_event("update", '{"count": 42}')
    stream.add_event("notification", '{"message": "New data available"}')
    
    return stream
```

### JWT Authentication

```python
from cello import App
from cello.middleware import JwtConfig, JwtAuth

# Configure JWT
jwt_config = JwtConfig(secret=b"your-secret-key-min-32-bytes-long")
jwt_auth = JwtAuth(jwt_config).skip_path("/public")

app = App()
app.use(jwt_auth)

@app.get("/protected")
def protected(request):
    claims = request.context.get("jwt_claims")
    return {"user": claims["sub"]}
```

---

## ğŸ› ï¸ CLI & Configuration

```bash
# Development mode (hot reload + debug logs)
python app.py --env development --reload

# Production mode
python app.py --env production --workers 8 --port 8080 --no-logs
```

| Argument | Default | Description |
|----------|---------|-------------|
| `--host` | 127.0.0.1 | Host to bind to |
| `--port` | 8000 | Port to bind to |
| `--env` | development | Environment mode |
| `--reload` | False | Hot reload on file changes |
| `--workers` | CPU count | Number of worker threads |
| `--debug` | Auto | Enable debug logging |
| `--no-logs` | False | Disable request logging |

```python
# Programmatic configuration
app.run(
    host="0.0.0.0",
    port=8080,
    env="production",
    workers=4
)
```

---

## ğŸ—ï¸ Tech Stack

| Component | Technology |
|-----------|------------|
| **Runtime** | Tokio (async Rust) |
| **HTTP Server** | Hyper 1.x |
| **JSON** | simd-json + serde |
| **Routing** | matchit (radix tree) |
| **Python Bindings** | PyO3 |
| **TLS/SSL** | rustls |
| **HTTP/2** | h2 |
| **HTTP/3** | quinn (QUIC) |
| **Compression** | flate2 (gzip) |
| **JWT** | jsonwebtoken |
| **Concurrent Maps** | dashmap |
| **Security** | subtle (constant-time ops) |

---

## ğŸ”’ Security

Cello is built with security as a priority:

- âœ… **Constant-time comparison** for passwords, API keys, and tokens
- âœ… **CSRF protection** with double-submit cookies and signed tokens
- âœ… **Security headers** (CSP, HSTS, X-Frame-Options, Referrer-Policy)
- âœ… **Rate limiting** to prevent abuse
- âœ… **Session security** (Secure, HttpOnly, SameSite cookies)
- âœ… **Path traversal protection** in static file serving
- âœ… **JWT blacklisting** for token revocation

---

## ğŸ“Š Benchmarks

Cello is designed to be the fastest Python web framework:

- **Zero-copy** request parsing
- **SIMD-accelerated** JSON
- **Arena allocation** for memory efficiency
- **Lock-free** concurrent data structures
- **Native Rust** HTTP handling

*Benchmark results coming soon*

---

## ğŸ› ï¸ Development

```bash
# Setup
git clone https://github.com/jagadeesh32/cello.git
cd cello
python -m venv .venv
source .venv/bin/activate
pip install maturin pytest requests

# Build
maturin develop

# Test
pytest tests/ -v

# Lint
cargo clippy
cargo fmt
```

---

## ğŸ“š Documentation

- ğŸ“– [Getting Started](docs/getting-started.md)
- ğŸ”§ [Configuration](docs/configuration.md)
- ğŸ›¡ï¸ [Security Guide](docs/security.md)
- ğŸ“¡ [WebSocket Guide](docs/websocket.md)
- ğŸ­ [Deployment](docs/deployment.md)

Full documentation: [docs/README.md](docs/README.md)

---

## ğŸ¤ Contributing

Contributions are welcome! Please see [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

---

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE)

---

## ğŸ‘¤ Author

**Jagadeesh Katla**

- GitHub: [@jagadeesh32](https://github.com/jagadeesh32)

---

<p align="center">
  Made with â¤ï¸ and ğŸ¦€
</p>

