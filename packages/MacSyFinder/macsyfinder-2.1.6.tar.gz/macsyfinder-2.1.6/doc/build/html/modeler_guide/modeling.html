

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Macromolecular models &mdash; MacSyFinder 2.1.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../_static/_css/custom.css?v=b89f2dfc" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=4f932e3e"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Helper Tool" href="helper_tools.html" />
    <link rel="prev" title="Models Package" href="package.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MacSyFinder
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">User Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Modeller Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#modelling-systems-with-macsyfinder">Modelling Systems with MacSyFinder</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="package.html">Models Package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Macromolecular models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#principles-and-how-to-write-macsy-models-definitions">Principles, and how to write macsy-models definitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="helper_tools.html">Helper Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="publish_package.html">Publishing/sharing models</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallery.html">Gallery of examples of MacSyFinder’s models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#carrying-models-from-v1-to-v2">Carrying models from v1 to v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#frequently-asked-questions">Frequently Asked Questions</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html">Developer Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MacSyFinder</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Modeller Guide</a></li>
      <li class="breadcrumb-item active">Macromolecular models</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="macromolecular-models">
<span id="modeling"></span><h1>Macromolecular models<a class="headerlink" href="#macromolecular-models" title="Link to this heading"></a></h1>
<p>MacSyFinder relies on the definition of models of macromolecular systems as a <strong>set of models’ components</strong>
to be searched by similarity search, and a <strong>set of rules</strong> regarding their genomic organization and
their requirement level to make a complete system (mandatory, accessory components, number of components required).</p>
<p>See <a class="reference internal" href="#model-definition-grammar-label"><span class="std std-ref">below</span></a> for more details on MacSyFinder’s modelling scheme and the section
on <a class="reference internal" href="../user_guide/functioning.html#functioning"><span class="std std-ref">Functioning</span></a> for the principles of the MacSyFinder’s search engine.</p>
<p>A <strong>MacSyFinder model</strong> (macsy-model for short) is the association of several elements:</p>
<blockquote>
<div><ul class="simple">
<li><p>a <strong>definition</strong> which describes the system to detect with a specific <strong>XML grammar</strong>
that is described <a class="reference internal" href="#model-definition-grammar-label"><span class="std std-ref">below</span></a>.</p></li>
<li><p>a set of <a class="reference internal" href="#provide-hmm-label"><span class="std std-ref">HMM profiles</span></a>  (one per component/gene in the model) to enable
the similarity search of the systems’ components with the HMMER program.</p></li>
</ul>
</div></blockquote>
<p>The models are grouped by <em>family</em> possibly gathering <em>sub-families</em> (multiple levels allowed), for instance <em>Secretion</em>, <em>Cas-proteins</em>…
A set of models from a same family (coherent set) of systems to detect is called hereafter a <strong>macsy-model package</strong> <code class="docutils literal notranslate"><span class="pre">NEW</span> <span class="pre">in</span> <span class="pre">V2</span></code>.</p>
<section id="principles-and-how-to-write-macsy-models-definitions">
<span id="writing-models"></span><h2>Principles, and how to write macsy-models definitions<a class="headerlink" href="#principles-and-how-to-write-macsy-models-definitions" title="Link to this heading"></a></h2>
<p>Macsy-models are written as XML files, and should be named with the name of the system to detect as a prefix,
and the XML file extension as a suffix. For example, ‘T1SS.xml’ for T1SS (Type I Secretion System).</p>
<p>A macsy-model defines a macromolecular System as:</p>
<ul class="simple">
<li><p>A set of <strong>components</strong> (<em>i.e.</em> proteins, or protein-coding genes given the context) with different attributes that are used for system’s <strong>content description</strong>.</p></li>
<li><p>Features regarding the <strong>genomic architecture</strong> of the systems’ components for system detection.</p></li>
<li><p>Rules for <strong>quorum</strong> specifying how many components are required to infer the presence of a complete system.</p></li>
</ul>
<section id="macsy-model-components">
<span id="components"></span><h3>Macsy-model Components<a class="headerlink" href="#macsy-model-components" title="Link to this heading"></a></h3>
<p>Four distinct <strong>types of components</strong> can be used to model the System’s content.
Components correspond to Gene objects in MacSyFinder’s implementation, and point to corresponding HMM protein profiles.</p>
<ul class="simple">
<li><p><strong>mandatory</strong> components represent components that are essential to be found to infer the system’s presence.</p></li>
<li><p><strong>accessory</strong> components correspond to components that can be found in some systems’ occurrence
(or quickly evolving components that are hard to detect with a single HMM profile and thus can be missed along similarity search).</p></li>
<li><p><strong>neutral</strong> components are used to build/extend clusters of proximal genes/components on the replicon analysed,
but are not part of the quorum (i.e., not taken into account to assess the system’s presence). <code class="docutils literal notranslate"><span class="pre">NEW</span> <span class="pre">in</span> <span class="pre">V2</span></code></p></li>
<li><p><strong>forbidden</strong> components are components which presence is eliminatory for the system’s presence assessment.</p></li>
</ul>
</section>
<section id="specifying-a-genomic-organization">
<span id="model-definition-genomic-orga"></span><h3>Specifying a genomic organization<a class="headerlink" href="#specifying-a-genomic-organization" title="Link to this heading"></a></h3>
<p>Beyond its list of Components, a MacSyFinder’s model of a System is defined by the genomic organization of its components.
This genomic organization can be defined in several ways:</p>
<ul>
<li><p>the general System’s architecture, whether it is <cite>single-locus</cite> or <cite>multi-loci</cite> (encoded at one or several loci)</p></li>
<li><p>the co-localization criteria defined either at the System level or at the Gene (component) level:</p>
<blockquote>
<div><ul class="simple">
<li><p>the <cite>inter-gene-max-space</cite> parameter (system- or gene- wise)</p></li>
<li><p>the <cite>loner</cite> parameter (gene- wise)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>See <a class="reference internal" href="#model-definition-grammar-label"><span class="std std-ref">below</span></a> for more details on how to specify these parameters in a macsy-model.</p>
</section>
<section id="the-xml-hierarchy">
<span id="model-definition-grammar-label"></span><h3>The XML hierarchy<a class="headerlink" href="#the-xml-hierarchy" title="Link to this heading"></a></h3>
<p>A System’s model is defined using a specific XML grammar that is hereby described.
It consists in a hierarchic view of a Model that has specific features described through parameters,
and is made of a set of Genes that have specific features themselves.
All these elements and corresponding parameters will parametrize the search of Systems matching the search by MacSyFinder,
in terms of Gene content and genomic architecture criteria.</p>
<a class="reference internal image-reference" href="../_images/MSF_modelling.svg"><img alt="../_images/MSF_modelling.svg" class="align-left" src="../_images/MSF_modelling.svg" style="height: 1000px;" />
</a>
<ul>
<li><p>The element root of a System’s model is “model”.</p>
<ul>
<li><p>It has a mandatory attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>inter_gene_max_space</em>: an integer representing the maximal number of components
without a match between two components with a match for a component profile in order to consider them contiguous (part of a same <em>Cluster</em>).</p></li>
<li><p><em>vers</em>: The version of the XML grammar (the current version is “2.1”, supported version: “2.0”, “2.1”)</p></li>
</ul>
</div></blockquote>
</li>
<li><p>The element “model” may have attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>min_mandatory_genes_required</strong>: an <em>integer</em> representing the minimal number of mandatory genes required
to infer the system’s presence.</p></li>
<li><p><strong>min_genes_required</strong>: an <em>integer</em> representing the minimal number of mandatory or accessory genes
(whose corresponding proteins match a profile of the model) required to infer the system’s presence.</p></li>
<li><p><strong>multi_loci</strong>: a <em>boolean</em> set to ‘true’ (<code class="docutils literal notranslate"><span class="pre">boolean</span> <span class="pre">values</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">in</span> <span class="pre">lower</span> <span class="pre">case.</span>
<span class="pre">'True'</span> <span class="pre">and</span> <span class="pre">'False'</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">allowed</span> <span class="pre">in</span> <span class="pre">grammar</span> <span class="pre">vers=2.1</span></code>) to allow the definition of “scattered” systems
(i.e., systems encoded at different genomic loci or by different gene <em>clusters</em>).
If not specified, <em>default value is false</em>.</p></li>
<li><p><strong>max_nb_genes</strong> define how many genes is necessary to consider a system as full.
By default it is the sum of mandatory and accessory genes.
But sometimes in special cases, there is 2 profiles, so 2 <em>msf</em> genes in model for one real gene.
So in system only one gene can be detected and the wholeness is false.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>The model contains one or more element(s) “gene” that correspond(s) to the genetic components of the macromolecular system.</p></li>
</ul>
</li>
<li><p>The element “gene” has several mandatory attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>name</strong>: a <em>string</em> representing the name of the component/gene which must match that of a profile enclosed in the profile directory of
the macsy-model package (see <a class="reference internal" href="#provide-hmm-label"><span class="std std-ref">below</span></a>). <code class="docutils literal notranslate"><span class="pre">It's</span> <span class="pre">not</span> <span class="pre">allowed</span> <span class="pre">to</span> <span class="pre">have</span> <span class="pre">several</span> <span class="pre">gene</span> <span class="pre">element</span> <span class="pre">at</span> <span class="pre">the</span> <span class="pre">model</span> <span class="pre">level</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">attribute</span> <span class="pre">name.</span></code></p></li>
<li><p><strong>presence</strong>: a <em>string</em> representing the status of the gene’s presence in the system.
It can take four values among “mandatory”, “accessory”, “neutral”, “forbidden” (see above).</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><p>The element “gene” may have other attributes:</p>
<blockquote>
<div><ul>
<li><p><strong>loner</strong>: a <em>boolean</em>. A <em>loner</em> gene can be isolated on the genome and does not have to be part of a cluster of genes to be considered for system’s assessment ( <em>default false</em> ).</p>
<figure class="align-left" id="id1">
<a class="reference internal image-reference" href="../_images/loner.svg"><img alt="../_images/loner.svg" src="../_images/loner.svg" style="height: 1500px;" />
</a>
<figcaption>
<p><span class="caption-text">How <em>loner</em> works.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
<div class="legend">
<p><strong>A</strong>) The <em>cluster 1</em> can be filled up with the loner <em>D50</em> to reach the quorum defined in <em>model A</em> and form a system occurrence.
<strong>B</strong>) There are 2 clusters and 2 loners (D50 and D60) and <em>msf</em> cannot assign which loner goes to which cluster. So <em>msf</em> picks the best loner (based on score) and sets the others as “counterpart”. 2 system occurrences are created whith the best loner. The user has to choose which loner hit can be assigned to which cluster. All loners found in the best solution are reported in <em>best_solution_loners.tsv</em> file.
<strong>C</strong>) There are 2 clusters but only 1 loner. <em>msf</em> cannot decide to which cluster assign the loner. So the 2 system occurrences are proposed to the user in the output and a warning is raised to indicate the user should pick one.
<strong>D</strong>) There are 2 clusters with one loner, but this loner is also <em>multi_system</em>. So the 2 clusters can be filled up with the loner.</p>
</div>
</figcaption>
</figure>
</li>
<li><p><strong>multi_system</strong>: a <em>boolean</em>. If a gene has the feature “multi_system” (value set to “true”),
it means that it can be used to fill multiple system occurrences (from a same model) -
and thus be considered as part of several systems ( <em>default false</em> ).</p>
<figure class="align-left" id="id2">
<a class="reference internal image-reference" href="../_images/multi_system.svg"><img alt="../_images/multi_system.svg" src="../_images/multi_system.svg" style="height: 1200px;" />
</a>
<figcaption>
<p><span class="caption-text">How <em>multi_system</em> works.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
<div class="legend">
<p><strong>A</strong>) The hit encoding for gene D in position 13 belongs to the system 1 (encoding model A). So it is used to fill up some other cluster, for instance cluster 2, which lacks this functionality. The cluster 2 then also fulfil the requirement of a system.
<strong>B</strong>) The hit encoding for gene D in position 13 does not belong to a system. It cannot be used to fill up other clusters. In this example there is no system that satisfies the rules of model A.
<strong>C</strong>) The gene D is present in the definition of model A and B. The hit encoding for gene D in position 13 belongs to the system 1 (encoding model A). It cannot be used to fill up the cluster 2 which codes for model B.</p>
</div>
</figcaption>
</figure>
</li>
</ul>
</div></blockquote>
</div></blockquote>
<blockquote id="multi-model-label">
<div><ul>
<li><p><strong>multi_model</strong>: a <em>boolean</em>. If a gene has the feature “multi_model” (value set to “true”),
it means that two systems from different models can coexist in the best solution (they are said “compatible”) even if they share a component.
The gene must be tagged as multi_model in both model definitions.</p>
<figure class="align-left" id="id3">
<a class="reference internal image-reference" href="../_images/multi_model.svg"><img alt="../_images/multi_model.svg" src="../_images/multi_model.svg" style="height: 1000px;" />
</a>
<figcaption>
<p><span class="caption-text">How <em>multi_model</em> works.</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
<div class="legend">
<p>The hit encoding for gene D in position 13 is part of 2 systems: one for Model A, one for Model B.
<strong>A</strong>) In both model definitions the gene D is tagged as multi_model. So the 2 systems can coexist in a same solution (they are “compatible”).
<strong>B</strong>) The gene D is tagged as multi_model <strong>only</strong> in model A definition. The 2 systems are not compatible. So <em>msf</em> build 2 solutions and choose the best one.
It has to be noted that this behaviour would actually be the same if gene D was not declared multi_model in either definitions.</p>
</div>
</figcaption>
</figure>
</li>
<li><p><strong>inter_gene_max_space</strong>: an <em>integer</em> that defines gene-wise value of system’s “inter_gene_max_space” parameter (see above).
It supersedes the system-wise parameter to give the gene a specific co-localization parameter.</p></li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It not allowd to hav several element gene with th</p>
</div>
<p id="exchangeables-label">The element “gene” may have one “exchangeables” child element:</p>
<blockquote>
<div><ul class="simple">
<li><p>The element “exchangeables” can contain one or more elements “gene”.</p></li>
</ul>
</div></blockquote>
<p>For a Gene to have “exchangeables” Genes listed, means that this Gene can be replaced <em>in the quorum</em> by the listed child Genes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the attributes <em>inter_gene_max_space</em>, <em>loner</em>, <em>multi_model</em>, <em>multi_system</em> are not specified for the exchangeable genes,
then they inherit the values from the reference gene. Below some examples of attributes inheritance.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;A&quot;</span><span class="w"> </span><span class="na">presence=</span><span class="s">&quot;mandatory&quot;</span><span class="w"> </span><span class="na">multi_model=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;exchangeables&gt;</span>
<span class="w">        </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;B&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/exchangeables&gt;</span>
<span class="nt">&lt;/gene&gt;</span>
</pre></div>
</div>
<p>In the snippet code above, the genes A/B/C are <em>multi_model</em> but not <em>loner</em> or <em>multi_system</em>.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;A&quot;</span><span class="w"> </span><span class="na">presence=</span><span class="s">&quot;mandatory&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;exchangeables&gt;</span>
<span class="w">        </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;B&quot;</span><span class="w"> </span><span class="na">multi_model=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/exchangeables&gt;</span>
<span class="nt">&lt;/gene&gt;</span>
</pre></div>
</div>
<p>In the snippet code above, The gene B is <em>multi_model</em> but not A and C.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;A&quot;</span><span class="w"> </span><span class="na">presence=</span><span class="s">&quot;mandatory&quot;</span><span class="w"> </span><span class="na">loner=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="na">multi_system=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;exchangeables&gt;</span>
<span class="w">        </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;B&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="na">multi_system=</span><span class="s">&quot;False&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/exchangeables&gt;</span>
<span class="nt">&lt;/gene&gt;</span>
</pre></div>
</div>
<p>In the snippet code above,</p>
<blockquote>
<div><ul class="simple">
<li><p>The genes A/B/C are <em>loner</em></p></li>
<li><p>The genes A and B are <em>multi_system</em>, but <strong>not</strong> C.</p></li>
</ul>
</div></blockquote>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;A&quot;</span><span class="w"> </span><span class="na">presence=</span><span class="s">&quot;mandatory&quot;</span><span class="w"> </span><span class="na">inter_gene_max_space=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;exchangeables&gt;</span>
<span class="w">        </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;B&quot;</span><span class="w"> </span><span class="na">inter_gene_max_space=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/exchangeables&gt;</span>
<span class="nt">&lt;/gene&gt;</span>
</pre></div>
</div>
<p>In the snippet code above, The genes A and C have an <em>inter_gene_max_space = 10</em>
whereas its value is <em>5</em> for the gene B .</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <em>presence</em> attribute is inevitably the same for the exchangeable genes than the reference gene.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If not specified by the user, several features will have their values assigned <strong>by default</strong>:</p>
<ul class="simple">
<li><p>the <strong>genomic architecture</strong> of the System being searched will consist in a <strong>single locus</strong>.
If a System may be made of Genes from multiple loci, consider setting the <cite>multi_loci</cite> parameter to <cite>true</cite>.</p></li>
<li><p>the <strong>quorum parameters</strong> <cite>min_mandatory_genes_required</cite> and <cite>min_genes_required</cite> will be set to
the number of mandatory Genes listed - the <cite>accessory</cite> Genes being deemed not required to infer a complete System.</p></li>
</ul>
</div>
<p>Example of a macsy-model definition in XML (more examples in our <a class="reference internal" href="gallery.html#gallery-models"><span class="std std-ref">gallery of examples</span></a>):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;model</span><span class="w"> </span><span class="na">inter_gene_max_space=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">vers=</span><span class="s">&quot;2.0&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;gspD&quot;</span><span class="w"> </span><span class="na">presence=</span><span class="s">&quot;mandatory&quot;</span><span class="nt">&gt;</span>
<span class="w">     </span><span class="nt">&lt;exchangeables&gt;</span>
<span class="w">         </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sctC&quot;</span><span class="nt">/&gt;</span>
<span class="w">     </span><span class="nt">&lt;/exchangeables&gt;</span>
<span class="w">  </span><span class="nt">&lt;/gene&gt;</span>
<span class="w">  </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sctN_FLG&quot;</span><span class="w"> </span><span class="na">presence=</span><span class="s">&quot;mandatory&quot;</span><span class="w"> </span><span class="na">loner=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
<span class="w">     </span><span class="nt">&lt;exchangeables&gt;</span>
<span class="w">         </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;gspE&quot;</span><span class="nt">/&gt;</span>
<span class="w">         </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;pilT&quot;</span><span class="nt">/&gt;</span>
<span class="w">     </span><span class="nt">&lt;/exchangeables&gt;</span>
<span class="w">  </span><span class="nt">&lt;/gene&gt;</span>
<span class="w">  </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sctV_FLG&quot;</span><span class="w"> </span><span class="na">presence=</span><span class="s">&quot;mandatory&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;gene</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;flp&quot;</span><span class="w"> </span><span class="na">presence=</span><span class="s">&quot;accessory&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/model&gt;</span>
</pre></div>
</div>
<p>In this example, the described System consists of three mandatory and one accessory components:</p>
<blockquote>
<div><ul class="simple">
<li><p>Two components, the Gene “GspD” and the Gene “sctN_FLG” can respectively be replaced by sctC,
and gspE and pilT genes in the quorum.</p></li>
<li><p>To be considered as part of such System, the components should be co-localized in loci (Clusters of Genes),
which in this case would amount to being located from each other at a distance of 5-Genes maximum,
except for the Gene “sctN_FLG” that is allowed to be located “alone” in the genome being investigated,
by a <cite>loner</cite> parameter being set to ‘true’. As the <cite>multi_loci</cite> parameter is not set,
by default the System should be made of a single locus (Cluster of co-localized Genes -
except for the ones listed as <cite>loners</cite>).</p></li>
<li><p>To be considered a complete System, the quorum of Genes should be reached.
In this case, the <cite>min_genes_required</cite> and <cite>min_mandatory_genes_required</cite>
are not specified and therefore assigned to their default values: <cite>min_mandatory_genes_required</cite>
is set to the number of mandatory Genes listed as well as the <cite>min_genes_required</cite> parameter (see above).</p></li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul class="simple">
<li><p>a gene is identified by its name.</p></li>
<li><p>this name is case sensitive.</p></li>
<li><p>this name must be unique inside a family of models.</p></li>
<li><p>a HMM profile with a gene-based name must exist in the <cite>profiles</cite> directory of the macsy-model package
(see <a class="reference internal" href="#provide-hmm-label"><span class="std std-ref">below</span></a>).</p></li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>From MacSyLib &gt;= 1.0.4 “True” or “False” then MacSyFnder &gt;= 2.1.6 are not any longer supported as valid boolean values.
Use the lower case notation “true” or “false” for boolean attributes as
<cite>multi_loci</cite>, <cite>loner</cite>, <cite>multi_models</cite>, <cite>multi_systems</cite>, …</p>
</div>
</section>
<section id="providing-hmm-profiles">
<span id="provide-hmm-label"></span><h3>Providing HMM profiles<a class="headerlink" href="#providing-hmm-profiles" title="Link to this heading"></a></h3>
<p>For each gene mentioned in each model you have to provide <strong>a HMM profile</strong>
to enable the similarity search of this gene. The HMM profile must have been created by the user from
a curated multiple sequence alignment with the <cite>hmmbuild</cite> program
from the <a class="reference external" href="http://hmmer.org/">HMMER package</a>, or can have been obtained from HMM profiles’ databases
such as <a class="reference external" href="https://dx.doi.org/10.1093%2Fnar%2Fgkg128">TIGRFAM</a> or <a class="reference external" href="https://pfam.xfam.org/">PFAM</a> .</p>
<p>This profile <em>MUST</em> have the same name as the name of the gene mentioned in the definition.
For instance, a component named “GeneA” in the macsy-model would correspond by default to a HMM profile “GeneA.hmm” enclosed in the macsy-model package.
The names are <strong>case-sensitive</strong>. All HMM profiles must be placed in the <cite>profiles</cite> directory of the macsy-model package.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul class="simple">
<li><p>MacSyFinder does not support several profiles per file. Each hmm file <strong>must</strong> contains only one profile.</p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a detailed tutorial on how to define your macsy-model’s features, parameters and HMM profiles,
you can have a look at our cookbook in <a class="reference external" href="https://link.springer.com/protocol/10.1007/978-1-4939-7033-9_1">this book chapter</a> .</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="package.html" class="btn btn-neutral float-left" title="Models Package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="helper_tools.html" class="btn btn-neutral float-right" title="Helper Tool" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014-2025, &#39;Institut Pasteur (Paris), CNRS&#39;.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  

<div class="licensing">
  <p>
    This documentation is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License
      <img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">.
    </a>
  </p>
</div>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

<a class="github" href="https://github.com/gem-pasteur/macsyfinder">
    <img style="position: absolute; top: 0; right: 0; border: 0;"
         src="https://raw.githubusercontent.com/gem-pasteur/macsyfinder/refs/heads/main/doc/source/_static/github-banner.svg"
         alt="Fork me on GitHub" />
</a>



</body>
</html>