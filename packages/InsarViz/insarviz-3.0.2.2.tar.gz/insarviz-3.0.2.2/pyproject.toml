[project]
name = "InsarViz"
description = "Python package for analysis of (InSar) data cubes"

dynamic = ["version"]

authors = [
    { name = "Marc Coiffier", email = "marc.coiffier@univ-grenoble-alpes.fr" },
    { name = "Colin Thomas", email = "colin.thomas1@univ-grenoble-alpes.fr" },
    { name = "Margaux MouchenÃ©", email = "margaux.mouchene@univ-grenoble-alpes.fr" },
    { name = "Renaud Blanch", email = "renaud.blanch@univ-grenoble-alpes.fr" },
    { name = "Erwan Pathier", email = "erwan.pathier@univ-grenoble-alpes.fr" },
    { name = "Franck Thollard", email = "franck.thollard@univ-grenoble-alpes.fr" },
]

dependencies = [
    "PyOpenGL>=3.1.6",
    "PySide6>=6.8,<=6.8.1",
    "pyqtgraph==0.13.7",
    "rasterio>=1.3.10",
    "owslib>=0.31",
    "xyzservices>=2024.9.0",
    "qasync>=0.27.1",
    "aiohttp>=3.11.9",
    "platformdirs"
]

requires-python = ">=3.12"
readme = "README.rst"
license = {text = "GPLv3"}
classifiers=[
    'Programming Language :: Python :: 3 :: Only',
    'License :: OSI Approved :: GNU General Public License v3 (GPLv3)',
    'Intended Audience :: Science/Research',
    'Topic :: Scientific/Engineering :: Visualization'
]

[project.urls]
Homepage = "https://gricad-gitlab.univ-grenoble-alpes.fr/deformvis/insarviz"

[project.scripts]
ts_viz_legacy = "insarviz_old.ts_viz:main"
ts_viz = "insarviz:main"
insarviz = "insarviz:main"

[build-system]
requires = ["setuptools", "setuptools-scm"]
build-backend = "setuptools.build_meta"

[tool.setuptools.packages.find]
where = ["."]

[tool.setuptools.package-data]
"icons" = ["*.png", "alt/*.png"]
"insarviz" = ["icons/*.png"]

[tool.setuptools_scm]
version_file = "insarviz/version.py"

# Old configuration for PDM
# [tool.pdm]
# distribution = true

# [tool.pdm.version]
# source = "file"
# path = "insarviz/version.py"

# [tool.pdm.dev-dependencies]
# dev = [
#     "mypy>=1.10.1",
#     "pytest>=8.3",
# ]

[tool.mypy]
exclude = ['build/']

[[tool.mypy.overrides]]
module = [
    'OpenGL.*',
    'rasterio.*',
    'pyqtgraph.*',
]
ignore_missing_imports = true