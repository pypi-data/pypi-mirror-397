"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["54447"],{69273:function(e,t,a){a.r(t),a.d(t,{HaQrCode:function(){return g}});var i,r,n,o=a(62020),s=a(31802),c=a(21101),h=a(23180),d=a(87426),l=(a(38606),a(80178),a(65315),a(37089),a(65152),a(45519),a(69868)),_=a(84922),u=a(11991),p=a(11936),v=(a(94124),a(83510)),f=e=>e,g=function(e){function t(){var e;(0,o.A)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=(0,c.A)(this,t,[].concat(i))).errorCorrectionLevel="medium",e.width=4,e.scale=4,e.margin=4,e}return(0,h.A)(t,e),(0,s.A)(t,[{key:"willUpdate",value:function(e){(0,d.A)(t,"willUpdate",this,3)([e]),(e.has("data")||e.has("scale")||e.has("width")||e.has("margin")||e.has("maskPattern")||e.has("errorCorrectionLevel"))&&this._error&&(this._error=void 0)}},{key:"updated",value:function(e){var t=this._canvas;if(t&&this.data&&(e.has("data")||e.has("scale")||e.has("width")||e.has("margin")||e.has("maskPattern")||e.has("errorCorrectionLevel")||e.has("centerImage"))){var a=getComputedStyle(this),i=a.getPropertyValue("--rgb-primary-text-color"),r=a.getPropertyValue("--rgb-card-background-color"),n=(0,v.v2)(i.split(",").map(e=>parseInt(e,10))),o=(0,v.v2)(r.split(",").map(e=>parseInt(e,10)));if(p.toCanvas(t,this.data,{errorCorrectionLevel:this.errorCorrectionLevel||(this.centerImage?"Q":"M"),width:this.width,scale:this.scale,margin:this.margin,maskPattern:this.maskPattern,color:{light:o,dark:n}}).catch(e=>{this._error=e.message}),this.centerImage){var s=this._canvas.getContext("2d"),c=new Image;c.src=this.centerImage,c.onload=()=>{null==s||s.drawImage(c,.375*t.width,.375*t.height,t.width/4,t.height/4)}}}}},{key:"render",value:function(){return this.data?this._error?(0,_.qy)(i||(i=f`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):(0,_.qy)(r||(r=f`<canvas></canvas>`)):_.s6}}])}(_.WF);g.styles=(0,_.AH)(n||(n=f`:host{display:block}`)),(0,l.__decorate)([(0,u.MZ)()],g.prototype,"data",void 0),(0,l.__decorate)([(0,u.MZ)({attribute:"error-correction-level"})],g.prototype,"errorCorrectionLevel",void 0),(0,l.__decorate)([(0,u.MZ)({type:Number})],g.prototype,"width",void 0),(0,l.__decorate)([(0,u.MZ)({type:Number})],g.prototype,"scale",void 0),(0,l.__decorate)([(0,u.MZ)({type:Number})],g.prototype,"margin",void 0),(0,l.__decorate)([(0,u.MZ)({attribute:!1,type:Number})],g.prototype,"maskPattern",void 0),(0,l.__decorate)([(0,u.MZ)({attribute:"center-image"})],g.prototype,"centerImage",void 0),(0,l.__decorate)([(0,u.wk)()],g.prototype,"_error",void 0),(0,l.__decorate)([(0,u.P)("canvas")],g.prototype,"_canvas",void 0),g=(0,l.__decorate)([(0,u.EM)("ha-qr-code")],g)},61714:function(e,t,a){a.a(e,async function(e,i){try{a.r(t);var r=a(98735),n=a(88486),o=a(62020),s=a(31802),c=a(21101),h=a(23180),d=(a(80178),a(65315),a(37089),a(45519),a(47849),a(69868)),l=a(84922),_=a(11991),u=a(44017),p=a(68940),v=(a(14532),a(77510),a(69273),a(96635)),f=a(91521),g=a(15241),m=a(50809),b=e([v]);v=(b.then?(await b)():b)[0];var y,k,w,A,x,D=e=>e,M=function(e){function t(){return(0,o.A)(this,t),(0,c.A)(this,t,arguments)}return(0,h.A)(t,e),(0,s.A)(t,[{key:"showDialog",value:(d=(0,n.A)((0,r.A)().m(function e(t){return(0,r.A)().w(function(e){for(;;)switch(e.n){case 0:this.device_id=t.device_id,this._fetchNodeDetails();case 1:return e.a(2)}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"render",value:function(){return this.device_id?(0,l.qy)(y||(y=D` <ha-dialog open hideActions @closed="${0}" .heading="${0}"> <p> ${0} </p> ${0} </ha-dialog> `),this.closeDialog,(0,p.l)(this.hass,this.hass.localize("ui.panel.config.matter.manage_fabrics.title")),this.hass.localize("ui.panel.config.matter.manage_fabrics.fabrics"),this._nodeDiagnostics?(0,l.qy)(k||(k=D`<ha-list> ${0} </ha-list>`),this._nodeDiagnostics.active_fabrics.map(e=>(0,l.qy)(w||(w=D`<ha-list-item noninteractive .hasMeta="${0}">${0} <ha-icon-button @click="${0}" slot="meta" .fabric="${0}" .path="${0}"></ha-icon-button> </ha-list-item>`),this._nodeDiagnostics.available&&e.fabric_index!==this._nodeDiagnostics.active_fabric_index,e.vendor_name||e.fabric_label||e.vendor_id,this._removeFabric,e,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"))):(0,l.qy)(A||(A=D`<div class="center"> <ha-spinner></ha-spinner> </div>`))):l.s6}},{key:"_fetchNodeDetails",value:(i=(0,n.A)((0,r.A)().m(function e(){return(0,r.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.device_id){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,(0,f.eB)(this.hass,this.device_id);case 2:this._nodeDiagnostics=e.v,e.n=4;break;case 3:e.p=3,e.v,this._nodeDiagnostics=void 0;case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return i.apply(this,arguments)})},{key:"_removeFabric",value:(a=(0,n.A)((0,r.A)().m(function e(t){var a,i;return(0,r.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a=t.target.fabric,this._nodeDiagnostics.active_fabric_index!==a.fabric_index){e.n=1;break}return e.a(2);case 1:return i=a.vendor_name||a.fabric_label||a.vendor_id.toString(),e.n=2,(0,g.dk)(this,{title:this.hass.localize("ui.panel.config.matter.manage_fabrics.remove_fabric_confirm_header",{fabric:i}),text:this.hass.localize("ui.panel.config.matter.manage_fabrics.remove_fabric_confirm_text",{fabric:i}),warning:!0});case 2:if(e.v){e.n=3;break}return e.a(2);case 3:return e.p=3,e.n=4,(0,f.vX)(this.hass,this.device_id,a.fabric_index);case 4:this._fetchNodeDetails(),e.n=6;break;case 5:e.p=5,e.v,(0,g.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.matter.manage_fabrics.remove_fabric_failed_header",{fabric:i}),text:this.hass.localize("ui.panel.config.matter.manage_fabrics.remove_fabric_failed_text")});case 6:return e.a(2)}},e,this,[[3,5]])})),function(e){return a.apply(this,arguments)})},{key:"closeDialog",value:function(){this.device_id=void 0,this._nodeDiagnostics=void 0,(0,u.r)(this,"dialog-closed",{dialog:this.localName})}}],[{key:"styles",get:function(){return[m.nA,(0,l.AH)(x||(x=D`ha-dialog{--dialog-content-padding:0;--mdc-list-side-padding:24px;--mdc-list-side-padding-right:16px;--mdc-list-item-meta-size:48px}p{margin:8px 24px}.center{display:flex;align-items:center;justify-content:center}`))]}}]);var a,i,d}(l.WF);(0,d.__decorate)([(0,_.MZ)({attribute:!1})],M.prototype,"hass",void 0),(0,d.__decorate)([(0,_.wk)()],M.prototype,"device_id",void 0),(0,d.__decorate)([(0,_.wk)()],M.prototype,"_nodeDiagnostics",void 0),M=(0,d.__decorate)([(0,_.EM)("dialog-matter-manage-fabrics")],M),i()}catch(C){i(C)}})}}]);
//# sourceMappingURL=54447.57f10405dd55e0c0.js.map