"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["65870"],{80892:function(e,t,r){r.a(e,async function(e,t){try{var a=r(98735),o=r(88486),n=r(62020),s=r(31802),i=r(97750),l=r(21101),c=r(23180),d=(r(38606),r(69868)),u=r(84922),h=r(11991),p=r(44017),_=r(41042),y=(r(94124),r(70490),r(80287),r(50809)),f=r(50991),v=r(6033),g=e([_]);_=(g.then?(await g)():g)[0];var w,m,k,b,P=e=>e,$=function(e){function t(){var e;(0,n.A)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=(0,l.A)(this,t,[].concat(s))).translationKeyPanel="config.cloud.forgot_password",e.cardLess=!1,e._inProgress=!1,e._resetPassword=function(){var t=(0,o.A)((0,a.A)().m(function t(r){var o;return(0,a.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e._inProgress=!0,t.p=1,!e.hass){t.n=3;break}return t.n=2,(0,f.Ut)(e.hass,r);case 2:t.n=4;break;case 3:return t.n=4,(0,v.zN)(r);case 4:(0,p.r)((0,i.A)(e),"cloud-email-changed",{value:r}),e._inProgress=!1,(0,p.r)((0,i.A)(e),"cloud-done",{flashMessage:e.localize(`ui.panel.${e.translationKeyPanel}.check_your_email`)}),t.n=8;break;case 5:if(t.p=5,o=t.v,e._inProgress=!1,"usernotfound"!==(o&&o.body&&o.body.code)||r===r.toLowerCase()){t.n=7;break}return t.n=6,e._resetPassword(r.toLowerCase());case 6:t.n=8;break;case 7:e._error=o&&o.body&&o.body.message?o.body.message:"Unknown error";case 8:return t.a(2)}},t,null,[[1,5]])}));return function(e){return t.apply(this,arguments)}}(),e}return(0,c.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){return this.cardLess?this._renderContent():(0,u.qy)(w||(w=P` <ha-card outlined .header="${0}"> ${0} </ha-card> `),this.localize(`ui.panel.${this.translationKeyPanel}.subtitle`),this._renderContent())}},{key:"_renderContent",value:function(){var e;return(0,u.qy)(m||(m=P` <div class="card-content"> <p> ${0} </p> ${0} <ha-textfield autofocus id="email" label="${0}" .value="${0}" type="email" required .disabled="${0}" @keydown="${0}" .validationMessage="${0}"></ha-textfield> </div> <div class="card-actions"> <ha-progress-button @click="${0}" .progress="${0}"> ${0} </ha-progress-button> </div> `),this.localize(`ui.panel.${this.translationKeyPanel}.instructions`),this._error?(0,u.qy)(k||(k=P`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):u.s6,this.localize(`ui.panel.${this.translationKeyPanel}.email`),null!==(e=this.email)&&void 0!==e?e:"",this._inProgress,this._keyDown,this.localize(`ui.panel.${this.translationKeyPanel}.email_error_msg`),this._handleEmailPasswordReset,this._inProgress,this.localize(`ui.panel.${this.translationKeyPanel}.send_reset_email`))}},{key:"_keyDown",value:function(e){"Enter"===e.key&&this._handleEmailPasswordReset()}},{key:"_handleEmailPasswordReset",value:(r=(0,o.A)((0,a.A)().m(function e(){var t,r;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(t=this.emailField,r=t.value,t.reportValidity()){e.n=1;break}return t.focus(),e.a(2);case 1:this._inProgress=!0,this._resetPassword(r);case 2:return e.a(2)}},e,this)})),function(){return r.apply(this,arguments)})}],[{key:"styles",get:function(){return[y.RF,(0,u.AH)(b||(b=P`ha-card{max-width:600px;margin:0 auto;margin-top:24px}h1{margin:0}ha-textfield{width:100%}.card-actions{display:flex;justify-content:flex-end;align-items:center}`))]}}]);var r}(u.WF);(0,d.__decorate)([(0,h.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,d.__decorate)([(0,h.MZ)({attribute:!1})],$.prototype,"localize",void 0),(0,d.__decorate)([(0,h.MZ)({attribute:"translation-key-panel"})],$.prototype,"translationKeyPanel",void 0),(0,d.__decorate)([(0,h.MZ)()],$.prototype,"email",void 0),(0,d.__decorate)([(0,h.MZ)({type:Boolean,attribute:"card-less"})],$.prototype,"cardLess",void 0),(0,d.__decorate)([(0,h.wk)()],$.prototype,"_inProgress",void 0),(0,d.__decorate)([(0,h.wk)()],$.prototype,"_error",void 0),(0,d.__decorate)([(0,h.P)("#email",!0)],$.prototype,"emailField",void 0),$=(0,d.__decorate)([(0,h.EM)("cloud-forgot-password-card")],$),t()}catch(A){t(A)}})},69053:function(e,t,r){r.a(e,async function(e,a){try{r.r(t),r.d(t,{CloudForgotPassword:function(){return v}});var o=r(62020),n=r(31802),s=r(21101),i=r(23180),l=(r(38606),r(69868)),c=r(84922),d=r(11991),u=r(80892),h=(r(41564),r(50809)),p=e([u]);u=(p.then?(await p)():p)[0];var _,y,f=e=>e,v=function(e){function t(){var e;(0,o.A)(this,t);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=(0,s.A)(this,t,[].concat(a))).narrow=!1,e._requestInProgress=!1,e}return(0,i.A)(t,e),(0,n.A)(t,[{key:"render",value:function(){return(0,c.qy)(_||(_=f` <hass-subpage .hass="${0}" .narrow="${0}" .header="${0}"> <div class="content"> <cloud-forgot-password-card .hass="${0}" .localize="${0}" .email="${0}"></cloud-forgot-password-card> </div> </hass-subpage> `),this.hass,this.narrow,this.hass.localize("ui.panel.config.cloud.forgot_password.title"),this.hass,this.hass.localize,this.email)}}],[{key:"styles",get:function(){return[h.RF,(0,c.AH)(y||(y=f`.content{padding-bottom:24px}`))]}}])}(c.WF);(0,l.__decorate)([(0,d.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,l.__decorate)([(0,d.MZ)({type:Boolean})],v.prototype,"narrow",void 0),(0,l.__decorate)([(0,d.MZ)()],v.prototype,"email",void 0),(0,l.__decorate)([(0,d.wk)()],v.prototype,"_requestInProgress",void 0),v=(0,l.__decorate)([(0,d.EM)("cloud-forgot-password")],v),a()}catch(g){a(g)}})}}]);
//# sourceMappingURL=65870.51ddb467262e6045.js.map