"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["7695"],{14146:function(t,e,n){n.d(e,{Oc:function(){return o},gk:function(){return s},oS:function(){return i}});var a=n(92698),i=!1,s=i?a._:"A078F6B0",o="urn:x-cast:com.nabucasa.hast"},92698:function(t,e,n){n.d(e,{I:function(){return i},_:function(){return a}});var a="5FE44367",i="http://192.168.1.234:8123"},2659:function(t,e,n){n.d(e,{oK:function(){return s},tb:function(){return o},xV:function(){return r}});n(45519),n(5934);var a=n(14146),i=n(92698),s=(t,e)=>t.sendMessage({type:"connect",refreshToken:e.data.refresh_token,clientId:e.data.clientId,hassUrl:a.oS?i.I:e.data.hassUrl}),o=(t,e,n,s)=>t.sendMessage({type:"show_lovelace_view",viewPath:n,urlPath:s||null,hassUrl:a.oS?i.I:e}),r=(t,e)=>{if(!t.castConnectedToOurHass)return new Promise(n=>{var a=t.addEventListener("connection-changed",()=>{t.castConnectedToOurHass&&(a(),n())});s(t,e)})}},86770:function(t,e,n){n.a(t,async function(t,a){try{n.r(e);var i=n(98735),s=n(88486),o=n(62020),r=n(31802),c=n(21101),h=n(23180),l=n(87426),u=(n(38606),n(35748),n(45519),n(5934),n(95013),n(69868)),d=n(84922),f=n(11991),g=n(75907),_=n(2659),v=n(17372),p=(n(17933),t([v]));v=(p.then?(await p)():p)[0];var y,w,m,M,A,k,b=t=>t,x=function(t){function e(){var t;(0,o.A)(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=(0,c.A)(this,e,[].concat(a)))._noHTTPS=!1,t}return(0,h.A)(e,t),(0,r.A)(e,[{key:"setConfig",value:function(t){this._config=Object.assign({icon:"mdi:television",name:"GiToon Cast",view:0},t)}},{key:"shouldUpdate",value:function(t){return!(1===t.size&&t.has("hass"))}},{key:"render",value:function(){if(!this._config)return d.s6;var t=this._castManager&&this._castManager.status&&this._config.view===this._castManager.status.lovelacePath&&this._config.dashboard===this._castManager.status.urlPath;return(0,d.qy)(y||(y=b` <ha-icon .icon="${0}"></ha-icon> <div class="flex"> <div class="name">${0}</div> ${0} </div> `),this._config.icon,this._config.name,this._noHTTPS?(0,d.qy)(w||(w=b` Cast requires HTTPS `)):void 0===this._castManager?d.s6:null===this._castManager?(0,d.qy)(m||(m=b` Cast API unavailable `)):"NO_DEVICES_AVAILABLE"===this._castManager.castState?(0,d.qy)(M||(M=b` No devices found `)):(0,d.qy)(A||(A=b` <div class="controls"> <google-cast-launcher></google-cast-launcher> <ha-button @click="${0}" class="${0}" appearance="plain" size="small" .disabled="${0}"> SHOW </ha-button> </div> `),this._sendLovelace,(0,g.H)({inactive:!t}),!this._castManager.status))}},{key:"firstUpdated",value:function(t){(0,l.A)(e,"firstUpdated",this,3)([t]),"http:"===location.protocol&&"localhost"!==location.hostname&&(this._noHTTPS=!0),n.e("13470").then(n.bind(n,24973)).then(t=>(0,t.getCastManager)(this.hass.auth).then(t=>{this._castManager=t,t.addEventListener("connection-changed",()=>{this.requestUpdate()}),t.addEventListener("state-changed",()=>{this.requestUpdate()})},()=>{this._castManager=null}))}},{key:"updated",value:function(t){(0,l.A)(e,"updated",this,3)([t]),this._config&&this._config.hide_if_unavailable&&(this.style.display=this._castManager&&"NO_DEVICES_AVAILABLE"!==this._castManager.castState?"":"none")}},{key:"_sendLovelace",value:(a=(0,s.A)((0,i.A)().m(function t(){return(0,i.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,_.xV)(this._castManager,this.hass.auth);case 1:(0,_.tb)(this._castManager,this.hass.auth.data.hassUrl,this._config.view,this._config.dashboard);case 2:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})}]);var a}(d.WF);x.styles=(0,d.AH)(k||(k=b`:host{display:flex;align-items:center}ha-icon{padding:8px;color:var(--state-icon-color)}.flex{flex:1;margin-left:16px;margin-inline-start:16px;margin-inline-end:initial;display:flex;justify-content:space-between;align-items:center}.name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.controls{display:flex;align-items:center}google-cast-launcher{margin-right:.57em;margin-inline-end:-.57em;margin-inline-start:initial;cursor:pointer;display:inline-block;height:24px;width:24px}.inactive{padding:0 4px}`)),(0,u.__decorate)([(0,f.MZ)({attribute:!1})],x.prototype,"hass",void 0),(0,u.__decorate)([(0,f.wk)()],x.prototype,"_config",void 0),(0,u.__decorate)([(0,f.wk)()],x.prototype,"_castManager",void 0),(0,u.__decorate)([(0,f.wk)()],x.prototype,"_noHTTPS",void 0),x=(0,u.__decorate)([(0,f.EM)("hui-cast-row")],x),a()}catch(T){a(T)}})}}]);
//# sourceMappingURL=7695.7f61b423f581c7ed.js.map