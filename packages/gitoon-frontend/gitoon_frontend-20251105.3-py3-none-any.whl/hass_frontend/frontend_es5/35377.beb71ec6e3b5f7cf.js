"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["35377"],{60993:function(e,t,i){i.d(t,{TC:function(){return r},VN:function(){return o},Vx:function(){return a},eM:function(){return s},t0:function(){return n}});i(73983),i(38606),i(96956),i(44941),i(65315),i(837),i(84136),i(45519);var n=(e,t)=>e.callWS({type:"config_entries/subentries/list",entry_id:t}),r=(e,t,i)=>{var n={type:"config_entries/subscribe"};return i&&i.type&&(n.type_filter=i.type),e.connection.subscribeMessage(e=>t(e),n)},o=(e,t)=>{var i={};return t&&(t.type&&(i.type_filter=t.type),t.domain&&(i.domain=t.domain)),e.callWS(Object.assign({type:"config_entries/get"},i))},a=(e,t)=>e.callWS({type:"config_entries/get_single",entry_id:t}),s=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`)},2201:function(e,t,i){i.d(t,{PN:function(){return o},jm:function(){return a},sR:function(){return s},t1:function(){return r},t2:function(){return d},x:function(){return u},yu:function(){return c}});var n={"HA-Frontend-Base":`${location.protocol}//${location.host}`},r=(e,t,i)=>{var r;return e.callApi("POST","config/config_entries/flow",{handler:t,show_advanced_options:Boolean(null===(r=e.userData)||void 0===r?void 0:r.showAdvanced),entry_id:i},n)},o=(e,t)=>e.callApi("GET",`config/config_entries/flow/${t}`,void 0,n),a=(e,t,i)=>e.callApi("POST",`config/config_entries/flow/${t}`,i,n),s=(e,t)=>e.callApi("DELETE",`config/config_entries/flow/${t}`),c=(e,t)=>e.callApi("GET","config/config_entries/flow_handlers"+(t?`?type=${t}`:"")),d=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),u=(e,t)=>e.connection.subscribeMessage(e=>t(e),{type:"config_entries/flow/subscribe"})},7152:function(e,t,i){i.d(t,{$:function(){return n}});var n=e=>e.callWS({type:"usb/scan"})},40328:function(e,t,i){i.d(t,{E:function(){return l}});var n=i(18202),r=i(62020),o=i(31802),a=i(21101),s=i(87426),c=i(23180),d=(i(79827),i(35748),i(65315),i(59023),i(45519),i(5934),i(95013),i(69868)),u=i(11991),l=e=>{var t=function(e){function t(){return(0,r.A)(this,t),(0,a.A)(this,t,arguments)}return(0,c.A)(t,e),(0,o.A)(t,[{key:"connectedCallback",value:function(){(0,s.A)(t,"connectedCallback",this,3)([]),this._checkSubscribed()}},{key:"disconnectedCallback",value:function(){if((0,s.A)(t,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){var e=this.__unsubs.pop();e instanceof Promise?e.then(e=>e()):e()}this.__unsubs=void 0}}},{key:"updated",value:function(e){if((0,s.A)(t,"updated",this,3)([e]),e.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var i,r=(0,n.A)(e.keys());try{for(r.s();!(i=r.n()).done;){var o=i.value;if(this.hassSubscribeRequiredHostProps.includes(o))return void this._checkSubscribed()}}catch(a){r.e(a)}finally{r.f()}}}},{key:"hassSubscribe",value:function(){return[]}},{key:"_checkSubscribed",value:function(){var e;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some(e=>void 0===this[e])||(this.__unsubs=this.hassSubscribe())}}])}(e);return(0,d.__decorate)([(0,u.MZ)({attribute:!1})],t.prototype,"hass",void 0),t}},82963:function(e,t,i){var n,r,o=i(62020),a=i(31802),s=i(21101),c=i(23180),d=(i(38606),i(69868)),u=i(84922),l=i(11991),h=i(71522),f=e=>e,p=function(e){function t(){var e;(0,o.A)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(n))).darkOptimizedIcon=!1,e.clickable=!1,e}return(0,c.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){return(0,u.qy)(n||(n=f` <div class="icon"> <img alt="" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer"> </div> <div class="title">${0}</div> `),(0,h.MR)({domain:this.domain,type:"icon",darkOptimized:this.darkOptimizedIcon}),this.title)}}])}(u.WF);p.styles=(0,u.AH)(r||(r=f`:host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}img{max-width:100%;max-height:100%}.icon{position:relative;margin:0 auto 8px;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.title{min-height:2.3em;word-break:break-word}`)),(0,d.__decorate)([(0,l.MZ)()],p.prototype,"domain",void 0),(0,d.__decorate)([(0,l.MZ)({attribute:!1})],p.prototype,"title",void 0),(0,d.__decorate)([(0,l.MZ)({attribute:"dark-optimized-icon",type:Boolean})],p.prototype,"darkOptimizedIcon",void 0),(0,d.__decorate)([(0,l.MZ)({attribute:!1,type:Boolean,reflect:!0})],p.prototype,"clickable",void 0),p=(0,d.__decorate)([(0,l.EM)("integration-badge")],p)},79560:function(e,t,i){i.a(e,async function(e,n){try{i.r(t);var r=i(98735),o=i(88486),a=i(15243),s=i(18202),c=i(73983),d=i(62020),u=i(31802),l=i(21101),h=i(23180),f=i(87426),p=(i(38606),i(96956),i(99846),i(35748),i(80178),i(99342),i(98522),i(35058),i(65315),i(837),i(22416),i(37089),i(45519),i(64587),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030),i(30536),i(95013),i(69868)),g=i(84922),v=i(11991),_=i(26946),y=i(44017),b=i(24730),m=i(17372),k=i(60993),A=i(2201),w=i(61964),$=i(7152),S=i(40328),x=(i(82963),i(17037)),z=e([m]);m=(z.then?(await z)():z)[0];var M,E,D,L,T,R=e=>e,B=new Set(["backup","google_translate","hassio","met","radio_browser","rpi_power","shopping_list","sun"]),C=function(e){function t(){var e;(0,d.A)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,l.A)(this,t,[].concat(n)))._entries=[],e._discoveredDomains=new Set,e._discoveredDomainsReceived=!1,e}return(0,h.A)(t,e),(0,u.A)(t,[{key:"hassSubscribe",value:function(){return[(0,A.x)(this.hass,e=>{e.forEach(e=>{"removed"===e.type||B.has(e.flow.handler)||this._discoveredDomains.add(e.flow.handler)}),this.hass.loadBackendTranslation("title",Array.from(this._discoveredDomains)),this._discoveredDomainsReceived=!0}),(0,k.TC)(this.hass,e=>{var t=!1,i=[],n=new Set;if(e.forEach(e=>{if(null===e.type||"added"===e.type){if(B.has(e.entry.domain))return;i.push(e.entry),n.add(e.entry.domain),null===e.type&&(t=!0)}else if("removed"===e.type)this._entries=this._entries.filter(t=>t.entry_id!==e.entry.entry_id);else if("updated"===e.type){if(B.has(e.entry.domain))return;var r=e.entry;this._entries=this._entries.map(e=>e.entry_id===r.entry_id?r:e)}}),i.length||t){this.hass.loadBackendTranslation("title",Array.from(n));var r=t?[]:this._entries;this._entries=[].concat((0,c.A)(r),i)}},{type:["device","hub","service"]})]}},{key:"render",value:function(){if(!this._discoveredDomainsReceived)return g.s6;var e=new Set;this._entries.forEach(t=>{e.add(t.domain)}),e=new Set([].concat((0,c.A)(e),(0,c.A)(this._discoveredDomains)));var t,i=[],n=(0,s.A)(e.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;i.push([r,(0,w.p$)(this.hass.localize,r)])}}catch(d){n.e(d)}finally{n.f()}var o=(i=i.sort((e,t)=>(0,b.xL)(e[0],t[0],this.hass.locale.language))).length;return 0===o?(0,g.qy)(M||(M=R` <div class="all-set-icon">ðŸŽ‰</div> <h1> ${0} </h1> <p> ${0} </p> <div class="footer"> <ha-button @click="${0}"> ${0} </ha-button> </div> `),this.onboardingLocalize("ui.panel.page-onboarding.integration.all_set"),this.onboardingLocalize("ui.panel.page-onboarding.integration.lets_start"),this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")):(i.length>12&&(i=i.slice(0,11)),(0,g.qy)(E||(E=R` <h1> ${0} </h1> <p> ${0} </p> <div class="badges"> ${0} ${0} </div> <div class="footer"> <ha-button @click="${0}"> ${0} </ha-button> </div> `),this.onboardingLocalize("ui.panel.page-onboarding.integration.header"),this.onboardingLocalize("ui.panel.page-onboarding.integration.intro"),i.map(e=>{var t,i=(0,a.A)(e,2),n=i[0],r=i[1];return(0,g.qy)(D||(D=R`<integration-badge .domain="${0}" .title="${0}" .darkOptimizedIcon="${0}"></integration-badge>`),n,r,null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode)}),o>i.length?(0,g.qy)(L||(L=R`<div class="more"> ${0} </div>`),this.onboardingLocalize("ui.panel.page-onboarding.integration.more_integrations",{count:o-i.length})):g.s6,this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")))}},{key:"firstUpdated",value:function(e){(0,f.A)(t,"firstUpdated",this,3)([e]),this.hass.loadBackendTranslation("title"),this._scanUSBDevices()}},{key:"_scanUSBDevices",value:(n=(0,o.A)((0,r.A)().m(function e(){return(0,r.A)().w(function(e){for(;;)switch(e.n){case 0:if((0,_.x)(this.hass,"usb")){e.n=1;break}return e.a(2);case 1:return e.n=2,(0,$.$)(this.hass);case 2:return e.a(2)}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_finish",value:(i=(0,o.A)((0,r.A)().m(function e(){return(0,r.A)().w(function(e){for(;;)switch(e.n){case 0:(0,y.r)(this,"onboarding-step",{type:"integration"});case 1:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})}],[{key:"styles",get:function(){return[x.o,(0,g.AH)(T||(T=R`.badges{margin-top:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(106px,1fr));row-gap:var(--ha-space-6)}.more{display:flex;justify-content:center;align-items:center;height:100%}.all-set-icon{font-size:64px;text-align:center}`))]}}]);var i,n}((0,S.E)(g.WF));(0,p.__decorate)([(0,v.MZ)({attribute:!1})],C.prototype,"hass",void 0),(0,p.__decorate)([(0,v.MZ)({attribute:!1})],C.prototype,"onboardingLocalize",void 0),(0,p.__decorate)([(0,v.wk)()],C.prototype,"_entries",void 0),(0,p.__decorate)([(0,v.wk)()],C.prototype,"_discoveredDomains",void 0),(0,p.__decorate)([(0,v.wk)()],C.prototype,"_discoveredDomainsReceived",void 0),C=(0,p.__decorate)([(0,v.EM)("onboarding-integrations")],C),n()}catch(O){n(O)}})},71522:function(e,t,i){i.d(t,{MR:function(){return n},a_:function(){return r},bg:function(){return o}});var n=e=>`https://brands.home-assistant.io/${e.brand?"brands/":""}${e.useFallback?"_/":""}${e.domain}/${e.darkOptimized?"dark_":""}${e.type}.png`,r=e=>e.split("/")[4],o=e=>e.startsWith("https://brands.home-assistant.io/")}}]);
//# sourceMappingURL=35377.beb71ec6e3b5f7cf.js.map