"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["75305"],{90793:function(e,t,a){a.d(t,{S_:function(){return d},Xd:function(){return c},lZ:function(){return l}});var i=a(18202),r=(a(79827),a(35748),a(65315),a(22416),a(45519),a(64587),a(88238),a(34536),a(16257),a(20152),a(44711),a(72108),a(77030),a(30536),a(95013),["zone","persistent_notification"]),s=(e,t)=>{var a,r,s,n,o,d,c,l;if("call-service"===t.action&&(null!==(a=t.target)&&void 0!==a&&a.entity_id||null!==(r=t.service_data)&&void 0!==r&&r.entity_id||null!==(s=t.data)&&void 0!==s&&s.entity_id)){var h=null!==(n=null!==(o=null===(d=t.service_data)||void 0===d?void 0:d.entity_id)&&void 0!==o?o:null===(c=t.data)||void 0===c?void 0:c.entity_id)&&void 0!==n?n:null===(l=t.target)||void 0===l?void 0:l.entity_id;Array.isArray(h)||(h=[h]);var p,u=(0,i.A)(h);try{for(u.s();!(p=u.n()).done;){var v=p.value;e.add(v)}}catch(y){u.e(y)}finally{u.f()}}},n=(e,t)=>{t&&("string"!=typeof t?(t.entity&&e.add(t.entity),t.camera_image&&e.add(t.camera_image),t.tap_action&&s(e,t.tap_action),t.hold_action&&s(e,t.hold_action)):e.add(t))},o=(e,t)=>{t.entity&&n(e,t.entity),t.entities&&Array.isArray(t.entities)&&t.entities.forEach(t=>n(e,t)),t.card&&o(e,t.card),t.cards&&Array.isArray(t.cards)&&t.cards.forEach(t=>o(e,t)),t.elements&&Array.isArray(t.elements)&&t.elements.forEach(t=>o(e,t)),t.badges&&Array.isArray(t.badges)&&t.badges.forEach(t=>n(e,t)),t.sections&&Array.isArray(t.sections)&&t.sections.forEach(t=>o(e,t))},d=e=>{var t=new Set;return e.views.forEach(e=>{o(t,e)}),t},c=(e,t)=>{for(var a=new Set,i=0,s=Object.keys(e.states);i<s.length;i++){var n=s[i];t.has(n)||r.includes(n.split(".",1)[0])||a.add(n)}return a},l=(e,t)=>{var a=d(t);return c(e,a)}},34384:function(e,t,a){a.a(e,async function(e,t){try{var i=a(73983),r=a(98735),s=a(88486),n=a(62020),o=a(31802),d=a(21101),c=a(23180),l=a(87426),h=(a(1415),a(32203),a(38606),a(96956),a(79827),a(80178),a(35058),a(65315),a(837),a(37089),a(45519),a(67579),a(79566),a(69868)),p=a(88970),u=a(84922),v=a(11991),y=a(75907),g=a(55),f=a(65940),m=a(20051),_=a(44017),w=a(24730),b=a(96635),E=(a(5437),a(14523)),k=a(41865),C=a(90793),x=a(57723),A=a(50457),$=a(41910),z=e([b,x,A]);[b,x,A]=z.then?(await z)():z;var S,q,R,j,I,M,O,P,H,L,N,T,U,D=e=>e,J=function(e){function t(){var e;(0,n.A)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=(0,d.A)(this,t,[].concat(i)))._cards=[],e._filter="",e._filterCards=(0,f.A)((e,t)=>{if(!t)return e;var a=e.map(e=>e.card),i={keys:["type","name","description"],isCaseSensitive:!1,minMatchCharLength:Math.min(t.length,2),threshold:.2,ignoreDiacritics:!0},r=new p.A(a,i);return a=r.search(t).map(e=>e.item),e.filter(e=>a.includes(e.card))}),e._suggestedCards=(0,f.A)(e=>e.filter(e=>e.card.isSuggested)),e._customCards=(0,f.A)(e=>e.filter(e=>e.card.isCustom&&!e.card.isSuggested)),e._otherCards=(0,f.A)(e=>e.filter(e=>!e.card.isSuggested&&!e.card.isCustom)),e}return(0,c.A)(t,e),(0,o.A)(t,[{key:"focus",value:(h=(0,s.A)((0,r.A)().m(function e(){var t;return(0,r.A)().w(function(e){for(;;)switch(e.n){case 0:if(!(t=this.renderRoot.querySelector("search-input"))){e.n=1;break}t.focus(),e.n=3;break;case 1:return e.n=2,this.updateComplete;case 2:this.focus();case 3:return e.a(2)}},e,this)})),function(){return h.apply(this,arguments)})},{key:"render",value:function(){if(!(this.hass&&this.lovelace&&this._unusedEntities&&this._usedEntities))return u.s6;var e=this._suggestedCards(this._cards),t=this._otherCards(this._cards),a=this._customCards(this._cards);return(0,u.qy)(S||(S=D` <search-input .hass="${0}" .filter="${0}" @value-changed="${0}" .label="${0}"></search-input> <div id="content"> ${0} <div class="cards-container"> <div class="card manual" @click="${0}" .config="${0}"> <div class="card-header"> ${0} </div> <div class="preview description"> ${0} </div> <ha-ripple></ha-ripple> </div> </div> </div> `),this.hass,this._filter,this._handleSearchChange,this.hass.localize("ui.panel.lovelace.editor.edit_card.search_cards"),this._filter?(0,u.qy)(q||(q=D`<div class="cards-container"> ${0} </div>`),this._filterCards(this._cards,this._filter).map(e=>e.element)):(0,u.qy)(R||(R=D` <div class="cards-container"> ${0} ${0} ${0} </div> <div class="cards-container"> ${0} ${0} </div> <div class="cards-container"> ${0} ${0} </div> `),e.length>0?(0,u.qy)(j||(j=D` <div class="cards-container-header"> ${0} </div> `),this.hass.localize("ui.panel.lovelace.editor.card.generic.suggested_cards")):u.s6,this._renderClipboardCard(),e.map(e=>e.element),e.length>0?(0,u.qy)(I||(I=D` <div class="cards-container-header"> ${0} </div> `),this.hass.localize("ui.panel.lovelace.editor.card.generic.other_cards")):u.s6,t.map(e=>e.element),a.length>0?(0,u.qy)(M||(M=D` <div class="cards-container-header"> ${0} </div> `),this.hass.localize("ui.panel.lovelace.editor.card.generic.custom_cards")):u.s6,a.map(e=>e.element)),this._cardPicked,{type:""},this.hass.localize("ui.panel.lovelace.editor.card.generic.manual"),this.hass.localize("ui.panel.lovelace.editor.card.generic.manual_description"))}},{key:"shouldUpdate",value:function(e){var t=e.get("hass");return!t||t.locale!==this.hass.locale}},{key:"firstUpdated",value:function(){if(this.hass&&this.lovelace){var e=(0,C.S_)(this.lovelace),t=(0,C.Xd)(this.hass,e);this._usedEntities=(0,i.A)(e).filter(e=>this.hass.states[e]&&!(0,E.g0)(this.hass.states[e].state)),this._unusedEntities=(0,i.A)(t).filter(e=>this.hass.states[e]&&!(0,E.g0)(this.hass.states[e].state)),this._loadCards()}}},{key:"updated",value:function(e){if((0,l.A)(t,"updated",this,3)([e]),e.has("_filter")){var a=this.parentElement.shadowRoot.getElementById("content");a&&a.scrollTo({behavior:"auto",top:0})}}},{key:"_loadCards",value:function(){var e=$.j.map(e=>{var t;return Object.assign({name:this.hass.localize(`ui.panel.lovelace.editor.card.${e.type}.name`),description:this.hass.localize(`ui.panel.lovelace.editor.card.${e.type}.description`),isSuggested:(null===(t=this.suggestedCards)||void 0===t?void 0:t.includes(e.type))||!1},e)});e=e.sort((e,t)=>{var a;return e.isSuggested&&!t.isSuggested?-1:!e.isSuggested&&t.isSuggested?1:(0,w.xL)(e.name||e.type,t.name||t.type,null===(a=this.hass)||void 0===a?void 0:a.language)}),k.J_.length>0&&(e=e.concat(k.J_.map(e=>({type:e.type,name:e.name,description:e.description,showElement:e.preview,isCustom:!0})).sort((e,t)=>{var a;return(0,w.xL)(e.name||e.type,t.name||t.type,null===(a=this.hass)||void 0===a?void 0:a.language)}))),this._cards=e.map(e=>({card:e,element:(0,u.qy)(O||(O=D`${0}`),(0,g.T)(this._renderCardElement(e),(0,u.qy)(P||(P=D` <div class="card spinner"> <ha-spinner></ha-spinner> </div> `))))}))}},{key:"_renderClipboardCard",value:function(){return this._clipboard?(0,u.qy)(H||(H=D` ${0}`),(0,g.T)(this._renderCardElement({type:this._clipboard.type,showElement:!0,isCustom:!1,name:this.hass.localize("ui.panel.lovelace.editor.card.generic.paste"),description:`${this.hass.localize("ui.panel.lovelace.editor.card.generic.paste_description",{type:this._clipboard.type})}`},this._clipboard),(0,u.qy)(L||(L=D` <div class="card spinner"> <ha-spinner></ha-spinner> </div> `)))):u.s6}},{key:"_handleSearchChange",value:function(e){this._filter=e.detail.value}},{key:"_cardPicked",value:function(e){var t=e.currentTarget.config;(0,_.r)(this,"config-changed",{config:t})}},{key:"_tryCreateCardElement",value:function(e){var t=(0,x.MJ)(e);return t.hass=this.hass,t.addEventListener("ll-rebuild",a=>{a.stopPropagation(),this._rebuildCard(t,e)},{once:!0}),t}},{key:"_rebuildCard",value:function(e,t){var a;try{a=this._tryCreateCardElement(t)}catch(i){return}e.parentElement&&e.parentElement.replaceChild(a,e)}},{key:"_renderCardElement",value:(a=(0,s.A)((0,r.A)().m(function e(t,a){var i,s,n,o,d,c,l,h;return(0,r.A)().w(function(e){for(;;)switch(e.n){case 0:if(i=t.type,s=t.showElement,n=t.isCustom,o=t.name,d=t.description,c=n?(0,k.wi)(i):void 0,n&&(i=`${k.IP}${i}`),h=null!=a?a:{type:i},!this.hass||!this.lovelace){e.n=3;break}if(a){e.n=2;break}return e.n=1,(0,A.N)(this.hass,i,this._unusedEntities,this._usedEntities);case 1:h=e.v;case 2:if(s)try{l=this._tryCreateCardElement(h)}catch(r){l=void 0}case 3:return l&&(l.tabIndex=-1),e.a(2,(0,u.qy)(N||(N=D(T||(T=D` <div class="card" tabindex="0"> <div class="overlay" @click="${0}" .config="${0}"></div> <div class="card-header"> ${0} </div> <div class="preview ${0}"> ${0} </div> <ha-ripple></ha-ripple> </div> `))),this._cardPicked,h,c?c.name||c.type:o,(0,y.H)({description:!l||"HUI-ERROR-CARD"===l.tagName}),l&&"HUI-ERROR-CARD"!==l.tagName?l:c?c.description||this.hass.localize("ui.panel.lovelace.editor.cardpicker.no_description"):d))}},e,this)})),function(e,t){return a.apply(this,arguments)})}],[{key:"styles",get:function(){return[(0,u.AH)(U||(U=D`search-input{display:block;--mdc-shape-small:var(--card-picker-search-shape);margin:var(--card-picker-search-margin);position:sticky;top:0;z-index:10;background-color:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff))}.cards-container-header{font-size:var(--ha-font-size-l);font-weight:var(--ha-font-weight-medium);padding:12px 8px;margin:0;grid-column:1/-1;position:sticky;top:56px;z-index:1;background:linear-gradient(90deg,var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff)) 0%,#ffffff00 80%)}.cards-container{display:grid;grid-gap:8px 8px;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));margin-top:20px}.card{height:100%;max-width:500px;display:flex;flex-direction:column;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));background:var(--primary-background-color,#fafafa);cursor:pointer;position:relative;overflow:hidden;border:var(--ha-card-border-width,1px) solid var(--ha-card-border-color,var(--divider-color))}.card-header{color:var(--ha-card-header-color,var(--primary-text-color));font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-font-size-l);font-weight:var(--ha-font-weight-bold);letter-spacing:-.012em;line-height:var(--ha-line-height-condensed);padding:12px 16px;display:block;text-align:center}.preview{pointer-events:none;margin:20px;flex-grow:1;display:flex;align-items:center;justify-content:center}.preview>:first-child{display:block;width:100%}.description{text-align:center}.spinner{align-items:center;justify-content:center}.overlay{position:absolute;width:100%;height:100%;z-index:1;box-sizing:border-box;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg))}.manual{max-width:none;grid-column:1/-1}.icon{position:absolute;top:8px;right:8px inset-inline-start: 8px;inset-inline-end:8px;border-radius:var(--ha-border-radius-circle);--mdc-icon-size:16px;line-height:16px;box-sizing:border-box;color:var(--text-primary-color);padding:4px}.icon.custom{background:var(--warning-color)}`))]}}]);var a,h}(u.WF);(0,h.__decorate)([(0,v.MZ)({attribute:!1})],J.prototype,"hass",void 0),(0,h.__decorate)([(0,v.MZ)({attribute:!1})],J.prototype,"suggestedCards",void 0),(0,h.__decorate)([(0,v.wk)(),(0,m.I)({key:"dashboardCardClipboard",state:!0,subscribe:!0,storage:"sessionStorage"})],J.prototype,"_clipboard",void 0),(0,h.__decorate)([(0,v.wk)()],J.prototype,"_cards",void 0),(0,h.__decorate)([(0,v.wk)()],J.prototype,"_filter",void 0),J=(0,h.__decorate)([(0,v.EM)("hui-card-picker")],J),t()}catch(Z){t(Z)}})},50457:function(e,t,a){a.a(e,async function(e,i){try{a.d(t,{N:function(){return d}});var r=a(98735),s=a(88486),n=a(57723),o=e([n]);n=(o.then?(await o)():o)[0];var d=function(){var e=(0,s.A)((0,r.A)().m(function e(t,a,i,s){var o,d,c;return(0,r.A)().w(function(e){for(;;)switch(e.n){case 0:return o={type:a},e.n=1,(0,n.dY)(a);case 1:if(!(d=e.v)||!d.getStubConfig){e.n=3;break}return e.n=2,d.getStubConfig(t,i,s);case 2:c=e.v,o=Object.assign(Object.assign({},o),c);case 3:return e.a(2,o)}},e)}));return function(t,a,i,r){return e.apply(this,arguments)}}();i()}catch(c){i(c)}})},41910:function(e,t,a){a.d(t,{j:function(){return i}});var i=[{type:"alarm-panel",showElement:!0},{type:"button",showElement:!0},{type:"calendar",showElement:!0},{type:"clock",showElement:!0},{type:"entities",showElement:!0},{type:"entity",showElement:!0},{type:"gauge",showElement:!0},{type:"glance",showElement:!0},{type:"history-graph",showElement:!0},{type:"statistics-graph",showElement:!1},{type:"statistic",showElement:!0},{type:"humidifier",showElement:!0},{type:"light",showElement:!0},{type:"map",showElement:!0},{type:"markdown",showElement:!0},{type:"media-control",showElement:!0},{type:"picture",showElement:!0},{type:"picture-elements",showElement:!0},{type:"picture-entity",showElement:!0},{type:"picture-glance",showElement:!0},{type:"plant-status",showElement:!0},{type:"sensor",showElement:!0},{type:"thermostat",showElement:!0},{type:"weather-forecast",showElement:!0},{type:"area",showElement:!0},{type:"tile",showElement:!0},{type:"conditional"},{type:"entity-filter"},{type:"grid"},{type:"horizontal-stack"},{type:"iframe"},{type:"logbook"},{type:"vertical-stack"},{type:"todo-list"},{type:"heading",showElement:!0}]}}]);
//# sourceMappingURL=75305.ffcbaec70b5707ec.js.map