"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["35572"],{91521:function(e,t,n){n.d(t,{JW:function(){return k},OW:function(){return y},PO:function(){return _},VN:function(){return u},XG:function(){return f},eB:function(){return m},gZ:function(){return h},hM:function(){return p},k2:function(){return l},lU:function(){return v},nc:function(){return g},vX:function(){return w},z1:function(){return c}});var a=n(98735),i=n(88486),s=(n(96956),n(44941),n(35748),n(80178),n(65315),n(837),n(84136),n(37089),n(45519),n(74774),n(64587),n(88238),n(34536),n(16257),n(20152),n(44711),n(72108),n(77030),n(95013),n(77240)),r=n(36322),o=n(26946),d=n(87168),c=function(e){return e.THREAD="thread",e.WIFI="wifi",e.ETHERNET="ethernet",e.UNKNOWN="unknown",e}({}),l=e=>{var t;return null===(t=e.auth.external)||void 0===t?void 0:t.config.canCommissionMatter},u=function(){var e=(0,i.A)((0,a.A)().m(function e(t){var n,i,s,r,c,l,u,p;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(!(0,o.x)(t,"thread")){e.n=3;break}return e.n=1,(0,d.sL)(t);case 1:if(n=e.v,!(i=n.datasets.find(e=>e.preferred))){e.n=3;break}return s=t.auth.external,e.n=2,(0,d.dy)(t,i.dataset_id);case 2:return r=e.v.tlv,c=i.preferred_border_agent_id,l=i.preferred_extended_address,u=i.extended_pan_id,p={active_operational_dataset:r,border_agent_id:c,mac_extended_address:l,extended_pan_id:u},e.a(2,s.fireMessage.call(s,{type:"matter/commission",payload:p}));case 3:return e.a(2,t.auth.external.fireMessage({type:"matter/commission"}))}},e)}));return function(t){return e.apply(this,arguments)}}(),p=(e,t)=>{var n,a=(0,r.Ag)(e.connection,e=>{if(n){var i=Object.values(e).filter(e=>e.identifiers.find(e=>"matter"===e[0])&&!n.has(e.id));i.length&&(a(),n=void 0,null==t||t(),(0,s.o)(`/config/devices/device/${i[0].id}`))}else n=new Set(Object.values(e).filter(e=>e.identifiers.find(e=>"matter"===e[0])).map(e=>e.id))});return()=>{a(),n=void 0}},_=(e,t)=>e.callWS({type:"matter/commission",code:t}),f=(e,t)=>e.callWS({type:"matter/commission_on_network",pin:t}),v=(e,t,n)=>e.callWS({type:"matter/set_wifi_credentials",network_name:t,password:n}),h=(e,t)=>e.callWS({type:"matter/set_thread",thread_operation_dataset:t}),m=(e,t)=>e.callWS({type:"matter/node_diagnostics",device_id:t}),y=(e,t)=>e.callWS({type:"matter/ping_node",device_id:t}),g=(e,t)=>e.callWS({type:"matter/open_commissioning_window",device_id:t}),w=(e,t,n)=>e.callWS({type:"matter/remove_matter_fabric",device_id:t,fabric_index:n}),k=(e,t)=>e.callWS({type:"matter/interview_node",device_id:t})},87168:function(e,t,n){n.d(t,{It:function(){return c},W4:function(){return u},dy:function(){return d},l1:function(){return p},rY:function(){return l},sL:function(){return o},wm:function(){return r}});var a=n(62020),i=n(31802),s=(n(74774),function(){return(0,i.A)(function e(){(0,a.A)(this,e),this.routers={}},[{key:"processEvent",value:function(e){return"router_discovered"===e.type?this.routers[e.key]=e.data:"router_removed"===e.type&&delete this.routers[e.key],Object.values(this.routers)}}])}()),r=(e,t)=>{var n=new s;return e.connection.subscribeMessage(e=>t(n.processEvent(e)),{type:"thread/discover_routers"})},o=e=>e.callWS({type:"thread/list_datasets"}),d=(e,t)=>e.callWS({type:"thread/get_dataset_tlv",dataset_id:t}),c=(e,t,n)=>e.callWS({type:"thread/add_dataset_tlv",source:t,tlv:n}),l=(e,t)=>e.callWS({type:"thread/delete_dataset",dataset_id:t}),u=(e,t)=>e.callWS({type:"thread/set_preferred_dataset",dataset_id:t}),p=(e,t,n,a)=>e.callWS({type:"thread/set_preferred_border_agent",dataset_id:t,border_agent_id:n,extended_address:a})},26431:function(e,t,n){n.r(t),n.d(t,{HaDeviceInfoMatter:function(){return b}});var a,i,s,r,o,d=n(98735),c=n(88486),l=n(62020),u=n(31802),p=n(21101),_=n(87426),f=n(23180),v=(n(80178),n(65315),n(37089),n(45519),n(69868)),h=n(84922),m=n(11991),y=(n(16520),n(91521)),g=n(40328),w=n(50809),k=e=>e,b=function(e){function t(){return(0,l.A)(this,t),(0,p.A)(this,t,arguments)}return(0,f.A)(t,e),(0,u.A)(t,[{key:"willUpdate",value:function(e){(0,_.A)(t,"willUpdate",this,3)([e]),e.has("device")&&this._fetchNodeDetails()}},{key:"_fetchNodeDetails",value:(n=(0,c.A)((0,d.A)().m(function e(){return(0,d.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.device){e.n=1;break}return e.a(2);case 1:if(null===this.device.via_device_id){e.n=2;break}return e.a(2);case 2:return e.p=2,e.n=3,(0,y.eB)(this.hass,this.device.id);case 3:this._nodeDiagnostics=e.v,e.n=5;break;case 4:e.p=4,e.v,this._nodeDiagnostics=void 0;case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this._nodeDiagnostics?(0,h.qy)(a||(a=k` <ha-expansion-panel .header="${0}"> <div class="row"> <span class="name">${0}:</span> <span class="value">${0}</span> </div> <div class="row"> <span class="name">${0}:</span> <span class="value">${0}</span> </div> <div class="row"> <span class="name">${0}:</span> <span class="value">${0}</span> </div> ${0} ${0} <div class="row"> <span class="name">${0}:</span> <span class="value">${0}</span> </div> </ha-expansion-panel> `),this.hass.localize("ui.panel.config.matter.device_info.device_info"),this.hass.localize("ui.panel.config.matter.device_info.node_id"),this._nodeDiagnostics.node_id,this.hass.localize("ui.panel.config.matter.device_info.network_type"),this.hass.localize(`ui.panel.config.matter.network_type.${this._nodeDiagnostics.network_type}`),this.hass.localize("ui.panel.config.matter.device_info.node_type"),this.hass.localize(`ui.panel.config.matter.node_type.${this._nodeDiagnostics.node_type}`),this._nodeDiagnostics.network_name?(0,h.qy)(i||(i=k` <div class="row"> <span class="name">${0}:</span> <span class="value">${0}</span> </div> `),this.hass.localize("ui.panel.config.matter.device_info.network_name"),this._nodeDiagnostics.network_name):h.s6,this._nodeDiagnostics.mac_address?(0,h.qy)(s||(s=k` <div class="row"> <span class="name">${0}:</span> <span class="value">${0}</span> </div> `),this.hass.localize("ui.panel.config.matter.device_info.mac_address"),this._nodeDiagnostics.mac_address):h.s6,this.hass.localize("ui.panel.config.matter.device_info.ip_adresses"),this._nodeDiagnostics.ip_adresses.map(e=>(0,h.qy)(r||(r=k`${0}<br>`),e))):h.s6}}],[{key:"styles",get:function(){return[w.RF,(0,h.AH)(o||(o=k`h4{margin-bottom:4px}div{word-break:break-all;margin-top:2px}.row{display:flex;justify-content:space-between;padding-bottom:4px}.value{text-align:right}ha-expansion-panel{margin:8px -16px 0;--expansion-panel-summary-padding:0 16px;--expansion-panel-content-padding:0 16px;--ha-card-border-radius:var(--ha-border-radius-square)}`))]}}]);var n}((0,g.E)(h.WF));(0,v.__decorate)([(0,m.MZ)({attribute:!1})],b.prototype,"hass",void 0),(0,v.__decorate)([(0,m.MZ)({attribute:!1})],b.prototype,"device",void 0),(0,v.__decorate)([(0,m.wk)()],b.prototype,"_nodeDiagnostics",void 0),b=(0,v.__decorate)([(0,m.EM)("ha-device-info-matter")],b)}}]);
//# sourceMappingURL=35572.e4035f7e48bd9386.js.map