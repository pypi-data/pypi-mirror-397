"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["59378"],{29752:function(e,t,i){i.d(t,{l:function(){return s}});var a=i(98735),o=i(88486),s=function(){var e=(0,o.A)((0,a.A)().m(function e(t,i){var o,s;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!navigator.clipboard){e.n=4;break}return e.p=1,e.n=2,navigator.clipboard.writeText(t);case 2:return e.a(2);case 3:e.p=3,e.v;case 4:o=null!=i?i:document.body,(s=document.createElement("textarea")).value=t,o.appendChild(s),s.select(),document.execCommand("copy"),o.removeChild(s);case 5:return e.a(2)}},e,null,[[1,3]])}));return function(t,i){return e.apply(this,arguments)}}()},69273:function(e,t,i){i.r(t),i.d(t,{HaQrCode:function(){return v}});var a,o,s,r=i(62020),n=i(31802),c=i(21101),l=i(23180),d=i(87426),h=(i(38606),i(80178),i(65315),i(37089),i(65152),i(45519),i(69868)),m=i(84922),p=i(11991),u=i(11936),_=(i(94124),i(83510)),g=e=>e,v=function(e){function t(){var e;(0,r.A)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=(0,c.A)(this,t,[].concat(a))).errorCorrectionLevel="medium",e.width=4,e.scale=4,e.margin=4,e}return(0,l.A)(t,e),(0,n.A)(t,[{key:"willUpdate",value:function(e){(0,d.A)(t,"willUpdate",this,3)([e]),(e.has("data")||e.has("scale")||e.has("width")||e.has("margin")||e.has("maskPattern")||e.has("errorCorrectionLevel"))&&this._error&&(this._error=void 0)}},{key:"updated",value:function(e){var t=this._canvas;if(t&&this.data&&(e.has("data")||e.has("scale")||e.has("width")||e.has("margin")||e.has("maskPattern")||e.has("errorCorrectionLevel")||e.has("centerImage"))){var i=getComputedStyle(this),a=i.getPropertyValue("--rgb-primary-text-color"),o=i.getPropertyValue("--rgb-card-background-color"),s=(0,_.v2)(a.split(",").map(e=>parseInt(e,10))),r=(0,_.v2)(o.split(",").map(e=>parseInt(e,10)));if(u.toCanvas(t,this.data,{errorCorrectionLevel:this.errorCorrectionLevel||(this.centerImage?"Q":"M"),width:this.width,scale:this.scale,margin:this.margin,maskPattern:this.maskPattern,color:{light:r,dark:s}}).catch(e=>{this._error=e.message}),this.centerImage){var n=this._canvas.getContext("2d"),c=new Image;c.src=this.centerImage,c.onload=()=>{null==n||n.drawImage(c,.375*t.width,.375*t.height,t.width/4,t.height/4)}}}}},{key:"render",value:function(){return this.data?this._error?(0,m.qy)(a||(a=g`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):(0,m.qy)(o||(o=g`<canvas></canvas>`)):m.s6}}])}(m.WF);v.styles=(0,m.AH)(s||(s=g`:host{display:block}`)),(0,h.__decorate)([(0,p.MZ)()],v.prototype,"data",void 0),(0,h.__decorate)([(0,p.MZ)({attribute:"error-correction-level"})],v.prototype,"errorCorrectionLevel",void 0),(0,h.__decorate)([(0,p.MZ)({type:Number})],v.prototype,"width",void 0),(0,h.__decorate)([(0,p.MZ)({type:Number})],v.prototype,"scale",void 0),(0,h.__decorate)([(0,p.MZ)({type:Number})],v.prototype,"margin",void 0),(0,h.__decorate)([(0,p.MZ)({attribute:!1,type:Number})],v.prototype,"maskPattern",void 0),(0,h.__decorate)([(0,p.MZ)({attribute:"center-image"})],v.prototype,"centerImage",void 0),(0,h.__decorate)([(0,p.wk)()],v.prototype,"_error",void 0),(0,h.__decorate)([(0,p.P)("canvas")],v.prototype,"_canvas",void 0),v=(0,h.__decorate)([(0,p.EM)("ha-qr-code")],v)},50057:function(e,t,i){i.a(e,async function(e,a){try{i.r(t);var o=i(98735),s=i(88486),r=i(62020),n=i(31802),c=i(21101),l=i(23180),d=i(69868),h=i(84922),m=i(11991),p=i(44017),u=i(29752),_=i(17372),g=i(68940),v=(i(69273),i(96635)),f=i(61964),y=i(91521),w=i(50809),b=i(71522),k=e([_,v]);[_,v]=k.then?(await k)():k;var x,A,$,C,L,P,z,M=e=>e,q=function(e){function t(){return(0,r.A)(this,t),(0,c.A)(this,t,arguments)}return(0,l.A)(t,e),(0,n.A)(t,[{key:"showDialog",value:(d=(0,s.A)((0,o.A)().m(function e(t){return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:this.device_id=t.device_id;case 1:return e.a(2)}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"render",value:function(){var e;return this.device_id?(0,h.qy)(x||(x=M` <ha-dialog open @closed="${0}" .heading="${0}"> ${0} </ha-dialog> `),this.closeDialog,(0,g.l)(this.hass,this.hass.localize("ui.panel.config.matter.open_commissioning_window.title")),this._commissionParams?(0,h.qy)(A||(A=M` <p> ${0} <br> ${0} </p> <div class="sharing-code-container"> <div class="sharing-code"> <img crossorigin="anonymous" referrerpolicy="no-referrer" alt="${0}" src="${0}"> <ha-qr-code .data="${0}" errorCorrectionLevel="quartile" scale="6" margin="1"></ha-qr-code> <span class="code">${0}-${0}-${0}</span> </div> </div> <ha-button slot="primaryAction" @click="${0}"> ${0} </ha-button> `),this.hass.localize("ui.panel.config.matter.open_commissioning_window.success"),this.hass.localize("ui.panel.config.matter.open_commissioning_window.scan_code"),(0,f.p$)(this.hass.localize,"matter"),(0,b.MR)({domain:"matter",type:"logo",darkOptimized:null===(e=this.hass.themes)||void 0===e?void 0:e.darkMode}),this._commissionParams.setup_qr_code,this._commissionParams.setup_manual_code.substring(0,4),this._commissionParams.setup_manual_code.substring(4,7),this._commissionParams.setup_manual_code.substring(7),this._copyCode,this.hass.localize("ui.panel.config.matter.open_commissioning_window.copy_code")):"started"===this._status?(0,h.qy)($||($=M` <div class="flex-container"> <ha-spinner></ha-spinner> <div class="status"> <p> <b> ${0} </b> </p> </div> </div> <ha-button slot="primaryAction" @click="${0}"> ${0} </ha-button> `),this.hass.localize("ui.panel.config.matter.open_commissioning_window.in_progress"),this.closeDialog,this.hass.localize("ui.common.close")):"failed"===this._status?(0,h.qy)(C||(C=M` <div class="flex-container"> <ha-svg-icon .path="${0}" class="failed"></ha-svg-icon> <div class="status"> <p> ${0} </p> </div> </div> <ha-button slot="primaryAction" @click="${0}"> ${0} </ha-button> `),"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",this.hass.localize("ui.panel.config.matter.open_commissioning_window.failed"),this.closeDialog,this.hass.localize("ui.common.close")):(0,h.qy)(L||(L=M` <p> ${0} </p> <p class="note"> ${0} </p> <ha-button slot="primaryAction" @click="${0}"> ${0} </ha-button> `),this.hass.localize("ui.panel.config.matter.open_commissioning_window.description",{startCommissioning:(0,h.qy)(P||(P=M`<b>${0}</b>`),this.hass.localize("ui.panel.config.matter.open_commissioning_window.start_commissioning"))}),this.hass.localize("ui.panel.config.matter.open_commissioning_window.prevent_misuse_description"),this._start,this.hass.localize("ui.panel.config.matter.open_commissioning_window.start_commissioning"))):h.s6}},{key:"_start",value:(a=(0,s.A)((0,o.A)().m(function e(){return(0,o.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.hass){e.n=1;break}return e.a(2);case 1:return this._status="started",this._commissionParams=void 0,e.p=2,e.n=3,(0,y.nc)(this.hass,this.device_id);case 3:this._commissionParams=e.v,e.n=5;break;case 4:e.p=4,e.v,this._status="failed";case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return a.apply(this,arguments)})},{key:"_copyCode",value:(i=(0,s.A)((0,o.A)().m(function e(){return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:if(this._commissionParams){e.n=1;break}return e.a(2);case 1:return e.n=2,(0,u.l)(this._commissionParams.setup_manual_code);case 2:this.closeDialog();case 3:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"closeDialog",value:function(){this.device_id=void 0,this._status=void 0,this._commissionParams=void 0,(0,p.r)(this,"dialog-closed",{dialog:this.localName})}}],[{key:"styles",get:function(){return[w.nA,(0,h.AH)(z||(z=M`.success{color:var(--success-color)}.failed{color:var(--error-color)}.flex-container{display:flex;align-items:center}.stages{margin-top:16px}.stage ha-svg-icon{width:16px;height:16px}.stage{padding:8px}ha-svg-icon{width:68px;height:48px}ha-qr-code{text-align:center}.flex-container ha-spinner,.flex-container ha-svg-icon{margin-right:20px}.sharing-code-container{display:flex;justify-content:center;padding-top:16px}.sharing-code{display:flex;flex-direction:column;align-items:center;border:2px solid;border-radius:var(--ha-border-radius-xl);padding:16px}.sharing-code img{width:160px;margin-bottom:8px}.code{font-family:var(--ha-font-family-code)}.note{color:var(--secondary-text-color);font-size:.9em}`))]}}]);var i,a,d}(h.WF);(0,d.__decorate)([(0,m.MZ)({attribute:!1})],q.prototype,"hass",void 0),(0,d.__decorate)([(0,m.wk)()],q.prototype,"device_id",void 0),(0,d.__decorate)([(0,m.wk)()],q.prototype,"_status",void 0),(0,d.__decorate)([(0,m.wk)()],q.prototype,"_commissionParams",void 0),q=(0,d.__decorate)([(0,m.EM)("dialog-matter-open-commissioning-window")],q),a()}catch(I){a(I)}})}}]);
//# sourceMappingURL=59378.83e9c6532e6adf53.js.map