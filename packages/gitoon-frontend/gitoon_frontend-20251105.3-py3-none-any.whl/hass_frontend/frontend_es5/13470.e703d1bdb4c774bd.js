"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["13470"],{24973:function(t,e,s){s.d(e,{getCastManager:function(){return f}});var n,i,a=s(18202),r=s(62020),o=s(31802),c=(s(46852),s(44784),s(99342),s(64654),s(54323),s(45519),s(5934),s(68289)),u=s(14146),h=s(92698),d=s(2659),v=function(){return(0,o.A)(function t(e){(0,r.A)(this,t),this._eventListeners={},this._sessionStateChanged=t=>{"SESSION_STARTED"===t.sessionState||"SESSION_RESUMED"===t.sessionState?(this.auth?(0,d.oK)(this,this.auth):this.sendMessage({type:"get_status"}),this._attachMessageListener()):"SESSION_ENDED"===t.sessionState&&(this.status=void 0,this._fireEvent("connection-changed"))},this._castStateChanged=t=>{this._fireEvent("state-changed")},this.auth=e;var s=this.castContext;s.setOptions({receiverApplicationId:u.gk,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),s.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,this._sessionStateChanged),s.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this._castStateChanged)},[{key:"addEventListener",value:function(t,e){return t in this._eventListeners||(this._eventListeners[t]=[]),this._eventListeners[t].push(e),()=>{this._eventListeners[t].splice(this._eventListeners[t].indexOf(e))}}},{key:"castConnectedToOurHass",get:function(){return void 0!==this.status&&void 0!==this.auth&&this.status.connected&&(this.status.hassUrl===this.auth.data.hassUrl||u.oS&&this.status.hassUrl===h.I)}},{key:"sendMessage",value:function(t){this.castSession.sendMessage(u.Oc,t)}},{key:"castState",get:function(){return this.castContext.getCastState()}},{key:"castContext",get:function(){return cast.framework.CastContext.getInstance()}},{key:"castSession",get:function(){return this.castContext.getCurrentSession()}},{key:"requestSession",value:function(){return this.castContext.requestSession()}},{key:"_fireEvent",value:function(t){var e,s=(0,a.A)(this._eventListeners[t]||[]);try{for(s.s();!(e=s.n()).done;){(0,e.value)()}}catch(n){s.e(n)}finally{s.f()}}},{key:"_receiveMessage",value:function(t){"receiver_status"===t.type&&(this.status=t,this._fireEvent("connection-changed"))}},{key:"_attachMessageListener",value:function(){this.castSession.addMessageListener(u.Oc,(t,e)=>this._receiveMessage(JSON.parse(e)))}}])}(),f=t=>(i||(i=(()=>{if(n)return n;n=new Promise(t=>{window.__onGCastApiAvailable=t});var t=document.createElement("div");return t.id="cast",document.body.append(t),(0,c.kG)("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),n})().then(e=>{if(!e)throw new Error("No Cast API available");return new v(t)})),i)},68289:function(t,e,s){s.d(e,{Vw:function(){return r},kG:function(){return a},y6:function(){return i}});s(45519),s(5934);var n=(t,e,s)=>new Promise((n,i)=>{var a=document.createElement(t),r="src",o="body";switch(a.onload=()=>n(e),a.onerror=()=>i(e),t){case"script":a.async=!0,s&&(a.type=s);break;case"link":a.type="text/css",a.rel="stylesheet",r="href",o="head"}a[r]=e,document[o].appendChild(a)}),i=t=>n("link",t),a=t=>n("script",t),r=t=>n("script",t,"module")}}]);
//# sourceMappingURL=13470.e703d1bdb4c774bd.js.map