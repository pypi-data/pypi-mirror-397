"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["39443"],{84432:function(t,e,i){i.d(e,{A1:function(){return a},CY:function(){return c},Fn:function(){return r},Jz:function(){return u},St:function(){return h},VA:function(){return d},WI:function(){return _},iY:function(){return f},xw:function(){return s}});var n=i(98735),o=i(88486),a=(i(46852),(t,e)=>t.callWS({type:"media_source/resolve_media",media_content_id:e})),r=(t,e)=>t.callWS({type:"media_source/browse_media",media_content_id:e}),s="__MANUAL_ENTRY__",c=t=>t.startsWith(s),h=t=>t.startsWith("media-source://"),u=t=>t.startsWith("media-source://media_source"),f=t=>t.startsWith("media-source://image_upload"),d=function(){var t=(0,o.A)((0,n.A)().m(function t(e,i,o){var a,r;return(0,n.A)().w(function(t){for(;;)switch(t.n){case 0:return(a=new FormData).append("media_content_id",i),a.append("file",o),t.n=1,e.fetchWithAuth("/api/media_source/local_source/upload",{method:"POST",body:a});case 1:if(413!==(r=t.v).status){t.n=2;break}throw new Error(`Uploaded file is too large (${o.name})`);case 2:if(200===r.status){t.n=3;break}throw new Error("Unknown error");case 3:return t.a(2,r.json())}},t)}));return function(e,i,n){return t.apply(this,arguments)}}(),_=function(){var t=(0,o.A)((0,n.A)().m(function t(e,i){return(0,n.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,e.callWS({type:"media_source/local_source/remove",media_content_id:i}))},t)}));return function(e,i){return t.apply(this,arguments)}}()},60369:function(t,e,i){i.a(t,async function(t,n){try{i.r(e),i.d(e,{STUB_IMAGE:function(){return F}});var o=i(98735),a=i(88486),r=i(62020),s=i(31802),c=i(21101),h=i(87426),u=i(23180),f=(i(46852),i(79827),i(35748),i(45519),i(5934),i(95013),i(69868)),d=i(84922),_=i(11991),g=i(75907),l=i(13802),m=i(91634),p=i(88341),v=(i(70490),i(73275)),y=i(46407),w=i(87916),b=i(44630),A=i(47426),$=i(3922),k=i(8510),x=i(25100),E=i(78709),W=t([x]);x=(W.then?(await W)():W)[0];var S,C,M,j,q,z,U=t=>t,F="https://demo.home-assistant.io/stub_config/bedroom.png",H=function(t){function e(){return(0,r.A)(this,e),(0,c.A)(this,e,arguments)}return(0,u.A)(e,t),(0,s.A)(e,[{key:"getCardSize",value:function(){return 3}},{key:"setConfig",value:function(t){if(!t||!t.entity)throw new Error("Entity must be specified");if(!(["camera","image","person"].includes((0,p.m)(t.entity))||t.image||t.state_image||t.camera_image))throw new Error("No image source configured");this._config=Object.assign({show_name:!0,show_state:!0,tap_action:{action:"more-info"}},t)}},{key:"shouldUpdate",value:function(t){return(0,k.LX)(this,t)}},{key:"updated",value:function(t){if((0,h.A)(e,"updated",this,3)([t]),this._config&&this.hass){var i=t.get("hass"),n=t.get("_config");i&&n&&i.themes===this.hass.themes&&n.theme===this._config.theme||(0,m.Q)(this,this.hass.themes,this._config.theme)}}},{key:"render",value:function(){var t,e;if(!this._config||!this.hass)return d.s6;var i=this.hass.states[this._config.entity];if(!i)return(0,d.qy)(S||(S=U` <hui-warning .hass="${0}"> ${0} </hui-warning> `),this.hass,(0,E.j)(this.hass,this._config.entity));var n=(0,w.v)(this.hass,i,this._config.name),o=this.hass.formatEntityState(i),a="";this._config.show_name&&this._config.show_state?a=(0,d.qy)(C||(C=U` <div class="footer both"> <div>${0}</div> <div>${0}</div> </div> `),n,o):this._config.show_name?a=(0,d.qy)(M||(M=U`<div class="footer single">${0}</div>`),n):this._config.show_state&&(a=(0,d.qy)(j||(j=U`<div class="footer single">${0}</div>`),o));var r=(0,p.m)(this._config.entity),s="object"==typeof(null===(t=this._config)||void 0===t?void 0:t.image)&&this._config.image.media_content_id||this._config.image;if(!s)switch(r){case"image":s=(0,v.e)(i);break;case"person":i.attributes.entity_picture&&(s=i.attributes.entity_picture)}var c="grid"===this.layout&&"number"==typeof(null===(e=this._config.grid_options)||void 0===e?void 0:e.rows),h=(0,$.h)(this._config.tap_action)||Boolean(!this._config.tap_action&&this._config.entity);return(0,d.qy)(q||(q=U` <ha-card> <div class="image-container ${0}" @action="${0}" .actionHandler="${0}" tabindex="${0}" role="${0}"> <hui-image .hass="${0}" .image="${0}" .stateImage="${0}" .stateFilter="${0}" .cameraImage="${0}" .cameraView="${0}" .entity="${0}" .aspectRatio="${0}" .fitMode="${0}"></hui-image> </div> ${0} </ha-card> `),(0,g.H)({clickable:h}),this._handleAction,(0,y.T)({hasHold:(0,$.h)(this._config.hold_action),hasDoubleClick:(0,$.h)(this._config.double_tap_action)}),(0,l.J)(h?"0":void 0),(0,l.J)(h?"0":void 0),this.hass,s,this._config.state_image,this._config.state_filter,"camera"===r?this._config.entity:this._config.camera_image,this._config.camera_view,this._config.entity,c?void 0:this._config.aspect_ratio,this._config.fit_mode,a)}},{key:"_handleAction",value:function(t){(0,A.$)(this,this.hass,this._config,t.detail.action)}}],[{key:"getConfigElement",value:(n=(0,a.A)((0,o.A)().m(function t(){return(0,o.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i.e("45505").then(i.bind(i,49528));case 1:return t.a(2,document.createElement("hui-picture-entity-card-editor"))}},t)})),function(){return n.apply(this,arguments)})},{key:"getStubConfig",value:function(t,e,i){return{type:"picture-entity",entity:(0,b.B)(t,1,e,i,["light","switch"])[0]||"",image:F}}}]);var n}(d.WF);H.styles=(0,d.AH)(z||(z=U`ha-card{min-height:75px;overflow:hidden;position:relative;height:100%;box-sizing:border-box}.image-container{height:100%}.image-container.clickable{cursor:pointer}hui-image{pointer-events:none;height:100%}.footer{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:absolute;left:0;right:0;bottom:0;background-color:var(--ha-picture-card-background-color,rgba(0,0,0,.3));padding:16px;font-size:var(--ha-font-size-l);line-height:16px;color:var(--ha-picture-card-text-color,#fff);pointer-events:none}.both{display:flex;justify-content:space-between}.single{text-align:center}`)),(0,f.__decorate)([(0,_.MZ)({attribute:!1})],H.prototype,"hass",void 0),(0,f.__decorate)([(0,_.MZ)({attribute:!1})],H.prototype,"layout",void 0),(0,f.__decorate)([(0,_.wk)()],H.prototype,"_config",void 0),H=(0,f.__decorate)([(0,_.EM)("hui-picture-entity-card")],H),n()}catch(I){n(I)}})}}]);
//# sourceMappingURL=39443.82def260ac15385a.js.map