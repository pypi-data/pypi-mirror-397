"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["70175"],{60393:function(t,e,i){i.d(e,{Tc:function(){return h}});i(44941),i(79827),i(35748),i(80178),i(98522),i(65315),i(84136),i(22416),i(37089),i(34285),i(45519),i(42124),i(86581),i(67579),i(41190),i(47849),i(1485),i(91844),i(39118),i(30536),i(95013);var a=["Shift","Meta","Alt","Control"],s="object"==typeof navigator?navigator.platform:"",n=/Mac|iPod|iPhone|iPad/.test(s),r=n?"Meta":"Control",o="Win32"===s?["Control","Alt"]:n?["Alt"]:[];function c(t,e){return"function"==typeof t.getModifierState&&(t.getModifierState(e)||o.includes(e)&&t.getModifierState("AltGraph"))}function l(t){return t.trim().split(" ").map(function(t){var e=t.split(/\b\+/),i=e.pop(),a=i.match(/^\((.+)\)$/);return a&&(i=new RegExp("^"+a[1]+"$")),[e=e.map(function(t){return"$mod"===t?r:t}),i]})}function u(t,e){var i=e[0],s=e[1];return!((s instanceof RegExp?!s.test(t.key)&&!s.test(t.code):s.toUpperCase()!==t.key.toUpperCase()&&s!==t.code)||i.find(function(e){return!c(t,e)})||a.find(function(e){return!i.includes(e)&&s!==e&&c(t,e)}))}function d(t,e){var i;void 0===e&&(e={});var a=null!=(i=e.timeout)?i:1e3,s=Object.keys(t).map(function(e){return[l(e),t[e]]}),n=new Map,r=null;return function(t){t instanceof KeyboardEvent&&(s.forEach(function(e){var i=e[0],a=e[1],s=n.get(i)||i;u(t,s[0])?s.length>1?n.set(i,s.slice(1)):(n.delete(i),a(t)):c(t,t.key)||n.delete(i)}),r&&clearTimeout(r),r=setTimeout(n.clear.bind(n),a))}}function h(t,e,i){var a=void 0===i?{}:i,s=a.event,n=void 0===s?"keydown":s,r=a.capture,o=d(e,{timeout:a.timeout});return t.addEventListener(n,o,r),function(){t.removeEventListener(n,o,r)}}},71770:function(t,e,i){var a,s,n,r,o=i(62020),c=i(31802),l=i(21101),u=i(23180),d=i(87426),h=(i(38606),i(69868)),p=i(30103),_=i(86811),v=i(49377),f=i(34800),y=i(84922),m=i(11991),g=t=>t,b=function(t){function e(){var t;(0,o.A)(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=(0,l.A)(this,e,[].concat(a))).filled=!1,t.active=!1,t}return(0,u.A)(e,t),(0,c.A)(e,[{key:"renderOutline",value:function(){return this.filled?(0,y.qy)(a||(a=g`<span class="filled"></span>`)):(0,d.A)(e,"renderOutline",this,3)([])}},{key:"getContainerClasses",value:function(){return Object.assign(Object.assign({},(0,d.A)(e,"getContainerClasses",this,3)([])),{},{active:this.active})}},{key:"renderPrimaryContent",value:function(){return(0,y.qy)(s||(s=g` <span class="leading icon" aria-hidden="true"> ${0} </span> <span class="label">${0}</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> ${0} </span> `),this.renderLeadingIcon(),this.label,this.renderTrailingIcon())}},{key:"renderTrailingIcon",value:function(){return(0,y.qy)(n||(n=g`<slot name="trailing-icon"></slot>`))}}])}(p.k);b.styles=[v.R,f.R,_.R,(0,y.AH)(r||(r=g`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(
          --ha-assist-chip-container-shape,
          16px
        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:var(--ha-font-family-body)}`))],(0,h.__decorate)([(0,m.MZ)({type:Boolean,reflect:!0})],b.prototype,"filled",void 0),(0,h.__decorate)([(0,m.MZ)({type:Boolean})],b.prototype,"active",void 0),b=(0,h.__decorate)([(0,m.EM)("ha-assist-chip")],b)},50416:function(t,e,i){i.a(t,async function(t,e){try{var a=i(73983),s=i(98735),n=i(88486),r=i(62020),o=i(31802),c=i(21101),l=i(23180),u=(i(38606),i(96956),i(79827),i(80178),i(65315),i(837),i(37089),i(45519),i(69868)),d=i(84922),h=i(11991),p=i(33055),_=i(44017),v=i(35501),f=t([v]);v=(f.then?(await f)():f)[0];var y,m,g,b,k=t=>t,$=function(t){function e(){var t;(0,r.A)(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=(0,c.A)(this,e,[].concat(a))).ignoreRestrictionsOnFirstStatistic=!1,t}return(0,l.A)(e,t),(0,o.A)(e,[{key:"render",value:function(){if(!this.hass)return d.s6;var t=this.ignoreRestrictionsOnFirstStatistic&&this._currentStatistics.length<=1,e=t?void 0:this.includeStatisticsUnitOfMeasurement,i=t?void 0:this.includeUnitClass,a=t?void 0:this.includeDeviceClass,s=t?void 0:this.statisticTypes;return(0,d.qy)(y||(y=k` ${0} ${0} <div> <ha-statistic-picker .hass="${0}" .includeStatisticsUnitOfMeasurement="${0}" .includeUnitClass="${0}" .includeDeviceClass="${0}" .statisticTypes="${0}" .statisticIds="${0}" .placeholder="${0}" .excludeStatistics="${0}" .allowCustomEntity="${0}" @value-changed="${0}"></ha-statistic-picker> </div> `),this.label?(0,d.qy)(m||(m=k`<label>${0}</label>`),this.label):d.s6,(0,p.u)(this._currentStatistics,t=>t,t=>(0,d.qy)(g||(g=k` <div> <ha-statistic-picker .curValue="${0}" .hass="${0}" .includeStatisticsUnitOfMeasurement="${0}" .includeUnitClass="${0}" .includeDeviceClass="${0}" .value="${0}" .statisticTypes="${0}" .statisticIds="${0}" .excludeStatistics="${0}" .allowCustomEntity="${0}" @value-changed="${0}"></ha-statistic-picker> </div> `),t,this.hass,e,i,a,t,s,this.statisticIds,this.value,this.allowCustomEntity,this._statisticChanged)),this.hass,this.includeStatisticsUnitOfMeasurement,this.includeUnitClass,this.includeDeviceClass,this.statisticTypes,this.statisticIds,this.placeholder,this.value,this.allowCustomEntity,this._addStatistic)}},{key:"_currentStatistics",get:function(){return this.value||[]}},{key:"_updateStatistics",value:(u=(0,n.A)((0,s.A)().m(function t(e){return(0,s.A)().w(function(t){for(;;)switch(t.n){case 0:this.value=e,(0,_.r)(this,"value-changed",{value:e});case 1:return t.a(2)}},t,this)})),function(t){return u.apply(this,arguments)})},{key:"_statisticChanged",value:function(t){t.stopPropagation();var e=t.currentTarget.curValue,i=t.detail.value;if(i!==e){var a=this._currentStatistics;i&&!a.includes(i)?this._updateStatistics(a.map(t=>t===e?i:t)):this._updateStatistics(a.filter(t=>t!==e))}}},{key:"_addStatistic",value:(i=(0,n.A)((0,s.A)().m(function t(e){var i,n;return(0,s.A)().w(function(t){for(;;)switch(t.n){case 0:if(e.stopPropagation(),i=e.detail.value){t.n=1;break}return t.a(2);case 1:if(e.currentTarget.value="",i){t.n=2;break}return t.a(2);case 2:if(!(n=this._currentStatistics).includes(i)){t.n=3;break}return t.a(2);case 3:this._updateStatistics([].concat((0,a.A)(n),[i]));case 4:return t.a(2)}},t,this)})),function(t){return i.apply(this,arguments)})}]);var i,u}(d.WF);$.styles=(0,d.AH)(b||(b=k`:host{display:block}ha-statistic-picker{display:block;width:100%;margin-top:8px}label{display:block;margin-bottom:0 0 8px}`)),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,u.__decorate)([(0,h.MZ)({type:Array})],$.prototype,"value",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1,type:Array})],$.prototype,"statisticIds",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:"statistic-types"})],$.prototype,"statisticTypes",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],$.prototype,"label",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],$.prototype,"placeholder",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean,attribute:"allow-custom-entity"})],$.prototype,"allowCustomEntity",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:"include-statistics-unit-of-measurement"})],$.prototype,"includeStatisticsUnitOfMeasurement",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:"include-unit-class"})],$.prototype,"includeUnitClass",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:"include-device-class"})],$.prototype,"includeDeviceClass",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean,attribute:"ignore-restrictions-on-first-statistic"})],$.prototype,"ignoreRestrictionsOnFirstStatistic",void 0),$=(0,u.__decorate)([(0,h.EM)("ha-statistics-picker")],$),e()}catch(A){e(A)}})},93611:function(t,e,i){i.d(e,{j:function(){return a}});var a=["relative","total","date","time","datetime"]},39788:function(t,e,i){i.a(t,async function(t,a){try{i.r(e),i.d(e,{HuiStatisticsGraphCardEditor:function(){return D}});var s=i(73983),n=i(98735),r=i(88486),o=i(62020),c=i(31802),l=i(21101),u=i(23180),d=(i(38606),i(96956),i(44941),i(99846),i(35748),i(80178),i(99342),i(65315),i(837),i(84136),i(22416),i(37089),i(59023),i(45519),i(64587),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030),i(30536),i(95013),i(69868)),h=i(84922),p=i(11991),_=i(65940),v=i(36207),f=i(11111),y=i(44017),m=i(29561),g=i(52111),b=i(50416),k=(i(60921),i(63002)),$=i(38177),A=i(85532),C=i(6633),w=i(73097),q=t([b,w,g,k]);[b,w,g,k]=q.then?(await q)():q;var M,S,x=t=>t,E=(0,v.KC)([(0,v.eu)("state"),(0,v.eu)("sum"),(0,v.eu)("change"),(0,v.eu)("min"),(0,v.eu)("max"),(0,v.eu)("mean")]),O=(0,v.kp)(A.H,(0,v.Ik)({entities:(0,v.YO)(C.l),title:(0,v.lq)((0,v.Yj)()),days_to_show:(0,v.lq)((0,v.ai)()),period:(0,v.lq)((0,v.KC)([(0,v.eu)("5minute"),(0,v.eu)("hour"),(0,v.eu)("day"),(0,v.eu)("week"),(0,v.eu)("month")])),chart_type:(0,v.lq)((0,v.KC)([(0,v.eu)("bar"),(0,v.eu)("line")])),stat_types:(0,v.lq)((0,v.KC)([(0,v.YO)(E),E])),unit:(0,v.lq)((0,v.Yj)()),hide_legend:(0,v.lq)((0,v.zM)()),logarithmic_scale:(0,v.lq)((0,v.zM)()),min_y_axis:(0,v.lq)((0,v.ai)()),max_y_axis:(0,v.lq)((0,v.ai)()),fit_y_data:(0,v.lq)((0,v.zM)())})),z=["5minute","hour","day","week","month"],j=["mean","min","max","sum","state","change"],D=function(t){function e(){var t;(0,o.A)(this,e);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(t=(0,l.A)(this,e,[].concat(a)))._getStatisticsMetaData=function(){var e=(0,r.A)((0,n.A)().m(function e(i){return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,k.Wr)(t.hass,i||[]);case 1:t._metaDatas=e.v;case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),t._schema=(0,_.A)((e,i,a,n)=>{var r=new Set;null==a||a.forEach(e=>{var i=(0,k.JE)(t.hass,e.statistic_id,e);i&&r.add(i)});var o=[{name:"title",selector:{text:{}}},{name:"",type:"grid",schema:[{name:"period",required:!0,selector:{select:{options:z.map(t=>({value:t,label:e(`ui.panel.lovelace.editor.card.statistics-graph.periods.${t}`),disabled:"5minute"===t&&(null==i?void 0:i.some(t=>(0,k.OQ)(t)))}))}}},{name:"days_to_show",default:w.DEFAULT_DAYS_TO_SHOW,selector:{number:{min:1,mode:"box"}}},{name:"stat_types",required:!0,selector:{select:{multiple:!0,mode:"list",options:j.map(t=>({value:t,label:e(`ui.panel.lovelace.editor.card.statistics-graph.stat_type_labels.${t}`),disabled:!a||!a.some(e=>(0,k.nN)(e,g.n[t]))}))}}},{name:"chart_type",required:!0,type:"select",options:[["line",e("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.line")],["bar",e("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.bar")]]},{name:"",type:"grid",schema:[{name:"min_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}},{name:"max_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}}]}].concat((0,s.A)(n?[{name:"fit_y_data",required:!1,selector:{boolean:{}}}]:[]),[{name:"hide_legend",required:!1,selector:{boolean:{}}},{name:"logarithmic_scale",required:!1,selector:{boolean:{}}}])}];return r.size>1&&o[1].schema.push({name:"unit",required:!1,selector:{select:{options:Array.from(r).map(t=>({value:t,label:t}))}}}),o}),t._computeLabelCallback=e=>{switch(e.name){case"chart_type":case"stat_types":case"period":case"unit":case"hide_legend":case"logarithmic_scale":case"min_y_axis":case"max_y_axis":case"fit_y_data":return t.hass.localize(`ui.panel.lovelace.editor.card.statistics-graph.${e.name}`);default:return t.hass.localize(`ui.panel.lovelace.editor.card.generic.${e.name}`)}},t}return(0,u.A)(e,t),(0,c.A)(e,[{key:"setConfig",value:function(t){(0,v.vA)(t,O),this._config=t,this._configEntities=t.entities?(0,$.L)(t.entities,!1).map(t=>t.entity):[]}},{key:"willUpdate",value:function(t){var e;t.has("_configEntities")&&!(0,m.b)(this._configEntities,t.get("_configEntities"))&&(this._metaDatas=void 0,null!==(e=this._configEntities)&&void 0!==e&&e.length&&this._getStatisticsMetaData(this._configEntities))}},{key:"render",value:function(){var t,e;if(!this.hass||!this._config)return h.s6;var i=this._schema(this.hass.localize,this._configEntities,this._metaDatas,void 0!==this._config.min_y_axis||void 0!==this._config.max_y_axis),a=this._config.stat_types?(0,f.e)(this._config.stat_types):j.filter(t=>{var e;return null===(e=this._metaDatas)||void 0===e?void 0:e.some(e=>(0,k.nN)(e,t))}),s=Object.assign(Object.assign({chart_type:"line",period:"hour"},this._config),{},{stat_types:a}),n=null===(t=this._metaDatas)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.unit_class,r=n||null===(e=this._metaDatas)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.statistics_unit_of_measurement;return(0,h.qy)(M||(M=x` <ha-form .hass="${0}" .data="${0}" .schema="${0}" .computeLabel="${0}" @value-changed="${0}"></ha-form> <ha-statistics-picker allow-custom-entity .hass="${0}" .placeholder="${0}" .label="${0}" .includeStatisticsUnitOfMeasurement="${0}" .includeUnitClass="${0}" .ignoreRestrictionsOnFirstStatistic="${0}" .value="${0}" .configValue="${0}" @value-changed="${0}"></ha-statistics-picker> `),this.hass,s,i,this._computeLabelCallback,this._valueChanged,this.hass,this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.pick_statistic"),this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.picked_statistic"),r,n,!0,this._configEntities,"entities",this._entitiesChanged)}},{key:"_valueChanged",value:function(t){(0,y.r)(this,"config-changed",{config:t.detail.value})}},{key:"_entitiesChanged",value:(i=(0,r.A)((0,n.A)().m(function t(e){var i,a,s,r,o;return(0,n.A)().w(function(t){for(;;)switch(t.n){case 0:if(i=e.detail.value,a=i.map(t=>{var e=this._config.entities.find(e=>"string"!=typeof e&&e.entity===t);return null!=e?e:t}),s=Object.assign(Object.assign({},this._config),{},{entities:a}),null!=i&&i.some(t=>(0,k.OQ)(t))&&"5minute"===s.period&&delete s.period,!s.stat_types&&!s.unit){t.n=2;break}return t.n=1,(0,k.Wr)(this.hass,i);case 1:o=t.v,t.n=3;break;case 2:o=void 0;case 3:r=o,s.stat_types&&s.entities.length&&(s.stat_types=(0,f.e)(s.stat_types).filter(t=>r.some(e=>(0,k.nN)(e,t))),s.stat_types.length||delete s.stat_types),s.unit&&!r.some(t=>(0,k.JE)(this.hass,null==t?void 0:t.statistic_id,t)===s.unit)&&delete s.unit,(0,y.r)(this,"config-changed",{config:s});case 4:return t.a(2)}},t,this)})),function(t){return i.apply(this,arguments)})}]);var i}(h.WF);D.styles=(0,h.AH)(S||(S=x`ha-statistics-picker{width:100%}`)),(0,d.__decorate)([(0,p.MZ)({attribute:!1})],D.prototype,"hass",void 0),(0,d.__decorate)([(0,p.wk)()],D.prototype,"_config",void 0),(0,d.__decorate)([(0,p.wk)()],D.prototype,"_configEntities",void 0),(0,d.__decorate)([(0,p.wk)()],D.prototype,"_metaDatas",void 0),D=(0,d.__decorate)([(0,p.EM)("hui-statistics-graph-card-editor")],D),a()}catch(U){a(U)}})},85532:function(t,e,i){i.d(e,{H:function(){return s}});var a=i(36207),s=(0,a.Ik)({type:(0,a.Yj)(),view_layout:(0,a.bz)(),layout_options:(0,a.bz)(),grid_options:(0,a.bz)(),visibility:(0,a.bz)(),disabled:(0,a.lq)((0,a.zM)())})},6633:function(t,e,i){i.d(e,{l:function(){return o}});var a=i(36207),s=i(93611),n=i(2962),r=i(89485),o=(0,a.KC)([(0,a.Ik)({entity:(0,a.Yj)(),name:(0,a.lq)(r.q),icon:(0,a.lq)((0,a.Yj)()),image:(0,a.lq)((0,a.Yj)()),secondary_info:(0,a.lq)((0,a.Yj)()),format:(0,a.lq)((0,a.vP)(s.j)),state_color:(0,a.lq)((0,a.zM)()),tap_action:(0,a.lq)(n.kn),hold_action:(0,a.lq)(n.kn),double_tap_action:(0,a.lq)(n.kn),confirmation:(0,a.lq)(n.dk),show_last_changed:(0,a.lq)((0,a.zM)()),show_state:(0,a.lq)((0,a.zM)())}),(0,a.Yj)()])},74758:function(t,e,i){i.d(e,{o:function(){return r}});var a=i(48869),s=i(27554),n=i(28829);function r(t,e,i){var r=(0,n.b)(t,e)/s.Cg;return(0,a.u)(null==i?void 0:i.roundingMethod)(r)}}}]);
//# sourceMappingURL=70175.66dd0e897bcdf7b5.js.map