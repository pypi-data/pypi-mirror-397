"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["73419"],{65380:function(e,n,r){r.a(e,async function(e,t){try{r.d(n,{LW:function(){return _},Xs:function(){return y},fU:function(){return s},ie:function(){return g}});var i=r(77489),a=r(65940),o=r(43286),u=r(52285),c=e([i,o]);[i,o]=c.then?(await c)():c;const s=(e,n,r)=>l(n,r.time_zone).format(e),l=(0,a.A)((e,n)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,u.J)(e)?"h12":"h23",timeZone:(0,o.w)(e.time_zone,n)})),g=(e,n,r)=>d(n,r.time_zone).format(e),d=(0,a.A)((e,n)=>new Intl.DateTimeFormat(e.language,{hour:(0,u.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,u.J)(e)?"h12":"h23",timeZone:(0,o.w)(e.time_zone,n)})),y=(e,n,r)=>m(n,r.time_zone).format(e),m=(0,a.A)((e,n)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,u.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,u.J)(e)?"h12":"h23",timeZone:(0,o.w)(e.time_zone,n)})),_=(e,n,r)=>p(n,r.time_zone).format(e),p=(0,a.A)((e,n)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,o.w)(e.time_zone,n)}));t()}catch(s){t(s)}})},43286:function(e,n,r){r.a(e,async function(e,t){try{r.d(n,{n:function(){return g},w:function(){return d}});var i,a,o,u=r(77489),c=r(92149),s=e([u]);u=(s.then?(await s)():s)[0];var l=null===(i=Intl.DateTimeFormat)||void 0===i||null===(a=(o=i.call(Intl)).resolvedOptions)||void 0===a?void 0:a.call(o).timeZone,g=null!=l?l:"UTC",d=(e,n)=>e===c.Wj.local&&l?g:n;t()}catch(y){t(y)}})},52285:function(e,n,r){r.d(n,{J:function(){return a}});r(79827);var t=r(65940),i=r(92149),a=(0,t.A)(e=>{if(e.time_format===i.Hg.language||e.time_format===i.Hg.system){var n=e.time_format===i.Hg.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(n).includes("10")}return e.time_format===i.Hg.am_pm})},8868:function(e,n,r){r.a(e,async function(e,t){try{r.d(n,{ZQ:function(){return g},ZV:function(){return l},ty:function(){return s},x:function(){return c}});var i=r(77489),a=(r(79827),r(44784),r(65152),r(45519),r(47849),r(92149)),o=r(92801),u=e([i]);i=(u.then?(await u)():u)[0];var c=e=>s(e.attributes),s=(e,n)=>!!e.unit_of_measurement||!!e.state_class||(n||[]).includes(e.device_class||""),l=(e,n,r)=>{var t=n?(e=>{switch(e.number_format){case a.jG.comma_decimal:return["en-US","en"];case a.jG.decimal_comma:return["de","es","it"];case a.jG.space_comma:return["fr","sv","cs"];case a.jG.quote_decimal:return["de-CH"];case a.jG.system:return;default:return e.language}})(n):void 0;return Number.isNaN=Number.isNaN||function e(n){return"number"==typeof n&&e(n)},(null==n?void 0:n.number_format)===a.jG.none||Number.isNaN(Number(e))?Number.isNaN(Number(e))||""===e||(null==n?void 0:n.number_format)!==a.jG.none?"string"==typeof e?e:`${(0,o.L)(e,null==r?void 0:r.maximumFractionDigits).toString()}${"currency"===(null==r?void 0:r.style)?` ${r.currency}`:""}`:new Intl.NumberFormat("en-US",d(e,Object.assign(Object.assign({},r),{},{useGrouping:!1}))).format(Number(e)):new Intl.NumberFormat(t,d(e,r)).format(Number(e))},g=(e,n)=>{var r,t=null==n?void 0:n.display_precision;return null!=t?{maximumFractionDigits:t,minimumFractionDigits:t}:Number.isInteger(Number(null==e||null===(r=e.attributes)||void 0===r?void 0:r.step))&&Number.isInteger(Number(null==e?void 0:e.state))?{maximumFractionDigits:0}:void 0},d=(e,n)=>{var r=Object.assign({maximumFractionDigits:2},n);if("string"!=typeof e)return r;if(!n||void 0===n.minimumFractionDigits&&void 0===n.maximumFractionDigits){var t=e.indexOf(".")>-1?e.split(".")[1].length:0;r.minimumFractionDigits=t,r.maximumFractionDigits=t}return r};t()}catch(y){t(y)}})},92801:function(e,n,r){r.d(n,{L:function(){return t}});var t=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,n))/Math.pow(10,n)}},63980:function(e,n,r){r.a(e,async function(e,t){try{r.r(n),r.d(n,{EnergyViewStrategy:function(){return p}});var i=r(62020),a=r(31802),o=r(21101),u=r(23180),c=r(98735),s=r(88486),l=(r(44941),r(35748),r(99342),r(65315),r(84136),r(59023),r(45519),r(5934),r(95013),r(69868)),g=r(84922),d=r(11991),y=r(43716),m=e([y]);y=(m.then?(await m)():m)[0];var _=function(){var e=(0,s.A)((0,c.A)().m(function e(){return(0,c.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([r.e("20296"),r.e("44928")]).then(r.bind(r,79101));case 1:return e.a(2,{type:"panel",cards:[{type:"custom:energy-setup-wizard-card"}]})}},e)}));return function(){return e.apply(this,arguments)}}(),p=function(e){function n(){return(0,i.A)(this,n),(0,o.A)(this,n,arguments)}return(0,u.A)(n,e),(0,a.A)(n,null,[{key:"generate",value:(r=(0,s.A)((0,c.A)().m(function e(n,r){var t,i,a,o,u,s,l,g,d,m;return(0,c.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return t={cards:[]},e.p=1,e.n=2,(0,y.bs)(r);case 2:i=e.v,e.n=5;break;case 3:if(e.p=3,"not_found"!==(m=e.v).code){e.n=4;break}return e.a(2,_());case 4:return t.cards.push({type:"markdown",content:`An error occurred while fetching your energy preferences: ${m.message}.`}),e.a(2,t);case 5:if(0!==i.device_consumption.length||0!==i.energy_sources.length){e.n=6;break}return e.a(2,_());case 6:return t.type="sidebar",a=i.energy_sources.find(e=>{var n,r;return"grid"===e.type&&((null===(n=e.flow_from)||void 0===n?void 0:n.length)||(null===(r=e.flow_to)||void 0===r?void 0:r.length))}),o=a&&a.flow_to.length,u=i.energy_sources.some(e=>"solar"===e.type),s=i.energy_sources.some(e=>"gas"===e.type),l=i.energy_sources.some(e=>"battery"===e.type),g=i.energy_sources.some(e=>"water"===e.type),t.cards.push({type:"energy-compare",collection_key:"energy_dashboard"}),(a||l)&&t.cards.push({title:r.localize("ui.panel.energy.cards.energy_usage_graph_title"),type:"energy-usage-graph",collection_key:"energy_dashboard"}),u&&t.cards.push({title:r.localize("ui.panel.energy.cards.energy_solar_graph_title"),type:"energy-solar-graph",collection_key:"energy_dashboard"}),s&&t.cards.push({title:r.localize("ui.panel.energy.cards.energy_gas_graph_title"),type:"energy-gas-graph",collection_key:"energy_dashboard"}),g&&t.cards.push({title:r.localize("ui.panel.energy.cards.energy_water_graph_title"),type:"energy-water-graph",collection_key:"energy_dashboard"}),(a||l)&&t.cards.push({title:r.localize("ui.panel.energy.cards.energy_distribution_title"),type:"energy-distribution",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),(a||u||s||g||l)&&t.cards.push({title:r.localize("ui.panel.energy.cards.energy_sources_table_title"),type:"energy-sources-table",collection_key:"energy_dashboard"}),o&&t.cards.push({type:"energy-grid-neutrality-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),u&&(o&&t.cards.push({type:"energy-solar-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),a&&t.cards.push({type:"energy-self-sufficiency-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"})),a&&t.cards.push({type:"energy-carbon-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),i.device_consumption.length&&(t.cards.push({title:r.localize("ui.panel.energy.cards.energy_devices_detail_graph_title"),type:"energy-devices-detail-graph",collection_key:"energy_dashboard"}),t.cards.push({title:r.localize("ui.panel.energy.cards.energy_devices_graph_title"),type:"energy-devices-graph",collection_key:"energy_dashboard"}),d=!i.device_consumption.some(e=>e.included_in_stat),t.cards.push({title:r.localize("ui.panel.energy.cards.energy_sankey_title"),type:"energy-sankey",collection_key:"energy_dashboard",group_by_floor:d,group_by_area:d})),e.a(2,t)}},e,null,[[1,3]])})),function(e,n){return r.apply(this,arguments)})}]);var r}(g.mN);p=(0,l.__decorate)([(0,d.EM)("energy-view-strategy")],p),t()}catch(h){t(h)}})}}]);
//# sourceMappingURL=73419.3dffbcbf4cba994a.js.map