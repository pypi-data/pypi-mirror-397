"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["72027"],{53312:function(e,t,i){var n,a,o,l,s,c=i(98735),r=i(88486),d=i(62020),u=i(31802),h=i(21101),m=i(23180),p=i(87426),v=(i(38606),i(69868)),_=i(24126),f=i(5187),g=i(84922),y=i(11991),b=i(75907),w=i(51849),k=i(54337),$=(i(9058),i(61631),e=>e),A=function(e){function t(){var e;(0,d.A)(this,t);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=(0,h.A)(this,t,[].concat(n))).icon=!1,e.clearable=!1,e.inlineArrow=!1,e._translationsUpdated=(0,w.s)((0,r.A)((0,c.A)().m(function t(){return(0,c.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,k.E)();case 1:e.layoutOptions();case 2:return t.a(2)}},t)})),500),e}return(0,m.A)(t,e),(0,u.A)(t,[{key:"render",value:function(){return(0,g.qy)(n||(n=$` ${0} ${0} `),(0,p.A)(t,"render",this,3)([]),this.clearable&&!this.required&&!this.disabled&&this.value?(0,g.qy)(a||(a=$`<ha-icon-button label="clear" @click="${0}" .path="${0}"></ha-icon-button>`),this._clearValue,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):g.s6)}},{key:"renderMenu",value:function(){var e=this.getMenuClasses();return(0,g.qy)(o||(o=$`<ha-menu innerRole="listbox" wrapFocus class="${0}" activatable .fullwidth="${0}" .open="${0}" .anchor="${0}" .fixed="${0}" @selected="${0}" @opened="${0}" @closed="${0}" @items-updated="${0}" @keydown="${0}"> ${0} </ha-menu>`),(0,b.H)(e),!this.fixedMenuPosition&&!this.naturalMenuWidth,this.menuOpen,this.anchorElement,this.fixedMenuPosition,this.onSelected,this.onOpened,this.onClosed,this.onItemsUpdated,this.handleTypeahead,this.renderMenuContent())}},{key:"renderLeadingIcon",value:function(){return this.icon?(0,g.qy)(l||(l=$`<span class="mdc-select__icon"><slot name="icon"></slot></span>`)):g.s6}},{key:"connectedCallback",value:function(){(0,p.A)(t,"connectedCallback",this,3)([]),window.addEventListener("translations-updated",this._translationsUpdated)}},{key:"firstUpdated",value:(i=(0,r.A)((0,c.A)().m(function e(){var i;return(0,c.A)().w(function(e){for(;;)switch(e.n){case 0:(0,p.A)(t,"firstUpdated",this,3)([]),this.inlineArrow&&(null===(i=this.shadowRoot)||void 0===i||null===(i=i.querySelector(".mdc-select__selected-text-container"))||void 0===i||i.classList.add("inline-arrow"));case 1:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"updated",value:function(e){if((0,p.A)(t,"updated",this,3)([e]),e.has("inlineArrow")){var i,n=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".mdc-select__selected-text-container");this.inlineArrow?null==n||n.classList.add("inline-arrow"):null==n||n.classList.remove("inline-arrow")}e.get("options")&&(this.layoutOptions(),this.selectByValue(this.value))}},{key:"disconnectedCallback",value:function(){(0,p.A)(t,"disconnectedCallback",this,3)([]),window.removeEventListener("translations-updated",this._translationsUpdated)}},{key:"_clearValue",value:function(){!this.disabled&&this.value&&(this.valueSetDirectly=!0,this.select(-1),this.mdcFoundation.handleChange())}}]);var i}(_.o);A.styles=[f.R,(0,g.AH)(s||(s=$`:host([clearable]){position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:var(--secondary-text-color)}.mdc-select__anchor{width:var(--ha-select-min-width,200px)}.mdc-select--filled .mdc-select__anchor{height:var(--ha-select-height,56px)}.mdc-select--filled .mdc-floating-label{inset-inline-start:var(--ha-space-4);inset-inline-end:initial;direction:var(--direction)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{inset-inline-start:48px;inset-inline-end:initial;direction:var(--direction)}.mdc-select .mdc-select__anchor{padding-inline-start:var(--ha-space-4);padding-inline-end:0px;direction:var(--direction)}.mdc-select__anchor .mdc-floating-label--float-above{transform-origin:var(--float-start)}.mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,0px)}:host([clearable]) .mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,var(--ha-space-4))}ha-icon-button{position:absolute;top:10px;right:28px;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);inset-inline-start:initial;inset-inline-end:28px;direction:var(--direction)}.inline-arrow{flex-grow:0}`))],(0,v.__decorate)([(0,y.MZ)({type:Boolean})],A.prototype,"icon",void 0),(0,v.__decorate)([(0,y.MZ)({type:Boolean,reflect:!0})],A.prototype,"clearable",void 0),(0,v.__decorate)([(0,y.MZ)({attribute:"inline-arrow",type:Boolean})],A.prototype,"inlineArrow",void 0),(0,v.__decorate)([(0,y.MZ)()],A.prototype,"options",void 0),A=(0,v.__decorate)([(0,y.EM)("ha-select")],A)},75446:function(e,t,i){i.a(e,async function(e,n){try{i.r(t),i.d(t,{HuiPictureElementsCardEditor:function(){return A}});var a=i(62020),o=i(31802),l=i(21101),s=i(23180),c=(i(38606),i(80178),i(64654),i(45519),i(69868)),r=i(65940),d=i(84922),u=i(11991),h=i(36207),m=i(44017),p=(i(70490),i(60921),i(17933),i(45988),i(79893)),v=i(85532),_=i(63180),f=i(4944),g=e([p,f]);[p,f]=g.then?(await g)():g;var y,b,w=e=>e,k=(0,h.NW)({type:(0,h.Yj)()}),$=(0,h.kp)(v.H,(0,h.Ik)({image:(0,h.lq)((0,h.KC)([(0,h.Yj)(),(0,h.Ik)()])),camera_image:(0,h.lq)((0,h.Yj)()),camera_view:(0,h.lq)((0,h.Yj)()),elements:(0,h.YO)(k),title:(0,h.lq)((0,h.Yj)()),state_filter:(0,h.lq)((0,h.bz)()),theme:(0,h.lq)((0,h.Yj)()),dark_mode_image:(0,h.lq)((0,h.KC)([(0,h.Yj)(),(0,h.Ik)()])),dark_mode_filter:(0,h.lq)((0,h.bz)())})),A=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=(0,l.A)(this,t,[].concat(n)))._schema=(0,r.A)(e=>[{name:"",type:"expandable",title:e("ui.panel.lovelace.editor.card.picture-elements.card_options"),schema:[{name:"title",selector:{text:{}}},{name:"image",selector:{media:{accept:["image/*"],clearable:!0,image_upload:!0,hide_content_type:!0,content_id_helper:e("ui.panel.lovelace.editor.card.picture.content_id_helper")}}},{name:"dark_mode_image",selector:{media:{accept:["image/*"],clearable:!0,image_upload:!0,hide_content_type:!0,content_id_helper:e("ui.panel.lovelace.editor.card.picture.content_id_helper")}}},{name:"camera_image",selector:{entity:{domain:"camera"}}},{name:"camera_view",selector:{select:{options:["auto","live"].map(t=>({value:t,label:e(`ui.panel.lovelace.editor.card.generic.camera_view_options.${t}`)})),mode:"dropdown"}}},{name:"theme",selector:{theme:{}}},{name:"state_filter",selector:{object:{}}},{name:"dark_mode_filter",selector:{object:{}}}]}]),e._processData=(0,r.A)(e=>Object.assign(Object.assign(Object.assign({},e),"string"==typeof e.image?{image:{media_content_id:e.image}}:{}),"string"==typeof e.dark_mode_image?{dark_mode_image:{media_content_id:e.dark_mode_image}}:{})),e._computeLabelCallback=t=>{switch(t.name){case"dark_mode_image":case"state_filter":case"dark_mode_filter":return e.hass.localize(`ui.panel.lovelace.editor.card.picture-elements.${t.name}`)||t.name;default:return e.hass.localize(`ui.panel.lovelace.editor.card.generic.${t.name}`)||t.name}},e}return(0,s.A)(t,e),(0,o.A)(t,[{key:"setConfig",value:function(e){(0,h.vA)(e,$),this._config=e}},{key:"render",value:function(){return this.hass&&this._config?this._subElementEditorConfig?(0,d.qy)(y||(y=w` <hui-sub-element-editor .hass="${0}" .config="${0}" @go-back="${0}" @config-changed="${0}"> </hui-sub-element-editor> `),this.hass,this._subElementEditorConfig,this._goBack,this._handleSubElementChanged):(0,d.qy)(b||(b=w` <ha-form .hass="${0}" .data="${0}" .schema="${0}" .computeLabel="${0}" @value-changed="${0}"></ha-form> <hui-picture-elements-card-row-editor .hass="${0}" .elements="${0}" @elements-changed="${0}" @edit-detail-element="${0}"></hui-picture-elements-card-row-editor> `),this.hass,this._processData(this._config),this._schema(this.hass.localize),this._computeLabelCallback,this._formChanged,this.hass,this._config.elements,this._elementsChanged,this._editDetailElement):d.s6}},{key:"_formChanged",value:function(e){e.stopPropagation(),this._config&&this.hass&&(0,m.r)(this,"config-changed",{config:e.detail.value})}},{key:"_elementsChanged",value:function(e){var t,i;e.stopPropagation();var n=(null===(t=this._config)||void 0===t||null===(t=t.elements)||void 0===t?void 0:t.length)||0,a=Object.assign(Object.assign({},this._config),{},{elements:e.detail.elements});(0,m.r)(this,"config-changed",{config:a});var o=(null===(i=e.detail.elements)||void 0===i?void 0:i.length)||0;if(o===n+1){var l=o-1;this._subElementEditorConfig={index:l,type:"element",elementConfig:Object.assign({},e.detail.elements[l])}}}},{key:"_handleSubElementChanged",value:function(e){var t;if(e.stopPropagation(),this._config&&this.hass){var i=null===(t=this._subElementEditorConfig)||void 0===t?void 0:t.type,n=e.detail.config;if("element"===i){var a=this._config.elements.concat();n?a[this._subElementEditorConfig.index]=n:(a.splice(this._subElementEditorConfig.index,1),this._goBack()),this._config=Object.assign(Object.assign({},this._config),{},{elements:a})}this._subElementEditorConfig=Object.assign(Object.assign({},this._subElementEditorConfig),{},{elementConfig:n}),(0,m.r)(this,"config-changed",{config:this._config})}}},{key:"_editDetailElement",value:function(e){this._subElementEditorConfig=e.detail.subElementConfig}},{key:"_goBack",value:function(){this._subElementEditorConfig=void 0}}],[{key:"styles",get:function(){return[_.U]}}])}(d.WF);(0,c.__decorate)([(0,u.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,c.__decorate)([(0,u.wk)()],A.prototype,"_config",void 0),(0,c.__decorate)([(0,u.wk)()],A.prototype,"_subElementEditorConfig",void 0),A=(0,c.__decorate)([(0,u.EM)("hui-picture-elements-card-editor")],A),n()}catch(x){n(x)}})},49790:function(e,t,i){i.a(e,async function(e,n){try{i.d(t,{H:function(){return c}});var a=i(98735),o=i(88486),l=i(61025),s=e([l]);l=(s.then?(await s)():s)[0];var c=function(){var e=(0,o.A)((0,a.A)().m(function e(t,i,n,o){var s,c,r;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return s={type:i},"conditional"!==i&&(s.style={left:"50%",top:"50%"}),e.n=1,(0,l.j)(i);case 1:if(!(c=e.v)||!c.getStubConfig){e.n=3;break}return e.n=2,c.getStubConfig(t,n,o);case 2:r=e.v,s=Object.assign(Object.assign({},s),r);case 3:return e.a(2,s)}},e)}));return function(t,i,n,a){return e.apply(this,arguments)}}();n()}catch(r){n(r)}})},4944:function(e,t,i){i.a(e,async function(e,t){try{var n=i(73983),a=i(98735),o=i(88486),l=i(62020),s=i(31802),c=i(21101),r=i(23180),d=(i(38606),i(80178),i(64654),i(65315),i(37089),i(45519),i(47849),i(69868)),u=i(97481),h=i(84922),m=i(11991),p=i(44017),v=i(63211),_=(i(9058),i(77510),i(53312),i(86160),i(15241)),f=i(49790),g=e([f]);f=(g.then?(await g)():g)[0];var y,b,w,k,$,A=e=>e,x=["state-badge","state-icon","state-label","action-button","icon","image","conditional"],C=function(e){function t(){return(0,l.A)(this,t),(0,c.A)(this,t,arguments)}return(0,r.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){return this.elements&&this.hass?(0,h.qy)(y||(y=A` <h3> ${0} </h3> <div class="elements"> ${0} <ha-select fixedMenuPosition naturalMenuWidth .label="${0}" .value="${0}" @closed="${0}" @selected="${0}"> ${0} </ha-select> </div> `),this.hass.localize("ui.panel.lovelace.editor.card.picture-elements.elements"),this.elements.map((e,t)=>{var i;return(0,h.qy)(b||(b=A` <div class="element"> ${0} <ha-icon-button .label="${0}" .path="${0}" class="remove-icon" .index="${0}" @click="${0}"></ha-icon-button> <ha-icon-button .label="${0}" .path="${0}" class="edit-icon" .index="${0}" @click="${0}"></ha-icon-button> <ha-icon-button .label="${0}" .path="${0}" class="duplicate-icon" .index="${0}" @click="${0}"></ha-icon-button> </div> `),e.type?(0,h.qy)(w||(w=A` <div class="element-row"> <div> <span> ${0} </span> <span class="secondary">${0}</span> </div> </div> `),(null===(i=this.hass)||void 0===i?void 0:i.localize(`ui.panel.lovelace.editor.card.picture-elements.element_types.${e.type}`))||e.type,this._getSecondaryDescription(e)):h.s6,this.hass.localize("ui.common.delete"),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",t,this._removeRow,this.hass.localize("ui.common.edit"),"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",t,this._editRow,this.hass.localize("ui.common.duplicate"),"M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z",t,this._duplicateRow)}),this.hass.localize("ui.panel.lovelace.editor.card.picture-elements.new_element"),"",v.d,this._addElement,x.map(e=>{var t;return(0,h.qy)(k||(k=A` <ha-list-item .value="${0}">${0}</ha-list-item> `),e,null===(t=this.hass)||void 0===t?void 0:t.localize(`ui.panel.lovelace.editor.card.picture-elements.element_types.${e}`))})):h.s6}},{key:"_getSecondaryDescription",value:function(e){var t,i,n,a,o,l,s,c,r,d;switch(e.type){case"icon":return null!==(t=null!==(i=e.title)&&void 0!==i?i:e.icon)&&void 0!==t?t:"";case"state-badge":case"state-icon":case"state-label":return null!==(n=null!==(a=e.title)&&void 0!==a?a:e.entity)&&void 0!==n?n:"";case"action-button":case"service-button":return null!==(o=null!==(l=null!==(s=e.title)&&void 0!==s?s:e.action)&&void 0!==l?l:e.service)&&void 0!==o?o:"";case"image":if(e.title)return e.title;var u,h=e;return h.image?"string"==typeof h.image?h.image:(null===(u=h.image.metadata)||void 0===u?void 0:u.title)||h.image.media_content_id||"":h.camera_image||"";case"conditional":return null!==(c=e.title)&&void 0!==c?c:`${(e.elements||[]).length.toString()} ${null===(r=this.hass)||void 0===r?void 0:r.localize("ui.panel.lovelace.editor.card.picture-elements.elements")}`}return null!==(d=e.title)&&void 0!==d?d:"Unknown type"}},{key:"_addElement",value:(i=(0,o.A)((0,a.A)().m(function e(t){var i,n,o;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(""!==(i=t.target.value)){e.n=1;break}return e.a(2);case 1:return o=this.elements,e.n=2,(0,f.H)(this.hass,i,Object.keys(this.hass.entities),[]);case 2:n=o.concat.call(o,e.v),(0,p.r)(this,"elements-changed",{elements:n}),this._select.select(-1);case 3:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_removeRow",value:function(e){var t,i=e.currentTarget.index,n=null===(t=this.elements)||void 0===t?void 0:t[i];n&&(0,_.dk)(this,{text:this.hass.localize("ui.panel.lovelace.editor.card.picture-elements.confirm_delete_element",{type:this.hass.localize(`ui.panel.lovelace.editor.card.picture-elements.element_types.${n.type}`)||n.type}),confirmText:this.hass.localize("ui.common.delete"),destructive:!0,confirm:()=>{var e=this.elements.concat();e.splice(i,1),(0,p.r)(this,"elements-changed",{elements:e})}})}},{key:"_editRow",value:function(e){var t=e.currentTarget.index;(0,p.r)(this,"edit-detail-element",{subElementConfig:{index:t,type:"element",elementConfig:this.elements[t]}})}},{key:"_duplicateRow",value:function(e){var t=e.currentTarget.index,i=[].concat((0,n.A)(this.elements),[(0,u.A)(this.elements[t])]);(0,p.r)(this,"elements-changed",{elements:i})}}]);var i}(h.WF);C.styles=(0,h.AH)($||($=A`.element{display:flex;align-items:center}.element-row{height:60px;font-size:var(--ha-font-size-l);display:flex;align-items:center;justify-content:space-between;flex-grow:1}.element-row div{display:flex;flex-direction:column}.duplicate-icon,.edit-icon,.remove-icon{--mdc-icon-button-size:36px;color:var(--secondary-text-color)}.secondary{font-size:var(--ha-font-size-s);color:var(--secondary-text-color)}ha-select{width:100%}`)),(0,d.__decorate)([(0,m.MZ)({attribute:!1})],C.prototype,"hass",void 0),(0,d.__decorate)([(0,m.MZ)({attribute:!1})],C.prototype,"elements",void 0),(0,d.__decorate)([(0,m.P)("ha-select")],C.prototype,"_select",void 0),C=(0,d.__decorate)([(0,m.EM)("hui-picture-elements-card-row-editor")],C),t()}catch(L){t(L)}})},85532:function(e,t,i){i.d(t,{H:function(){return a}});var n=i(36207),a=(0,n.Ik)({type:(0,n.Yj)(),view_layout:(0,n.bz)(),layout_options:(0,n.bz)(),grid_options:(0,n.bz)(),visibility:(0,n.bz)(),disabled:(0,n.lq)((0,n.zM)())})}}]);
//# sourceMappingURL=72027.3a4d117258faa6a5.js.map