"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["96765"],{87063:function(e,t,n){var r,i,o=n(62020),a=n(31802),s=n(21101),c=n(23180),u=n(69868),l=n(84922),d=n(11991),_=(0,l.AH)(r||(r=(e=>e)`:host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:400;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}`)),f=e=>e,g=function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,c.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){return(0,l.qy)(i||(i=f`<span><slot></slot></span>`))}}])}(l.WF);g.styles=[_],g=(0,u.__decorate)([(0,d.EM)("mwc-icon")],g)},8795:function(e,t,n){n.d(t,{i:function(){return i}});var r=n(35297),i=(e,t)=>(e=>{switch(e){case"de":case"lb":return!0;default:return!1}})(t)?(0,r.Z)(e):e.toLocaleLowerCase(t)},13725:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{$O:function(){return b},a$:function(){return w},cj:function(){return g},dG:function(){return m},gM:function(){return y},gd:function(){return p},rc:function(){return $}});var i=n(98735),o=n(88486),a=(n(79827),n(45519),n(5934),n(67579),n(47849),n(30500),n(23800)),s=n(88341),c=n(12275),u=n(8795),l=n(14523),d=n(69006),_=e([d]);d=(_.then?(await _)():_)[0];var f="ui.components.logbook.messages",g=["counter","proximity"],h={triggered_by_numeric_state_of:"numeric state of",triggered_by_state_of:"state of",triggered_by_event:"event",triggered_by_time_pattern:"time pattern",triggered_by_time:"time",triggered_by_homeassistant_stopping:"GiToon stopping",triggered_by_homeassistant_starting:"GiToon starting"},p=59509==n.j?(k=(0,o.A)((0,i.A)().m(function e(t,n,r){return(0,i.A)().w(function(e){for(;;)if(0===e.n)return e.a(2,v(t,n,void 0,void 0,r))},e)})),function(e,t,n){return k.apply(this,arguments)}):null,v=(e,t,n,r,i,o)=>{if((r||o)&&(!r||0===r.length)&&(!o||0===o.length))return Promise.resolve([]);var a={type:"logbook/get_events",start_time:t};return n&&(a.end_time=n),null!=r&&r.length&&(a.entity_ids=r),null!=o&&o.length&&(a.device_ids=o),i&&(a.context_id=i),e.callWS(a)},y=(e,t,n,r,i,o,a)=>{if((o||a)&&(!o||0===o.length)&&(!a||0===a.length))return Promise.reject("No entities or devices");var s={type:"logbook/event_stream",start_time:n,end_time:r};return null!=o&&o.length&&(s.entity_ids=o),null!=a&&a.length&&(s.device_ids=a),e.connection.subscribeMessage(e=>t(e,i),s)},m=(e,t)=>({entity_id:e.entity_id,state:t,attributes:{device_class:null==e?void 0:e.attributes.device_class,source_type:null==e?void 0:e.attributes.source_type,has_date:null==e?void 0:e.attributes.has_date,has_time:null==e?void 0:e.attributes.has_time,entity_picture_local:a.oL.has((0,s.m)(e.entity_id))||null==e?void 0:e.attributes.entity_picture_local,entity_picture:a.oL.has((0,s.m)(e.entity_id))||null==e?void 0:e.attributes.entity_picture}}),b=(e,t)=>{for(var n=0,r=Object.keys(h);n<r.length;n++){var i=r[n],o=h[i];if(t.startsWith(o))return t.replace(o,`${e(`ui.components.logbook.${i}`)}`)}return t},w=(e,t,n,r,i)=>{switch(i){case"device_tracker":case"person":return"not_home"===n?t(`${f}.was_away`):"home"===n?t(`${f}.was_at_home`):t(`${f}.was_at_state`,{state:n});case"sun":return t("above_horizon"===n?`${f}.rose`:`${f}.set`);case"binary_sensor":var o=n===a.Or,s=n===a.qg,c=r.attributes.device_class;if(c&&(o||s))return t(`${f}.${o?"detected_device_classes":"cleared_device_classes"}.${c}`,{device_class:(0,u.i)(t(`component.binary_sensor.entity_component.${c}.name`)||c,e.language)})||t(`${f}.${o?"detected_device_class":"cleared_device_class"}`,{device_class:(0,u.i)(t(`component.binary_sensor.entity_component.${c}.name`)||c,e.language)});break;case"cover":switch(n){case"open":return t(`${f}.was_opened`);case"opening":return t(`${f}.is_opening`);case"closing":return t(`${f}.is_closing`);case"closed":return t(`${f}.was_closed`)}break;case"event":return t(`${f}.detected_event_no_type`);case"lock":switch(n){case"unlocked":return t(`${f}.was_unlocked`);case"locking":return t(`${f}.is_locking`);case"unlocking":return t(`${f}.is_unlocking`);case"opening":return t(`${f}.is_opening`);case"open":return t(`${f}.is_opened`);case"locked":return t(`${f}.was_locked`);case"jammed":return t(`${f}.is_jammed`)}}return n===a.Or?t(`${f}.turned_on`):n===a.qg?t(`${f}.turned_off`):n===l.HV?t(`${f}.became_unknown`):n===l.Hh?t(`${f}.became_unavailable`):e.localize(`${f}.changed_to_state`,{state:r?e.formatEntityState(r,n):n})},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,c.t)(e);return!(g.includes(n)||"sensor"===n&&(0,d.Fp)(n,e,void 0,t))};r()}catch(A){r(A)}var k})},72569:function(e,t,n){n.d(t,{Fj:function(){return i},Gu:function(){return o},H2:function(){return s},xA:function(){return u},xs:function(){return a}});n(44941),n(65315),n(84136),n(45519),n(74774);var r=n(12275),i=e=>e.callWS({type:"person/list"}),o=(e,t)=>e.callWS(Object.assign({type:"person/create"},t)),a=(e,t,n)=>e.callWS(Object.assign({type:"person/update",person_id:t},n)),s=(e,t)=>e.callWS({type:"person/delete",person_id:t}),c={},u=e=>{var t;if(null!==(t=e.user)&&void 0!==t&&t.id){var n=c[e.user.id];if(n){var i=e.states[n];if(i&&i.attributes.user_id===e.user.id)return i}var o=Object.values(e.states).find(t=>t.attributes.user_id===e.user.id&&"person"===(0,r.t)(t));return o&&(c[e.user.id]=o.entity_id),o}}},75865:function(e,t,n){n.a(e,async function(e,r){try{n.r(t),n.d(t,{HuiErrorBadge:function(){return b},createErrorBadgeConfig:function(){return m},createErrorBadgeElement:function(){return y}});var i=n(62020),o=n(31802),a=n(21101),s=n(23180),c=n(69868),u=n(90227),l=n(84922),d=n(11991),_=(n(31109),n(86160),n(67717)),f=e([_]);_=(f.then?(await f)():f)[0];var g,h,p,v=e=>e,y=e=>{var t=document.createElement("hui-error-badge");return t.setConfig(e),t},m=e=>({type:"error",error:e}),b=function(e){function t(){return(0,i.A)(this,t),(0,a.A)(this,t,arguments)}return(0,s.A)(t,e),(0,o.A)(t,[{key:"setConfig",value:function(e){this._config=e}},{key:"_viewDetail",value:function(){var e,t;if(this._config.origConfig)try{t=(0,u.dump)(this._config.origConfig)}catch(n){t=`[Error dumping ${this._config.origConfig}]`}(0,_.showAlertDialog)(this,{title:null===(e=this._config)||void 0===e?void 0:e.error,warning:!0,text:t?(0,l.qy)(g||(g=v`<pre>${0}</pre>`),t):""})}},{key:"render",value:function(){return this._config?(0,l.qy)(h||(h=v` <ha-badge class="error" @click="${0}" type="button" label="Error"> <ha-svg-icon slot="icon" .path="${0}"></ha-svg-icon> <div class="content">${0}</div> </ha-badge> `),this._viewDetail,"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",this._config.error):l.s6}}])}(l.WF);b.styles=(0,l.AH)(p||(p=v`ha-badge{--badge-color:var(--error-color);--ha-card-border-color:var(--error-color)}.content{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}pre{font-family:var(--ha-font-family-code);white-space:break-spaces;user-select:text}`)),(0,c.__decorate)([(0,d.wk)()],b.prototype,"_config",void 0),b=(0,c.__decorate)([(0,d.EM)("hui-error-badge")],b),r()}catch(w){r(w)}})},19370:function(e,t,n){var r=n(36233),i=n(38707),o=n(78923),a=n(19799);e.exports=function(e,t){t&&"string"==typeof e||i(e);var n=a(e);return o(i(void 0!==n?r(n,e):e))}},43114:function(e,t,n){var r=n(87642),i=n(53319),o=n(33358),a=n(77977),s=n(30354),c=n(88721);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=s(n);return o(e),(t=c(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},93225:function(e,t,n){n(93017)("flatMap")},12791:function(e,t,n){var r=n(87642),i=n(36233),o=n(33358),a=n(38707),s=n(78923),c=n(19370),u=n(49866),l=n(25727),d=n(55319),_=n(25008),f=n(66337),g=!d&&!_("flatMap",function(){}),h=!d&&!g&&f("flatMap",TypeError),p=d||g||h,v=u(function(){for(var e,t,n=this.iterator,r=this.mapper;;){if(t=this.inner)try{if(!(e=a(i(t.next,t.iterator))).done)return e.value;this.inner=null}catch(o){l(n,"throw",o)}if(e=a(i(this.next,n)),this.done=!!e.done)return;try{this.inner=c(r(e.value,this.counter++),!1)}catch(o){l(n,"throw",o)}}});r({target:"Iterator",proto:!0,real:!0,forced:p},{flatMap:function(e){a(this);try{o(e)}catch(t){l(this,"throw",t)}return h?i(h,this,e):new v(s(this),{mapper:e,inner:null})}})}}]);
//# sourceMappingURL=96765.ef7ab6e5a8dc1509.js.map