"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["85779"],{50654:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{DD:function(){return u},PE:function(){return c}});i(79827),i(44784);var s=i(77489),n=i(14614),r=i(92149),o=e([s]);s=(o.then?(await o)():o)[0];var l=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],c=e=>e.first_weekday===r.zt.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,n.S)(e.language)%7:l.includes(e.first_weekday)?l.indexOf(e.first_weekday):1,u=e=>{var t=c(e);return l[t]};a()}catch(d){a(d)}})},94029:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{K:function(){return c}});var s=i(77489),n=i(65940),r=i(22989),o=e([s,r]);[s,r]=o.then?(await o)():o;var l=(0,n.A)(e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})),c=function(e,t,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=(0,r.x)(e,i,t);return a?l(t).format(s.value,s.unit):Intl.NumberFormat(t.language,{style:"unit",unit:s.unit,unitDisplay:"long"}).format(Math.abs(s.value))};a()}catch(u){a(u)}})},63211:function(e,t,i){i.d(t,{d:function(){return a}});var a=e=>e.stopPropagation()},27409:function(e,t,i){i.d(t,{j:function(){return a}});var a=(e,t,i)=>(void 0!==i&&(i=!!i),e.hasAttribute(t)?!!i||(e.removeAttribute(t),!1):!1!==i&&(e.setAttribute(t,""),!0))},52847:function(e,t,i){i.d(t,{L:function(){return a}});var a=(e,t)=>{var i=e.floor_id;return{area:e,floor:(i?t[i]:void 0)||null}}},32560:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{T:function(){return o}});var s=i(77489),n=i(65940),r=e([s]);s=(r.then?(await r)():r)[0];var o=(e,t)=>{try{var i,a;return null!==(i=null===(a=l(t))||void 0===a?void 0:a.of(e))&&void 0!==i?i:e}catch(s){return e}},l=(0,n.A)(e=>new Intl.DisplayNames(e.language,{type:"language",fallback:"code"}));a()}catch(c){a(c)}})},35297:function(e,t,i){i.d(t,{Z:function(){return a}});i(98522);var a=e=>e.charAt(0).toUpperCase()+e.slice(1)},29561:function(e,t,i){i.d(t,{b:function(){return s}});var a=i(18202),s=(i(35748),i(34285),i(45519),i(42124),i(86581),i(67579),i(39227),i(47849),i(64587),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030),i(95013),(e,t)=>{if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var i,n;if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(i=n;0!==i--;)if(!s(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;var r,o=(0,a.A)(e.entries());try{for(o.s();!(r=o.n()).done;)if(i=r.value,!t.has(i[0]))return!1}catch(v){o.e(v)}finally{o.f()}var l,c=(0,a.A)(e.entries());try{for(c.s();!(l=c.n()).done;)if(i=l.value,!s(i[1],t.get(i[0])))return!1}catch(v){c.e(v)}finally{c.f()}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var u,d=(0,a.A)(e.entries());try{for(d.s();!(u=d.n()).done;)if(i=u.value,!t.has(i[0]))return!1}catch(v){d.e(v)}finally{d.f()}return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!==t.length)return!1;for(i=n;0!==i--;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var h=Object.keys(e);if((n=h.length)!==Object.keys(t).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(t,h[i]))return!1;for(i=n;0!==i--;){var p=h[i];if(!s(e[p],t[p]))return!1}return!0}return e!=e&&t!=t})},22989:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{x:function(){return v}});var s=i(41484),n=i(88258),r=i(42794),o=i(50654),l=e([o]);o=(l.then?(await l)():l)[0];var c=1e3,u=60,d=60*u;function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=Object.assign(Object.assign({},h),a||{}),p=(+e-+t)/c;if(Math.abs(p)<l.second)return{value:Math.round(p),unit:"second"};var v=p/u;if(Math.abs(v)<l.minute)return{value:Math.round(v),unit:"minute"};var _=p/d;if(Math.abs(_)<l.hour)return{value:Math.round(_),unit:"hour"};var g=new Date(e),f=new Date(t);g.setHours(0,0,0,0),f.setHours(0,0,0,0);var y=(0,s.c)(g,f);if(0===y)return{value:Math.round(_),unit:"hour"};if(Math.abs(y)<l.day)return{value:y,unit:"day"};var m=(0,o.PE)(i),b=(0,n.k)(g,{weekStartsOn:m}),w=(0,n.k)(f,{weekStartsOn:m}),k=(0,r.I)(b,w);if(0===k)return{value:y,unit:"day"};if(Math.abs(k)<l.week)return{value:k,unit:"week"};var A=g.getFullYear()-f.getFullYear(),$=12*A+g.getMonth()-f.getMonth();return 0===$?{value:k,unit:"week"}:Math.abs($)<l.month||0===A?{value:$,unit:"month"}:{value:Math.round(A),unit:"year"}}var h={second:45,minute:45,hour:22,day:5,week:4,month:11};a()}catch(p){a(p)}})},71770:function(e,t,i){var a,s,n,r,o=i(62020),l=i(31802),c=i(21101),u=i(23180),d=i(87426),h=(i(38606),i(69868)),p=i(30103),v=i(86811),_=i(49377),g=i(34800),f=i(84922),y=i(11991),m=e=>e,b=function(e){function t(){var e;(0,o.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,c.A)(this,t,[].concat(a))).filled=!1,e.active=!1,e}return(0,u.A)(t,e),(0,l.A)(t,[{key:"renderOutline",value:function(){return this.filled?(0,f.qy)(a||(a=m`<span class="filled"></span>`)):(0,d.A)(t,"renderOutline",this,3)([])}},{key:"getContainerClasses",value:function(){return Object.assign(Object.assign({},(0,d.A)(t,"getContainerClasses",this,3)([])),{},{active:this.active})}},{key:"renderPrimaryContent",value:function(){return(0,f.qy)(s||(s=m` <span class="leading icon" aria-hidden="true"> ${0} </span> <span class="label">${0}</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> ${0} </span> `),this.renderLeadingIcon(),this.label,this.renderTrailingIcon())}},{key:"renderTrailingIcon",value:function(){return(0,f.qy)(n||(n=m`<slot name="trailing-icon"></slot>`))}}])}(p.k);b.styles=[_.R,g.R,v.R,(0,f.AH)(r||(r=m`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(
          --ha-assist-chip-container-shape,
          16px
        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:var(--ha-font-family-body)}`))],(0,h.__decorate)([(0,y.MZ)({type:Boolean,reflect:!0})],b.prototype,"filled",void 0),(0,h.__decorate)([(0,y.MZ)({type:Boolean})],b.prototype,"active",void 0),b=(0,h.__decorate)([(0,y.EM)("ha-assist-chip")],b)},22780:function(e,t,i){i.a(e,async function(e,t){try{var a=i(98735),s=i(88486),n=i(73983),r=i(62020),o=i(31802),l=i(21101),c=i(23180),u=(i(38606),i(96956),i(79827),i(80178),i(65315),i(12840),i(837),i(37089),i(59023),i(45519),i(74774),i(69868)),d=i(84922),h=i(11991),p=i(65940),v=i(44017),_=i(77832),g=i(88341),f=i(52777),y=i(52847),m=i(9171),b=i(36322),w=i(15241),k=i(38525),A=(i(99322),i(64578)),$=(i(9058),i(86160),e([A]));A=($.then?(await $)():$)[0];var x,C,z,M,S,E,L=e=>e,O="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",P="M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z",q="___ADD_NEW___",I=function(e){function t(){var e;(0,r.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,l.A)(this,t,[].concat(a))).noAdd=!1,e.disabled=!1,e.required=!1,e._computeValueRenderer=(0,p.A)(t=>t=>{var i=e.hass.areas[t];if(!i)return(0,d.qy)(x||(x=L` <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline">${0}</span> `),P,i);var a=(0,y.L)(i,e.hass.floors).floor,s=i?(0,_.A)(i):void 0,n=a?(0,f.X)(a):void 0,r=i.icon;return(0,d.qy)(C||(C=L` ${0} <span slot="headline">${0}</span> ${0} `),r?(0,d.qy)(z||(z=L`<ha-icon slot="start" .icon="${0}"></ha-icon>`),r):(0,d.qy)(M||(M=L`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),P),s,n?(0,d.qy)(S||(S=L`<span slot="supporting-text">${0}</span>`),n):d.s6)}),e._getAreas=(0,p.A)((t,i,a,s,r,o,l,c,u)=>{var d,h,p={},v=Object.values(t),m=Object.values(i),w=Object.values(a);(s||r||o||l||c)&&(p=(0,b.g2)(w),d=m,h=w.filter(e=>e.area_id),s&&(d=d.filter(e=>{var t=p[e.id];return!(!t||!t.length)&&p[e.id].some(e=>s.includes((0,g.m)(e.entity_id)))}),h=h.filter(e=>s.includes((0,g.m)(e.entity_id)))),r&&(d=d.filter(e=>{var t=p[e.id];return!t||!t.length||w.every(e=>!r.includes((0,g.m)(e.entity_id)))}),h=h.filter(e=>!r.includes((0,g.m)(e.entity_id)))),o&&(d=d.filter(t=>{var i=p[t.id];return!(!i||!i.length)&&p[t.id].some(t=>{var i=e.hass.states[t.entity_id];return!!i&&(i.attributes.device_class&&o.includes(i.attributes.device_class))})}),h=h.filter(t=>{var i=e.hass.states[t.entity_id];return i.attributes.device_class&&o.includes(i.attributes.device_class)})),l&&(d=d.filter(e=>l(e))),c&&(d=d.filter(t=>{var i=p[t.id];return!(!i||!i.length)&&p[t.id].some(t=>{var i=e.hass.states[t.entity_id];return!!i&&c(i)})}),h=h.filter(t=>{var i=e.hass.states[t.entity_id];return!!i&&c(i)})));var k,A=v;return d&&(k=d.filter(e=>e.area_id).map(e=>e.area_id)),h&&(k=(null!=k?k:[]).concat(h.filter(e=>e.area_id).map(e=>e.area_id))),k&&(A=A.filter(e=>k.includes(e.area_id))),u&&(A=A.filter(e=>!u.includes(e.area_id))),A.map(t=>{var i=(0,y.L)(t,e.hass.floors).floor,a=i?(0,f.X)(i):void 0,s=(0,_.A)(t);return{id:t.area_id,primary:s||t.area_id,secondary:a,icon:t.icon||void 0,icon_path:t.icon?void 0:P,sorting_label:s,search_labels:[s,a,t.area_id].concat((0,n.A)(t.aliases)).filter(e=>Boolean(e))}})}),e._getItems=()=>e._getAreas(e.hass.areas,e.hass.devices,e.hass.entities,e.includeDomains,e.excludeDomains,e.includeDeviceClasses,e.deviceFilter,e.entityFilter,e.excludeAreas),e._allAreaNames=(0,p.A)(e=>Object.values(e).map(e=>{var t;return null===(t=(0,_.A)(e))||void 0===t?void 0:t.toLowerCase()}).filter(Boolean)),e._getAdditionalItems=t=>{if(e.noAdd)return[];var i=e._allAreaNames(e.hass.areas);return t&&!i.includes(t.toLowerCase())?[{id:q+t,primary:e.hass.localize("ui.components.area-picker.add_new_sugestion",{name:t}),icon_path:O}]:[{id:q,primary:e.hass.localize("ui.components.area-picker.add_new"),icon_path:O}]},e}return(0,c.A)(t,e),(0,o.A)(t,[{key:"open",value:(i=(0,s.A)((0,a.A)().m(function e(){var t;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this._picker)||void 0===t?void 0:t.open();case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var e,t=null!==(e=this.placeholder)&&void 0!==e?e:this.hass.localize("ui.components.area-picker.area"),i=this._computeValueRenderer(this.hass.areas);return(0,d.qy)(E||(E=L` <ha-generic-picker .hass="${0}" .autofocus="${0}" .label="${0}" .helper="${0}" .notFoundLabel="${0}" .placeholder="${0}" .value="${0}" .getItems="${0}" .getAdditionalItems="${0}" .valueRenderer="${0}" .addButtonLabel="${0}" @value-changed="${0}"> </ha-generic-picker> `),this.hass,this.autofocus,this.label,this.helper,this.hass.localize("ui.components.area-picker.no_match"),t,this.value,this._getItems,this._getAdditionalItems,i,this.addButtonLabel,this._valueChanged)}},{key:"_valueChanged",value:function(e){var t=this;e.stopPropagation();var i=e.detail.value;if(i)if(i.startsWith(q)){this.hass.loadFragmentTranslation("config");var n=i.substring(13);(0,k.J)(this,{suggestedName:n,createEntry:(r=(0,s.A)((0,a.A)().m(function e(i){var s,n;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,m.L3)(t.hass,i);case 1:s=e.v,t._setValue(s.area_id),e.n=3;break;case 2:e.p=2,n=e.v,(0,w.showAlertDialog)(t,{title:t.hass.localize("ui.components.area-picker.failed_create_area"),text:n.message});case 3:return e.a(2)}},e,null,[[0,2]])})),function(e){return r.apply(this,arguments)})})}else{var r;this._setValue(i)}else this._setValue(void 0)}},{key:"_setValue",value:function(e){this.value=e,(0,v.r)(this,"value-changed",{value:e}),(0,v.r)(this,"change")}}]);var i}(d.WF);(0,u.__decorate)([(0,h.MZ)({attribute:!1})],I.prototype,"hass",void 0),(0,u.__decorate)([(0,h.MZ)()],I.prototype,"label",void 0),(0,u.__decorate)([(0,h.MZ)()],I.prototype,"value",void 0),(0,u.__decorate)([(0,h.MZ)()],I.prototype,"helper",void 0),(0,u.__decorate)([(0,h.MZ)()],I.prototype,"placeholder",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean,attribute:"no-add"})],I.prototype,"noAdd",void 0),(0,u.__decorate)([(0,h.MZ)({type:Array,attribute:"include-domains"})],I.prototype,"includeDomains",void 0),(0,u.__decorate)([(0,h.MZ)({type:Array,attribute:"exclude-domains"})],I.prototype,"excludeDomains",void 0),(0,u.__decorate)([(0,h.MZ)({type:Array,attribute:"include-device-classes"})],I.prototype,"includeDeviceClasses",void 0),(0,u.__decorate)([(0,h.MZ)({type:Array,attribute:"exclude-areas"})],I.prototype,"excludeAreas",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],I.prototype,"deviceFilter",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],I.prototype,"entityFilter",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],I.prototype,"disabled",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],I.prototype,"required",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:"add-button-label"})],I.prototype,"addButtonLabel",void 0),(0,u.__decorate)([(0,h.P)("ha-generic-picker")],I.prototype,"_picker",void 0),I=(0,u.__decorate)([(0,h.EM)("ha-area-picker")],I),t()}catch(Z){t(Z)}})},81341:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{r:function(){return b}});var s=i(18202),n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=i(87426),u=(i(38606),i(69868)),d=i(78696),h=i(84922),p=i(11991),v=i(18183),_=i(50809),g=e([d]);d=(g.then?(await g)():g)[0];var f,y,m=e=>e,b=300,w=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=(0,o.A)(this,t,[].concat(a))).open=!1,e.flexContent=!1,e._drawerOpen=!1,e._gestureRecognizer=new v.u,e._isDragging=!1,e._handleTouchStart=t=>{var i,a=(0,s.A)(t.composedPath());try{for(a.s();!(i=a.n()).done;){var n=i.value;if(n===e._drawer)break;if(n.scrollTop>0)return}}catch(r){a.e(r)}finally{a.f()}e._startResizing(t.touches[0].clientY)},e._handleTouchMove=t=>{var i=t.touches[0].clientY,a=e._gestureRecognizer.move(i);a<0&&(t.preventDefault(),e._isDragging=!0,requestAnimationFrame(()=>{e._isDragging&&e.style.setProperty("--dialog-transform",`translateY(${-1*a}px)`)}))},e._handleTouchEnd=()=>{var t;e._unregisterResizeHandlers(),e._isDragging=!1;var i=e._gestureRecognizer.end();if(i.isSwipe)i.isDownwardSwipe?e._drawerOpen=!1:e._animateSnapBack();else{var a=null===(t=e._drawer.shadowRoot)||void 0===t?void 0:t.querySelector('[part="body"]'),s=(null==a?void 0:a.offsetHeight)||0;s>0&&i.delta<0&&Math.abs(i.delta)>.5*s?e._drawerOpen=!1:e._animateSnapBack()}},e._unregisterResizeHandlers=()=>{document.removeEventListener("touchmove",e._handleTouchMove),document.removeEventListener("touchend",e._handleTouchEnd),document.removeEventListener("touchcancel",e._handleTouchEnd)},e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"_handleAfterHide",value:function(){this.open=!1;var e=new Event("closed",{bubbles:!0,composed:!0});this.dispatchEvent(e)}},{key:"updated",value:function(e){(0,c.A)(t,"updated",this,3)([e]),e.has("open")&&(this._drawerOpen=this.open)}},{key:"render",value:function(){return(0,h.qy)(f||(f=m` <wa-drawer id="drawer" placement="bottom" .open="${0}" @wa-after-hide="${0}" without-header @touchstart="${0}"> <slot name="header"></slot> <div id="body" class="body ha-scrollbar"> <slot></slot> </div> </wa-drawer> `),this._drawerOpen,this._handleAfterHide,this._handleTouchStart)}},{key:"_startResizing",value:function(e){document.addEventListener("touchmove",this._handleTouchMove,{passive:!1}),document.addEventListener("touchend",this._handleTouchEnd),document.addEventListener("touchcancel",this._handleTouchEnd),this._gestureRecognizer.start(e)}},{key:"_animateSnapBack",value:function(){this.style.setProperty("--dialog-transition",`transform ${b}ms ease-out`),this.style.removeProperty("--dialog-transform"),setTimeout(()=>{this.style.removeProperty("--dialog-transition")},b)}},{key:"disconnectedCallback",value:function(){(0,c.A)(t,"disconnectedCallback",this,3)([]),this._unregisterResizeHandlers(),this._isDragging=!1}}])}(h.WF);w.styles=[_.dp,(0,h.AH)(y||(y=m`wa-drawer{--wa-color-surface-raised:transparent;--spacing:0;--size:var(--ha-bottom-sheet-height, auto);--show-duration:${0}ms;--hide-duration:${0}ms}wa-drawer::part(dialog){max-height:var(--ha-bottom-sheet-max-height,90vh);align-items:center;transform:var(--dialog-transform);transition:var(--dialog-transition)}wa-drawer::part(body){max-width:var(--ha-bottom-sheet-max-width);width:100%;border-top-left-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));border-top-right-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));background-color:var(--ha-bottom-sheet-surface-background,var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff)));padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}:host([flexcontent]) wa-drawer::part(body){display:flex;flex-direction:column}:host([flexcontent]) .body{flex:1;max-width:100%;display:flex;flex-direction:column;padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}`),b,b)],(0,u.__decorate)([(0,p.MZ)({type:Boolean})],w.prototype,"open",void 0),(0,u.__decorate)([(0,p.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],w.prototype,"flexContent",void 0),(0,u.__decorate)([(0,p.wk)()],w.prototype,"_drawerOpen",void 0),(0,u.__decorate)([(0,p.P)("#drawer")],w.prototype,"_drawer",void 0),w=(0,u.__decorate)([(0,p.EM)("ha-bottom-sheet")],w),a()}catch(k){a(k)}})},70490:function(e,t,i){var a,s,n,r=i(62020),o=i(31802),l=i(21101),c=i(23180),u=(i(38606),i(69868)),d=i(84922),h=i(11991),p=e=>e,v=function(e){function t(){var e;(0,r.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,l.A)(this,t,[].concat(a))).raised=!1,e}return(0,c.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){return(0,d.qy)(a||(a=p` ${0} <slot></slot> `),this.header?(0,d.qy)(s||(s=p`<h1 class="card-header">${0}</h1>`),this.header):d.s6)}}])}(d.WF);v.styles=(0,d.AH)(n||(n=p`:host{background:var(--ha-card-background,var(--card-background-color,#fff));-webkit-backdrop-filter:var(--ha-card-backdrop-filter,none);backdrop-filter:var(--ha-card-backdrop-filter,none);box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,var(--primary-text-color));font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, var(--ha-font-size-2xl));letter-spacing:-.012em;line-height:var(--ha-line-height-expanded);padding:var(--ha-space-3) var(--ha-space-4) var(--ha-space-4);display:block;margin-block-start:var(--ha-space-0);margin-block-end:var(--ha-space-0);font-weight:var(--ha-font-weight-normal)}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:var(--ha-space-0);margin-top:calc(var(--ha-space-2) * -1)}:host ::slotted(.card-content){padding:var(--ha-space-4)}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:var(--ha-space-2)}`)),(0,u.__decorate)([(0,h.MZ)()],v.prototype,"header",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean,reflect:!0})],v.prototype,"raised",void 0),v=(0,u.__decorate)([(0,h.EM)("ha-card")],v)},89141:function(e,t,i){i.a(e,async function(e,a){try{i.r(t),i.d(t,{HaLanguagePicker:function(){return z},getLanguageOptions:function(){return C}});var s=i(62020),n=i(31802),r=i(21101),o=i(23180),l=i(87426),c=i(77489),u=(i(38606),i(44941),i(80178),i(35058),i(65315),i(84136),i(37089),i(45519),i(69868)),d=i(84922),h=i(11991),p=i(65940),v=i(44017),_=i(32560),g=i(24730),f=i(93232),y=i(17372),m=i(64578),b=e([c,y,m,_]);[c,y,m,_]=b.then?(await b)():b;var w,k,A,$,x=e=>e,C=(e,t,i,a)=>{var s=[];if(t){var n=f.P.translations;s=e.map(e=>{var t,i=null===(t=n[e])||void 0===t?void 0:t.nativeName;if(!i)try{i=new Intl.DisplayNames(e,{type:"language",fallback:"code"}).of(e)}catch(a){i=e}return{id:e,primary:i,search_labels:[i]}})}else a&&(s=e.map(e=>({id:e,primary:(0,_.T)(e,a),search_labels:[(0,_.T)(e,a)]})));return!i&&a&&s.sort((e,t)=>(0,g.SH)(e.primary,t.primary,a.language)),s},z=function(e){function t(){var e;(0,s.A)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,r.A)(this,t,[].concat(a))).disabled=!1,e.required=!1,e.nativeName=!1,e.buttonStyle=!1,e.noSort=!1,e.inlineArrow=!1,e._defaultLanguages=[],e._getLanguagesOptions=(0,p.A)(C),e._getItems=()=>{var t,i;return e._getLanguagesOptions(null!==(t=e.languages)&&void 0!==t?t:e._defaultLanguages,e.nativeName,e.noSort,null===(i=e.hass)||void 0===i?void 0:i.locale)},e._getLanguageName=t=>{var i;return null===(i=e._getItems().find(e=>e.id===t))||void 0===i?void 0:i.primary},e._valueRenderer=t=>{var i;return(0,d.qy)(w||(w=x`<span slot="headline">${0}</span> `),null!==(i=e._getLanguageName(t))&&void 0!==i?i:t)},e}return(0,o.A)(t,e),(0,n.A)(t,[{key:"firstUpdated",value:function(e){(0,l.A)(t,"firstUpdated",this,3)([e]),this._computeDefaultLanguageOptions()}},{key:"_computeDefaultLanguageOptions",value:function(){this._defaultLanguages=Object.keys(f.P.translations)}},{key:"render",value:function(){var e,t,i,a,s=null!==(e=this.value)&&void 0!==e?e:this.required&&!this.disabled?this._getItems()[0].id:this.value;return(0,d.qy)(k||(k=x` <ha-generic-picker .hass="${0}" .autofocus="${0}" popover-placement="bottom-end" .notFoundLabel="${0}" .placeholder="${0}" .value="${0}" .valueRenderer="${0}" .disabled="${0}" .getItems="${0}" @value-changed="${0}" hide-clear-icon> ${0} </ha-generic-picker> `),this.hass,this.autofocus,null===(t=this.hass)||void 0===t?void 0:t.localize("ui.components.language-picker.no_match"),null!==(i=this.label)&&void 0!==i?i:(null===(a=this.hass)||void 0===a?void 0:a.localize("ui.components.language-picker.language"))||"Language",s,this._valueRenderer,this.disabled,this._getItems,this._changed,this.buttonStyle?(0,d.qy)(A||(A=x`<ha-button slot="field" .disabled="${0}" @click="${0}" appearance="plain" variant="neutral"> ${0} <ha-svg-icon slot="end" .path="${0}"></ha-svg-icon> </ha-button>`),this.disabled,this._openPicker,this._getLanguageName(s),"M7,10L12,15L17,10H7Z"):d.s6)}},{key:"_openPicker",value:function(e){e.stopPropagation(),this.genericPicker.open()}},{key:"_changed",value:function(e){e.stopPropagation(),this.value=e.detail.value,(0,v.r)(this,"value-changed",{value:this.value})}}])}(d.WF);z.styles=(0,d.AH)($||($=x`ha-generic-picker{width:100%;min-width:200px;display:block}`)),(0,u.__decorate)([(0,h.MZ)()],z.prototype,"value",void 0),(0,u.__decorate)([(0,h.MZ)()],z.prototype,"label",void 0),(0,u.__decorate)([(0,h.MZ)({type:Array})],z.prototype,"languages",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],z.prototype,"hass",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean,reflect:!0})],z.prototype,"disabled",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],z.prototype,"required",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:"native-name",type:Boolean})],z.prototype,"nativeName",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean,attribute:"button-style"})],z.prototype,"buttonStyle",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:"no-sort",type:Boolean})],z.prototype,"noSort",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:"inline-arrow",type:Boolean})],z.prototype,"inlineArrow",void 0),(0,u.__decorate)([(0,h.wk)()],z.prototype,"_defaultLanguages",void 0),(0,u.__decorate)([(0,h.P)("ha-generic-picker",!0)],z.prototype,"genericPicker",void 0),z=(0,u.__decorate)([(0,h.EM)("ha-language-picker")],z),a()}catch(M){a(M)}})},14532:function(e,t,i){var a=i(31802),s=i(62020),n=i(21101),r=i(23180),o=i(69868),l=i(47722),c=i(60311),u=i(11991),d=function(e){function t(){return(0,s.A)(this,t),(0,n.A)(this,t,arguments)}return(0,r.A)(t,e),(0,a.A)(t)}(l.iY);d.styles=c.R,d=(0,o.__decorate)([(0,u.EM)("ha-list")],d)},19912:function(e,t,i){var a,s,n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=(i(38606),i(69868)),u=i(84922),d=i(11991),h=i(44017),p=(i(33574),i(68937),e=>e),v=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,o.A)(this,t,[].concat(a))).disabled=!1,e.anchorCorner="end-start",e.menuCorner="start-start",e.hasOverflow=!1,e.quick=!1,e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"items",get:function(){return this._menu.items}},{key:"focus",value:function(){var e;this._menu.open?this._menu.focus():null===(e=this._triggerButton)||void 0===e||e.focus()}},{key:"render",value:function(){return(0,u.qy)(a||(a=p` <div @click="${0}"> <slot name="trigger" @slotchange="${0}"></slot> </div> <ha-md-menu .quick="${0}" .positioning="${0}" .hasOverflow="${0}" .anchorCorner="${0}" .menuCorner="${0}" @opening="${0}" @closing="${0}"> <slot></slot> </ha-md-menu> `),this._handleClick,this._setTriggerAria,this.quick,this.positioning,this.hasOverflow,this.anchorCorner,this.menuCorner,this._handleOpening,this._handleClosing)}},{key:"_handleOpening",value:function(){(0,h.r)(this,"opening",void 0,{composed:!1})}},{key:"_handleClosing",value:function(){(0,h.r)(this,"closing",void 0,{composed:!1})}},{key:"_handleClick",value:function(){this.disabled||(this._menu.anchorElement=this,this._menu.open?this._menu.close():this._menu.show())}},{key:"_triggerButton",get:function(){return this.querySelector('ha-icon-button[slot="trigger"], ha-button[slot="trigger"], ha-assist-chip[slot="trigger"]')}},{key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}}])}(u.WF);v.styles=(0,u.AH)(s||(s=p`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`)),(0,c.__decorate)([(0,d.MZ)({type:Boolean})],v.prototype,"disabled",void 0),(0,c.__decorate)([(0,d.MZ)()],v.prototype,"positioning",void 0),(0,c.__decorate)([(0,d.MZ)({attribute:"anchor-corner"})],v.prototype,"anchorCorner",void 0),(0,c.__decorate)([(0,d.MZ)({attribute:"menu-corner"})],v.prototype,"menuCorner",void 0),(0,c.__decorate)([(0,d.MZ)({type:Boolean,attribute:"has-overflow"})],v.prototype,"hasOverflow",void 0),(0,c.__decorate)([(0,d.MZ)({type:Boolean})],v.prototype,"quick",void 0),(0,c.__decorate)([(0,d.P)("ha-md-menu",!0)],v.prototype,"_menu",void 0),v=(0,c.__decorate)([(0,d.EM)("ha-md-button-menu")],v)},75369:function(e,t,i){var a,s=i(31802),n=i(62020),r=i(21101),o=i(23180),l=i(69868),c=i(88752),u=i(43739),d=i(84922),h=i(11991),p=function(e){function t(){return(0,n.A)(this,t),(0,r.A)(this,t,arguments)}return(0,o.A)(t,e),(0,s.A)(t)}(c.B);p.styles=[u.R,(0,d.AH)(a||(a=(e=>e)`:host{--md-sys-color-surface:var(--card-background-color)}`))],p=(0,l.__decorate)([(0,h.EM)("ha-md-list")],p)},68937:function(e,t,i){var a,s=i(62020),n=i(31802),r=i(21101),o=i(87426),l=i(23180),c=i(69868),u=i(5673),d=i(89591),h=i(18396),p=i(84922),v=i(11991),_=function(e){function t(){return(0,s.A)(this,t),(0,r.A)(this,t,arguments)}return(0,l.A)(t,e),(0,n.A)(t,[{key:"connectedCallback",value:function(){(0,o.A)(t,"connectedCallback",this,3)([]),this.addEventListener("close-menu",this._handleCloseMenu)}},{key:"_handleCloseMenu",value:function(e){var t,i;e.detail.reason.kind===h.fi.KEYDOWN&&e.detail.reason.key===h.NV.ESCAPE||null===(t=(i=e.detail.initiator).clickAction)||void 0===t||t.call(i,e.detail.initiator)}}])}(u.W1);_.styles=[d.R,(0,p.AH)(a||(a=(e=>e)`:host{--md-sys-color-surface-container:var(--card-background-color)}`))],_=(0,c.__decorate)([(0,v.EM)("ha-md-menu")],_)},61631:function(e,t,i){var a,s=i(62020),n=i(31802),r=i(21101),o=i(23180),l=i(69868),c=i(95463),u=i(3941),d=i(84922),h=i(11991),p=i(75907),v=(i(14532),e=>e),_=function(e){function t(){return(0,s.A)(this,t),(0,r.A)(this,t,arguments)}return(0,o.A)(t,e),(0,n.A)(t,[{key:"listElement",get:function(){return this.listElement_||(this.listElement_=this.renderRoot.querySelector("ha-list")),this.listElement_}},{key:"renderList",value:function(){var e="menu"===this.innerRole?"menuitem":"option",t=this.renderListClasses();return(0,d.qy)(a||(a=v`<ha-list rootTabbable .innerAriaLabel="${0}" .innerRole="${0}" .multi="${0}" class="${0}" .itemRoles="${0}" .wrapFocus="${0}" .activatable="${0}" @action="${0}"> <slot></slot> </ha-list>`),this.innerAriaLabel,this.innerRole,this.multi,(0,p.H)(t),e,this.wrapFocus,this.activatable,this.onAction)}}])}(c.ZR);_.styles=u.R,_=(0,l.__decorate)([(0,h.EM)("ha-menu")],_)},35988:function(e,t,i){var a,s,n,r=i(62020),o=i(31802),l=i(21101),c=i(23180),u=(i(38606),i(65152),i(69868)),d=i(84922),h=i(11991),p=(i(9058),i(80287),e=>e),v=function(e){function t(){var e;(0,r.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,l.A)(this,t,[].concat(a))).icon=!1,e.iconTrailing=!1,e.autocorrect=!0,e.value="",e.placeholder="",e.label="",e.disabled=!1,e.required=!1,e.minLength=-1,e.maxLength=-1,e.outlined=!1,e.helper="",e.validateOnInitialRender=!1,e.validationMessage="",e.autoValidate=!1,e.pattern="",e.size=null,e.helperPersistent=!1,e.charCounter=!1,e.endAligned=!1,e.prefix="",e.suffix="",e.name="",e.readOnly=!1,e.autocapitalize="",e._unmaskedPassword=!1,e}return(0,c.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e;return(0,d.qy)(a||(a=p`<ha-textfield .invalid="${0}" .errorMessage="${0}" .icon="${0}" .iconTrailing="${0}" .autocomplete="${0}" .autocorrect="${0}" .inputSpellcheck="${0}" .value="${0}" .placeholder="${0}" .label="${0}" .disabled="${0}" .required="${0}" .minLength="${0}" .maxLength="${0}" .outlined="${0}" .helper="${0}" .validateOnInitialRender="${0}" .validationMessage="${0}" .autoValidate="${0}" .pattern="${0}" .size="${0}" .helperPersistent="${0}" .charCounter="${0}" .endAligned="${0}" .prefix="${0}" .name="${0}" .inputMode="${0}" .readOnly="${0}" .autocapitalize="${0}" .type="${0}" .suffix="${0}" @input="${0}" @change="${0}"></ha-textfield> <ha-icon-button .label="${0}" @click="${0}" .path="${0}"></ha-icon-button>`),this.invalid,this.errorMessage,this.icon,this.iconTrailing,this.autocomplete,this.autocorrect,this.inputSpellcheck,this.value,this.placeholder,this.label,this.disabled,this.required,this.minLength,this.maxLength,this.outlined,this.helper,this.validateOnInitialRender,this.validationMessage,this.autoValidate,this.pattern,this.size,this.helperPersistent,this.charCounter,this.endAligned,this.prefix,this.name,this.inputMode,this.readOnly,this.autocapitalize,this._unmaskedPassword?"text":"password",(0,d.qy)(s||(s=p`<div style="width:24px"></div>`)),this._handleInputEvent,this._handleChangeEvent,(null===(e=this.hass)||void 0===e?void 0:e.localize(this._unmaskedPassword?"ui.components.selectors.text.hide_password":"ui.components.selectors.text.show_password"))||(this._unmaskedPassword?"Hide password":"Show password"),this._toggleUnmaskedPassword,this._unmaskedPassword?"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z":"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z")}},{key:"focus",value:function(){this._textField.focus()}},{key:"checkValidity",value:function(){return this._textField.checkValidity()}},{key:"reportValidity",value:function(){return this._textField.reportValidity()}},{key:"setCustomValidity",value:function(e){return this._textField.setCustomValidity(e)}},{key:"layout",value:function(){return this._textField.layout()}},{key:"_toggleUnmaskedPassword",value:function(){this._unmaskedPassword=!this._unmaskedPassword}},{key:"_handleInputEvent",value:function(e){this.value=e.target.value}},{key:"_handleChangeEvent",value:function(e){this.value=e.target.value,this._reDispatchEvent(e)}},{key:"_reDispatchEvent",value:function(e){var t=new Event(e.type,e);this.dispatchEvent(t)}}])}(d.WF);v.styles=(0,d.AH)(n||(n=p`:host{display:block;position:relative}ha-textfield{width:100%}ha-icon-button{position:absolute;top:8px;right:8px;inset-inline-start:initial;inset-inline-end:8px;--mdc-icon-button-size:40px;--mdc-icon-size:20px;color:var(--secondary-text-color);direction:var(--direction)}`)),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"invalid",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:"error-message"})],v.prototype,"errorMessage",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"icon",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"iconTrailing",void 0),(0,u.__decorate)([(0,h.MZ)()],v.prototype,"autocomplete",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"autocorrect",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:"input-spellcheck"})],v.prototype,"inputSpellcheck",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],v.prototype,"value",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],v.prototype,"placeholder",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],v.prototype,"label",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean,reflect:!0})],v.prototype,"disabled",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"required",void 0),(0,u.__decorate)([(0,h.MZ)({type:Number})],v.prototype,"minLength",void 0),(0,u.__decorate)([(0,h.MZ)({type:Number})],v.prototype,"maxLength",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean,reflect:!0})],v.prototype,"outlined",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],v.prototype,"helper",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"validateOnInitialRender",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],v.prototype,"validationMessage",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"autoValidate",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],v.prototype,"pattern",void 0),(0,u.__decorate)([(0,h.MZ)({type:Number})],v.prototype,"size",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"helperPersistent",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"charCounter",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"endAligned",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],v.prototype,"prefix",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],v.prototype,"suffix",void 0),(0,u.__decorate)([(0,h.MZ)({type:String})],v.prototype,"name",void 0),(0,u.__decorate)([(0,h.MZ)({type:String,attribute:"input-mode"})],v.prototype,"inputMode",void 0),(0,u.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"readOnly",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1,type:String})],v.prototype,"autocapitalize",void 0),(0,u.__decorate)([(0,h.wk)()],v.prototype,"_unmaskedPassword",void 0),(0,u.__decorate)([(0,h.P)("ha-textfield")],v.prototype,"_textField",void 0),(0,u.__decorate)([(0,h.Ls)({passive:!0})],v.prototype,"_handleInputEvent",null),(0,u.__decorate)([(0,h.Ls)({passive:!0})],v.prototype,"_handleChangeEvent",null),v=(0,u.__decorate)([(0,h.EM)("ha-password-field")],v)},76498:function(e,t,i){i.a(e,async function(e,t){try{var a=i(62020),s=i(31802),n=i(21101),r=i(87426),o=i(23180),l=i(69868),c=i(35240),u=i(84922),d=i(11991),h=e([c]);c=(h.then?(await h)():h)[0];var p,v=e=>e,_=function(e){function t(){return(0,a.A)(this,t),(0,n.A)(this,t,arguments)}return(0,o.A)(t,e),(0,s.A)(t,[{key:"updated",value:function(e){if((0,r.A)(t,"updated",this,3)([e]),e.has("size"))switch(this.size){case"tiny":this.style.setProperty("--ha-progress-ring-size","16px");break;case"small":this.style.setProperty("--ha-progress-ring-size","28px");break;case"medium":this.style.setProperty("--ha-progress-ring-size","48px");break;case"large":this.style.setProperty("--ha-progress-ring-size","68px");break;case void 0:this.style.removeProperty("--ha-progress-ring-size")}}}],[{key:"styles",get:function(){return[c.A.styles,(0,u.AH)(p||(p=v`:host{--indicator-color:var(
            --ha-progress-ring-indicator-color,
            var(--primary-color)
          );--track-color:var(
            --ha-progress-ring-divider-color,
            var(--divider-color)
          );--track-width:4px;--speed:3.5s;--size:var(--ha-progress-ring-size, 48px)}`))]}}])}(c.A);(0,l.__decorate)([(0,d.MZ)()],_.prototype,"size",void 0),_=(0,l.__decorate)([(0,d.EM)("ha-progress-ring")],_),t()}catch(g){t(g)}})},46073:function(e,t,i){var a=i(69868),s=i(16186),n=i(45141),r=i(84922),o=i(11991);let l;class c extends s.F{}c.styles=[n.R,(0,r.AH)(l||(l=(e=>e)`:host{--mdc-theme-secondary:var(--primary-color)}`))],c=(0,a.__decorate)([(0,o.EM)("ha-radio")],c)},2460:function(e,t,i){var a,s,n,r,o,l=i(62020),c=i(31802),u=i(21101),d=i(23180),h=(i(1415),i(32203),i(38606),i(80178),i(65315),i(37089),i(65152),i(45519),i(69868)),p=i(84922),v=i(11991),_=i(75907),g=i(48893),f=i(44017),y=i(63211),m=i(54e3),b=(i(46073),e=>e),w=function(e){function t(){var e;(0,l.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,u.A)(this,t,[].concat(a))).options=[],e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){var e,t=null!==(e=this.maxColumns)&&void 0!==e?e:3,i=Math.min(t,this.options.length);return(0,p.qy)(a||(a=b` <div class="list" style="${0}"> ${0} </div> `),(0,g.W)({"--columns":i}),this.options.map(e=>this._renderOption(e)))}},{key:"_renderOption",value:function(e){var t,i=1===this.maxColumns,a=e.disabled||this.disabled||!1,o=e.value===this.value,l=(null===(t=this.hass)||void 0===t?void 0:t.themes.darkMode)||!1,c=!!this.hass&&(0,m.qC)(this.hass),u="object"==typeof e.image?l&&e.image.src_dark||e.image.src:e.image,d="object"==typeof e.image&&(c&&e.image.flip_rtl);return(0,p.qy)(s||(s=b` <label class="option ${0}" ?disabled="${0}" @click="${0}"> <div class="content"> <ha-radio .checked="${0}" .value="${0}" .disabled="${0}" @change="${0}" @click="${0}"></ha-radio> <div class="text"> <span class="label">${0}</span> ${0} </div> </div> ${0} </label> `),(0,_.H)({horizontal:i,selected:o}),a,this._labelClick,e.value===this.value,e.value,a,this._radioChanged,y.d,e.label,e.description?(0,p.qy)(n||(n=b`<span class="description">${0}</span>`),e.description):p.s6,u?(0,p.qy)(r||(r=b` <img class="${0}" alt="" src="${0}"> `),d?"flipped":"",u):p.s6)}},{key:"_labelClick",value:function(e){var t;e.stopPropagation(),null===(t=e.currentTarget.querySelector("ha-radio"))||void 0===t||t.click()}},{key:"_radioChanged",value:function(e){var t;e.stopPropagation();var i=e.currentTarget.value;this.disabled||void 0===i||i===(null!==(t=this.value)&&void 0!==t?t:"")||(0,f.r)(this,"value-changed",{value:i})}}])}(p.WF);w.styles=(0,p.AH)(o||(o=b`.list{display:grid;grid-template-columns:repeat(var(--columns,1),minmax(0,1fr));gap:var(--ha-space-3)}.option{position:relative;display:block;border:1px solid var(--divider-color);border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:12px;gap:var(--ha-space-2);overflow:hidden;cursor:pointer}.option .content{position:relative;display:flex;flex-direction:row;gap:var(--ha-space-2);min-width:0;width:100%}.option .content ha-radio{margin:-12px;flex:none}.option .content .text{display:flex;flex-direction:column;gap:var(--ha-space-1);min-width:0;flex:1}.option .content .text .label{color:var(--primary-text-color);font-size:var(--ha-font-size-m);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-condensed);overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.option .content .text .description{color:var(--secondary-text-color);font-size:var(--ha-font-size-s);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-condensed)}img{position:relative;max-width:var(--ha-select-box-image-size,96px);max-height:var(--ha-select-box-image-size,96px);margin:auto}.flipped{transform:scaleX(-1)}.option.horizontal{flex-direction:row;align-items:flex-start}.option.horizontal img{margin:0}.option:before{content:"";display:block;inset:0;position:absolute;background-color:transparent;pointer-events:none;opacity:.2;transition:background-color 180ms ease-in-out,opacity 180ms ease-in-out}.option:hover:before{background-color:var(--divider-color)}.option.selected:before{background-color:var(--primary-color)}.option[disabled]{cursor:not-allowed}.option[disabled] .content,.option[disabled] img{opacity:.5}.option[disabled]:before{background-color:var(--disabled-color);opacity:.05}`)),(0,h.__decorate)([(0,v.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,h.__decorate)([(0,v.MZ)({attribute:!1})],w.prototype,"options",void 0),(0,h.__decorate)([(0,v.MZ)({attribute:!1})],w.prototype,"value",void 0),(0,h.__decorate)([(0,v.MZ)({type:Boolean})],w.prototype,"disabled",void 0),(0,h.__decorate)([(0,v.MZ)({type:Number,attribute:"max_columns"})],w.prototype,"maxColumns",void 0),w=(0,h.__decorate)([(0,v.EM)("ha-select-box")],w)},53312:function(e,t,i){var a,s,n,r,o,l=i(98735),c=i(88486),u=i(62020),d=i(31802),h=i(21101),p=i(23180),v=i(87426),_=(i(38606),i(69868)),g=i(24126),f=i(5187),y=i(84922),m=i(11991),b=i(75907),w=i(51849),k=i(54337),A=(i(9058),i(61631),e=>e),$=function(e){function t(){var e;(0,u.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,h.A)(this,t,[].concat(a))).icon=!1,e.clearable=!1,e.inlineArrow=!1,e._translationsUpdated=(0,w.s)((0,c.A)((0,l.A)().m(function t(){return(0,l.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,k.E)();case 1:e.layoutOptions();case 2:return t.a(2)}},t)})),500),e}return(0,p.A)(t,e),(0,d.A)(t,[{key:"render",value:function(){return(0,y.qy)(a||(a=A` ${0} ${0} `),(0,v.A)(t,"render",this,3)([]),this.clearable&&!this.required&&!this.disabled&&this.value?(0,y.qy)(s||(s=A`<ha-icon-button label="clear" @click="${0}" .path="${0}"></ha-icon-button>`),this._clearValue,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):y.s6)}},{key:"renderMenu",value:function(){var e=this.getMenuClasses();return(0,y.qy)(n||(n=A`<ha-menu innerRole="listbox" wrapFocus class="${0}" activatable .fullwidth="${0}" .open="${0}" .anchor="${0}" .fixed="${0}" @selected="${0}" @opened="${0}" @closed="${0}" @items-updated="${0}" @keydown="${0}"> ${0} </ha-menu>`),(0,b.H)(e),!this.fixedMenuPosition&&!this.naturalMenuWidth,this.menuOpen,this.anchorElement,this.fixedMenuPosition,this.onSelected,this.onOpened,this.onClosed,this.onItemsUpdated,this.handleTypeahead,this.renderMenuContent())}},{key:"renderLeadingIcon",value:function(){return this.icon?(0,y.qy)(r||(r=A`<span class="mdc-select__icon"><slot name="icon"></slot></span>`)):y.s6}},{key:"connectedCallback",value:function(){(0,v.A)(t,"connectedCallback",this,3)([]),window.addEventListener("translations-updated",this._translationsUpdated)}},{key:"firstUpdated",value:(i=(0,c.A)((0,l.A)().m(function e(){var i;return(0,l.A)().w(function(e){for(;;)switch(e.n){case 0:(0,v.A)(t,"firstUpdated",this,3)([]),this.inlineArrow&&(null===(i=this.shadowRoot)||void 0===i||null===(i=i.querySelector(".mdc-select__selected-text-container"))||void 0===i||i.classList.add("inline-arrow"));case 1:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"updated",value:function(e){if((0,v.A)(t,"updated",this,3)([e]),e.has("inlineArrow")){var i,a=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".mdc-select__selected-text-container");this.inlineArrow?null==a||a.classList.add("inline-arrow"):null==a||a.classList.remove("inline-arrow")}e.get("options")&&(this.layoutOptions(),this.selectByValue(this.value))}},{key:"disconnectedCallback",value:function(){(0,v.A)(t,"disconnectedCallback",this,3)([]),window.removeEventListener("translations-updated",this._translationsUpdated)}},{key:"_clearValue",value:function(){!this.disabled&&this.value&&(this.valueSetDirectly=!0,this.select(-1),this.mdcFoundation.handleChange())}}]);var i}(g.o);$.styles=[f.R,(0,y.AH)(o||(o=A`:host([clearable]){position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:var(--secondary-text-color)}.mdc-select__anchor{width:var(--ha-select-min-width,200px)}.mdc-select--filled .mdc-select__anchor{height:var(--ha-select-height,56px)}.mdc-select--filled .mdc-floating-label{inset-inline-start:var(--ha-space-4);inset-inline-end:initial;direction:var(--direction)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{inset-inline-start:48px;inset-inline-end:initial;direction:var(--direction)}.mdc-select .mdc-select__anchor{padding-inline-start:var(--ha-space-4);padding-inline-end:0px;direction:var(--direction)}.mdc-select__anchor .mdc-floating-label--float-above{transform-origin:var(--float-start)}.mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,0px)}:host([clearable]) .mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,var(--ha-space-4))}ha-icon-button{position:absolute;top:10px;right:28px;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);inset-inline-start:initial;inset-inline-end:28px;direction:var(--direction)}.inline-arrow{flex-grow:0}`))],(0,_.__decorate)([(0,m.MZ)({type:Boolean})],$.prototype,"icon",void 0),(0,_.__decorate)([(0,m.MZ)({type:Boolean,reflect:!0})],$.prototype,"clearable",void 0),(0,_.__decorate)([(0,m.MZ)({attribute:"inline-arrow",type:Boolean})],$.prototype,"inlineArrow",void 0),(0,_.__decorate)([(0,m.MZ)()],$.prototype,"options",void 0),$=(0,_.__decorate)([(0,m.EM)("ha-select")],$)},90723:function(e,t,i){var a,s,n,r,o=i(98735),l=i(88486),c=i(62020),u=i(31802),d=i(21101),h=i(23180),p=i(87426),v=(i(38606),i(44941),i(80178),i(65315),i(84136),i(37089),i(45519),i(69868)),_=i(84922),g=i(11991),f=i(44017),y=i(63211),m=i(51849),b=i(9827),w=(i(77510),i(53312),e=>e),k="__NONE_OPTION__",A=function(e){function t(){var e;(0,c.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,d.A)(this,t,[].concat(a))).disabled=!1,e.required=!1,e._debouncedUpdateVoices=(0,m.s)(()=>e._updateVoices(),500),e}return(0,h.A)(t,e),(0,u.A)(t,[{key:"render",value:function(){var e,t;if(!this._voices)return _.s6;var i=null!==(e=this.value)&&void 0!==e?e:this.required?null===(t=this._voices[0])||void 0===t?void 0:t.voice_id:k;return(0,_.qy)(a||(a=w` <ha-select .label="${0}" .value="${0}" .required="${0}" .disabled="${0}" @selected="${0}" @closed="${0}" fixedMenuPosition naturalMenuWidth> ${0} ${0} </ha-select> `),this.label||this.hass.localize("ui.components.tts-voice-picker.voice"),i,this.required,this.disabled,this._changed,y.d,this.required?_.s6:(0,_.qy)(s||(s=w`<ha-list-item .value="${0}"> ${0} </ha-list-item>`),k,this.hass.localize("ui.components.tts-voice-picker.none")),this._voices.map(e=>(0,_.qy)(n||(n=w`<ha-list-item .value="${0}"> ${0} </ha-list-item>`),e.voice_id,e.name)))}},{key:"willUpdate",value:function(e){(0,p.A)(t,"willUpdate",this,3)([e]),this.hasUpdated?(e.has("language")||e.has("engineId"))&&this._debouncedUpdateVoices():this._updateVoices()}},{key:"_updateVoices",value:(i=(0,l.A)((0,o.A)().m(function e(){return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:if(this.engineId&&this.language){e.n=1;break}return this._voices=void 0,e.a(2);case 1:return e.n=2,(0,b.z3)(this.hass,this.engineId,this.language);case 2:if(this._voices=e.v.voices,this.value){e.n=3;break}return e.a(2);case 3:this._voices&&this._voices.find(e=>e.voice_id===this.value)||(this.value=void 0,(0,f.r)(this,"value-changed",{value:this.value}));case 4:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"updated",value:function(e){var i,a,s;((0,p.A)(t,"updated",this,3)([e]),e.has("_voices")&&(null===(i=this._select)||void 0===i?void 0:i.value)!==this.value)&&(null===(a=this._select)||void 0===a||a.layoutOptions(),(0,f.r)(this,"value-changed",{value:null===(s=this._select)||void 0===s?void 0:s.value}))}},{key:"_changed",value:function(e){var t=e.target;!this.hass||""===t.value||t.value===this.value||void 0===this.value&&t.value===k||(this.value=t.value===k?void 0:t.value,(0,f.r)(this,"value-changed",{value:this.value}))}}]);var i}(_.WF);A.styles=(0,_.AH)(r||(r=w`ha-select{width:100%}`)),(0,v.__decorate)([(0,g.MZ)()],A.prototype,"value",void 0),(0,v.__decorate)([(0,g.MZ)()],A.prototype,"label",void 0),(0,v.__decorate)([(0,g.MZ)({attribute:!1})],A.prototype,"engineId",void 0),(0,v.__decorate)([(0,g.MZ)()],A.prototype,"language",void 0),(0,v.__decorate)([(0,g.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,v.__decorate)([(0,g.MZ)({type:Boolean,reflect:!0})],A.prototype,"disabled",void 0),(0,v.__decorate)([(0,g.MZ)({type:Boolean})],A.prototype,"required",void 0),(0,v.__decorate)([(0,g.wk)()],A.prototype,"_voices",void 0),(0,v.__decorate)([(0,g.P)("ha-select")],A.prototype,"_select",void 0),A=(0,v.__decorate)([(0,g.EM)("ha-tts-voice-picker")],A)},156:function(e,t,i){i.d(t,{$$:function(){return g},AH:function(){return n},NH:function(){return p},QC:function(){return s},Uc:function(){return o},Zr:function(){return v},ds:function(){return _},hJ:function(){return l},mp:function(){return u},nx:function(){return c},u6:function(){return d},vU:function(){return r},zn:function(){return h}});var a=i(73983),s=(i(38606),(e,t,i)=>"run-start"===t.type?e={init_options:i,stage:"ready",run:t.data,events:[t]}:e?((e="wake_word-start"===t.type?Object.assign(Object.assign({},e),{},{stage:"wake_word",wake_word:Object.assign(Object.assign({},t.data),{},{done:!1})}):"wake_word-end"===t.type?Object.assign(Object.assign({},e),{},{wake_word:Object.assign(Object.assign(Object.assign({},e.wake_word),t.data),{},{done:!0})}):"stt-start"===t.type?Object.assign(Object.assign({},e),{},{stage:"stt",stt:Object.assign(Object.assign({},t.data),{},{done:!1})}):"stt-end"===t.type?Object.assign(Object.assign({},e),{},{stt:Object.assign(Object.assign(Object.assign({},e.stt),t.data),{},{done:!0})}):"intent-start"===t.type?Object.assign(Object.assign({},e),{},{stage:"intent",intent:Object.assign(Object.assign({},t.data),{},{done:!1})}):"intent-end"===t.type?Object.assign(Object.assign({},e),{},{intent:Object.assign(Object.assign(Object.assign({},e.intent),t.data),{},{done:!0})}):"tts-start"===t.type?Object.assign(Object.assign({},e),{},{stage:"tts",tts:Object.assign(Object.assign({},t.data),{},{done:!1})}):"tts-end"===t.type?Object.assign(Object.assign({},e),{},{tts:Object.assign(Object.assign(Object.assign({},e.tts),t.data),{},{done:!0})}):"run-end"===t.type?Object.assign(Object.assign({},e),{},{stage:"done"}):"error"===t.type?Object.assign(Object.assign({},e),{},{stage:"error",error:t.data}):Object.assign({},e)).events=[].concat((0,a.A)(e.events),[t]),e):void console.warn("Received unexpected event before receiving session",t)),n=(e,t,i)=>{var a,n=r(e,e=>{a=s(a,e,i),"run-end"!==e.type&&"error"!==e.type||n.then(e=>e()),a&&t(a)},i);return n},r=(e,t,i)=>e.connection.subscribeMessage(t,Object.assign(Object.assign({},i),{},{type:"assist_pipeline/run"})),o=(e,t)=>e.callWS({type:"assist_pipeline/pipeline_debug/list",pipeline_id:t}),l=(e,t,i)=>e.callWS({type:"assist_pipeline/pipeline_debug/get",pipeline_id:t,pipeline_run_id:i}),c=e=>e.callWS({type:"assist_pipeline/pipeline/list"}),u=(e,t)=>e.callWS({type:"assist_pipeline/pipeline/get",pipeline_id:t}),d=(e,t)=>e.callWS(Object.assign({type:"assist_pipeline/pipeline/create"},t)),h=(e,t,i)=>e.callWS(Object.assign({type:"assist_pipeline/pipeline/update",pipeline_id:t},i)),p=(e,t)=>e.callWS({type:"assist_pipeline/pipeline/set_preferred",pipeline_id:t}),v=(e,t)=>e.callWS({type:"assist_pipeline/pipeline/delete",pipeline_id:t}),_=e=>e.callWS({type:"assist_pipeline/language/list"}),g=e=>e.callWS({type:"assist_pipeline/device/list"})},50991:function(e,t,i){i.d(t,{Gu:function(){return r},Pd:function(){return _},Sb:function(){return f},Up:function(){return g},Ut:function(){return o},cn:function(){return p},dq:function(){return d},eN:function(){return u},p1:function(){return y},p7:function(){return n},q3:function(){return c},qF:function(){return m},ql:function(){return v},vO:function(){return l},yG:function(){return h}});var a=i(52012),s=["hass"],n=e=>{var t=e.hass,i=(0,a.A)(e,s);return t.callApi("POST","cloud/login",i)},r=e=>e.callApi("POST","cloud/logout"),o=(e,t)=>e.callApi("POST","cloud/forgot_password",{email:t}),l=(e,t,i)=>e.callApi("POST","cloud/register",{email:t,password:i}),c=(e,t)=>e.callApi("POST","cloud/resend_confirm",{email:t}),u=e=>e.callWS({type:"cloud/status"}),d=(e,t)=>e.callWS({type:"cloud/cloudhook/create",webhook_id:t}),h=(e,t)=>e.callWS({type:"cloud/cloudhook/delete",webhook_id:t}),p=e=>e.callWS({type:"cloud/remote/connect"}),v=e=>e.callWS({type:"cloud/remote/disconnect"}),_=e=>e.callWS({type:"cloud/subscription"}),g=(e,t)=>e.callWS(Object.assign({type:"cloud/update_prefs"},t)),f=e=>e.callWS({type:"cloud/remove_data"}),y=(e,t,i)=>e.callWS({type:"cloud/google_assistant/entities/update",entity_id:t,disable_2fa:i}),m=e=>e.callApi("GET","cloud/support_package")},60359:function(e,t,i){if(i.d(t,{RW:function(){return r},ZE:function(){return s},e1:function(){return o},vc:function(){return n}}),59509==i.j)var a=i(11111);var s=function(e){return e[e.CONTROL=1]="CONTROL",e}({}),n=(e,t,i)=>e.callWS({type:"conversation/agent/list",language:t,country:i}),r=(e,t,i,s)=>e.callWS({type:"conversation/agent/homeassistant/debug",sentences:(0,a.e)(t),language:i,device_id:s}),o=(e,t,i)=>e.callWS({type:"conversation/agent/homeassistant/language_scores",language:t,country:i})},72746:function(e,t,i){i.d(t,{j:function(){return s}});var a=i(44017);const s=(e,t)=>{(0,a.r)(e,"haptic",t)}},62177:function(e,t,i){i.d(t,{xG:function(){return c},b3:function(){return o},eK:function(){return l}});var a=i(98735),s=i(88486),n=(i(46852),i(44941),i(65315),i(84136),i(45519),i(99106)),r=i(63625),o=function(){var e=(0,s.A)((0,a.A)().m(function e(t){var i;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(!(0,n.v)(t.config.version,2021,2,4)){e.n=1;break}return e.a(2,t.callWS({type:"supervisor/api",endpoint:"/addons",method:"get"}));case 1:return i=r.PS,e.n=2,t.callApi("GET","hassio/addons");case 2:return e.a(2,i(e.v))}},e)}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.A)((0,a.A)().m(function e(t,i){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(!(0,n.v)(t.config.version,2021,2,4)){e.n=1;break}return e.a(2,t.callWS({type:"supervisor/api",endpoint:`/addons/${i}/start`,method:"post",timeout:null}));case 1:return e.a(2,t.callApi("POST",`hassio/addons/${i}/start`))}},e)}));return function(t,i){return e.apply(this,arguments)}}(),c=function(){var e=(0,s.A)((0,a.A)().m(function e(t,i){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(!(0,n.v)(t.config.version,2021,2,4)){e.n=2;break}return e.n=1,t.callWS({type:"supervisor/api",endpoint:`/addons/${i}/install`,method:"post",timeout:null});case 1:case 3:return e.a(2);case 2:return e.n=3,t.callApi("POST",`hassio/addons/${i}/install`)}},e)}));return function(t,i){return e.apply(this,arguments)}}()},63625:function(e,t,i){i.d(t,{PS:function(){return o},Tv:function(){return u},VR:function(){return l},lE:function(){return d}});var a,s=i(98735),n=i(88486),r=(i(79827),i(35748),i(45519),i(64587),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030),i(95013),i(99106)),o=e=>e.data,l=e=>"object"==typeof e?"object"==typeof e.body?e.body.message||"Unknown error, see supervisor logs":e.body||e.message||"Unknown error, see supervisor logs":e,c=new Set([502,503,504]),u=e=>!!(e&&e.status_code&&c.has(e.status_code))||!(!e||!e.message||!e.message.includes("ERR_CONNECTION_CLOSED")&&!e.message.includes("ERR_CONNECTION_RESET")),d=59509==i.j?(a=(0,n.A)((0,s.A)().m(function e(t,i){var a;return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:if(!(0,r.v)(t.config.version,2021,2,4)){e.n=1;break}return e.a(2,t.callWS({type:"supervisor/api",endpoint:`/${i}/stats`,method:"get"}));case 1:return a=o,e.n=2,t.callApi("GET",`hassio/${i}/stats`);case 2:return e.a(2,a(e.v))}},e)})),function(e,t){return a.apply(this,arguments)}):null},54748:function(e,t,i){i.d(t,{w:function(){return a}});var a=(e,t,i)=>e.callService("select","select_option",{option:i},{entity_id:t})},52179:function(e,t,i){i.d(t,{T:function(){return a}});var a=(e,t,i)=>e.callWS({type:"stt/engine/list",language:t,country:i})},9827:function(e,t,i){i.d(t,{EF:function(){return r},S_:function(){return a},Xv:function(){return o},ni:function(){return n},u1:function(){return l},z3:function(){return c}});var a=(e,t)=>e.callApi("POST","tts_get_url",t),s="media-source://tts/",n=e=>e.startsWith(s),r=e=>e.substring(19),o=(e,t,i)=>e.callWS({type:"tts/engine/list",language:t,country:i}),l=(e,t)=>e.callWS({type:"tts/engine/get",engine_id:t}),c=(e,t,i)=>e.callWS({type:"tts/engine/voices",engine_id:t,language:i})},61470:function(e,t,i){i.d(t,{d:function(){return a}});var a=e=>e.callWS({type:"wyoming/info"})},82564:function(e,t,i){i.a(e,async function(e,t){try{var a=i(62020),s=i(31802),n=i(21101),r=i(23180),o=i(69868),l=i(84922),c=i(11991),u=i(44017),d=i(17372),h=(i(86160),i(71522)),p=i(26597),v=e([d]);d=(v.then?(await v)():v)[0];var _,g,f=e=>e,y=function(e){function t(){return(0,a.A)(this,t),(0,n.A)(this,t,arguments)}return(0,r.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e,t,i;return(0,l.qy)(_||(_=f`<div class="content"> <img src="${0}" alt="Nabu Casa logo"> <h1> ${0} </h1> <div class="features"> <div class="feature speech"> <div class="logos"> <div class="round-icon"> <ha-svg-icon .path="${0}"></ha-svg-icon> </div> </div> <h2> ${0} <span class="no-wrap"></span> </h2> <p> ${0} </p> </div> <div class="feature access"> <div class="logos"> <div class="round-icon"> <ha-svg-icon .path="${0}"></ha-svg-icon> </div> </div> <h2> ${0} <span class="no-wrap"></span> </h2> <p> ${0} </p> </div> <div class="feature"> <div class="logos"> <img alt="Google Assistant" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer"> <img alt="Amazon Alexa" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer"> </div> <h2> ${0} </h2> <p> ${0} </p> </div> </div> </div> <div class="footer side-by-side"> <ha-button href="https://www.nabucasa.com" target="_blank" rel="noreferrer noopener" appearance="plain"> <ha-svg-icon .path="${0}" slot="start"></ha-svg-icon> nabucasa.com </ha-button> <ha-button @click="${0}">${0}</ha-button> </div>`),`/static/images/logo_nabu_casa${null!==(e=this.hass.themes)&&void 0!==e&&e.darkMode?"_dark":""}.png`,this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.cloud.title"),"M8,7A2,2 0 0,1 10,9V14A2,2 0 0,1 8,16A2,2 0 0,1 6,14V9A2,2 0 0,1 8,7M14,14C14,16.97 11.84,19.44 9,19.92V22H7V19.92C4.16,19.44 2,16.97 2,14H4A4,4 0 0,0 8,18A4,4 0 0,0 12,14H14M21.41,9.41L17.17,13.66L18.18,10H14A2,2 0 0,1 12,8V4A2,2 0 0,1 14,2H20A2,2 0 0,1 22,4V8C22,8.55 21.78,9.05 21.41,9.41Z",this.hass.localize("ui.panel.config.voice_assistants.assistants.cloud.features.speech.title"),this.hass.localize("ui.panel.config.voice_assistants.assistants.cloud.features.speech.text"),"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",this.hass.localize("ui.panel.config.voice_assistants.assistants.cloud.features.remote_access.title"),this.hass.localize("ui.panel.config.voice_assistants.assistants.cloud.features.remote_access.text"),(0,h.MR)({domain:"google_assistant",type:"icon",darkOptimized:null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode}),(0,h.MR)({domain:"alexa",type:"icon",darkOptimized:null===(i=this.hass.themes)||void 0===i?void 0:i.darkMode}),this.hass.localize("ui.panel.config.voice_assistants.assistants.cloud.features.assistants.title"),this.hass.localize("ui.panel.config.voice_assistants.assistants.cloud.features.assistants.text"),"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z",this._signUp,this.hass.localize("ui.panel.config.cloud.register.headline"))}},{key:"_signUp",value:function(){(0,u.r)(this,"cloud-step",{step:"SIGNUP"})}}])}(l.WF);y.styles=[p.s,(0,l.AH)(g||(g=f`:host{display:flex}.features{display:flex;flex-direction:column;grid-gap:var(--ha-space-4);padding:16px}.feature{display:flex;flex-direction:column;align-items:center;text-align:center;margin-bottom:16px}.feature .logos{margin-bottom:16px}.feature .logos>*{width:40px;height:40px;margin:0 4px}.round-icon{border-radius:var(--ha-border-radius-circle);color:#6e41ab;background-color:#e8dcf7;display:flex;align-items:center;justify-content:center;font-size:var(--ha-font-size-2xl)}.access .round-icon{color:#00aef8;background-color:#cceffe}.feature h2{font-size:var(--ha-font-size-l);font-weight:var(--ha-font-weight-medium);line-height:var(--ha-line-height-normal);margin-top:0;margin-bottom:8px}.feature p{font-size:var(--ha-font-size-m);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-condensed);margin:0}`))],(0,o.__decorate)([(0,c.MZ)({attribute:!1})],y.prototype,"hass",void 0),y=(0,o.__decorate)([(0,c.EM)("cloud-step-intro")],y),t()}catch(m){t(m)}})},5382:function(e,t,i){i.a(e,async function(e,t){try{var a=i(98735),s=i(88486),n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=(i(38606),i(54323),i(69868)),u=i(84922),d=i(11991),h=i(44017),p=i(77240),v=(i(94124),i(17372)),_=(i(35988),i(86160),i(80287),i(50991)),g=i(76619),f=i(15241),y=i(26597),m=e([v]);v=(m.then?(await m)():m)[0];var b,w,k,A=e=>e,$=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,o.A)(this,t,[].concat(a)))._requestInProgress=!1,e._checkConnection=!0,e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e;return(0,u.qy)(b||(b=A`<div class="content"> <img src="${0}" alt="Nabu Casa logo"> <h1>${0}</h1> ${0} <ha-textfield autofocus id="email" name="email" .label="${0}" .disabled="${0}" type="email" autocomplete="email" required @keydown="${0}" validationMessage="${0}"></ha-textfield> <ha-password-field id="password" name="password" .label="${0}" .disabled="${0}" autocomplete="new-password" minlength="8" required @keydown="${0}" validationMessage="${0}"></ha-password-field> </div> <div class="footer"> <ha-button @click="${0}" .disabled="${0}">${0}</ha-button> </div>`),`/static/images/logo_nabu_casa${null!==(e=this.hass.themes)&&void 0!==e&&e.darkMode?"_dark":""}.png`,this.hass.localize("ui.panel.config.cloud.login.sign_in"),this._error?(0,u.qy)(w||(w=A`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):"",this.hass.localize("ui.panel.config.cloud.register.email_address"),this._requestInProgress,this._keyDown,this.hass.localize("ui.panel.config.cloud.register.email_error_msg"),this.hass.localize("ui.panel.config.cloud.register.password"),this._requestInProgress,this._keyDown,this.hass.localize("ui.panel.config.cloud.register.password_error_msg"),this._handleLogin,this._requestInProgress,this.hass.localize("ui.panel.config.cloud.login.sign_in"))}},{key:"_keyDown",value:function(e){"Enter"===e.key&&this._handleLogin()}},{key:"_handleLogin",value:(i=(0,s.A)((0,a.A)().m(function e(){var t,i,n,r,o,l=this;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(t=this._emailField,i=this._passwordField,n=t.value,r=i.value,t.reportValidity()){e.n=1;break}return i.reportValidity(),t.focus(),e.a(2);case 1:if(i.reportValidity()){e.n=2;break}return i.focus(),e.a(2);case 2:return this._requestInProgress=!0,o=function(){var e=(0,s.A)((0,a.A)().m(function e(i,s){var n,c,u,d;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,_.p7)(Object.assign(Object.assign({hass:l.hass,email:i},s?{code:s}:{password:r}),{},{check_connection:l._checkConnection}));case 1:e.n=16;break;case 2:if(e.p=2,u=e.v,"mfarequired"!==(n=u&&u.body&&u.body.code)){e.n=5;break}return e.n=3,(0,f.an)(l,{title:l.hass.localize("ui.panel.config.cloud.login.totp_code_prompt_title"),inputLabel:l.hass.localize("ui.panel.config.cloud.login.totp_code"),inputType:"text",defaultValue:"",confirmText:l.hass.localize("ui.panel.config.cloud.login.submit")});case 3:if(null===(c=e.v)||""===c){e.n=5;break}return e.n=4,o(i,c);case 4:return e.a(2);case 5:if("alreadyconnectederror"!==n){e.n=6;break}return(0,g.o)(l,{details:JSON.parse(u.body.message),logInHereAction:()=>{l._checkConnection=!1,o(i)},closeDialog:()=>{l._requestInProgress=!1}}),e.a(2);case 6:if("usernotfound"!==n||i===i.toLowerCase()){e.n=8;break}return e.n=7,o(i.toLowerCase());case 7:return e.a(2);case 8:if("PasswordChangeRequired"!==n){e.n=9;break}return(0,f.showAlertDialog)(l,{title:l.hass.localize("ui.panel.config.cloud.login.alert_password_change_required")}),(0,p.o)("/config/cloud/forgot-password"),(0,h.r)(l,"closed"),e.a(2);case 9:l._requestInProgress=!1,d=n,e.n="UserNotConfirmed"===d?10:"mfarequired"===d?11:"mfaexpiredornotstarted"===d?12:"invalidtotpcode"===d?13:14;break;case 10:return l._error=l.hass.localize("ui.panel.config.cloud.login.alert_email_confirm_necessary"),e.a(3,15);case 11:return l._error=l.hass.localize("ui.panel.config.cloud.login.alert_mfa_code_required"),e.a(3,15);case 12:return l._error=l.hass.localize("ui.panel.config.cloud.login.alert_mfa_expired_or_not_started"),e.a(3,15);case 13:return l._error=l.hass.localize("ui.panel.config.cloud.login.alert_totp_code_invalid"),e.a(3,15);case 14:return l._error=u&&u.body&&u.body.message?u.body.message:"Unknown error",e.a(3,15);case 15:t.focus();case 16:return e.a(2)}},e,null,[[0,2]])}));return function(t,i){return e.apply(this,arguments)}}(),e.n=3,o(n);case 3:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})}]);var i}(u.WF);$.styles=[y.s,(0,u.AH)(k||(k=A`:host{display:block}ha-password-field,ha-textfield{display:block}`))],(0,c.__decorate)([(0,d.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,c.__decorate)([(0,d.wk)()],$.prototype,"_requestInProgress",void 0),(0,c.__decorate)([(0,d.wk)()],$.prototype,"_error",void 0),(0,c.__decorate)([(0,d.wk)()],$.prototype,"_checkConnection",void 0),(0,c.__decorate)([(0,d.P)("#email",!0)],$.prototype,"_emailField",void 0),(0,c.__decorate)([(0,d.P)("#password",!0)],$.prototype,"_passwordField",void 0),$=(0,c.__decorate)([(0,d.EM)("cloud-step-signin")],$),t()}catch(x){t(x)}})},60436:function(e,t,i){i.a(e,async function(e,t){try{var a=i(98735),s=i(88486),n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=(i(38606),i(69868)),u=i(84922),d=i(11991),h=i(44017),p=(i(94124),i(17372)),v=(i(35988),i(86160),i(80287),i(50991)),_=i(26597),g=e([p]);p=(g.then?(await g)():g)[0];var f,y,m,b,w,k,A,$=e=>e,x=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,o.A)(this,t,[].concat(a)))._requestInProgress=!1,e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e;return(0,u.qy)(f||(f=$`<div class="content"> <img src="${0}" alt="Nabu Casa logo"> <h1> ${0} </h1> ${0} ${0} </div> <div class="footer side-by-side"> ${0} </div>`),`/static/images/logo_nabu_casa${null!==(e=this.hass.themes)&&void 0!==e&&e.darkMode?"_dark":""}.png`,this.hass.localize("ui.panel.config.cloud.register.create_account"),this._error?(0,u.qy)(y||(y=$`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):"","VERIFY"===this._state?(0,u.qy)(m||(m=$`<p> ${0} </p>`),this.hass.localize("ui.panel.config.cloud.register.confirm_email",{email:this._email})):(0,u.qy)(b||(b=$`<ha-textfield autofocus id="email" name="email" .label="${0}" .disabled="${0}" type="email" autocomplete="email" required @keydown="${0}" validationMessage="${0}"></ha-textfield> <ha-password-field id="password" name="password" .label="${0}" .disabled="${0}" autocomplete="new-password" minlength="8" required @keydown="${0}" validationMessage="${0}"></ha-password-field>`),this.hass.localize("ui.panel.config.cloud.register.email_address"),this._requestInProgress,this._keyDown,this.hass.localize("ui.panel.config.cloud.register.email_error_msg"),this.hass.localize("ui.panel.config.cloud.register.password"),this._requestInProgress,this._keyDown,this.hass.localize("ui.panel.config.cloud.register.password_error_msg")),"VERIFY"===this._state?(0,u.qy)(w||(w=$`<ha-button @click="${0}" .disabled="${0}" appearance="plain">${0}</ha-button><ha-button @click="${0}" .disabled="${0}">${0}</ha-button>`),this._handleResendVerifyEmail,this._requestInProgress,this.hass.localize("ui.panel.config.cloud.register.resend_confirm_email"),this._login,this._requestInProgress,this.hass.localize("ui.panel.config.cloud.register.clicked_confirm")):(0,u.qy)(k||(k=$`<ha-button @click="${0}" .disabled="${0}" appearance="plain">${0}</ha-button> <ha-button @click="${0}" .disabled="${0}">${0}</ha-button>`),this._signIn,this._requestInProgress,this.hass.localize("ui.panel.config.cloud.login.sign_in"),this._handleRegister,this._requestInProgress,this.hass.localize("ui.common.next")))}},{key:"_signIn",value:function(){(0,h.r)(this,"cloud-step",{step:"SIGNIN"})}},{key:"_keyDown",value:function(e){"Enter"===e.key&&this._handleRegister()}},{key:"_handleRegister",value:(d=(0,s.A)((0,a.A)().m(function e(){var t,i,s,n,r;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=this._emailField,i=this._passwordField,t.reportValidity()){e.n=1;break}return i.reportValidity(),t.focus(),e.a(2);case 1:if(i.reportValidity()){e.n=2;break}return i.focus(),e.a(2);case 2:return s=t.value.toLowerCase(),n=i.value,this._requestInProgress=!0,e.p=3,e.n=4,(0,v.vO)(this.hass,s,n);case 4:this._email=s,this._password=n,this._verificationEmailSent(),e.n=6;break;case 5:e.p=5,r=e.v,this._password="",this._error=r&&r.body&&r.body.message?r.body.message:"Unknown error";case 6:return e.p=6,this._requestInProgress=!1,e.f(6);case 7:return e.a(2)}},e,this,[[3,5,6,7]])})),function(){return d.apply(this,arguments)})},{key:"_handleResendVerifyEmail",value:(c=(0,s.A)((0,a.A)().m(function e(){var t;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this._email){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,(0,v.q3)(this.hass,this._email);case 2:this._verificationEmailSent(),e.n=4;break;case 3:e.p=3,t=e.v,this._error=t&&t.body&&t.body.message?t.body.message:"Unknown error";case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return c.apply(this,arguments)})},{key:"_verificationEmailSent",value:function(){this._state="VERIFY",setTimeout(()=>this._login(),5e3)}},{key:"_login",value:(i=(0,s.A)((0,a.A)().m(function e(){var t,i;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this._email&&this._password){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,(0,v.p7)({hass:this.hass,email:this._email,password:this._password});case 2:(0,h.r)(this,"cloud-step",{step:"DONE"}),e.n=4;break;case 3:e.p=3,"usernotconfirmed"===(null==(i=e.v)||null===(t=i.body)||void 0===t?void 0:t.code)?this._verificationEmailSent():this._error="Something went wrong. Please try again.";case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return i.apply(this,arguments)})}]);var i,c,d}(u.WF);x.styles=[_.s,(0,u.AH)(A||(A=$`.content{width:100%}ha-password-field,ha-textfield{display:block}`))],(0,c.__decorate)([(0,d.MZ)({attribute:!1})],x.prototype,"hass",void 0),(0,c.__decorate)([(0,d.wk)()],x.prototype,"_requestInProgress",void 0),(0,c.__decorate)([(0,d.wk)()],x.prototype,"_email",void 0),(0,c.__decorate)([(0,d.wk)()],x.prototype,"_password",void 0),(0,c.__decorate)([(0,d.wk)()],x.prototype,"_error",void 0),(0,c.__decorate)([(0,d.wk)()],x.prototype,"_state",void 0),(0,c.__decorate)([(0,d.P)("#email",!0)],x.prototype,"_emailField",void 0),(0,c.__decorate)([(0,d.P)("#password",!0)],x.prototype,"_passwordField",void 0),x=(0,c.__decorate)([(0,d.EM)("cloud-step-signup")],x),t()}catch(C){t(C)}})},26597:function(e,t,i){i.d(t,{s:function(){return n}});var a,s=i(84922),n=[i(50809).RF,(0,s.AH)(a||(a=(e=>e)`:host{align-items:center;text-align:center;min-height:400px;display:flex;flex-direction:column;justify-content:space-between;height:100%;padding:24px;box-sizing:border-box}.content{flex:1}.content img{width:120px}@media all and (max-width:450px),all and (max-height:500px){:host{min-height:100%;height:auto}.content img{margin-top:68px;margin-bottom:68px}}.footer{display:flex;width:100%;flex-direction:row;justify-content:flex-end}.footer.full-width{flex-direction:column}.footer.full-width ha-button{width:100%}.footer.centered{justify-content:center}.footer.side-by-side{justify-content:space-between}`))]},39989:function(e,t,i){i.a(e,async function(e,a){try{i.r(t),i.d(t,{HaVoiceAssistantSetupDialog:function(){return Q},STEP:function(){return J}});var s=i(15243),n=i(98735),r=i(88486),o=i(62020),l=i(31802),c=i(21101),u=i(23180),d=(i(38606),i(96956),i(44941),i(79827),i(80178),i(99342),i(65315),i(837),i(84136),i(37089),i(29726),i(45519),i(74774),i(69868)),h=i(84922),p=i(11991),v=i(65940),_=i(44017),g=i(88341),f=i(32560),y=(i(71770),i(68940),i(89141)),m=(i(19912),i(99561)),b=i(60359),w=i(14523),k=i(50809),A=i(93993),$=i(33057),x=i(20970),C=i(39099),z=i(3477),M=i(37078),S=i(62533),E=i(95009),L=i(37253),O=e([A,$,x,C,z,M,S,E,L,f,y]);[A,$,x,C,z,M,S,E,L,f,y]=O.then?(await O)():O;var P,q,I,Z,T,W,j,N,H,V,R,D,F,U,B,G,K,Y,X=e=>e,J=function(e){return e[e.INIT=0]="INIT",e[e.UPDATE=1]="UPDATE",e[e.CHECK=2]="CHECK",e[e.WAKEWORD=3]="WAKEWORD",e[e.AREA=4]="AREA",e[e.PIPELINE=5]="PIPELINE",e[e.SUCCESS=6]="SUCCESS",e[e.CLOUD=7]="CLOUD",e[e.LOCAL=8]="LOCAL",e[e.CHANGE_WAKEWORD=9]="CHANGE_WAKEWORD",e}({}),Q=function(e){function t(){var e;(0,o.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,c.A)(this,t,[].concat(a)))._step=0,e._languages=[],e._previousSteps=[],e._deviceEntities=(0,v.A)((e,t)=>Object.values(t).filter(t=>t.device_id===e)),e._findDomainEntityId=(0,v.A)((t,i,a)=>{var s;return null===(s=e._deviceEntities(t,i).find(e=>(0,g.m)(e.entity_id)===a))||void 0===s?void 0:s.entity_id}),e}return(0,u.A)(t,e),(0,l.A)(t,[{key:"showDialog",value:(p=(0,r.A)((0,n.A)().m(function e(t){return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:return this._params=t,e.n=1,this._fetchAssistConfiguration();case 1:this._step=1;case 2:return e.a(2)}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"closeDialog",value:(d=(0,r.A)((0,n.A)().m(function e(){var t;return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:null===(t=this.renderRoot.querySelector("ha-dialog"))||void 0===t||t.close();case 1:return e.a(2)}},e,this)})),function(){return d.apply(this,arguments)})},{key:"willUpdate",value:function(e){e.has("_step")&&5===this._step&&this._getLanguages()}},{key:"_dialogClosed",value:function(){this._params=void 0,this._assistConfiguration=void 0,this._previousSteps=[],this._nextStep=void 0,this._step=0,this._language=void 0,this._languages=[],this._localOption=void 0,(0,_.r)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){var e,t;if(!this._params)return h.s6;var i=this._findDomainEntityId(this._params.deviceId,this.hass.entities,"assist_satellite"),a=i?this.hass.states[i]:void 0;return(0,h.qy)(P||(P=X` <ha-dialog open @closed="${0}" .heading="${0}" hideActions escapeKeyAction scrimClickAction> <ha-dialog-header slot="heading"> ${0} ${0} </ha-dialog-header> <div class="content" @next-step="${0}" @prev-step="${0}"> ${0} </div> </ha-dialog> `),this._dialogClosed,"Voice Satellite setup",8===this._step?h.s6:this._previousSteps.length?(0,h.qy)(q||(q=X`<ha-icon-button slot="navigationIcon" .label="${0}" .path="${0}" @click="${0}"></ha-icon-button>`),null!==(e=this.hass.localize("ui.common.back"))&&void 0!==e?e:"Back","M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",this._goToPreviousStep):1!==this._step?(0,h.qy)(I||(I=X`<ha-icon-button slot="navigationIcon" .label="${0}" .path="${0}" @click="${0}"></ha-icon-button>`),null!==(t=this.hass.localize("ui.common.close"))&&void 0!==t?t:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this.closeDialog):h.s6,3===this._step||4===this._step?(0,h.qy)(Z||(Z=X`<ha-button @click="${0}" class="skip-btn" slot="actionItems">${0}</ha-button>`),this._goToNextStep,this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.skip")):5===this._step&&this._language?(0,h.qy)(T||(T=X`<ha-md-button-menu slot="actionItems" positioning="fixed"> <ha-assist-chip .label="${0}" slot="trigger"> <ha-svg-icon slot="trailing-icon" .path="${0}"></ha-svg-icon></ha-assist-chip> ${0} </ha-md-button-menu>`),(0,f.T)(this._language,this.hass.locale),"M7,10L12,15L17,10H7Z",(0,y.getLanguageOptions)(this._languages,!1,!1,this.hass.locale).map(e=>(0,h.qy)(W||(W=X`<ha-md-menu-item .value="${0}" @click="${0}" @keydown="${0}" .selected="${0}"> ${0} </ha-md-menu-item>`),e.id,this._handlePickLanguage,this._handlePickLanguage,this._language===e.id,e.primary))):h.s6,this._goToNextStep,this._goToPreviousStep,1===this._step?(0,h.qy)(j||(j=X`<ha-voice-assistant-setup-step-update .hass="${0}" .updateEntityId="${0}"></ha-voice-assistant-setup-step-update>`),this.hass,this._findDomainEntityId(this._params.deviceId,this.hass.entities,"update")):this._error?(0,h.qy)(N||(N=X`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):(null==a?void 0:a.state)===w.Hh?(0,h.qy)(H||(H=X`<ha-alert alert-type="error">${0}</ha-alert>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.not_available")):2===this._step?(0,h.qy)(V||(V=X`<ha-voice-assistant-setup-step-check .hass="${0}" .assistEntityId="${0}"></ha-voice-assistant-setup-step-check>`),this.hass,i):3===this._step?(0,h.qy)(R||(R=X`<ha-voice-assistant-setup-step-wake-word .hass="${0}" .assistConfiguration="${0}" .assistEntityId="${0}" .deviceEntities="${0}"></ha-voice-assistant-setup-step-wake-word>`),this.hass,this._assistConfiguration,i,this._deviceEntities(this._params.deviceId,this.hass.entities)):9===this._step?(0,h.qy)(D||(D=X` <ha-voice-assistant-setup-step-change-wake-word .hass="${0}" .assistConfiguration="${0}" .assistEntityId="${0}"></ha-voice-assistant-setup-step-change-wake-word> `),this.hass,this._assistConfiguration,i):4===this._step?(0,h.qy)(F||(F=X` <ha-voice-assistant-setup-step-area .hass="${0}" .deviceId="${0}"></ha-voice-assistant-setup-step-area> `),this.hass,this._params.deviceId):5===this._step?(0,h.qy)(U||(U=X`<ha-voice-assistant-setup-step-pipeline .hass="${0}" .languages="${0}" .language="${0}" .assistConfiguration="${0}" .assistEntityId="${0}" @language-changed="${0}"></ha-voice-assistant-setup-step-pipeline>`),this.hass,this._languages,this._language,this._assistConfiguration,i,this._languageChanged):7===this._step?(0,h.qy)(B||(B=X`<ha-voice-assistant-setup-step-cloud .hass="${0}"></ha-voice-assistant-setup-step-cloud>`),this.hass):8===this._step?(0,h.qy)(G||(G=X`<ha-voice-assistant-setup-step-local .hass="${0}" .language="${0}" .localOption="${0}" .assistConfiguration="${0}"></ha-voice-assistant-setup-step-local>`),this.hass,this._language,this._localOption,this._assistConfiguration):6===this._step?(0,h.qy)(K||(K=X`<ha-voice-assistant-setup-step-success .hass="${0}" .assistConfiguration="${0}" .assistEntityId="${0}" .deviceId="${0}"></ha-voice-assistant-setup-step-success>`),this.hass,this._assistConfiguration,i,this._params.deviceId):h.s6)}},{key:"_getLanguages",value:(a=(0,r.A)((0,n.A)().m(function e(){var t;return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:if(!this._languages.length){e.n=1;break}return e.a(2);case 1:return e.n=2,(0,b.e1)(this.hass);case 2:t=e.v,this._languages=Object.entries(t.languages).filter(e=>{var t=(0,s.A)(e,2),i=(t[0],t[1]);return i.cloud>0||i.full_local>0||i.focused_local>0}).map(e=>{var t=(0,s.A)(e,2),i=t[0];return t[1],i}),this._language=t.preferred_language&&this._languages.includes(t.preferred_language)?t.preferred_language:void 0;case 3:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"_fetchAssistConfiguration",value:(i=(0,r.A)((0,n.A)().m(function e(){var t;return(0,n.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,m.Vy)(this.hass,this._findDomainEntityId(this._params.deviceId,this.hass.entities,"assist_satellite"));case 1:this._assistConfiguration=e.v,e.n=3;break;case 2:e.p=2,t=e.v,this._error=t.message;case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return i.apply(this,arguments)})},{key:"_handlePickLanguage",value:function(e){"keydown"===e.type&&"Enter"!==e.key&&" "!==e.key||(this._language=e.target.value)}},{key:"_languageChanged",value:function(e){e.detail.value&&(this._language=e.detail.value)}},{key:"_goToPreviousStep",value:function(){this._previousSteps.length&&(this._step=this._previousSteps.pop())}},{key:"_goToNextStep",value:function(e){var t,i,a,s;null!=e&&null!==(t=e.detail)&&void 0!==t&&t.updateConfig&&this._fetchAssistConfiguration(),null!=e&&null!==(i=e.detail)&&void 0!==i&&i.nextStep&&(this._nextStep=e.detail.nextStep),null!=e&&null!==(a=e.detail)&&void 0!==a&&a.noPrevious||this._previousSteps.push(this._step),null!=e&&null!==(s=e.detail)&&void 0!==s&&s.step?(this._step=e.detail.step,8===e.detail.step&&(this._localOption=e.detail.option)):this._nextStep?(this._step=this._nextStep,this._nextStep=void 0):this._step+=1}}],[{key:"styles",get:function(){return[k.nA,(0,h.AH)(Y||(Y=X`ha-dialog{--dialog-content-padding:0}@media all and (min-width:450px) and (min-height:500px){ha-dialog{--mdc-dialog-min-width:560px;--mdc-dialog-max-width:560px;--mdc-dialog-min-width:min(560px, 95vw);--mdc-dialog-max-width:min(560px, 95vw)}}ha-dialog-header{height:56px}@media all and (max-width:450px),all and (max-height:500px){.content{height:calc(100vh - 56px)}}.skip-btn{margin-top:6px}ha-alert{margin:24px;display:block}ha-md-button-menu{height:48px;display:flex;align-items:center;margin-right:12px;margin-inline-end:12px;margin-inline-start:initial}`))]}}]);var i,a,d,p}(h.WF);(0,d.__decorate)([(0,p.MZ)({attribute:!1})],Q.prototype,"hass",void 0),(0,d.__decorate)([(0,p.wk)()],Q.prototype,"_params",void 0),(0,d.__decorate)([(0,p.wk)()],Q.prototype,"_step",void 0),(0,d.__decorate)([(0,p.wk)()],Q.prototype,"_assistConfiguration",void 0),(0,d.__decorate)([(0,p.wk)()],Q.prototype,"_error",void 0),(0,d.__decorate)([(0,p.wk)()],Q.prototype,"_language",void 0),(0,d.__decorate)([(0,p.wk)()],Q.prototype,"_languages",void 0),(0,d.__decorate)([(0,p.wk)()],Q.prototype,"_localOption",void 0),Q=(0,d.__decorate)([(0,p.EM)("ha-voice-assistant-setup-dialog")],Q),a()}catch(ee){a(ee)}})},93993:function(e,t,i){i.a(e,async function(e,t){try{var a=i(98735),s=i(88486),n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=i(69868),u=i(84922),d=i(11991),h=i(44017),p=i(22780),v=i(36322),_=i(15241),g=i(26597),f=e([p]);p=(f.then?(await f)():f)[0];var y,m,b=e=>e,w=function(e){function t(){return(0,n.A)(this,t),(0,o.A)(this,t,arguments)}return(0,l.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e=this.hass.devices[this.deviceId];return(0,u.qy)(y||(y=b`<div class="content"> <img src="/static/images/voice-assistant/area.png" alt="Casita GiToon logo"> <h1> ${0} </h1> <p class="secondary"> ${0} </p> <ha-area-picker .hass="${0}" .value="${0}"></ha-area-picker> </div> <div class="footer"> <ha-button @click="${0}">${0}</ha-button> </div>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.area.title"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.area.secondary"),this.hass,e.area_id,this._setArea,this.hass.localize("ui.common.next"))}},{key:"_setArea",value:(i=(0,s.A)((0,a.A)().m(function e(){var t;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(t=this.shadowRoot.querySelector("ha-area-picker").value){e.n=1;break}return(0,_.showAlertDialog)(this,{text:this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.area.no_selection")}),e.a(2);case 1:return e.n=2,(0,v.FB)(this.hass,this.deviceId,{area_id:t});case 2:this._nextStep();case 3:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_nextStep",value:function(){(0,h.r)(this,"next-step")}}]);var i}(u.WF);w.styles=[g.s,(0,u.AH)(m||(m=b`ha-area-picker{display:block;width:100%;margin-bottom:24px;text-align:initial}`))],(0,c.__decorate)([(0,d.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,c.__decorate)([(0,d.MZ)({attribute:!1})],w.prototype,"deviceId",void 0),w=(0,c.__decorate)([(0,d.EM)("ha-voice-assistant-setup-step-area")],w),t()}catch(k){t(k)}})},33057:function(e,t,i){i.a(e,async function(e,t){try{var a=i(98735),s=i(88486),n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=(i(80178),i(65315),i(37089),i(45519),i(69868)),u=i(84922),d=i(11991),h=i(44017),p=(i(75369),i(99260),i(99561)),v=i(26597),_=i(39989),g=e([_]);_=(g.then?(await g)():g)[0];var f,y,m,b=e=>e,w=function(e){function t(){return(0,n.A)(this,t),(0,o.A)(this,t,arguments)}return(0,l.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){return(0,u.qy)(f||(f=b`<div class="padding content"> <img src="/static/images/voice-assistant/change-wake-word.png" alt="Casita GiToon logo"> <h1> ${0} </h1> <p class="secondary"> ${0} </p> </div> <ha-md-list> ${0} </ha-md-list>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.change_wake_word.title"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.change_wake_word.secondary"),this.assistConfiguration.available_wake_words.map(e=>(0,u.qy)(y||(y=b`<ha-md-list-item interactive type="button" @click="${0}" .value="${0}"> ${0} <ha-icon-next slot="end"></ha-icon-next> </ha-md-list-item>`),this._wakeWordPicked,e.id,e.wake_word)))}},{key:"_wakeWordPicked",value:(i=(0,s.A)((0,a.A)().m(function e(t){var i;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(this.assistEntityId){e.n=1;break}return e.a(2);case 1:return i=t.currentTarget.value,e.n=2,(0,p.g5)(this.hass,this.assistEntityId,[i]);case 2:this._nextStep();case 3:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_nextStep",value:function(){(0,h.r)(this,"next-step",{step:_.STEP.WAKEWORD,updateConfig:!0})}}]);var i}(u.WF);w.styles=[v.s,(0,u.AH)(m||(m=b`:host{padding:0}.padding{padding:24px}ha-md-list{width:100%;text-align:initial;margin-bottom:24px}`))],(0,c.__decorate)([(0,d.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,c.__decorate)([(0,d.MZ)({attribute:!1})],w.prototype,"assistConfiguration",void 0),(0,c.__decorate)([(0,d.MZ)({attribute:!1})],w.prototype,"assistEntityId",void 0),w=(0,c.__decorate)([(0,d.EM)("ha-voice-assistant-setup-step-change-wake-word")],w),t()}catch(k){t(k)}})},20970:function(e,t,i){i.a(e,async function(e,t){try{var a=i(98735),s=i(88486),n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=i(87426),u=(i(38606),i(69868)),d=i(84922),h=i(11991),p=i(44017),v=i(17372),_=i(96635),g=i(99561),f=i(26597),y=e([v,_]);[v,_]=y.then?(await y)():y;var m,b,w,k,A=e=>e,$=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,o.A)(this,t,[].concat(a)))._showLoader=!1,e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"willUpdate",value:function(e){var i;(0,c.A)(t,"willUpdate",this,3)([e]),this.hasUpdated?"success"===this._status&&e.has("hass")&&"idle"===(null===(i=this.hass.states[this.assistEntityId])||void 0===i?void 0:i.state)&&this._nextStep():this._testConnection()}},{key:"render",value:function(){return(0,d.qy)(m||(m=A`<div class="content"> ${0} </div>`),"timeout"===this._status?(0,d.qy)(b||(b=A`<img src="/static/images/voice-assistant/error.png" alt="Casita GiToon error logo"> <h1> ${0} </h1> <p class="secondary"> ${0} </p> <div class="footer"> <ha-button @click="${0}">${0}</ha-button> </div>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.check.failed_title"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.check.failed_secondary"),this._testConnection,this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.check.retry")):(0,d.qy)(w||(w=A`<img src="/static/images/voice-assistant/hi.png" alt="Casita GiToon hi logo"> <h1> ${0} </h1> <p class="secondary"> ${0} </p> ${0}`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.check.title"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.check.secondary"),this._showLoader?(0,d.qy)(k||(k=A`<ha-spinner></ha-spinner>`)):d.s6))}},{key:"_testConnection",value:(i=(0,s.A)((0,a.A)().m(function e(){var t,i;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return this._status=void 0,this._showLoader=!1,t=setTimeout(()=>{this._showLoader=!0},3e3),e.n=1,(0,g.tl)(this.hass,this.assistEntityId);case 1:i=e.v,clearTimeout(t),this._showLoader=!1,this._status=i.status;case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_nextStep",value:function(){(0,p.r)(this,"next-step",{noPrevious:!0})}}]);var i}(d.WF);$.styles=f.s,(0,u.__decorate)([(0,h.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],$.prototype,"assistEntityId",void 0),(0,u.__decorate)([(0,h.wk)()],$.prototype,"_status",void 0),(0,u.__decorate)([(0,h.wk)()],$.prototype,"_showLoader",void 0),$=(0,u.__decorate)([(0,h.EM)("ha-voice-assistant-setup-step-check")],$),t()}catch(x){t(x)}})},39099:function(e,t,i){i.a(e,async function(e,t){try{var a=i(62020),s=i(31802),n=i(21101),r=i(23180),o=(i(38606),i(69868)),l=i(84922),c=i(11991),u=i(82564),d=i(5382),h=i(60436),p=i(44017),v=i(39989),_=e([u,d,h,v]);[u,d,h,v]=_.then?(await _)():_;var g,f,y,m=e=>e,b=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=(0,n.A)(this,t,[].concat(s)))._state="INTRO",e}return(0,r.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){return"SIGNUP"===this._state?(0,l.qy)(g||(g=m`<cloud-step-signup .hass="${0}" @cloud-step="${0}"></cloud-step-signup>`),this.hass,this._cloudStep):"SIGNIN"===this._state?(0,l.qy)(f||(f=m`<cloud-step-signin .hass="${0}" @cloud-step="${0}"></cloud-step-signin>`),this.hass,this._cloudStep):(0,l.qy)(y||(y=m`<cloud-step-intro .hass="${0}" @cloud-step="${0}"></cloud-step-intro>`),this.hass,this._cloudStep)}},{key:"_cloudStep",value:function(e){"DONE"!==e.detail.step?this._state=e.detail.step:(0,p.r)(this,"next-step",{step:v.STEP.PIPELINE,noPrevious:!0})}}])}(l.WF);(0,o.__decorate)([(0,c.MZ)({attribute:!1})],b.prototype,"hass",void 0),(0,o.__decorate)([(0,c.wk)()],b.prototype,"_state",void 0),b=(0,o.__decorate)([(0,c.EM)("ha-voice-assistant-setup-step-cloud")],b),t()}catch(w){t(w)}})},3477:function(e,t,i){i.a(e,async function(e,t){try{var a=i(98735),s=i(88486),n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=i(87426),u=(i(46852),i(38606),i(96956),i(44941),i(79827),i(35748),i(80178),i(35058),i(65315),i(837),i(84136),i(37089),i(59023),i(45519),i(74774),i(5934),i(95013),i(69868)),d=i(84922),h=i(11991),p=i(26946),v=i(44017),_=i(88341),g=i(96635),f=i(156),y=i(2201),m=i(59569),b=i(62177),w=i(52179),k=i(9827),A=i(61470),$=i(26597),x=i(39989),C=i(60359),z=e([g,x]);[g,x]=z.then?(await z)():z;var M,S,E,L,O,P=e=>e,q=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,o.A)(this,t,[].concat(a)))._state="INTRO",e._ttsProviderName="piper",e._ttsAddonName="core_piper",e._ttsHostName="core-piper",e._ttsPort=10200,e._sttPort=10300,e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){return(0,d.qy)(M||(M=P`<div class="content"> ${0} </div>`),"INSTALLING"===this._state?(0,d.qy)(S||(S=P`<img src="/static/images/voice-assistant/update.png" alt="Casita GiToon loading logo"> <h1> ${0} </h1> <p> ${0} </p> <ha-spinner></ha-spinner> <p> ${0} </p>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.local.title"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.local.secondary"),this._detailState||"Installation can take several minutes"):"ERROR"===this._state?(0,d.qy)(E||(E=P`<img src="/static/images/voice-assistant/error.png" alt="Casita GiToon error logo"> <h1> ${0} </h1> <p>${0}</p> <p> ${0} </p> <ha-button appearance="plain" size="small" @click="${0}">${0}</ha-button>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.local.failed_title"),this._error,this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.local.failed_secondary"),this._prevStep,this.hass.localize("ui.common.back")):"NOT_SUPPORTED"===this._state?(0,d.qy)(L||(L=P`<img src="/static/images/voice-assistant/error.png" alt="Casita GiToon error logo"> <h1> ${0} </h1> <p> ${0} </p> <ha-button appearance="plain" size="small" @click="${0}">${0}</ha-button>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.local.not_supported_title"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.local.not_supported_secondary"),this._prevStep,this.hass.localize("ui.common.back")):d.s6)}},{key:"willUpdate",value:function(e){(0,c.A)(t,"willUpdate",this,3)([e]),this.hasUpdated||this._checkLocal()}},{key:"_prevStep",value:function(){(0,v.r)(this,"prev-step")}},{key:"_nextStep",value:function(){(0,v.r)(this,"next-step",{step:x.STEP.SUCCESS,noPrevious:!0})}},{key:"_checkLocal",value:(q=(0,s.A)((0,a.A)().m(function e(){var t,i,s,n,r;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,this._findLocalEntities();case 1:if(this._localTts&&this._localStt){e.n=2;break}return e.a(2);case 2:if(e.p=2,!this._localTts.length||!this._localStt.length){e.n=4;break}return e.n=3,this._pickOrCreatePipelineExists();case 3:return e.a(2);case 4:if((0,p.x)(this.hass,"hassio")){e.n=5;break}return this._state="NOT_SUPPORTED",e.a(2);case 5:return this._state="INSTALLING",e.n=6,(0,b.b3)(this.hass);case 6:if(t=e.v,i=t.addons,s=i.find(e=>e.slug===this._ttsAddonName),n=i.find(e=>e.slug===this._sttAddonName),this._localTts.length){e.n=9;break}if(s){e.n=7;break}return this._detailState=this.hass.localize(`ui.panel.config.voice_assistants.satellite_wizard.local.state.installing_${this._ttsProviderName}`),e.n=7,(0,b.xG)(this.hass,this._ttsAddonName);case 7:if(s&&"started"===s.state){e.n=8;break}return this._detailState=this.hass.localize(`ui.panel.config.voice_assistants.satellite_wizard.local.state.starting_${this._ttsProviderName}`),e.n=8,(0,b.eK)(this.hass,this._ttsAddonName);case 8:return this._detailState=this.hass.localize(`ui.panel.config.voice_assistants.satellite_wizard.local.state.setup_${this._ttsProviderName}`),e.n=9,this._setupConfigEntry("tts");case 9:if(this._localStt.length){e.n=12;break}if(n){e.n=10;break}return this._detailState=this.hass.localize(`ui.panel.config.voice_assistants.satellite_wizard.local.state.installing_${this._sttProviderName}`),e.n=10,(0,b.xG)(this.hass,this._sttAddonName);case 10:if(n&&"started"===n.state){e.n=11;break}return this._detailState=this.hass.localize(`ui.panel.config.voice_assistants.satellite_wizard.local.state.starting_${this._sttProviderName}`),e.n=11,(0,b.eK)(this.hass,this._sttAddonName);case 11:return this._detailState=this.hass.localize(`ui.panel.config.voice_assistants.satellite_wizard.local.state.setup_${this._sttProviderName}`),e.n=12,this._setupConfigEntry("stt");case 12:return this._detailState=this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.local.state.creating_pipeline"),e.n=13,this._findEntitiesAndCreatePipeline();case 13:e.n=15;break;case 14:e.p=14,r=e.v,this._state="ERROR",this._error=r.message;case 15:return e.a(2)}},e,this,[[2,14]])})),function(){return q.apply(this,arguments)})},{key:"_sttProviderName",get:function(){return"focused_local"===this.localOption?"speech-to-phrase":"faster-whisper"}},{key:"_sttAddonName",get:function(){return"focused_local"===this.localOption?"core_speech-to-phrase":"core_whisper"}},{key:"_sttHostName",get:function(){return"focused_local"===this.localOption?"core-speech-to-phrase":"core-whisper"}},{key:"_findLocalEntities",value:(O=(0,s.A)((0,a.A)().m(function e(){var t,i,s,n;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if((t=Object.values(this.hass.entities).filter(e=>"wyoming"===e.platform)).length){e.n=1;break}return this._localStt=[],this._localTts=[],e.a(2);case 1:return e.n=2,(0,A.d)(this.hass);case 2:return i=e.v,n=Object,e.n=3,(0,m.G3)(this.hass,t.map(e=>e.entity_id));case 3:s=n.values.call(n,e.v),this._localTts=s.filter(e=>{var t;return"tts"===(0,_.m)(e.entity_id)&&e.config_entry_id&&(null===(t=i.info[e.config_entry_id])||void 0===t?void 0:t.tts.some(e=>e.name===this._ttsProviderName))}),this._localStt=s.filter(e=>{var t;return"stt"===(0,_.m)(e.entity_id)&&e.config_entry_id&&(null===(t=i.info[e.config_entry_id])||void 0===t?void 0:t.asr.some(e=>e.name===this._sttProviderName))});case 4:return e.a(2)}},e,this)})),function(){return O.apply(this,arguments)})},{key:"_setupConfigEntry",value:(z=(0,s.A)((0,a.A)().m(function e(t){var i;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._findConfigFlowInProgress(t);case 1:if(!(i=e.v)){e.n=3;break}return e.n=2,(0,y.jm)(this.hass,i.flow_id,{});case 2:if("create_entry"!==e.v.type){e.n=3;break}return e.a(2,void 0);case 3:return e.a(2,this._createConfigEntry(t))}},e,this)})),function(e){return z.apply(this,arguments)})},{key:"_findConfigFlowInProgress",value:($=(0,s.A)((0,a.A)().m(function e(t){var i;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,y.t2)(this.hass.connection);case 1:return i=e.v,e.a(2,i.find(e=>"wyoming"===e.handler&&"hassio"===e.context.source&&(e.context.configuration_url&&e.context.configuration_url.includes("tts"===t?this._ttsAddonName:this._sttAddonName)||e.context.title_placeholders.name&&e.context.title_placeholders.name.toLowerCase().includes("tts"===t?this._ttsProviderName:this._sttProviderName))))}},e,this)})),function(e){return $.apply(this,arguments)})},{key:"_createConfigEntry",value:(g=(0,s.A)((0,a.A)().m(function e(t){var i,s;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,y.t1)(this.hass,"wyoming");case 1:return i=e.v,e.n=2,(0,y.jm)(this.hass,i.flow_id,{host:"tts"===t?this._ttsHostName:this._sttHostName,port:"tts"===t?this._ttsPort:this._sttPort});case 2:if("create_entry"===(s=e.v).type){e.n=3;break}throw new Error(`${this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.local.errors.failed_create_entry",{addon:"tts"===t?this._ttsProviderName:this._sttProviderName})}${"errors"in s?`: ${s.errors.base}`:""}`);case 3:return e.a(2)}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"_pickOrCreatePipelineExists",value:(h=(0,s.A)((0,a.A)().m(function e(){var t,i,s,n,r,o,l;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(null!==(t=this._localStt)&&void 0!==t&&t.length&&null!==(i=this._localTts)&&void 0!==i&&i.length){e.n=1;break}return e.a(2);case 1:return e.n=2,(0,f.nx)(this.hass);case 2:if((n=e.v).preferred_pipeline&&n.pipelines.sort(e=>e.id===n.preferred_pipeline?-1:0),r=this._localTts.map(e=>e.entity_id),o=this._localStt.map(e=>e.entity_id),l=n.pipelines.find(e=>"conversation.home_assistant"===e.conversation_engine&&e.tts_engine&&r.includes(e.tts_engine)&&e.stt_engine&&o.includes(e.stt_engine)&&e.language.split("-")[0]===this.language.split("-")[0])){e.n=4;break}return e.n=3,this._createPipeline(this._localTts[0].entity_id,this._localStt[0].entity_id);case 3:l=e.v;case 4:return e.n=5,this.hass.callService("select","select_option",{option:l.name},{entity_id:null===(s=this.assistConfiguration)||void 0===s?void 0:s.pipeline_entity_id});case 5:this._nextStep();case 6:return e.a(2)}},e,this)})),function(){return h.apply(this,arguments)})},{key:"_createPipeline",value:(u=(0,s.A)((0,a.A)().m(function e(t,i){var s,n,r,o,l,c,u,d,h,p;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,f.nx)(this.hass);case 1:return o=e.v,e.n=2,(0,C.vc)(this.hass,this.language||this.hass.config.language,this.hass.config.country||void 0);case 2:if(null!=(l=e.v.agents.find(e=>"conversation.home_assistant"===e.id))&&l.supported_languages.length){e.n=3;break}throw new Error("Conversation agent does not support requested language.");case 3:return e.n=4,(0,k.Xv)(this.hass,this.language,this.hass.config.country||void 0);case 4:if(null!=(c=e.v.providers.find(e=>e.engine_id===t))&&null!==(s=c.supported_languages)&&void 0!==s&&s.length){e.n=5;break}throw new Error("TTS engine does not support requested language.");case 5:return e.n=6,(0,k.z3)(this.hass,t,c.supported_languages[0]);case 6:if(u=e.v,null!==(n=u.voices)&&void 0!==n&&n.length){e.n=7;break}throw new Error("No voice available for requested language.");case 7:return e.n=8,(0,w.T)(this.hass,this.language,this.hass.config.country||void 0);case 8:if(null!=(d=e.v.providers.find(e=>e.engine_id===i))&&null!==(r=d.supported_languages)&&void 0!==r&&r.length){e.n=9;break}throw new Error("STT engine does not support requested language.");case 9:for(h=this.hass.localize(`ui.panel.config.voice_assistants.satellite_wizard.local.${this.localOption}_pipeline`),p=1;o.pipelines.find(e=>e.name===h);)h=`${this.hass.localize(`ui.panel.config.voice_assistants.satellite_wizard.local.${this.localOption}_pipeline`)} ${p}`,p++;return e.a(2,(0,f.u6)(this.hass,{name:h,language:this.language.split("-")[0],conversation_engine:"conversation.home_assistant",conversation_language:l.supported_languages[0],stt_engine:i,stt_language:d.supported_languages[0],tts_engine:t,tts_language:c.supported_languages[0],tts_voice:u.voices[0].voice_id,wake_word_entity:null,wake_word_id:null}))}},e,this)})),function(e,t){return u.apply(this,arguments)})},{key:"_findEntitiesAndCreatePipeline",value:(i=(0,s.A)((0,a.A)().m(function e(){var t,i,s,n,r,o=arguments;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:0,e.n=1,this._findLocalEntities();case 1:if(null!==(t=this._localTts)&&void 0!==t&&t.length&&null!==(i=this._localStt)&&void 0!==i&&i.length){e.n=4;break}if(!(n>3)){e.n=2;break}throw new Error(this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.local.errors.could_not_find_entities"));case 2:return e.n=3,new Promise(e=>{setTimeout(e,2e3)});case 3:return e.a(2,this._findEntitiesAndCreatePipeline(n+1));case 4:return e.n=5,this._createPipeline(this._localTts[0].entity_id,this._localStt[0].entity_id);case 5:return r=e.v,e.n=6,this.hass.callService("select","select_option",{option:r.name},{entity_id:null===(s=this.assistConfiguration)||void 0===s?void 0:s.pipeline_entity_id});case 6:return this._nextStep(),e.a(2,void 0)}},e,this)})),function(){return i.apply(this,arguments)})}]);var i,u,h,g,$,z,O,q}(d.WF);q.styles=[$.s,(0,d.AH)(O||(O=P`ha-spinner{margin-top:24px;margin-bottom:24px}`))],(0,u.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"hass",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"assistConfiguration",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"localOption",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"language",void 0),(0,u.__decorate)([(0,h.wk)()],q.prototype,"_state",void 0),(0,u.__decorate)([(0,h.wk)()],q.prototype,"_detailState",void 0),(0,u.__decorate)([(0,h.wk)()],q.prototype,"_error",void 0),(0,u.__decorate)([(0,h.wk)()],q.prototype,"_localTts",void 0),(0,u.__decorate)([(0,h.wk)()],q.prototype,"_localStt",void 0),q=(0,u.__decorate)([(0,h.EM)("ha-voice-assistant-setup-step-local")],q),t()}catch(I){t(I)}})},37078:function(e,t,i){i.a(e,async function(e,t){try{var a=i(98735),s=i(88486),n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=i(87426),u=(i(38606),i(44941),i(99342),i(35058),i(65315),i(84136),i(45519),i(74774),i(69868)),d=i(84922),h=i(11991),p=i(65940),v=i(26946),_=i(44017),g=i(88341),f=i(32560),y=(i(2460),i(156)),m=i(50991),b=i(60359),w=i(52179),k=i(9827),A=i(26597),$=i(39989),x=i(72144),C=e([f,$]);[f,$]=C.then?(await C)():C;var z,M,S,E,L=e=>e,O=["cloud","focused_local","full_local"],P={cloud:0,focused_local:0,full_local:0},q=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,o.A)(this,t,[].concat(a))).languages=[],e._cloudChecked=!1,e._getOptions=(0,p.A)((e,t)=>{var i=[],a=[];return O.forEach(s=>{e[s]>0?i.push({label:t(`ui.panel.config.voice_assistants.satellite_wizard.pipeline.options.${s}.label`),description:t(`ui.panel.config.voice_assistants.satellite_wizard.pipeline.options.${s}.description`),value:s}):a.push({label:t(`ui.panel.config.voice_assistants.satellite_wizard.pipeline.options.${s}.label`),value:s})}),{supportedOptions:i,unsupportedOptions:a}}),e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"willUpdate",value:function(e){if((0,c.A)(t,"willUpdate",this,3)([e]),this.hasUpdated||this._fetchData(),(e.has("language")||e.has("_languageScores"))&&this.language&&this._languageScores){var i,a,s=this.language;if(this._value&&0===(null===(i=this._languageScores[s])||void 0===i?void 0:i[this._value])&&(this._value=void 0),!this._value)this._value=null===(a=this._getOptions(this._languageScores[s]||P,this.hass.localize).supportedOptions[0])||void 0===a?void 0:a.value}}},{key:"render",value:function(){if(!this._cloudChecked||!this._languageScores)return d.s6;if(!this.language){var e=(0,f.T)(this.hass.config.language,this.hass.locale);return(0,d.qy)(z||(z=L`<div class="content"> <h1> ${0} </h1> ${0} <ha-language-picker .hass="${0}" .label="${0}" .languages="${0}" @value-changed="${0}"></ha-language-picker> <a href="${0}">${0}</a> </div>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.pipeline.unsupported_language.header"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.pipeline.unsupported_language.secondary",{language:e}),this.hass,this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.pipeline.unsupported_language.language_picker"),this.languages,this._languageChanged,(0,x.o)(this.hass,"/voice_control/contribute-voice/"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.pipeline.unsupported_language.contribute",{language:e}))}var t=this._languageScores[this.language]||P,i=this._getOptions(t,this.hass.localize),a=this._value?"full_local"===this._value?"low":"high":"",s=this._value?t[this._value]>2?"high":t[this._value]>1?"ready":t[this._value]>0?"low":"":"";return(0,d.qy)(M||(M=L`<div class="content"> <h1> ${0} </h1> <div class="bar-header"> <span>${0}</span><span>${0}</span> </div> <div class="perf-bar ${0}"> <div class="segment"></div> <div class="segment"></div> <div class="segment"></div> </div> <div class="bar-header"> <span>${0}</span><span>${0}</span> </div> <div class="perf-bar ${0}"> <div class="segment"></div> <div class="segment"></div> <div class="segment"></div> </div> <ha-select-box max_columns="1" .options="${0}" .value="${0}" @value-changed="${0}"></ha-select-box> ${0} </div> <div class="footer"> <ha-button @click="${0}" .disabled="${0}">${0}</ha-button> </div>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.pipeline.title"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.pipeline.performance.header"),a?this.hass.localize(`ui.panel.config.voice_assistants.satellite_wizard.pipeline.performance.${a}`):"",a,this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.pipeline.commands.header"),s?this.hass.localize(`ui.panel.config.voice_assistants.satellite_wizard.pipeline.commands.${s}`):"",s,i.supportedOptions,this._value,this._valueChanged,i.unsupportedOptions.length?(0,d.qy)(S||(S=L`<h3> ${0} </h3> <ha-select-box max_columns="1" .options="${0}" disabled="disabled"></ha-select-box>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.pipeline.unsupported"),i.unsupportedOptions):d.s6,this._createPipeline,!this._value,this.hass.localize("ui.common.next"))}},{key:"_fetchData",value:(A=(0,s.A)((0,a.A)().m(function e(){var t;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._hasCloud();case 1:if(!(t=e.v)){e.n=3;break}return e.n=2,this._createCloudPipeline(!1);case 2:t=e.v;case 3:if(t){e.n=5;break}return this._cloudChecked=!0,e.n=4,(0,b.e1)(this.hass);case 4:this._languageScores=e.v.languages;case 5:return e.a(2)}},e,this)})),function(){return A.apply(this,arguments)})},{key:"_hasCloud",value:(h=(0,s.A)((0,a.A)().m(function e(){var t;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if((0,v.x)(this.hass,"cloud")){e.n=1;break}return e.a(2,!1);case 1:return e.n=2,(0,m.eN)(this.hass);case 2:if((t=e.v).logged_in&&t.active_subscription){e.n=3;break}return e.a(2,!1);case 3:return e.a(2,!0)}},e,this)})),function(){return h.apply(this,arguments)})},{key:"_createCloudPipeline",value:(u=(0,s.A)((0,a.A)().m(function e(t){var i,s,n,r,o,l,c,u,d,h,p,v,f,m,A,x,C;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:n=0,r=Object.values(this.hass.entities);case 1:if(!(n<r.length)){e.n=6;break}if("cloud"!==(o=r[n]).platform){e.n=5;break}if("tts"!==(l=(0,g.m)(o.entity_id))){e.n=2;break}i=o.entity_id,e.n=4;break;case 2:if("stt"!==l){e.n=3;break}s=o.entity_id,e.n=4;break;case 3:return e.a(3,5);case 4:if(!i||!s){e.n=5;break}return e.a(3,6);case 5:n++,e.n=1;break;case 6:return e.p=6,e.n=7,(0,y.nx)(this.hass);case 7:if((u=e.v).preferred_pipeline&&u.pipelines.sort(e=>e.id===u.preferred_pipeline?-1:0),d=u.pipelines.find(e=>"conversation.home_assistant"===e.conversation_engine&&e.tts_engine===i&&e.stt_engine===s&&(!t||e.language.split("-")[0]===this.language.split("-")[0]))){e.n=16;break}return e.n=8,(0,b.vc)(this.hass,this.language||this.hass.config.language,this.hass.config.country||void 0);case 8:if(null!=(v=e.v.agents.find(e=>"conversation.home_assistant"===e.id))&&v.supported_languages.length){e.n=9;break}return e.a(2,!1);case 9:return e.n=10,(0,k.Xv)(this.hass,this.language||this.hass.config.language,this.hass.config.country||void 0);case 10:if(null!=(f=e.v.providers.find(e=>e.engine_id===i))&&null!==(h=f.supported_languages)&&void 0!==h&&h.length){e.n=11;break}return e.a(2,!1);case 11:return e.n=12,(0,k.z3)(this.hass,i,f.supported_languages[0]);case 12:return m=e.v,e.n=13,(0,w.T)(this.hass,this.language||this.hass.config.language,this.hass.config.country||void 0);case 13:if(null!=(A=e.v.providers.find(e=>e.engine_id===s))&&null!==(p=A.supported_languages)&&void 0!==p&&p.length){e.n=14;break}return e.a(2,!1);case 14:for(x="Home Assistant Cloud",C=1;u.pipelines.find(e=>e.name===x);)x=`Home Assistant Cloud ${C}`,C++;return e.n=15,(0,y.u6)(this.hass,{name:x,language:(this.language||this.hass.config.language).split("-")[0],conversation_engine:"conversation.home_assistant",conversation_language:v.supported_languages[0],stt_engine:s,stt_language:A.supported_languages[0],tts_engine:i,tts_language:f.supported_languages[0],tts_voice:m.voices[0].voice_id,wake_word_entity:null,wake_word_id:null});case 15:d=e.v;case 16:return e.n=17,this.hass.callService("select","select_option",{option:d.name},{entity_id:null===(c=this.assistConfiguration)||void 0===c?void 0:c.pipeline_entity_id});case 17:return(0,_.r)(this,"next-step",{step:$.STEP.SUCCESS,noPrevious:!0}),e.a(2,!0);case 18:return e.p=18,e.v,e.a(2,!1)}},e,this,[[6,18]])})),function(e){return u.apply(this,arguments)})},{key:"_valueChanged",value:function(e){this._value=e.detail.value}},{key:"_setupCloud",value:(i=(0,s.A)((0,a.A)().m(function e(){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._hasCloud();case 1:if(!e.v){e.n=2;break}return this._createCloudPipeline(!0),e.a(2);case 2:(0,_.r)(this,"next-step",{step:$.STEP.CLOUD});case 3:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_createPipeline",value:function(){"cloud"===this._value?this._setupCloud():"focused_local"===this._value?this._setupLocalFocused():this._setupLocalFull()}},{key:"_setupLocalFocused",value:function(){(0,_.r)(this,"next-step",{step:$.STEP.LOCAL,option:this._value})}},{key:"_setupLocalFull",value:function(){(0,_.r)(this,"next-step",{step:$.STEP.LOCAL,option:this._value})}},{key:"_languageChanged",value:function(e){e.detail.value&&(0,_.r)(this,"language-changed",{value:e.detail.value})}}]);var i,u,h,A}(d.WF);q.styles=[A.s,(0,d.AH)(E||(E=L`:host{text-align:left}.perf-bar{width:100%;height:10px;display:flex;gap:var(--ha-space-1);margin:8px 0}.segment{flex-grow:1;background-color:var(--disabled-color);transition:background-color .3s}.segment:first-child{border-radius:var(--ha-border-radius-sm) var(--ha-border-radius-square) var(--ha-border-radius-square) var(--ha-border-radius-sm)}.segment:last-child{border-radius:var(--ha-border-radius-square) var(--ha-border-radius-sm) var(--ha-border-radius-sm) var(--ha-border-radius-square)}.perf-bar.high .segment{background-color:var(--success-color)}.perf-bar.ready .segment:nth-child(-n+2){background-color:var(--warning-color)}.perf-bar.low .segment:first-child{background-color:var(--error-color)}.bar-header{display:flex;justify-content:space-between;margin:8px 0;margin-top:16px}ha-select-box{display:block}ha-select-box:first-of-type{margin-top:32px}.footer{margin-top:16px}ha-language-picker{display:block;margin-top:16px;margin-bottom:16px}`))],(0,u.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"hass",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"assistConfiguration",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"deviceId",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"assistEntityId",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"language",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"languages",void 0),(0,u.__decorate)([(0,h.wk)()],q.prototype,"_cloudChecked",void 0),(0,u.__decorate)([(0,h.wk)()],q.prototype,"_value",void 0),(0,u.__decorate)([(0,h.wk)()],q.prototype,"_languageScores",void 0),q=(0,u.__decorate)([(0,h.EM)("ha-voice-assistant-setup-step-pipeline")],q),t()}catch(I){t(I)}})},62533:function(e,t,i){i.a(e,async function(e,t){try{var a=i(15243),s=i(98735),n=i(88486),r=i(62020),o=i(31802),l=i(21101),c=i(87426),u=i(23180),d=(i(44941),i(79827),i(80178),i(65315),i(84136),i(37089),i(45519),i(69868)),h=i(84922),p=i(11991),v=i(44017),_=i(63211),g=i(191),f=(i(77510),i(53312),i(90723),i(156)),y=i(99561),m=i(50991),b=i(36322),w=i(54748),k=i(68190),A=i(77643),$=i(64207),x=i(26597),C=i(39989),z=e([A,C]);[A,C]=z.then?(await z)():z;var M,S,E,L,O,P,q,I,Z=e=>e,T=function(e){function t(){return(0,r.A)(this,t),(0,l.A)(this,t,arguments)}return(0,u.A)(t,e),(0,o.A)(t,[{key:"willUpdate",value:function(e){if((0,c.A)(t,"willUpdate",this,3)([e]),e.has("assistConfiguration"))this._setTtsSettings();else if(e.has("hass")&&this.assistConfiguration){var i=e.get("hass");if(i){var a=i.states[this.assistConfiguration.pipeline_entity_id],s=this.hass.states[this.assistConfiguration.pipeline_entity_id];a.state!==s.state&&this._setTtsSettings()}}}},{key:"render",value:function(){var e,t=this.assistConfiguration?this.hass.states[this.assistConfiguration.pipeline_entity_id]:void 0,i=this.hass.devices[this.deviceId];return(0,h.qy)(M||(M=Z`<div class="content"> <img src="/static/images/voice-assistant/heart.png" alt="Casita GiToon logo"> <h1> ${0} </h1> <p class="secondary"> ${0} </p> ${0} <div class="rows"> <div class="row"> <ha-textfield .label="${0}" .placeholder="${0}" .value="${0}" @change="${0}"></ha-textfield> </div> ${0} ${0} ${0} </div> </div> <div class="footer"> <ha-button @click="${0}">${0}</ha-button> </div>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.success.title"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.success.secondary"),this._error?(0,h.qy)(S||(S=Z`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):h.s6,this.hass.localize("ui.panel.config.integrations.config_flow.device_name"),(0,g.T)(i,this.hass),null!==(e=this._deviceName)&&void 0!==e?e:(0,g.xn)(i),this._deviceNameChanged,this.assistConfiguration&&this.assistConfiguration.available_wake_words.length>1?(0,h.qy)(E||(E=Z`<div class="row"> <ha-select .label="${0}" @closed="${0}" fixedMenuPosition naturalMenuWidth .value="${0}" @selected="${0}"> ${0} </ha-select> <ha-button appearance="plain" size="small" @click="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> ${0} </ha-button> </div>`),this.hass.localize("ui.panel.config.voice_assistants.assistants.pipeline.detail.form.wake_word_id"),_.d,this.assistConfiguration.active_wake_words[0],this._wakeWordPicked,this.assistConfiguration.available_wake_words.map(e=>(0,h.qy)(L||(L=Z`<ha-list-item .value="${0}"> ${0} </ha-list-item>`),e.id,e.wake_word)),this._testWakeWord,"M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z",this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.success.test_wakeword")):h.s6,t?(0,h.qy)(O||(O=Z`<div class="row"> <ha-select .label="${0}" @closed="${0}" .value="${0}" fixedMenuPosition naturalMenuWidth @selected="${0}"> ${0} </ha-select> <ha-button appearance="plain" size="small" @click="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> ${0} </ha-button> </div>`),this.hass.localize("ui.panel.config.voice_assistants.assistants.pipeline.devices.pipeline"),_.d,null==t?void 0:t.state,this._pipelinePicked,null==t?void 0:t.attributes.options.map(e=>(0,h.qy)(P||(P=Z`<ha-list-item .value="${0}"> ${0} </ha-list-item>`),e,this.hass.formatEntityState(t,e))),this._openPipeline,"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.success.edit_pipeline")):h.s6,this._ttsSettings?(0,h.qy)(q||(q=Z`<div class="row"> <ha-tts-voice-picker .hass="${0}" .engineId="${0}" .language="${0}" .value="${0}" @value-changed="${0}" @closed="${0}"></ha-tts-voice-picker> <ha-button appearance="plain" size="small" @click="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> ${0} </ha-button> </div>`),this.hass,this._ttsSettings.engine,this._ttsSettings.language,this._ttsSettings.voice,this._voicePicked,_.d,this._testTts,"M8,5.14V19.14L19,12.14L8,5.14Z",this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.success.try_tts")):h.s6,this._done,this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.success.done"))}},{key:"_getPipeline",value:(T=(0,n.A)((0,s.A)().m(function e(){var t,i,a,n,r;return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:if(null!==(t=this.assistConfiguration)&&void 0!==t&&t.pipeline_entity_id){e.n=1;break}return e.a(2,[void 0,void 0]);case 1:return a=this.hass.states[null===(i=this.assistConfiguration)||void 0===i?void 0:i.pipeline_entity_id].state,e.n=2,(0,f.nx)(this.hass);case 2:return n=e.v,r="preferred"===a?n.pipelines.find(e=>e.id===n.preferred_pipeline):n.pipelines.find(e=>e.name===a),e.a(2,[r,n.preferred_pipeline])}},e,this)})),function(){return T.apply(this,arguments)})},{key:"_deviceNameChanged",value:function(e){this._deviceName=e.target.value}},{key:"_wakeWordPicked",value:(I=(0,n.A)((0,s.A)().m(function e(t){var i;return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:return i=t.target.value,e.n=1,(0,y.g5)(this.hass,this.assistEntityId,[i]);case 1:return e.a(2)}},e,this)})),function(e){return I.apply(this,arguments)})},{key:"_pipelinePicked",value:function(e){var t=this.hass.states[this.assistConfiguration.pipeline_entity_id],i=e.target.value;i!==t.state&&t.attributes.options.includes(i)&&(0,w.w)(this.hass,t.entity_id,i)}},{key:"_setTtsSettings",value:(z=(0,n.A)((0,s.A)().m(function e(){var t,i,n;return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._getPipeline();case 1:if(t=e.v,i=(0,a.A)(t,1),n=i[0]){e.n=2;break}return this._ttsSettings=void 0,e.a(2);case 2:this._ttsSettings={engine:n.tts_engine,voice:n.tts_voice,language:n.tts_language};case 3:return e.a(2)}},e,this)})),function(){return z.apply(this,arguments)})},{key:"_voicePicked",value:(x=(0,n.A)((0,s.A)().m(function e(t){var i,n,r;return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._getPipeline();case 1:if(i=e.v,n=(0,a.A)(i,1),r=n[0]){e.n=2;break}return e.a(2);case 2:return e.n=3,(0,f.zn)(this.hass,r.id,Object.assign(Object.assign({},r),{},{tts_voice:t.detail.value}));case 3:return e.a(2)}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"_testTts",value:(A=(0,n.A)((0,s.A)().m(function e(){var t,i,n,r;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,this._getPipeline();case 1:if(t=e.v,i=(0,a.A)(t,1),n=i[0]){e.n=2;break}return e.a(2);case 2:if(n.language===this.hass.locale.language){e.n=6;break}return e.p=3,e.n=4,(0,$.sC)(null,n.language,!1);case 4:return r=e.v,this._announce(r.data["ui.dialogs.tts-try.message_example"]),e.a(2);case 5:e.p=5,e.v;case 6:this._announce(this.hass.localize("ui.dialogs.tts-try.message_example"));case 7:return e.a(2)}},e,this,[[3,5]])})),function(){return A.apply(this,arguments)})},{key:"_announce",value:(p=(0,n.A)((0,s.A)().m(function e(t){return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:if(this.assistEntityId){e.n=1;break}return e.a(2);case 1:return e.n=2,(0,y.ew)(this.hass,this.assistEntityId,{message:t,preannounce:!1});case 2:return e.a(2)}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"_testWakeWord",value:function(){(0,v.r)(this,"next-step",{step:C.STEP.WAKEWORD,nextStep:C.STEP.SUCCESS,updateConfig:!0})}},{key:"_openPipeline",value:(d=(0,n.A)((0,s.A)().m(function e(){var t,i,r,o,l=this;return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._getPipeline();case 1:if(t=e.v,i=(0,a.A)(t,1),r=i[0]){e.n=2;break}return e.a(2);case 2:return e.n=3,(0,m.eN)(this.hass);case 3:o=e.v,(0,k.L)(this,{cloudActiveSubscription:o.logged_in&&o.active_subscription,pipeline:r,updatePipeline:function(){var e=(0,n.A)((0,s.A)().m(function e(t){return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,f.zn)(l.hass,r.id,t);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),hideWakeWord:!0});case 4:return e.a(2)}},e,this)})),function(){return d.apply(this,arguments)})},{key:"_done",value:(i=(0,n.A)((0,s.A)().m(function e(){var t;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!this._deviceName){e.n=3;break}e.p=1,(0,b.FB)(this.hass,this.deviceId,{name_by_user:this._deviceName}),e.n=3;break;case 2:return e.p=2,t=e.v,this._error=this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.success.failed_rename",{error:t.message||t}),e.a(2);case 3:(0,v.r)(this,"closed");case 4:return e.a(2)}},e,this,[[1,2]])})),function(){return i.apply(this,arguments)})}]);var i,d,p,A,x,z,I,T}(h.WF);T.styles=[x.s,(0,h.AH)(I||(I=Z`ha-md-list-item{text-align:initial}ha-tts-voice-picker{display:block}.footer{margin-top:24px}.rows{gap:var(--ha-space-4);display:flex;flex-direction:column}.row{display:flex;justify-content:space-between;align-items:center}.row>:first-child{flex:1;margin-right:4px}.row ha-button{width:82px}`))],(0,d.__decorate)([(0,p.MZ)({attribute:!1})],T.prototype,"hass",void 0),(0,d.__decorate)([(0,p.MZ)({attribute:!1})],T.prototype,"assistConfiguration",void 0),(0,d.__decorate)([(0,p.MZ)({attribute:!1})],T.prototype,"deviceId",void 0),(0,d.__decorate)([(0,p.MZ)({attribute:!1})],T.prototype,"assistEntityId",void 0),(0,d.__decorate)([(0,p.wk)()],T.prototype,"_ttsSettings",void 0),(0,d.__decorate)([(0,p.wk)()],T.prototype,"_error",void 0),T=(0,d.__decorate)([(0,p.EM)("ha-voice-assistant-setup-step-success")],T),t()}catch(W){t(W)}})},95009:function(e,t,i){i.a(e,async function(e,t){try{var a=i(98735),s=i(88486),n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=i(87426),u=(i(38606),i(69868)),d=i(84922),h=i(11991),p=i(44017),v=i(76498),_=i(96635),g=i(14523),f=i(56685),y=i(26597),m=e([v,_,f]);[v,_,f]=m.then?(await m)():m;var b,w,k,A,$=e=>e,x=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,o.A)(this,t,[].concat(a)))._updated=!1,e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"willUpdate",value:function(e){if((0,c.A)(t,"willUpdate",this,3)([e]),this.updateEntityId){if(e.has("hass")&&this.updateEntityId){var i=e.get("hass");if(i){var a=i.states[this.updateEntityId],s=this.hass.states[this.updateEntityId];if((null==a?void 0:a.state)===g.Hh&&(null==s?void 0:s.state)!==g.Hh||(null==a?void 0:a.state)!==g.ON&&(null==s?void 0:s.state)===g.ON)return void this._tryUpdate(!1)}}e.has("updateEntityId")&&this._tryUpdate(!0)}else this._nextStep()}},{key:"render",value:function(){if(!this.updateEntityId||!(this.updateEntityId in this.hass.states))return d.s6;var e=this.hass.states[this.updateEntityId],t=e&&(0,f.RJ)(e);return(0,d.qy)(b||(b=$`<div class="content"> <img src="/static/images/voice-assistant/update.png" alt="Casita GiToon loading logo"> <h1> ${0} </h1> <p class="secondary"> ${0} </p> ${0} <p> ${0} </p> </div>`),e&&("unavailable"===e.state||(0,f.Jy)(e))?this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.update.title"):this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.update.checking"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.update.secondary"),t?(0,d.qy)(w||(w=$` <ha-progress-ring .value="${0}"></ha-progress-ring> `),e.attributes.update_percentage):(0,d.qy)(k||(k=$`<ha-spinner></ha-spinner>`)),(null==e?void 0:e.state)===g.Hh?"Restarting voice assistant":t?`Installing ${e.attributes.update_percentage}%`:"")}},{key:"_tryUpdate",value:(i=(0,s.A)((0,a.A)().m(function e(t){var i;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(clearTimeout(this._refreshTimeout),this.updateEntityId){e.n=1;break}return e.a(2);case 1:if(!(i=this.hass.states[this.updateEntityId])||this.hass.states[i.entity_id].state!==g.ON||!(0,f.VK)(i)){e.n=3;break}return this._updated=!0,e.n=2,this.hass.callService("update","install",{},{entity_id:i.entity_id});case 2:e.n=6;break;case 3:if(!t){e.n=5;break}return e.n=4,this.hass.callService("homeassistant","update_entity",{},{entity_id:this.updateEntityId});case 4:this._refreshTimeout=window.setTimeout(()=>{this._nextStep()},1e4),e.n=6;break;case 5:this._nextStep();case 6:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_nextStep",value:function(){(0,p.r)(this,"next-step",{noPrevious:!0,updateConfig:this._updated})}}]);var i}(d.WF);x.styles=[y.s,(0,d.AH)(A||(A=$`ha-progress-ring,ha-spinner{margin-top:24px;margin-bottom:24px}`))],(0,u.__decorate)([(0,h.MZ)({attribute:!1})],x.prototype,"hass",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],x.prototype,"updateEntityId",void 0),x=(0,u.__decorate)([(0,h.EM)("ha-voice-assistant-setup-step-update")],x),t()}catch(C){t(C)}})},37253:function(e,t,i){i.a(e,async function(e,t){try{var a=i(98735),s=i(88486),n=i(62020),r=i(31802),o=i(21101),l=i(23180),c=i(87426),u=(i(38606),i(44941),i(79827),i(65315),i(84136),i(45519),i(69868)),d=i(84922),h=i(11991),p=i(65940),v=i(44017),_=i(17372),g=i(96635),f=(i(87348),i(99561)),y=i(26597),m=i(39989),b=i(88341),w=e([_,g,m]);[_,g,m]=w.then?(await w)():w;var k,A,$,x,C,z,M,S=e=>e,E=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,o.A)(this,t,[].concat(a)))._detected=!1,e._timedout=!1,e._activeWakeWord=(0,p.A)(e=>{var t;if(!e)return"";var i=e.active_wake_words[0];return null===(t=e.available_wake_words.find(e=>e.id===i))||void 0===t?void 0:t.wake_word}),e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"disconnectedCallback",value:function(){(0,c.A)(t,"disconnectedCallback",this,3)([]),this._stopListeningWakeWord()}},{key:"willUpdate",value:function(e){var i;((0,c.A)(t,"willUpdate",this,3)([e]),e.has("assistConfiguration")&&this.assistConfiguration&&!this.assistConfiguration.available_wake_words.length&&this._nextStep(),e.has("assistEntityId"))&&(this._detected=!1,this._muteSwitchEntity=null===(i=this.deviceEntities)||void 0===i||null===(i=i.find(e=>"switch"===(0,b.m)(e.entity_id)&&e.entity_id.includes("mute")))||void 0===i?void 0:i.entity_id,this._muteSwitchEntity||this._startTimeOut(),this._listenWakeWord())}},{key:"_startTimeOut",value:function(){this._timeout=window.setTimeout(()=>{this._timeout=void 0,this._timedout=!0},15e3)}},{key:"render",value:function(){return this.assistEntityId?"idle"!==this.hass.states[this.assistEntityId].state?(0,d.qy)(k||(k=S`<ha-spinner></ha-spinner>`)):(0,d.qy)(A||(A=S`<div class="content"> ${0} ${0} </div> ${0}`),this._detected?(0,d.qy)(x||(x=S`<img src="/static/images/voice-assistant/ok-nabu.png" alt="Casita GiToon logo"> <h1> ${0} </h1> <p class="secondary"> ${0} </p>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.wake_word.title_2",{wakeword:this._activeWakeWord(this.assistConfiguration)}),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.wake_word.secondary_2")):(0,d.qy)($||($=S` <img src="/static/images/voice-assistant/sleep.png" alt="Casita GiToon logo"> <h1> ${0} </h1> <p class="secondary">${0}</p> `),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.wake_word.title",{wakeword:this._activeWakeWord(this.assistConfiguration)}),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.wake_word.secondary")),this._timedout?(0,d.qy)(C||(C=S`<ha-alert alert-type="warning">${0}</ha-alert>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.wake_word.time_out")):this._muteSwitchEntity&&"on"===this.hass.states[this._muteSwitchEntity].state?(0,d.qy)(z||(z=S`<ha-alert alert-type="warning" .title="${0}">${0}</ha-alert>`),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.wake_word.muted"),this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.wake_word.muted_description")):d.s6,this.assistConfiguration&&this.assistConfiguration.available_wake_words.length>1?(0,d.qy)(M||(M=S`<div class="footer centered"> <ha-button appearance="plain" size="small" @click="${0}">${0}</ha-button> </div>`),this._changeWakeWord,this.hass.localize("ui.panel.config.voice_assistants.satellite_wizard.wake_word.change_wake_word")):d.s6):d.s6}},{key:"_listenWakeWord",value:(u=(0,s.A)((0,a.A)().m(function e(){var t;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(t=this.assistEntityId){e.n=1;break}return e.a(2);case 1:return e.n=2,this._stopListeningWakeWord();case 2:this._sub=(0,f.ds)(this.hass,t,()=>{this._timedout=!1,clearTimeout(this._timeout),this._stopListeningWakeWord(),this._detected?this._nextStep():(this._detected=!0,this._listenWakeWord())});case 3:return e.a(2)}},e,this)})),function(){return u.apply(this,arguments)})},{key:"_stopListeningWakeWord",value:(i=(0,s.A)((0,a.A)().m(function e(){var t,i,s;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,this._sub;case 1:if(s=t=e.v,i=null===s){e.n=2;break}i=void 0===t;case 2:if(i){e.n=3;break}t();case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:this._sub=void 0;case 6:return e.a(2)}},e,this,[[0,4]])})),function(){return i.apply(this,arguments)})},{key:"_nextStep",value:function(){(0,v.r)(this,"next-step")}},{key:"_changeWakeWord",value:function(){(0,v.r)(this,"next-step",{step:m.STEP.CHANGE_WAKEWORD})}}]);var i,u}(d.WF);E.styles=y.s,(0,u.__decorate)([(0,h.MZ)({attribute:!1})],E.prototype,"hass",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],E.prototype,"assistConfiguration",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],E.prototype,"assistEntityId",void 0),(0,u.__decorate)([(0,h.MZ)({attribute:!1})],E.prototype,"deviceEntities",void 0),(0,u.__decorate)([(0,h.wk)()],E.prototype,"_muteSwitchEntity",void 0),(0,u.__decorate)([(0,h.wk)()],E.prototype,"_detected",void 0),(0,u.__decorate)([(0,h.wk)()],E.prototype,"_timedout",void 0),E=(0,u.__decorate)([(0,h.EM)("ha-voice-assistant-setup-step-wake-word")],E),t()}catch(L){t(L)}})},70770:function(e,t,i){i.d(t,{z:function(){return n}});i(35748),i(45519),i(5934),i(95013);var a=i(44017),s=()=>Promise.all([i.e("42153"),i.e("15265"),i.e("55265"),i.e("3245"),i.e("3802"),i.e("59165"),i.e("143"),i.e("86677"),i.e("70412"),i.e("79584"),i.e("49294"),i.e("46839"),i.e("12572")]).then(i.bind(i,32950)),n=(e,t,i)=>{var n,r,o;null!==(n=t.auth.external)&&void 0!==n&&n.config.hasAssist?t.auth.external.fireMessage({type:"assist/show",payload:{pipeline_id:i.pipeline_id,start_listening:null===(o=i.start_listening)||void 0===o||o}}):(0,a.r)(e,"show-dialog",{dialogTag:"ha-voice-command-dialog",dialogImport:s,dialogParams:{pipeline_id:i.pipeline_id,start_listening:null!==(r=i.start_listening)&&void 0!==r&&r}})}},76619:function(e,t,i){i.d(t,{o:function(){return s}});i(35748),i(45519),i(5934),i(95013);var a=i(44017),s=(e,t)=>new Promise(s=>{var n=t.closeDialog,r=t.logInHereAction;(0,a.r)(e,"show-dialog",{dialogTag:"dialog-cloud-already-connected",dialogImport:()=>Promise.all([i.e("3245"),i.e("79584"),i.e("48734")]).then(i.bind(i,92109)),dialogParams:Object.assign(Object.assign({},t),{},{closeDialog:()=>{null==n||n(),s(!1)},logInHereAction:()=>{null==r||r(),s(!0)}})})})},68190:function(e,t,i){i.d(t,{L:function(){return n}});i(35748),i(45519),i(5934),i(95013);var a=i(44017),s=()=>Promise.all([i.e("55265"),i.e("47789"),i.e("51721"),i.e("18672"),i.e("71882"),i.e("65336"),i.e("73729"),i.e("41695")]).then(i.bind(i,38018)),n=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-voice-assistant-pipeline-detail",dialogImport:s,dialogParams:t})}},42959:function(e,t,i){i.r(t),i.d(t,{HuiErrorCard:function(){return f}});var a,s,n,r,o=i(62020),l=i(31802),c=i(21101),u=i(23180),d=(i(38606),i(69868)),h=i(84922),p=i(11991),v=(i(70490),i(86160),i(47225)),_=e=>e,g={warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"},f=function(e){function t(){var e;(0,o.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=(0,c.A)(this,t,[].concat(a))).preview=!1,e.severity="error",e}return(0,u.A)(t,e),(0,l.A)(t,[{key:"getCardSize",value:function(){return 1}},{key:"getGridOptions",value:function(){return{columns:6,rows:this.preview?"auto":1,min_rows:1,min_columns:6,fixed_rows:this.preview}}},{key:"setConfig",value:function(e){this._config=e,this.severity=e.severity||"error"}},{key:"render",value:function(){var e,t,i,r,o=(null===(e=this._config)||void 0===e?void 0:e.error)||"warning"===this.severity&&(null===(t=this.hass)||void 0===t?void 0:t.localize("ui.errors.config.configuration_warning"))||(null===(i=this.hass)||void 0===i?void 0:i.localize("ui.errors.config.configuration_error")),l=void 0===this.hass||(0,v.fe)(this.hass)||this.preview,c=this.preview;return(0,h.qy)(a||(a=_` <ha-card class="${0} ${0}"> <div class="header"> <div class="icon"> <slot name="icon"> <ha-svg-icon .path="${0}"></ha-svg-icon> </slot> </div> ${0} </div> ${0} </ha-card> `),this.severity,l?"":"no-title",g[this.severity],l?(0,h.qy)(s||(s=_`<div class="title"><slot>${0}</slot></div>`),o):h.s6,c&&null!==(r=this._config)&&void 0!==r&&r.message?(0,h.qy)(n||(n=_`<div class="message">${0}</div>`),this._config.message):h.s6)}}])}(h.WF);f.styles=(0,h.AH)(r||(r=_`ha-card{height:100%;border-width:0}ha-card::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg))}.header{display:flex;align-items:center;gap:var(--ha-space-2);padding:16px}.message{padding:0 16px 16px 16px}.no-title{justify-content:center}.title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:var(--ha-font-weight-bold)}ha-card.warning .icon{color:var(--warning-color)}ha-card.warning::after{background-color:var(--warning-color)}ha-card.error .icon{color:var(--error-color)}ha-card.error::after{background-color:var(--error-color)}`)),(0,d.__decorate)([(0,p.MZ)({attribute:!1})],f.prototype,"hass",void 0),(0,d.__decorate)([(0,p.MZ)({attribute:!1})],f.prototype,"preview",void 0),(0,d.__decorate)([(0,p.MZ)({attribute:"severity"})],f.prototype,"severity",void 0),(0,d.__decorate)([(0,p.wk)()],f.prototype,"_config",void 0),f=(0,d.__decorate)([(0,p.EM)("hui-error-card")],f)},98710:function(e,t,i){i.d(t,{L:function(){return s}});var a=i(88341),s=function(e,t){var i,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=(0,a.m)(t),r="group"===n?"homeassistant":n;switch(n){case"lock":i=s?"unlock":"lock";break;case"cover":i=s?"open_cover":"close_cover";break;case"button":case"input_button":i="press";break;case"scene":i="turn_on";break;case"valve":i=s?"open_valve":"close_valve";break;default:i=s?"turn_on":"turn_off"}return e.callService(r,i,{entity_id:t})}},47426:function(e,t,i){i.d(t,{$:function(){return g}});var a=i(98735),s=i(15243),n=i(88486),r=(i(65315),i(59023),i(45519),i(44017)),o=i(77240),l=i(72746),c=i(61964),u=i(15241),d=i(70770),h=i(91197),p=(i(79827),i(23800)),v=i(98710);const _=(e,t)=>{const i=p.jj.includes(e.states[t].state);return(0,v.L)(e,t,i)};var g=function(){var e=(0,n.A)((0,a.A)().m(function e(t,i,n,p){var v,g,f,y,m,b,w,k,A,$,x,C,z,M,S,E,L;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if("double_tap"===p&&n.double_tap_action?v=n.double_tap_action:"hold"===p&&n.hold_action?v=n.hold_action:"tap"===p&&n.tap_action&&(v=n.tap_action),v||(v={action:"more-info"}),!v.confirmation||v.confirmation.exemptions&&v.confirmation.exemptions.some(e=>{var t;return e.user===(null===(t=i.user)||void 0===t?void 0:t.id)})){e.n=5;break}if((0,l.j)(t,"warning"),"call-service"!==v.action&&"perform-action"!==v.action){e.n=3;break}if(f=(v.perform_action||v.service).split(".",2),y=(0,s.A)(f,2),m=y[0],b=y[1],w=i.services,!(m in w)||!(b in w[m])){e.n=3;break}return e.n=1,i.loadBackendTranslation("title");case 1:return e.n=2,i.loadBackendTranslation("services");case 2:k=e.v,g=`${(0,c.p$)(k,m)}: ${k(`component.${m}.services.${b}.name`)||w[m][b].name||b}`;case 3:return e.n=4,(0,u.dk)(t,{text:v.confirmation.text||i.localize("ui.panel.lovelace.cards.actions.action_confirmation",{action:g||i.localize(`ui.panel.lovelace.editor.action-editor.actions.${v.action}`)||v.action})});case 4:if(e.v){e.n=5;break}return e.a(2);case 5:L=v.action,e.n="more-info"===L?6:"navigate"===L?7:"url"===L?8:"toggle"===L?9:"perform-action"===L||"call-service"===L?10:"assist"===L?12:"fire-dom-event"===L?13:14;break;case 6:return(A=v.entity||n.entity||n.camera_image||n.image_entity)?(0,r.r)(t,"hass-more-info",{entityId:A}):((0,h.P)(t,{message:i.localize("ui.panel.lovelace.cards.actions.no_entity_more_info")}),(0,l.j)(t,"failure")),e.a(3,14);case 7:return v.navigation_path?(0,o.o)(v.navigation_path,{replace:v.navigation_replace}):((0,h.P)(t,{message:i.localize("ui.panel.lovelace.cards.actions.no_navigation_path")}),(0,l.j)(t,"failure")),e.a(3,14);case 8:return v.url_path?window.open(v.url_path):((0,h.P)(t,{message:i.localize("ui.panel.lovelace.cards.actions.no_url")}),(0,l.j)(t,"failure")),e.a(3,14);case 9:return n.entity?(_(i,n.entity),(0,l.j)(t,"light")):((0,h.P)(t,{message:i.localize("ui.panel.lovelace.cards.actions.no_entity_toggle")}),(0,l.j)(t,"failure")),e.a(3,14);case 10:if(v.perform_action||v.service){e.n=11;break}return(0,h.P)(t,{message:i.localize("ui.panel.lovelace.cards.actions.no_action")}),(0,l.j)(t,"failure"),e.a(2);case 11:return x=(v.perform_action||v.service).split(".",2),C=(0,s.A)(x,2),z=C[0],M=C[1],i.callService(z,M,null!==($=v.data)&&void 0!==$?$:v.service_data,v.target),(0,l.j)(t,"light"),e.a(3,14);case 12:return(0,d.z)(t,i,{start_listening:null!==(S=v.start_listening)&&void 0!==S&&S,pipeline_id:null!==(E=v.pipeline_id)&&void 0!==E?E:"last_used"}),e.a(3,14);case 13:(0,r.r)(t,"ll-custom",v);case 14:return e.a(2)}},e)}));return function(t,i,a,s){return e.apply(this,arguments)}}()},8510:function(e,t,i){i.d(t,{LX:function(){return o},pY:function(){return l},xP:function(){return s}});i(65315),i(59023),i(45519);var a=i(38177);function s(e,t){if(t.has("_config"))return!0;if(!t.has("hass"))return!1;var i=t.get("hass");return!i||(i.connected!==e.hass.connected||i.themes!==e.hass.themes||i.locale!==e.hass.locale||i.localize!==e.hass.localize||i.formatEntityState!==e.hass.formatEntityState||i.formatEntityAttributeName!==e.hass.formatEntityAttributeName||i.formatEntityAttributeValue!==e.hass.formatEntityAttributeValue||i.config.state!==e.hass.config.state)}function n(e,t,i){return e.states[i]!==t.states[i]}function r(e,t,i){var a=e.entities[i],s=t.entities[i];return(null==a?void 0:a.display_precision)!==(null==s?void 0:s.display_precision)}function o(e,t){if(s(e,t))return!0;if(!t.has("hass"))return!1;var i=t.get("hass"),a=e.hass;return n(i,a,e._config.entity)||r(i,a,e._config.entity)}function l(e,t){if(s(e,t))return!0;if(!t.has("hass"))return!1;var i=t.get("hass"),o=e.hass;return(0,a.L)(e._config.entities,!1).some(e=>"entity"in e&&(n(i,o,e.entity)||r(i,o,e.entity)))}},38177:function(e,t,i){i.d(t,{L:function(){return s}});i(46852),i(80178),i(65315),i(37089),i(45519);var a=i(22527),s=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||!Array.isArray(e))throw new Error("Entities need to be an array");return e.map((e,i)=>{if("object"==typeof e&&!Array.isArray(e)&&e.type)return e;var s;if("string"==typeof e)s={entity:e};else{if("object"!=typeof e||Array.isArray(e))throw new Error(`Invalid entity ID at position ${i}`);if(!("entity"in e))throw new Error(`Object at position ${i} is missing entity field`);s=e}if(t&&!(0,a.n)(s.entity))throw new Error(`Invalid entity ID at position ${i}: ${s.entity}`);return s})}},78709:function(e,t,i){i.d(t,{j:function(){return p}});var a,s=i(62020),n=i(31802),r=i(21101),o=i(23180),l=i(69868),c=i(17658),u=i(84922),d=i(11991),h=(i(94124),i(42959),e=>e),p=(e,t)=>e.config.state!==c.m2?e.localize("ui.card.common.entity_not_found"):e.localize("ui.panel.lovelace.warning.starting"),v=function(e){function t(){return(0,s.A)(this,t),(0,r.A)(this,t,arguments)}return(0,o.A)(t,e),(0,n.A)(t,[{key:"render",value:function(){return(0,u.qy)(a||(a=h`<hui-error-card .hass="${0}" severity="warning"><slot></slot></hui-error-card>`),this.hass)}}])}(u.WF);(0,l.__decorate)([(0,d.MZ)({attribute:!1})],v.prototype,"hass",void 0),v=(0,l.__decorate)([(0,d.EM)("hui-warning")],v)},77643:function(e,t,i){i.a(e,async function(e,a){try{i.r(t);var s=i(62020),n=i(31802),r=i(21101),o=i(23180),l=(i(46852),i(79827),i(80178),i(65315),i(37089),i(45519),i(69868)),c=i(84922),u=i(11991),d=i(63211),h=(i(77510),i(53312),i(14523)),p=i(72746),v=i(54748),_=i(87916),g=i(8510),f=i(11151),y=i(78709),m=e([f]);f=(m.then?(await m)():m)[0];var b,w,k,A,$=e=>e,x=function(e){function t(){return(0,s.A)(this,t),(0,r.A)(this,t,arguments)}return(0,o.A)(t,e),(0,n.A)(t,[{key:"setConfig",value:function(e){if(!e||!e.entity)throw new Error("Entity must be specified");this._config=e}},{key:"shouldUpdate",value:function(e){return(0,g.LX)(this,e)}},{key:"render",value:function(){if(!this.hass||!this._config)return c.s6;var e=this.hass.states[this._config.entity];if(!e)return(0,c.qy)(b||(b=$` <hui-warning .hass="${0}"> ${0} </hui-warning> `),this.hass,(0,y.j)(this.hass,this._config.entity));var t=(0,_.v)(this.hass,e,this._config.name);return(0,c.qy)(w||(w=$` <hui-generic-entity-row .hass="${0}" .config="${0}" hide-name> <ha-select .label="${0}" .value="${0}" .options="${0}" .disabled="${0}" naturalMenuWidth @action="${0}" @click="${0}" @closed="${0}"> ${0} </ha-select> </hui-generic-entity-row> `),this.hass,this._config,t,e.state,e.attributes.options,e.state===h.Hh,this._handleAction,d.d,d.d,e.attributes.options?e.attributes.options.map(t=>(0,c.qy)(k||(k=$` <ha-list-item .value="${0}"> ${0} </ha-list-item> `),t,this.hass.formatEntityState(e,t))):"")}},{key:"_handleAction",value:function(e){var t=this.hass.states[this._config.entity],i=e.target.value;i!==t.state&&t.attributes.options.includes(i)&&((0,p.j)(this,"light"),(0,v.w)(this.hass,t.entity_id,i))}}])}(c.WF);x.styles=(0,c.AH)(A||(A=$`hui-generic-entity-row{display:flex;align-items:center}ha-select{width:100%;--ha-select-min-width:0}`)),(0,l.__decorate)([(0,u.MZ)({attribute:!1})],x.prototype,"hass",void 0),(0,l.__decorate)([(0,u.wk)()],x.prototype,"_config",void 0),x=(0,l.__decorate)([(0,u.EM)("hui-select-entity-row")],x),a()}catch(C){a(C)}})},72144:function(e,t,i){i.d(t,{o:function(){return a}});i(79827);var a=(e,t)=>`https://${e.config.version.includes("b")?"rc":e.config.version.includes("dev")?"next":"www"}.home-assistant.io${t}`}}]);
//# sourceMappingURL=85779.655f8411eb433a9c.js.map