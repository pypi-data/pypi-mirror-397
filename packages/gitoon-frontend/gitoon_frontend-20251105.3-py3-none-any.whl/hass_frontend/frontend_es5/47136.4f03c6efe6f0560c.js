"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["47136"],{94327:function(e,t,a){a.d(t,{Vy:function(){return s},fI:function(){return o},ux:function(){return d}});a(80178),a(45519);var r=a(65940),i=a(83510),n=["#4269d0","#f4bd4a","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#01ab63","#094bad","#c99000","#d84f3e","#49a28f","#048732","#d96895","#8043ce","#7599d1","#7a4c31","#6989f4","#ffd444","#ff957c","#8fe9d3","#62cc71","#ffadda","#c884ff","#badeff","#bf8b6d","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function s(e){return n[e%n.length]}function o(e,t){var a=t.getPropertyValue(`--graph-color-${e+1}`)||s(e);return(0,i.RQ)(a)}var d=(0,r.A)(e=>n.map((t,a)=>o(a,e)),(e,t)=>e[0].getPropertyValue("--graph-color-1")===t[0].getPropertyValue("--graph-color-1"))},10547:function(e,t,a){var r,i,n,s=a(62020),o=a(31802),d=a(21101),c=a(87426),h=a(23180),l=a(69868),f=a(54500),u=a(2909),v=a(11991),_=a(84922),p=a(91541),y=e=>e,b=function(e){function t(){return(0,s.A)(this,t),(0,d.A)(this,t,arguments)}return(0,h.A)(t,e),(0,o.A)(t,[{key:"firstUpdated",value:function(e){(0,c.A)(t,"firstUpdated",this,3)([e]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}])}(f.n);b.styles=[u.R,(0,_.AH)(r||(r=y`:host{--mdc-typography-button-text-transform:none;--mdc-typography-button-font-size:var(--ha-font-size-l);--mdc-typography-button-font-family:var(--ha-font-family-body);--mdc-typography-button-font-weight:var(--ha-font-weight-medium)}:host .mdc-fab--extended{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab.mdc-fab--extended .ripple{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}`)),"rtl"===p.G.document.dir?(0,_.AH)(i||(i=y`:host .mdc-fab--extended .mdc-fab__icon{direction:rtl}`)):(0,_.AH)(n||(n=y``))],b=(0,l.__decorate)([(0,v.EM)("ha-fab")],b)},15705:function(e,t,a){a.a(e,async function(e,r){try{a.r(t),a.d(t,{HuiCalendarCard:function(){return z}});var i=a(98735),n=a(88486),s=a(62020),o=a(31802),d=a(21101),c=a(23180),h=a(87426),l=a(10629),f=(a(46852),a(38606),a(35748),a(80178),a(65315),a(37089),a(45519),a(5934),a(95013),a(69868)),u=a(84922),v=a(75907),_=a(11991),p=a(94327),y=a(91634),b=a(51849),g=(a(70490),a(90974)),m=a(78982),w=a(44630),k=(a(78709),e([l,m]));[l,m]=k.then?(await k)():k;var A,x,C=e=>e,z=function(e){function t(){var e;(0,s.A)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=(0,d.A)(this,t,[].concat(r)))._events=[],e._calendars=[],e._eventDisplay="list-item",e._narrow=!1,e._error=void 0,e}return(0,c.A)(t,e),(0,o.A)(t,[{key:"setConfig",value:function(e){var t,a;if(null===(t=e.entities)||void 0===t||!t.length)throw new Error("Entities must be specified");if(!Array.isArray(e.entities))throw new Error("Entities need to be an array");this._calendars=e.entities.map((e,t)=>({entity_id:e,backgroundColor:(0,p.Vy)(t)})),(null===(a=this._config)||void 0===a?void 0:a.entities)!==e.entities&&this._fetchCalendarEvents(),this._config=Object.assign({initial_view:"dayGridMonth"},e)}},{key:"getCardSize",value:function(){return 12}},{key:"getGridOptions",value:function(){return{rows:6,columns:12,min_columns:4,min_rows:4}}},{key:"connectedCallback",value:function(){(0,h.A)(t,"connectedCallback",this,3)([]),this.updateComplete.then(()=>this._attachObserver())}},{key:"disconnectedCallback",value:function(){(0,h.A)(t,"disconnectedCallback",this,3)([]),this._resizeObserver&&this._resizeObserver.disconnect()}},{key:"render",value:function(){if(!this._config||!this.hass||!this._calendars.length)return u.s6;return(0,u.qy)(A||(A=C` <ha-card> <div class="header">${0}</div> <ha-full-calendar class="${0}" .narrow="${0}" .events="${0}" .hass="${0}" .views="${0}" .initialView="${0}" .eventDisplay="${0}" .error="${0}" @view-changed="${0}"></ha-full-calendar> </ha-card> `),this._config.title,(0,v.H)({"is-grid":"grid"===this.layout,"is-panel":"panel"===this.layout,"has-title":!!this._config.title}),this._narrow,this._events,this.hass,["dayGridMonth","dayGridDay","listWeek"],this._config.initial_view,this._eventDisplay,this._error,this._handleViewChanged)}},{key:"updated",value:function(e){if((0,h.A)(t,"updated",this,3)([e]),this._config&&this.hass){var a=e.get("hass"),r=e.get("_config");(!a||!r||e.has("hass")&&a.themes!==this.hass.themes||e.has("_config")&&r.theme!==this._config.theme)&&(0,y.Q)(this,this.hass.themes,this._config.theme)}}},{key:"_handleViewChanged",value:function(e){this._eventDisplay="dayGridMonth"===e.detail.view?"list-item":"auto",this._startDate=e.detail.start,this._endDate=e.detail.end,this._fetchCalendarEvents()}},{key:"_fetchCalendarEvents",value:(f=(0,n.A)((0,i.A)().m(function e(){var t;return(0,i.A)().w(function(e){for(;;)switch(e.n){case 0:if(this._startDate&&this._endDate){e.n=1;break}return e.a(2);case 1:return this._error=void 0,e.n=2,(0,g.ms)(this.hass,this._startDate,this._endDate,this._calendars);case 2:t=e.v,this._events=t.events,t.errors.length>0&&(this._error=`${this.hass.localize("ui.components.calendar.event_retrieval_error")}`);case 3:return e.a(2)}},e,this)})),function(){return f.apply(this,arguments)})},{key:"_measureCard",value:function(){var e=this.shadowRoot.querySelector("ha-card");e&&(this._narrow=e.offsetWidth<870)}},{key:"_attachObserver",value:(l=(0,n.A)((0,i.A)().m(function e(){var t;return(0,i.A)().w(function(e){for(;;)switch(e.n){case 0:if(this._resizeObserver||(this._resizeObserver=new ResizeObserver((0,b.s)(()=>this._measureCard(),250,!1))),t=this.shadowRoot.querySelector("ha-card")){e.n=1;break}return e.a(2);case 1:this._resizeObserver.observe(t);case 2:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})}],[{key:"getConfigElement",value:(r=(0,n.A)((0,i.A)().m(function e(){return(0,i.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([a.e("42153"),a.e("30199"),a.e("37620"),a.e("49535"),a.e("61717"),a.e("10086"),a.e("87658")]).then(a.bind(a,1068));case 1:return e.a(2,document.createElement("hui-calendar-card-editor"))}},e)})),function(){return r.apply(this,arguments)})},{key:"getStubConfig",value:function(e,t,a){return{entities:(0,w.B)(e,2,t,a,["calendar"])}}}]);var r,l,f}(u.WF);z.styles=(0,u.AH)(x||(x=C`ha-card{position:relative;padding:0 8px 8px;box-sizing:border-box;height:100%;overflow:hidden}.header{color:var(--ha-card-header-color,var(--primary-text-color));font-size:var(--ha-card-header-font-size, var(--ha-font-size-2xl));line-height:var(--ha-line-height-condensed);padding-top:16px;padding-left:8px;padding-inline-start:8px;direction:var(--direction);white-space:nowrap;text-overflow:ellipsis}ha-full-calendar{--calendar-height:400px;height:var(--calendar-height)}ha-full-calendar.is-grid,ha-full-calendar.is-panel{--calendar-height:calc(100% - 16px)}ha-full-calendar.is-grid.has-title,ha-full-calendar.is-panel.has-title{--calendar-height:calc(
        100% - var(--ha-card-header-font-size, var(--ha-font-size-2xl)) - 22px
      )}`)),(0,f.__decorate)([(0,_.MZ)({attribute:!1})],z.prototype,"hass",void 0),(0,f.__decorate)([(0,_.MZ)({attribute:!1})],z.prototype,"layout",void 0),(0,f.__decorate)([(0,_.wk)()],z.prototype,"_events",void 0),(0,f.__decorate)([(0,_.wk)()],z.prototype,"_config",void 0),(0,f.__decorate)([(0,_.wk)()],z.prototype,"_calendars",void 0),(0,f.__decorate)([(0,_.wk)()],z.prototype,"_eventDisplay",void 0),(0,f.__decorate)([(0,_.wk)()],z.prototype,"_narrow",void 0),(0,f.__decorate)([(0,_.wk)()],z.prototype,"_error",void 0),z=(0,f.__decorate)([(0,_.EM)("hui-calendar-card")],z),r()}catch(D){r(D)}})}}]);
//# sourceMappingURL=47136.4f03c6efe6f0560c.js.map