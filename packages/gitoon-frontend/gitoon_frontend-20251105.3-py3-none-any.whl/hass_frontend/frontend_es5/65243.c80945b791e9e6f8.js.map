{"version":3,"file":"65243.c80945b791e9e6f8.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251105.3/src/common/dom/deep-active-element.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251105.3/src/common/util/render-status.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251105.3/src/components/ha-dialog.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251105.3/src/dialogs/image-cropper-dialog/image-cropper-dialog.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251105.3/src/common/dom/ancestors-with-property.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251105.3/src/dialogs/make-dialog-manager.ts"],"names":["deepActiveElement","_root$activeElement","root","arguments","length","undefined","document","activeElement","shadowRoot","afterNextRender","cb","requestAnimationFrame","setTimeout","nextRender","Promise","resolve","SUPPRESS_DEFAULT_PRESS_SELECTOR","createCloseHeading","hass","title","_hass$localize","html","_t","_","localize","HaDialog","_DialogBase","_this","_callSuper","concat","args","_onScroll","_updateScrolledAttribute","x","y","_this$contentElement","this","contentElement","scrollTo","key","value","_t2","_superPropGet","_this$contentElement2","suppressDefaultPressSelector","join","addEventListener","passive","removeEventListener","toggleAttribute","scrollTop","DialogBase","styles","css","_t3","HaImagecropperDialog","_LitElement","_open","params","_params","_this$_cropper","_cropper","destroy","_isTargetAspectRatio","changedProperties","has","replace","URL","createObjectURL","file","_image","src","Cropper","aspectRatio","options","viewMode","dragMode","minCropBoxWidth","ready","_checkMatchAspectRatio","revokeObjectURL","_this$_params","targetRatio","imageData","getImageData","naturalWidth","naturalHeight","targetHeight","Math","abs","targetWidth","_this$_params2","closeDialog","classMap","round","Boolean","_useOriginal","nothing","_cropImage","getCroppedCanvas","toBlob","blob","File","name","type","croppedCallback","quality","get","haStyleDialog","unsafeCSS","cropperCss","LitElement","attribute","DEFAULT_OWN","closestWithProperty","element","property","_element$assignedSlot","own","body","assignedSlot","parentElement","getRootNode","ShadowRoot","host","Object","prototype","hasOwnProperty","call","ancestorsWithProperty","ancestors","Set","add","_ref","_ref3","_ref5","LOADED","OPEN_DIALOG_STACK","FOCUS_TARGET","Symbol","for","showDialog","_asyncToGenerator","_regenerator","m","_callee","dialogTag","dialogParams","dialogImport","addHistory","_history$state","_history$state2","history","dialogIndex","newState","dialogElement","_args","w","_context","n","a","then","dialogEl","createElement","provideHass","_handleClosed","_handleClosedFocus","mainWindow","state","dialog","findIndex","splice","push","replaceState","assign","opensDialog","pushState","closedFocusTargets","v","appendChild","_x","_x2","_x3","_x4","_x5","apply","_ref2","_callee2","_context2","_x6","closeLastDialog","_callee3","_mainWindow$history$s","lastDialog","closed","_context3","pop","closeAllDialogs","_ref4","_callee4","i","_context4","ev","_mainWindow$history$s2","detail","makeDialogManager","e","_e$detail","_callee5","focusedElement","_iterator","_step","focusTarget","_context5","p","HTMLElement","blur","_createForOfIteratorHelper","s","done","focus","f","_x7"],"mappings":"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"}