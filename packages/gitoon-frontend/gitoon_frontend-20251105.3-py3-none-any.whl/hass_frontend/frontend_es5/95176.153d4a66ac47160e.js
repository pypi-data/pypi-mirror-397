"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["95176"],{72569:function(t,e,i){i.d(e,{Fj:function(){return r},Gu:function(){return s},H2:function(){return a},xA:function(){return c},xs:function(){return o}});i(44941),i(65315),i(84136),i(45519),i(74774);var n=i(12275),r=t=>t.callWS({type:"person/list"}),s=(t,e)=>t.callWS(Object.assign({type:"person/create"},e)),o=(t,e,i)=>t.callWS(Object.assign({type:"person/update",person_id:e},i)),a=(t,e)=>t.callWS({type:"person/delete",person_id:e}),u={},c=t=>{var e;if(null!==(e=t.user)&&void 0!==e&&e.id){var i=u[t.user.id];if(i){var r=t.states[i];if(r&&r.attributes.user_id===t.user.id)return r}var s=Object.values(t.states).find(e=>e.attributes.user_id===t.user.id&&"person"===(0,n.t)(e));return s&&(u[t.user.id]=s.entity_id),s}}},97073:function(t,e,i){i.d(e,{CZ:function(){return b},Wx:function(){return h},XH:function(){return f},db:function(){return y},gW:function(){return p},lB:function(){return _}});var n=i(18202),r=i(73983),s=(i(38606),i(96956),i(79827),i(35748),i(80178),i(99342),i(9724),i(65315),i(12840),i(837),i(37089),i(48169),i(59023),i(65152),i(45519),i(64587),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030),i(95013),i(11111)),o=i(32211),a=i(22527),u=i(14523),c=i(72569);function l(t,e){var i;if((0,a.n)(e)&&t.states[e])return null===(i=t.states[e])||void 0===i?void 0:i.state}function d(t,e){var i,n=t.entity&&e.states[t.entity]?e.states[t.entity].state:u.HV,o=null!==(i=t.state)&&void 0!==i?i:t.state_not;if(Array.isArray(o)){var a=o.map(t=>l(e,t)).filter(t=>void 0!==t);o=[].concat((0,r.A)(o),(0,r.A)(a))}else if("string"==typeof o){var c=l(e,o);o=[o],c&&o.push(c)}return null!=t.state?(0,s.e)(o).includes(n):!(0,s.e)(o).includes(n)}function f(t,e){return t.every(t=>{if("condition"in t)switch(t.condition){case"screen":return!!(i=t).media_query&&matchMedia(i.media_query).matches;case"user":return function(t,e){var i;return!(!t.users||null===(i=e.user)||void 0===i||!i.id)&&t.users.includes(e.user.id)}(t,e);case"location":return function(t,e){var i,n=(0,c.xA)(e);return!!n&&(null===(i=t.locations)||void 0===i?void 0:i.includes(n.state))}(t,e);case"numeric_state":return function(t,e){var i,n,r,s=null===(i=t.entity?e.states[t.entity]:void 0)||void 0===i?void 0:i.state,o=t.above,a=t.below;"string"==typeof o&&(o=null!==(n=l(e,o))&&void 0!==n?n:o),"string"==typeof a&&(a=null!==(r=l(e,a))&&void 0!==r?r:a);var u=Number(s),c=Number(o),d=Number(a);return!isNaN(u)&&(null==t.above||isNaN(c)||c<u)&&(null==t.below||isNaN(d)||d>u)}(t,e);case"and":return function(t,e){return!t.conditions||f(t.conditions,e)}(t,e);case"not":return function(t,e){return!t.conditions||!f(t.conditions,e)}(t,e);case"or":return function(t,e){return!t.conditions||t.conditions.some(t=>f([t],e))}(t,e);default:return d(t,e)}var i;return d(t,e)})}function h(t){var e,i=new Set,o=(0,n.A)(t);try{for(o.s();!(e=o.n()).done;){var u=e.value;if("numeric_state"===u.condition)u.entity&&i.add(u.entity),"string"==typeof u.above&&(0,a.n)(u.above)&&i.add(u.above),"string"==typeof u.below&&(0,a.n)(u.below)&&i.add(u.below);else if("state"===u.condition){var c,l;u.entity&&i.add(u.entity),[].concat((0,r.A)(null!==(c=(0,s.e)(u.state))&&void 0!==c?c:[]),(0,r.A)(null!==(l=(0,s.e)(u.state_not))&&void 0!==l?l:[])).forEach(t=>{t&&(0,a.n)(t)&&i.add(t)})}else if("conditions"in u&&u.conditions)return new Set([].concat((0,r.A)(i),(0,r.A)(h(u.conditions))))}}catch(d){o.e(d)}finally{o.f()}return i}function v(t){return null!=t.entity&&(null!=t.state||null!=t.state_not)}function y(t){return t.every(t=>{if("condition"in t)switch(t.condition){case"screen":return null!=t.media_query;case"user":return function(t){return null!=t.users}(t);case"location":return function(t){return null!=t.locations}(t);case"numeric_state":return function(t){return null!=t.entity&&(null!=t.above||null!=t.below)}(t);case"and":case"not":case"or":return function(t){return null!=t.conditions}(t);default:return v(t)}return v(t)})}function _(t,e){return"conditions"in t&&t.conditions?Object.assign(Object.assign({},t),{},{conditions:t.conditions.map(t=>_(t,e))}):"state"===t.condition||"numeric_state"===t.condition?Object.assign({entity:e},t):t}function p(t){return t.reduce((t,e)=>("conditions"in e&&e.conditions&&t.push.apply(t,(0,r.A)(p(e.conditions))),"screen"===e.condition&&e.media_query&&t.push(e.media_query),t),[])}function b(t,e){return p(t).map(t=>(0,o.m)(t,t=>{e(t)}))}},43067:function(t,e,i){i.d(e,{E:function(){return h}});var n=i(62020),r=i(31802),s=i(21101),o=i(23180),a=i(87426),u=(i(45269),i(46852),i(38606),i(96956),i(65315),i(837),i(22416),i(45519),i(30536),i(69868)),c=i(84922),l=i(11991),d=i(29561),f=i(97073),h=function(t){function e(){var t;(0,n.A)(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=(0,s.A)(this,e,[].concat(r))).preview=!1,t._listeners=[],t._mediaQueries=[],t}return(0,o.A)(e,t),(0,r.A)(e,[{key:"createRenderRoot",value:function(){return this}},{key:"validateConfig",value:function(t){if(!t.conditions)throw new Error("No conditions configured");if(!Array.isArray(t.conditions))throw new Error("Conditions need to be an array");if(!(0,f.db)(t.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=t}},{key:"disconnectedCallback",value:function(){(0,a.A)(e,"disconnectedCallback",this,3)([]),this._clearMediaQueries()}},{key:"connectedCallback",value:function(){(0,a.A)(e,"connectedCallback",this,3)([]),this._listenMediaQueries(),this._updateVisibility()}},{key:"_clearMediaQueries",value:function(){this._listeners.forEach(t=>t()),this._listeners=[]}},{key:"_listenMediaQueries",value:function(){if(this._config&&this.hass){var t=this._config.conditions.filter(t=>"condition"in t),e=(0,f.gW)(t);if(!(0,d.b)(e,this._mediaQueries)){this._clearMediaQueries();var i=this._config.conditions,n=1===i.length&&"condition"in i[0]&&"screen"===i[0].condition&&!!i[0].media_query;this._listeners=(0,f.CZ)(t,t=>{n?this.setVisibility(t):this._updateVisibility()})}}}},{key:"update",value:function(t){(0,a.A)(e,"update",this,3)([t]),(t.has("_element")||t.has("_config")||t.has("hass")||t.has("preview"))&&(this._listenMediaQueries(),this._updateVisibility())}},{key:"_updateVisibility",value:function(){if(this._element&&this.hass&&this._config){this._element.preview=this.preview;var t=(0,f.XH)(this._config.conditions,this.hass);this.setVisibility(t)}}},{key:"setVisibility",value:function(t){if(this._element&&this.hass){var e=this.preview||t;this.hidden!==!e&&(this.toggleAttribute("hidden",!e),this.style.setProperty("display",e?"":"none")),e?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}}}])}(c.mN);(0,u.__decorate)([(0,l.MZ)({attribute:!1})],h.prototype,"hass",void 0),(0,u.__decorate)([(0,l.MZ)({type:Boolean})],h.prototype,"preview",void 0),(0,u.__decorate)([(0,l.wk)()],h.prototype,"_config",void 0),h=(0,u.__decorate)([(0,l.EM)("hui-conditional-base")],h)},38011:function(t,e,i){i.a(t,async function(t,n){try{i.r(e);var r=i(62020),s=i(31802),o=i(21101),a=i(87426),u=i(23180),c=(i(46852),i(69868)),l=i(11991),d=i(43067),f=i(6055),h=i(44017),v=t([f]);f=(v.then?(await v)():v)[0];var y=function(t){function e(){return(0,r.A)(this,e),(0,o.A)(this,e,arguments)}return(0,u.A)(e,t),(0,s.A)(e,[{key:"setConfig",value:function(t){if(this.validateConfig(t),!t.row)throw new Error("No row configured");this._element=(0,f.T)(t.state_color?Object.assign({state_color:!0},t.row):t.row)}},{key:"setVisibility",value:function(t){var i=this.preview||t,n=this.hidden;(0,a.A)(e,"setVisibility",this,3)([t]),n!==this.hidden&&(0,h.r)(this,"row-visibility-changed",{row:this,value:i})}}])}(d.E);y=(0,c.__decorate)([(0,l.EM)("hui-conditional-row")],y),n()}catch(_){n(_)}})}}]);
//# sourceMappingURL=95176.153d4a66ac47160e.js.map