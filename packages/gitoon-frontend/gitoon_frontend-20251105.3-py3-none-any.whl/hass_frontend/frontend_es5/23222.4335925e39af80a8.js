"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["23222"],{61246:function(e,t,a){a.d(t,{u:function(){return i}});a(65315),a(59023),a(45519);var i=e=>{var t;if(e.some(e=>"tagName"in e&&("HA-MENU"===e.tagName||"HA-CODE-EDITOR"===e.tagName)))return!1;var a=e[0];if("TEXTAREA"===a.tagName)return!1;if("HA-SELECT"===(null===(t=a.parentElement)||void 0===t?void 0:t.tagName))return!1;if("INPUT"!==a.tagName)return!0;switch(a.type){case"button":case"checkbox":case"hidden":case"radio":case"range":return!0;default:return!1}}},29561:function(e,t,a){a.d(t,{b:function(){return o}});var i=a(18202),o=(a(35748),a(34285),a(45519),a(42124),a(86581),a(67579),a(39227),a(47849),a(64587),a(88238),a(34536),a(16257),a(20152),a(44711),a(72108),a(77030),a(95013),(e,t)=>{if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var a,r;if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(a=r;0!==a--;)if(!o(e[a],t[a]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;var n,s=(0,i.A)(e.entries());try{for(s.s();!(n=s.n()).done;)if(a=n.value,!t.has(a[0]))return!1}catch(v){s.e(v)}finally{s.f()}var l,c=(0,i.A)(e.entries());try{for(c.s();!(l=c.n()).done;)if(a=l.value,!o(a[1],t.get(a[0])))return!1}catch(v){c.e(v)}finally{c.f()}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var h,d=(0,i.A)(e.entries());try{for(d.s();!(h=d.n()).done;)if(a=h.value,!t.has(a[0]))return!1}catch(v){d.e(v)}finally{d.f()}return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((r=e.length)!==t.length)return!1;for(a=r;0!==a--;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var u=Object.keys(e);if((r=u.length)!==Object.keys(t).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(t,u[a]))return!1;for(a=r;0!==a--;){var p=u[a];if(!o(e[p],t[p]))return!1}return!0}return e!=e&&t!=t})},85451:function(e,t,a){a.a(e,async function(e,t){try{var i=a(62020),o=a(31802),r=a(21101),n=a(23180),s=(a(38606),a(80178),a(65315),a(37089),a(45519),a(69868)),l=(a(96500),a(84922)),c=a(11991),h=a(44017),d=a(17372),u=(a(86160),e([d]));d=(u.then?(await u)():u)[0];var p,v,m,f,g=e=>e,_=function(e){function t(){var e;(0,i.A)(this,t);for(var a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(e=(0,r.A)(this,t,[].concat(o))).size="medium",e.nowrap=!1,e.fullWidth=!1,e.variant="brand",e}return(0,n.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){return(0,l.qy)(p||(p=g` <wa-button-group childSelector="ha-button"> ${0} </wa-button-group> `),this.buttons.map(e=>(0,l.qy)(v||(v=g`<ha-button iconTag="ha-svg-icon" class="icon" .variant="${0}" .size="${0}" .value="${0}" @click="${0}" .title="${0}" .appearance="${0}"> ${0} </ha-button>`),this.active===e.value&&this.activeVariant?this.activeVariant:this.variant,this.size,e.value,this._handleClick,e.label,this.active===e.value?"accent":"filled",e.iconPath?(0,l.qy)(m||(m=g`<ha-svg-icon aria-label="${0}" .path="${0}"></ha-svg-icon>`),e.label,e.iconPath):e.label)))}},{key:"_handleClick",value:function(e){this.active=e.currentTarget.value,(0,h.r)(this,"value-changed",{value:this.active})}}])}(l.WF);_.styles=(0,l.AH)(f||(f=g`:host{--mdc-icon-size:var(--button-toggle-icon-size, 20px)}:host([no-wrap]) wa-button-group::part(base){flex-wrap:nowrap}wa-button-group{padding:var(--ha-button-toggle-group-padding)}:host([full-width]) wa-button-group,:host([full-width]) wa-button-group::part(base){width:100%}:host([full-width]) ha-button{flex:1}`)),(0,s.__decorate)([(0,c.MZ)({attribute:!1})],_.prototype,"buttons",void 0),(0,s.__decorate)([(0,c.MZ)()],_.prototype,"active",void 0),(0,s.__decorate)([(0,c.MZ)({reflect:!0})],_.prototype,"size",void 0),(0,s.__decorate)([(0,c.MZ)({type:Boolean,reflect:!0,attribute:"no-wrap"})],_.prototype,"nowrap",void 0),(0,s.__decorate)([(0,c.MZ)({type:Boolean,reflect:!0,attribute:"full-width"})],_.prototype,"fullWidth",void 0),(0,s.__decorate)([(0,c.MZ)()],_.prototype,"variant",void 0),(0,s.__decorate)([(0,c.MZ)({attribute:"active-variant"})],_.prototype,"activeVariant",void 0),_=(0,s.__decorate)([(0,c.EM)("ha-button-toggle-group")],_),t()}catch(y){t(y)}})},87348:function(e,t,a){var i,o,r,n,s,l,c=a(62020),h=a(31802),d=a(21101),u=a(23180),p=(a(38606),a(69868)),v=a(84922),m=a(11991),f=e=>e,g=function(e){function t(){var e;(0,c.A)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=(0,d.A)(this,t,[].concat(i))).subtitlePosition="below",e.showBorder=!1,e}return(0,u.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=(0,v.qy)(i||(i=f`<div class="header-title"> <slot name="title"></slot> </div>`)),t=(0,v.qy)(o||(o=f`<div class="header-subtitle"> <slot name="subtitle"></slot> </div>`));return(0,v.qy)(r||(r=f` <header class="header"> <div class="header-bar"> <section class="header-navigation-icon"> <slot name="navigationIcon"></slot> </section> <section class="header-content"> ${0} </section> <section class="header-action-items"> <slot name="actionItems"></slot> </section> </div> <slot></slot> </header> `),"above"===this.subtitlePosition?(0,v.qy)(n||(n=f`${0}${0}`),t,e):(0,v.qy)(s||(s=f`${0}${0}`),e,t))}}],[{key:"styles",get:function(){return[(0,v.AH)(l||(l=f`:host{display:block}:host([show-border]){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.header-bar{display:flex;flex-direction:row;align-items:center;padding:0 var(--ha-space-1);box-sizing:border-box}.header-content{flex:1;padding:10px var(--ha-space-1);display:flex;flex-direction:column;justify-content:center;min-height:var(--ha-space-12);min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-title{height:var(--ha-dialog-header-title-height,calc(var(--ha-font-size-xl) + var(--ha-space-1)));font-size:var(--ha-font-size-xl);line-height:var(--ha-line-height-condensed);font-weight:var(--ha-font-weight-medium)}.header-subtitle{font-size:var(--ha-font-size-m);line-height:var(--ha-line-height-normal);color:var(--secondary-text-color)}@media all and (min-width:450px) and (min-height:500px){.header-bar{padding:0 var(--ha-space-2)}}.header-navigation-icon{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}.header-action-items{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}`))]}}])}(v.WF);(0,p.__decorate)([(0,m.MZ)({type:String,attribute:"subtitle-position"})],g.prototype,"subtitlePosition",void 0),(0,p.__decorate)([(0,m.MZ)({type:Boolean,reflect:!0,attribute:"show-border"})],g.prototype,"showBorder",void 0),g=(0,p.__decorate)([(0,m.EM)("ha-dialog-header")],g)},37448:function(e,t,a){a.a(e,async function(e,t){try{var i=a(62020),o=a(31802),r=a(21101),n=a(23180),s=a(69868),l=a(84922),c=a(11991),h=a(55),d=a(16808),u=a(71522),p=(a(17933),e([d]));d=(p.then?(await p)():p)[0];var v,m,f,g,_,y,b,w=e=>e,A=function(e){function t(){return(0,i.A)(this,t),(0,r.A)(this,t,arguments)}return(0,n.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){if(this.icon)return(0,l.qy)(v||(v=w`<ha-icon .icon="${0}"></ha-icon>`),this.icon);if(!this.domain)return l.s6;if(!this.hass)return this._renderFallback();var e=(0,d._4)(this.hass,this.domain,this.deviceClass,this.state).then(e=>e?(0,l.qy)(m||(m=w`<ha-icon .icon="${0}"></ha-icon>`),e):this._renderFallback());return(0,l.qy)(f||(f=w`${0}`),(0,h.T)(e))}},{key:"_renderFallback",value:function(){if(this.domain&&this.domain in d.l)return(0,l.qy)(g||(g=w` <ha-svg-icon .path="${0}"></ha-svg-icon> `),d.l[this.domain]);if(this.brandFallback){var e,t=(0,u.MR)({domain:this.domain,type:"icon",darkOptimized:null===(e=this.hass.themes)||void 0===e?void 0:e.darkMode});return(0,l.qy)(_||(_=w` <img alt="" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer"> `),t)}return(0,l.qy)(y||(y=w`<ha-svg-icon .path="${0}"></ha-svg-icon>`),d.lW)}}])}(l.WF);A.styles=(0,l.AH)(b||(b=w`img{width:var(--mdc-icon-size,24px)}`)),(0,s.__decorate)([(0,c.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,s.__decorate)([(0,c.MZ)()],A.prototype,"domain",void 0),(0,s.__decorate)([(0,c.MZ)({attribute:!1})],A.prototype,"deviceClass",void 0),(0,s.__decorate)([(0,c.MZ)({attribute:!1})],A.prototype,"state",void 0),(0,s.__decorate)([(0,c.MZ)()],A.prototype,"icon",void 0),(0,s.__decorate)([(0,c.MZ)({attribute:"brand-fallback",type:Boolean})],A.prototype,"brandFallback",void 0),A=(0,s.__decorate)([(0,c.EM)("ha-domain-icon")],A),t()}catch(k){t(k)}})},72590:function(e,t,a){a.r(t),a.d(t,{HaIconButtonPrev:function(){return p}});var i,o=a(62020),r=a(31802),n=a(21101),s=a(23180),l=(a(38606),a(69868)),c=a(84922),h=a(11991),d=a(91541),u=(a(9058),e=>e),p=function(e){function t(){var e;(0,o.A)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=(0,n.A)(this,t,[].concat(i))).disabled=!1,e._icon="rtl"===d.G.document.dir?"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z":"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",e}return(0,s.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e;return(0,c.qy)(i||(i=u` <ha-icon-button .disabled="${0}" .label="${0}" .path="${0}"></ha-icon-button> `),this.disabled,this.label||(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.back"))||"Back",this._icon)}}])}(c.WF);(0,l.__decorate)([(0,h.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,l.__decorate)([(0,h.MZ)({type:Boolean})],p.prototype,"disabled",void 0),(0,l.__decorate)([(0,h.MZ)()],p.prototype,"label",void 0),(0,l.__decorate)([(0,h.wk)()],p.prototype,"_icon",void 0),p=(0,l.__decorate)([(0,h.EM)("ha-icon-button-prev")],p)},42163:function(e,t,a){a.r(t),a.d(t,{HaIconNext:function(){return d}});var i=a(31802),o=a(62020),r=a(21101),n=a(23180),s=(a(38606),a(69868)),l=a(11991),c=a(91541),h=a(86160),d=function(e){function t(){var e;(0,o.A)(this,t);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=(0,r.A)(this,t,[].concat(i))).path="rtl"===c.G.document.dir?"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z":"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",e}return(0,n.A)(t,e),(0,i.A)(t)}(h.HaSvgIcon);(0,s.__decorate)([(0,l.MZ)()],d.prototype,"path",void 0),d=(0,s.__decorate)([(0,l.EM)("ha-icon-next")],d)},75369:function(e,t,a){var i,o=a(31802),r=a(62020),n=a(21101),s=a(23180),l=a(69868),c=a(88752),h=a(43739),d=a(84922),u=a(11991),p=function(e){function t(){return(0,r.A)(this,t),(0,n.A)(this,t,arguments)}return(0,s.A)(t,e),(0,o.A)(t)}(c.B);p.styles=[h.R,(0,d.AH)(i||(i=(e=>e)`:host{--md-sys-color-surface:var(--card-background-color)}`))],p=(0,l.__decorate)([(0,u.EM)("ha-md-list")],p)},13948:function(e,t,a){a.a(e,async function(e,t){try{var i=a(62020),o=a(31802),r=a(21101),n=a(23180),s=a(69868),l=a(84922),c=a(11991),h=a(55),d=a(88341),u=a(16808),p=(a(17933),a(86160),e([u]));u=(p.then?(await p)():p)[0];var v,m,f,g,_=e=>e,y=function(e){function t(){return(0,i.A)(this,t),(0,r.A)(this,t,arguments)}return(0,n.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){if(this.icon)return(0,l.qy)(v||(v=_`<ha-icon .icon="${0}"></ha-icon>`),this.icon);if(!this.service)return l.s6;if(!this.hass)return this._renderFallback();var e=(0,u.f$)(this.hass,this.service).then(e=>e?(0,l.qy)(m||(m=_`<ha-icon .icon="${0}"></ha-icon>`),e):this._renderFallback());return(0,l.qy)(f||(f=_`${0}`),(0,h.T)(e))}},{key:"_renderFallback",value:function(){var e=(0,d.m)(this.service);return(0,l.qy)(g||(g=_` <ha-svg-icon .path="${0}"></ha-svg-icon> `),u.l[e]||u.Gn)}}])}(l.WF);(0,s.__decorate)([(0,c.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,s.__decorate)([(0,c.MZ)()],y.prototype,"service",void 0),(0,s.__decorate)([(0,c.MZ)()],y.prototype,"icon",void 0),y=(0,s.__decorate)([(0,c.EM)("ha-service-icon")],y),t()}catch(b){t(b)}})},95069:function(e,t,a){a.a(e,async function(e,t){try{var i=a(98735),o=a(88486),r=a(62020),n=a(31802),s=a(97750),l=a(21101),c=a(23180),h=a(87426),d=(a(38606),a(69868)),u=a(38982),p=a(84922),v=a(11991),m=a(44017),f=a(50809),g=(a(87348),a(9058),e([u]));u=(g.then?(await g)():g)[0];var _,y,b,w,A=e=>e,k=function(e){function t(){var e;(0,r.A)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=(0,l.A)(this,t,[].concat(n))).open=!1,e.width="medium",e.preventScrimClose=!1,e.headerTitle="",e.headerSubtitle="",e.headerSubtitlePosition="below",e.flexContent=!1,e._open=!1,e._bodyScrolled=!1,e._handleShow=(0,o.A)((0,i.A)().m(function t(){var a;return(0,i.A)().w(function(t){for(;;)switch(t.n){case 0:return e._open=!0,(0,m.r)((0,s.A)(e),"opened"),t.n=1,e.updateComplete;case 1:null===(a=e.querySelector("[autofocus]"))||void 0===a||a.focus();case 2:return t.a(2)}},t)})),e._handleAfterShow=()=>{(0,m.r)((0,s.A)(e),"after-show")},e._handleAfterHide=()=>{e._open=!1,(0,m.r)((0,s.A)(e),"closed")},e}return(0,c.A)(t,e),(0,n.A)(t,[{key:"updated",value:function(e){(0,h.A)(t,"updated",this,3)([e]),e.has("open")&&(this._open=this.open)}},{key:"render",value:function(){var e,t;return(0,p.qy)(_||(_=A` <wa-dialog .open="${0}" .lightDismiss="${0}" without-header @wa-show="${0}" @wa-after-show="${0}" @wa-after-hide="${0}"> <slot name="header"> <ha-dialog-header .subtitlePosition="${0}" .showBorder="${0}"> <slot name="headerNavigationIcon" slot="navigationIcon"> <ha-icon-button data-dialog="close" .label="${0}" .path="${0}"></ha-icon-button> </slot> ${0} ${0} <slot name="headerActionItems" slot="actionItems"></slot> </ha-dialog-header> </slot> <div class="body ha-scrollbar" @scroll="${0}"> <slot></slot> </div> <slot name="footer" slot="footer"></slot> </wa-dialog> `),this._open,!this.preventScrimClose,this._handleShow,this._handleAfterShow,this._handleAfterHide,this.headerSubtitlePosition,this._bodyScrolled,null!==(e=null===(t=this.hass)||void 0===t?void 0:t.localize("ui.common.close"))&&void 0!==e?e:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this.headerTitle?(0,p.qy)(y||(y=A`<span slot="title" class="title"> ${0} </span>`),this.headerTitle):p.s6,this.headerSubtitle?(0,p.qy)(b||(b=A`<span slot="subtitle">${0}</span>`),this.headerSubtitle):p.s6,this._handleBodyScroll)}},{key:"disconnectedCallback",value:function(){(0,h.A)(t,"disconnectedCallback",this,3)([]),this._open=!1}},{key:"_handleBodyScroll",value:function(e){this._bodyScrolled=e.target.scrollTop>0}}])}(p.WF);k.styles=[f.dp,(0,p.AH)(w||(w=A`wa-dialog{--full-width:var(
          --ha-dialog-width-full,
          min(
            95vw,
            calc(
              100vw - var(--safe-area-inset-left, var(--ha-space-0)) - var(
                  --safe-area-inset-right,
                  var(--ha-space-0)
                )
            )
          )
        );--width:min(var(--ha-dialog-width-md, 580px), var(--full-width));--spacing:var(--dialog-content-padding, var(--ha-space-6));--show-duration:var(--ha-dialog-show-duration, 200ms);--hide-duration:var(--ha-dialog-hide-duration, 200ms);--ha-dialog-surface-background:var(
          --card-background-color,
          var(--ha-color-surface-default)
        );--wa-color-surface-raised:var(
          --ha-dialog-surface-background,
          var(--card-background-color, var(--ha-color-surface-default))
        );--wa-panel-border-radius:var(
          --ha-dialog-border-radius,
          var(--ha-border-radius-3xl)
        );max-width:var(--ha-dialog-max-width,100vw);max-width:var(--ha-dialog-max-width,100svw)}:host([width=small]) wa-dialog{--width:min(var(--ha-dialog-width-sm, 320px), var(--full-width))}:host([width=large]) wa-dialog{--width:min(var(--ha-dialog-width-lg, 720px), var(--full-width))}:host([width=full]) wa-dialog{--width:var(--full-width)}wa-dialog::part(dialog){min-width:var(--width,var(--full-width));max-width:var(--width,var(--full-width));max-height:var(--ha-dialog-max-height,calc(100% - var(--ha-space-20)));min-height:var(--ha-dialog-min-height);position:var(--dialog-surface-position,relative);margin-top:var(--dialog-surface-margin-top,auto);display:flex;flex-direction:column;overflow:hidden}@media all and (max-width:450px),all and (max-height:500px){:host{--ha-dialog-border-radius:var(--ha-space-0)}wa-dialog{--full-width:var(--ha-dialog-width-full, 100vw)}wa-dialog::part(dialog){min-height:var(--ha-dialog-min-height,100vh);min-height:var(--ha-dialog-min-height,100svh);max-height:var(--ha-dialog-max-height,100vh);max-height:var(--ha-dialog-max-height,100svh);padding-top:var(--safe-area-inset-top,var(--ha-space-0));padding-bottom:var(--safe-area-inset-bottom,var(--ha-space-0));padding-left:var(--safe-area-inset-left,var(--ha-space-0));padding-right:var(--safe-area-inset-right,var(--ha-space-0))}}.header-title-container{display:flex;align-items:center}.header-title{margin:0;margin-bottom:0;color:var(--ha-dialog-header-title-color,var(--primary-text-color));font-size:var(
          --ha-dialog-header-title-font-size,
          var(--ha-font-size-2xl)
        );line-height:var(
          --ha-dialog-header-title-line-height,
          var(--ha-line-height-condensed)
        );font-weight:var(--ha-dialog-header-title-font-weight,var(--ha-font-weight-normal));overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:var(--ha-space-3)}wa-dialog::part(body){padding:0;display:flex;flex-direction:column;max-width:100%;overflow:hidden}.body{position:var(--dialog-content-position,relative);padding:0 var(--dialog-content-padding,var(--ha-space-6)) var(--dialog-content-padding,var(--ha-space-6)) var(--dialog-content-padding,var(--ha-space-6));overflow:auto;flex-grow:1}:host([flexcontent]) .body{max-width:100%;flex:1;display:flex;flex-direction:column}wa-dialog::part(footer){padding:var(--ha-space-0)}::slotted([slot=footer]){display:flex;padding:var(--ha-space-3) var(--ha-space-4) var(--ha-space-4) var(--ha-space-4);gap:var(--ha-space-3);justify-content:flex-end;align-items:center;width:100%}`))],(0,d.__decorate)([(0,v.MZ)({attribute:!1})],k.prototype,"hass",void 0),(0,d.__decorate)([(0,v.MZ)({type:Boolean,reflect:!0})],k.prototype,"open",void 0),(0,d.__decorate)([(0,v.MZ)({type:String,reflect:!0,attribute:"width"})],k.prototype,"width",void 0),(0,d.__decorate)([(0,v.MZ)({type:Boolean,reflect:!0,attribute:"prevent-scrim-close"})],k.prototype,"preventScrimClose",void 0),(0,d.__decorate)([(0,v.MZ)({type:String,attribute:"header-title"})],k.prototype,"headerTitle",void 0),(0,d.__decorate)([(0,v.MZ)({type:String,attribute:"header-subtitle"})],k.prototype,"headerSubtitle",void 0),(0,d.__decorate)([(0,v.MZ)({type:String,attribute:"header-subtitle-position"})],k.prototype,"headerSubtitlePosition",void 0),(0,d.__decorate)([(0,v.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],k.prototype,"flexContent",void 0),(0,d.__decorate)([(0,v.wk)()],k.prototype,"_open",void 0),(0,d.__decorate)([(0,v.P)(".body")],k.prototype,"bodyContainer",void 0),(0,d.__decorate)([(0,v.wk)()],k.prototype,"_bodyScrolled",void 0),(0,d.__decorate)([(0,v.Ls)({passive:!0})],k.prototype,"_handleBodyScroll",null),k=(0,d.__decorate)([(0,v.EM)("ha-wa-dialog")],k),t()}catch($){t($)}})},5437:function(e,t,a){var i,o,r,n=a(98735),s=a(88486),l=a(62020),c=a(31802),h=a(21101),d=a(23180),u=(a(38606),a(96956),a(65315),a(837),a(45519),a(39118),a(69868)),p=a(84922),v=a(11991),m=(a(9058),a(86160),a(80287),a(44017)),f=e=>e,g=function(e){function t(){var e;(0,l.A)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=(0,h.A)(this,t,[].concat(i))).suffix=!1,e.autofocus=!1,e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"focus",value:function(){var e;null===(e=this._input)||void 0===e||e.focus()}},{key:"render",value:function(){return(0,p.qy)(i||(i=f` <ha-textfield .autofocus="${0}" .label="${0}" .value="${0}" icon .iconTrailing="${0}" @input="${0}"> <slot name="prefix" slot="leadingIcon"> <ha-svg-icon tabindex="-1" class="prefix" .path="${0}"></ha-svg-icon> </slot> <div class="trailing" slot="trailingIcon"> ${0} <slot name="suffix"></slot> </div> </ha-textfield> `),this.autofocus,this.label||this.hass.localize("ui.common.search"),this.filter||"",this.filter||this.suffix,this._filterInputChanged,"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",this.filter&&(0,p.qy)(o||(o=f` <ha-icon-button @click="${0}" .label="${0}" .path="${0}" class="clear-button"></ha-icon-button> `),this._clearSearch,this.hass.localize("ui.common.clear"),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"))}},{key:"_filterChanged",value:(u=(0,s.A)((0,n.A)().m(function e(t){return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:(0,m.r)(this,"value-changed",{value:String(t)});case 1:return e.a(2)}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"_filterInputChanged",value:(r=(0,s.A)((0,n.A)().m(function e(t){var a;return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:this._filterChanged(null===(a=t.target.value)||void 0===a?void 0:a.trim());case 1:return e.a(2)}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_clearSearch",value:(a=(0,s.A)((0,n.A)().m(function e(){return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:this._filterChanged("");case 1:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})}]);var a,r,u}(p.WF);g.styles=(0,p.AH)(r||(r=f`:host{display:inline-flex}ha-icon-button,ha-svg-icon{color:var(--primary-text-color)}ha-svg-icon{outline:0}.clear-button{--mdc-icon-size:20px}ha-textfield{display:inherit}.trailing{display:flex;align-items:center}`)),(0,u.__decorate)([(0,v.MZ)({attribute:!1})],g.prototype,"hass",void 0),(0,u.__decorate)([(0,v.MZ)()],g.prototype,"filter",void 0),(0,u.__decorate)([(0,v.MZ)({type:Boolean})],g.prototype,"suffix",void 0),(0,u.__decorate)([(0,v.MZ)({type:Boolean})],g.prototype,"autofocus",void 0),(0,u.__decorate)([(0,v.MZ)({type:String})],g.prototype,"label",void 0),(0,u.__decorate)([(0,v.P)("ha-textfield",!0)],g.prototype,"_input",void 0),g=(0,u.__decorate)([(0,v.EM)("search-input")],g)},59054:function(e,t,a){a.d(t,{EN:function(){return l},I8:function(){return v},L_:function(){return p},MC:function(){return u},O$:function(){return o},bM:function(){return s},cQ:function(){return d},ix:function(){return r},kd:function(){return h},rP:function(){return n},ts:function(){return c}});a(35748),a(45519),a(64587),a(88238),a(34536),a(16257),a(20152),a(44711),a(72108),a(77030),a(95013);var i="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",o={condition:"M4 2A2 2 0 0 0 2 4V12H4V8H6V12H8V4A2 2 0 0 0 6 2H4M4 4H6V6H4M22 15.5V14A2 2 0 0 0 20 12H16V22H20A2 2 0 0 0 22 20V18.5A1.54 1.54 0 0 0 20.5 17A1.54 1.54 0 0 0 22 15.5M20 20H18V18H20V20M20 16H18V14H20M5.79 21.61L4.21 20.39L18.21 2.39L19.79 3.61Z",delay:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M19.03,7.39L20.45,5.97C20,5.46 19.55,5 19.04,4.56L17.62,6C16.07,4.74 14.12,4 12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22C17,22 21,17.97 21,13C21,10.88 20.26,8.93 19.03,7.39M11,14H13V8H11M15,1H9V3H15V1Z",event:"M10,9A1,1 0 0,1 11,8A1,1 0 0,1 12,9V13.47L13.21,13.6L18.15,15.79C18.68,16.03 19,16.56 19,17.14V21.5C18.97,22.32 18.32,22.97 17.5,23H11C10.62,23 10.26,22.85 10,22.57L5.1,18.37L5.84,17.6C6.03,17.39 6.3,17.28 6.58,17.28H6.8L10,19V9M11,5A4,4 0 0,1 15,9C15,10.5 14.2,11.77 13,12.46V11.24C13.61,10.69 14,9.89 14,9A3,3 0 0,0 11,6A3,3 0 0,0 8,9C8,9.89 8.39,10.69 9,11.24V12.46C7.8,11.77 7,10.5 7,9A4,4 0 0,1 11,5M11,3A6,6 0 0,1 17,9C17,10.7 16.29,12.23 15.16,13.33L14.16,12.88C15.28,11.96 16,10.56 16,9A5,5 0 0,0 11,4A5,5 0 0,0 6,9C6,11.05 7.23,12.81 9,13.58V14.66C6.67,13.83 5,11.61 5,9A6,6 0 0,1 11,3Z",play_media:"M8,5.14V19.14L19,12.14L8,5.14Z",service:"M12,5A2,2 0 0,1 14,7C14,7.24 13.96,7.47 13.88,7.69C17.95,8.5 21,11.91 21,16H3C3,11.91 6.05,8.5 10.12,7.69C10.04,7.47 10,7.24 10,7A2,2 0 0,1 12,5M22,19H2V17H22V19Z",wait_template:"M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",wait_for_trigger:"M12,9A2,2 0 0,1 10,7C10,5.89 10.9,5 12,5C13.11,5 14,5.89 14,7A2,2 0 0,1 12,9M12,14A2,2 0 0,1 10,12C10,10.89 10.9,10 12,10C13.11,10 14,10.89 14,12A2,2 0 0,1 12,14M12,19A2,2 0 0,1 10,17C10,15.89 10.9,15 12,15C13.11,15 14,15.89 14,17A2,2 0 0,1 12,19M20,10H17V8.86C18.72,8.41 20,6.86 20,5H17V4A1,1 0 0,0 16,3H8A1,1 0 0,0 7,4V5H4C4,6.86 5.28,8.41 7,8.86V10H4C4,11.86 5.28,13.41 7,13.86V15H4C4,16.86 5.28,18.41 7,18.86V20A1,1 0 0,0 8,21H16A1,1 0 0,0 17,20V18.86C18.72,18.41 20,16.86 20,15H17V13.86C18.72,13.41 20,11.86 20,10Z",repeat:i,repeat_count:i,repeat_while:i,repeat_until:i,repeat_for_each:i,choose:"M11,5H8L12,1L16,5H13V9.43C12.25,9.89 11.58,10.46 11,11.12V5M22,11L18,7V10C14.39,9.85 11.31,12.57 11,16.17C9.44,16.72 8.62,18.44 9.17,20C9.72,21.56 11.44,22.38 13,21.83C14.56,21.27 15.38,19.56 14.83,18C14.53,17.14 13.85,16.47 13,16.17C13.47,12.17 17.47,11.97 17.95,11.97V14.97L22,11M10.63,11.59C9.3,10.57 7.67,10 6,10V7L2,11L6,15V12C7.34,12.03 8.63,12.5 9.64,13.4C9.89,12.76 10.22,12.15 10.63,11.59Z",if:"M14,4L16.29,6.29L13.41,9.17L14.83,10.59L17.71,7.71L20,10V4M10,4H4V10L6.29,7.71L11,12.41V20H13V11.59L7.71,6.29",device_id:"M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z",stop:"M13 24C9.74 24 6.81 22 5.6 19L2.57 11.37C2.26 10.58 3 9.79 3.81 10.05L4.6 10.31C5.16 10.5 5.62 10.92 5.84 11.47L7.25 15H8V3.25C8 2.56 8.56 2 9.25 2S10.5 2.56 10.5 3.25V12H11.5V1.25C11.5 .56 12.06 0 12.75 0S14 .56 14 1.25V12H15V2.75C15 2.06 15.56 1.5 16.25 1.5C16.94 1.5 17.5 2.06 17.5 2.75V12H18.5V5.75C18.5 5.06 19.06 4.5 19.75 4.5S21 5.06 21 5.75V16C21 20.42 17.42 24 13 24Z",sequence:"M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z",parallel:"M16,4.5V7H5V9H16V11.5L19.5,8M16,12.5V15H5V17H16V19.5L19.5,16",variables:"M21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V4C23 2.9 22.1 2 21 2M21 20H3V6H21V20M16.6 8C18.1 9.3 19 11.1 19 13C19 14.9 18.1 16.7 16.6 18L15 17.4C16.3 16.4 17 14.7 17 13S16.3 9.6 15 8.6L16.6 8M7.4 8L9 8.6C7.7 9.6 7 11.3 7 13S7.7 16.4 9 17.4L7.4 18C5.9 16.7 5 14.9 5 13S5.9 9.3 7.4 8M12.1 12L13.5 10H15L12.8 13L14.1 16H12.8L12 14L10.6 16H9L11.3 12.9L10 10H11.3L12.1 12Z",set_conversation_response:"M12,8H4A2,2 0 0,0 2,10V14A2,2 0 0,0 4,16H5V20A1,1 0 0,0 6,21H8A1,1 0 0,0 9,20V16H12L17,20V4L12,8M21.5,12C21.5,13.71 20.54,15.26 19,16V8C20.53,8.75 21.5,10.3 21.5,12Z"},r=new Set(["variables"]),n=[{groups:{device_id:{},serviceGroups:{}}},{titleKey:"ui.panel.config.automation.editor.actions.groups.helpers.label",groups:{helpers:{}}},{titleKey:"ui.panel.config.automation.editor.actions.groups.other.label",groups:{event:{},service:{},set_conversation_response:{},other:{}}}],s={condition:{},delay:{},wait_template:{},wait_for_trigger:{},repeat_count:{},repeat_while:{},repeat_until:{},repeat_for_each:{},choose:{},if:{},stop:{},sequence:{},parallel:{},variables:{}},l={repeat_count:{repeat:{count:2,sequence:[]}},repeat_while:{repeat:{while:[],sequence:[]}},repeat_until:{repeat:{until:[],sequence:[]}},repeat_for_each:{repeat:{for_each:{},sequence:[]}}},c="__SERVICE__",h=e=>null==e?void 0:e.startsWith(c),d=e=>e.substring(c.length),u=["ha-automation-action-choose","ha-automation-action-condition","ha-automation-action-if","ha-automation-action-parallel","ha-automation-action-repeat","ha-automation-action-sequence"],p=["choose","if","parallel","sequence","repeat_while","repeat_until"],v=["repeat_count","repeat_for_each","wait_for_trigger"]},79370:function(e,t,a){a.d(t,{b:function(){return c}});var i=a(62020),o=a(31802),r=a(21101),n=a(23180),s=a(87426),l=(a(38606),a(45519),a(47849),a(61246)),c=e=>{var t=function(e){function t(){var e;(0,i.A)(this,t);for(var a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(e=(0,r.A)(this,t,[].concat(o)))._keydownEvent=t=>{var a=e.supportedShortcuts(),i=t.shiftKey?t.key.toUpperCase():t.key;if((t.ctrlKey||t.metaKey)&&!t.altKey&&i in a){var o;if(!(0,l.u)(t.composedPath()))return;if(null!==(o=window.getSelection())&&void 0!==o&&o.toString())return;return t.preventDefault(),void a[i]()}var r=e.supportedSingleKeyShortcuts();i in r&&(t.preventDefault(),r[i]())},e._listenersAdded=!1,e}return(0,n.A)(t,e),(0,o.A)(t,[{key:"connectedCallback",value:function(){(0,s.A)(t,"connectedCallback",this,3)([]),this.addKeyboardShortcuts()}},{key:"disconnectedCallback",value:function(){this.removeKeyboardShortcuts(),(0,s.A)(t,"disconnectedCallback",this,3)([])}},{key:"addKeyboardShortcuts",value:function(){this._listenersAdded||(this._listenersAdded=!0,window.addEventListener("keydown",this._keydownEvent))}},{key:"removeKeyboardShortcuts",value:function(){this._listenersAdded=!1,window.removeEventListener("keydown",this._keydownEvent)}},{key:"supportedShortcuts",value:function(){return{}}},{key:"supportedSingleKeyShortcuts",value:function(){return{}}}])}(e);return t}},53:function(e,t,a){a.a(e,async function(e,i){try{a.r(t);var o=a(98735),r=a(18202),n=a(88486),s=a(73983),l=a(15243),c=a(62020),h=a(31802),d=a(97750),u=a(21101),p=a(23180),v=a(87426),m=(a(1415),a(32203),a(38606),a(96956),a(91949),a(79827),a(35748),a(80178),a(99342),a(9724),a(35058),a(41846),a(86149),a(65315),a(837),a(22416),a(37089),a(48169),a(59023),a(29726),a(45519),a(64587),a(88238),a(34536),a(16257),a(20152),a(44711),a(72108),a(77030),a(75846),a(30536),a(95013),a(69868)),f=a(88970),g=a(84922),_=a(11991),y=a(75907),b=a(13802),w=a(33055),A=a(65940),k=a(60393),$=a(44017),x=a(88341),L=a(24730),V=a(51849),H=a(29561),M=a(81341),C=a(85451),S=(a(87348),a(37448)),q=(a(9058),a(72590),a(42163),a(28565),a(75369),a(99260),a(13948)),z=a(95069),Z=(a(5437),a(59054)),I=a(29295),G=a(16808),E=a(61964),B=a(68514),T=a(79370),F=a(8330),O=a(40980),P=a(91197),j=a(1511),K=e([M,C,S,q,z,G]);[M,C,S,q,z,G]=K.then?(await K)():K;var D,N,W,U,R,Q,J,X,Y,ee,te,ae,ie,oe,re,ne,se,le,ce,he,de,ue,pe,ve,me,fe,ge,_e=e=>e,ye="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",be={trigger:{collections:B.NI,icons:B.Sh},condition:{collections:I.GS,icons:I.Dk},action:{collections:Z.rP,icons:Z.O$}},we=new Set(["date","datetime","device_tracker","text","time","tts","update","weather","image_processing"]),Ae=new Set(["notify"]),ke=["serviceGroups","helpers","other"],$e=function(e){function t(){var e;(0,c.A)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=(0,u.A)(this,t,[].concat(i)))._tab="groups",e._filter="",e._open=!0,e._itemsScrolled=!1,e._bottomSheetMode=!1,e._narrow=!1,e._fullScreen=!1,e._getGroups=(e,t,a)=>t&&void 0!==a?be[e].collections[a].groups[t].members||{[t]:{}}:be[e].collections.reduce((e,t)=>Object.assign(Object.assign({},e),t.groups),{}),e._convertToItem=(e,t,a,i)=>({key:e,name:i(`ui.panel.config.automation.editor.${a}s.${t.members?"groups":"type"}.${e}.label`),description:i(`ui.panel.config.automation.editor.${a}s.${t.members?"groups":"type"}.${e}.description${t.members?"":".picker"}`),iconPath:t.icon||be[a].icons[e]}),e._getFilteredItems=(0,A.A)((t,a,i,o,r)=>{var n=e._items(t,i,o,r),s=e._fuseIndex(n),l=new F.b(n,{ignoreLocation:!0,includeScore:!0,minMatchCharLength:Math.min(2,e._filter.length)},s).multiTermsSearch(a);return l?l.map(e=>e.item).filter(e=>e.name):n}),e._getFilteredBuildingBlocks=(0,A.A)((t,a,i)=>{var o="action"===t?Z.bM:"condition"===t?I.oW:{},r=Object.keys(o).map(a=>e._convertToItem(a,{},t,i)),n=e._fuseIndexBlock(r),s=new F.b(r,{ignoreLocation:!0,includeScore:!0,minMatchCharLength:Math.min(2,e._filter.length)},n).multiTermsSearch(a);return s?s.map(e=>e.item).filter(e=>e.name):r}),e._items=(0,A.A)((t,a,i,o)=>{var r=e._getGroups(t),n=i=>Object.entries(i).map(i=>{var o=(0,l.A)(i,2),r=o[0],s=o[1];return s.members?n(s.members):e._convertToItem(r,s,t,a)}),c=n(r).flat();return"action"===t&&c.push.apply(c,(0,s.A)(e._services(a,i,o))),c}),e._fuseIndex=(0,A.A)(e=>f.A.createIndex(["key","name","description"],e)),e._fuseIndexBlock=(0,A.A)(e=>f.A.createIndex(["key","name","description"],e)),e._getCollections=(0,A.A)((t,a,i,o,r,n)=>{var c=[];return a.forEach(a=>{var h=Object.entries(a.groups),d=[];"action"===t&&Object.keys(a.groups).some(e=>ke.includes(e))&&(d.push.apply(d,(0,s.A)(e._serviceGroups(o,r,n,i,a.groups.serviceGroups?void 0:a.groups.helpers?"helper":"other"))),h=h.filter(e=>{var t=(0,l.A)(e,1)[0];return!ke.includes(t)})),d.push.apply(d,(0,s.A)(h.map(a=>{var i=(0,l.A)(a,2),r=i[0],n=i[1];return e._convertToItem(r,n,t,o)}))),c.push({titleKey:a.titleKey,groups:d.sort((t,a)=>"device"===t.key||"device_id"===t.key?-1:"device"===a.key||"device_id"===a.key?1:(0,L.xL)(t.name,a.name,e.hass.locale.language))})}),c}),e._getBlockItems=(0,A.A)((t,a)=>{var i="action"===t?Z.bM:I.oW;return Object.entries(i).map(i=>{var o=(0,l.A)(i,2),r=o[0],n=o[1];return e._convertToItem(r,n,t,a)}).sort((t,a)=>(0,L.xL)(t.name,a.name,e.hass.locale.language))}),e._getGroupItems=(0,A.A)((t,a,i,o,r,n,c)=>{if("action"===t&&(0,Z.kd)(a))return e._services(r,n,c,a);var h=e._getGroups(t,a,i),d=Object.entries(h).map(a=>{var i=(0,l.A)(a,2),o=i[0],n=i[1];return e._convertToItem(o,n,t,r)});return"action"===t&&(e._selectedGroup?"helpers"===e._selectedGroup?d.unshift.apply(d,(0,s.A)(e._serviceGroups(r,n,c,o,"helper"))):"other"===e._selectedGroup&&d.unshift.apply(d,(0,s.A)(e._serviceGroups(r,n,c,o,"other"))):d.unshift.apply(d,(0,s.A)(e._serviceGroups(r,n,c,o,void 0)))),d.sort((t,a)=>(0,L.xL)(t.name,a.name,e.hass.locale.language))}),e._serviceGroups=(t,a,i,o,r)=>{if(!a||!i)return[];var n=[];return Object.keys(a).forEach(a=>{var s=i[a],l=!o||o.has(a);(void 0===r&&(Ae.has(a)||"entity"===(null==s?void 0:s.integration_type)&&l&&!we.has(a))||"helper"===r&&"helper"===(null==s?void 0:s.integration_type)||"other"===r&&!Ae.has(a)&&(we.has(a)||!l&&"entity"===(null==s?void 0:s.integration_type)||!["helper","entity"].includes((null==s?void 0:s.integration_type)||"")))&&n.push({icon:(0,g.qy)(D||(D=_e` <ha-domain-icon .hass="${0}" .domain="${0}" brand-fallback></ha-domain-icon> `),e.hass,a),key:`${Z.ts}${a}`,name:(0,E.p$)(t,a,s),description:""})}),n.sort((t,a)=>(0,L.xL)(t.name,a.name,e.hass.locale.language))},e._services=(0,A.A)((t,a,i,o)=>{if(!a)return[];var r,n=[];(0,Z.kd)(o)&&(r=(0,Z.cQ)(o));var s=i=>{for(var o=0,s=Object.keys(a[i]);o<s.length;o++){var l,c,h=s[o];n.push({icon:(0,g.qy)(N||(N=_e` <ha-service-icon .hass="${0}" .service="${0}"></ha-service-icon> `),e.hass,`${i}.${h}`),key:`${Z.ts}${i}.${h}`,name:`${r?"":`${(0,E.p$)(t,i)}: `}${e.hass.localize(`component.${i}.services.${h}.name`)||(null===(l=a[i][h])||void 0===l?void 0:l.name)||h}`,description:e.hass.localize(`component.${i}.services.${h}.description`)||(null===(c=a[i][h])||void 0===c?void 0:c.description)||""})}};return r?(s(r),n.sort((t,a)=>(0,L.xL)(t.name,a.name,e.hass.locale.language))):o&&!["helpers","other"].includes(o)?[]:(Object.keys(a).sort().forEach(e=>{var t=null==i?void 0:i[e];"helpers"===o&&"helper"!==(null==t?void 0:t.integration_type)||"other"===o&&(we.has(e)||["helper","entity"].includes((null==t?void 0:t.integration_type)||""))||s(e)}),n)}),e._updateNarrow=()=>{e._narrow=window.matchMedia("(max-width: 870px)").matches||window.matchMedia("(max-height: 500px)").matches},e._debounceFilterChanged=(0,V.s)(t=>e._filterChanged(t),200),e._filterChanged=t=>{e._filter=t.detail.value},e._addClipboard=()=>{var t;null!==(t=e._params)&&void 0!==t&&t.clipboardItem&&(e._params.add(j.u),(0,P.P)((0,d.A)(e),{message:e.hass.localize("ui.panel.config.automation.editor.item_pasted",{item:e.hass.localize(`ui.panel.config.automation.editor.${e._params.type}s.type.${e._params.clipboardItem}.label`)})}),e.closeDialog())},e._focusSearchList=t=>{e._filter&&e._itemsListFirstElement&&(t.preventDefault(),e._itemsListFirstElement.focus())},e._pickSingleItem=t=>{if(e._filter){t.preventDefault();var a=e._params.type,i=[].concat((0,s.A)(e._getFilteredItems(a,e._filter,e.hass.localize,e.hass.services,e._manifests)),(0,s.A)("trigger"!==a?e._getFilteredBuildingBlocks(a,e._filter,e.hass.localize):[]));1===i.length&&(e._params.add(i[0].key),e.closeDialog())}},e}return(0,p.A)(t,e),(0,h.A)(t,[{key:"showDialog",value:function(e){var t;this._params=e,this.addKeyboardShortcuts(),"action"===(null===(t=this._params)||void 0===t?void 0:t.type)&&(this.hass.loadBackendTranslation("services"),this._fetchManifests(),this._calculateUsedDomains(),(0,G.Yd)(this.hass)),this._fullScreen=matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches,window.addEventListener("resize",this._updateNarrow),this._updateNarrow(),this._bottomSheetMode=this._narrow}},{key:"closeDialog",value:function(){return this.removeKeyboardShortcuts(),this._params&&(0,$.r)(this,"dialog-closed",{dialog:this.localName}),this._open=!0,this._itemsScrolled=!1,this._bottomSheetMode=!1,this._params=void 0,this._selectedGroup=void 0,this._tab="groups",this._selectedCollectionIndex=void 0,this._filter="",this._manifests=void 0,this._domains=void 0,!0}},{key:"_fetchManifests",value:(a=(0,n.A)((0,o.A)().m(function e(){var t,a,i,n,s;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return t={},e.n=1,(0,E.fK)(this.hass);case 1:a=e.v,i=(0,r.A)(a);try{for(i.s();!(n=i.n()).done;)s=n.value,t[s.domain]=s}catch(o){i.e(o)}finally{i.f()}this._manifests=t;case 2:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"_calculateUsedDomains",value:function(){var e=new Set(Object.keys(this.hass.states).map(x.m));(0,H.b)(e,this._domains)||(this._domains=e)}},{key:"willUpdate",value:function(e){var t,a;"action"===(null===(t=this._params)||void 0===t?void 0:t.type)&&e.has("hass")&&(null===(a=e.get("hass"))||void 0===a?void 0:a.states)!==this.hass.states&&this._calculateUsedDomains()}},{key:"_renderContent",value:function(){var e,t,a,i=this._params.type,o=this._filter?this._getFilteredItems(i,this._filter,this.hass.localize,this.hass.services,this._manifests):"blocks"===this._tab?this._getBlockItems(i,this.hass.localize):this._selectedGroup?this._getGroupItems(i,this._selectedGroup,null!==(e=this._selectedCollectionIndex)&&void 0!==e?e:0,this._domains,this.hass.localize,this.hass.services,this._manifests):void 0,r=this._filter&&"trigger"!==i?this._getFilteredBuildingBlocks(i,this._filter,this.hass.localize):void 0,n=this._getCollections(i,be[i].collections,this._domains,this.hass.localize,this.hass.services,this._manifests),s=(0,Z.kd)(this._selectedGroup)?(0,E.p$)(this.hass.localize,(0,Z.cQ)(this._selectedGroup),null===(t=this._manifests)||void 0===t?void 0:t[(0,Z.cQ)(this._selectedGroup)]):this.hass.localize(`ui.panel.config.automation.editor.${this._params.type}s.groups.${this._selectedGroup}.label`)||this.hass.localize(`ui.panel.config.automation.editor.${this._params.type}s.type.${this._selectedGroup}.label`),l=this.hass.localize(`ui.panel.config.automation.editor.${i}s.add`),c=[{label:this.hass.localize(`ui.panel.config.automation.editor.${i}s.name`),value:"groups"},{label:this.hass.localize("ui.panel.config.automation.editor.blocks"),value:"blocks"}],h=this._filter||"blocks"===this._tab||this._narrow&&this._selectedGroup;return(0,g.qy)(W||(W=_e` <div slot="header"> <ha-dialog-header subtitle-position="above"> <span slot="title">${0}</span> ${0} ${0} </ha-dialog-header> ${0} ${0} </div> <div class="content"> <ha-md-list class="${0}"> ${0} ${0} </ha-md-list> <div class="${0}" @scroll="${0}"> ${0} ${0} </div> </div> `),this._narrow&&this._selectedGroup?s:l,this._narrow&&this._selectedGroup?(0,g.qy)(U||(U=_e`<span slot="subtitle">${0}</span>`),l):g.s6,this._narrow&&this._selectedGroup?(0,g.qy)(R||(R=_e`<ha-icon-button-prev slot="navigationIcon" @click="${0}"></ha-icon-button-prev>`),this._back):(0,g.qy)(Q||(Q=_e`<ha-icon-button .path="${0}" @click="${0}" slot="navigationIcon"></ha-icon-button>`),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this._close),this._narrow&&this._selectedGroup?g.s6:(0,g.qy)(J||(J=_e` <search-input ?autofocus="${0}" .hass="${0}" .filter="${0}" @value-changed="${0}" .label="${0}" @focus="${0}" @blur="${0}"></search-input> `),!this._narrow,this.hass,this._filter,this._debounceFilterChanged,this.hass.localize("ui.common.search"),this._onSearchFocus,this._removeSearchKeybindings),"trigger"===(null===(a=this._params)||void 0===a?void 0:a.type)||this._filter||this._narrow&&this._selectedGroup?g.s6:(0,g.qy)(X||(X=_e`<ha-button-toggle-group variant="neutral" active-variant="brand" .buttons="${0}" .active="${0}" size="small" full-width @value-changed="${0}"></ha-button-toggle-group>`),c,this._tab,this._switchTab),(0,y.H)({groups:!0,hidden:h}),this._params.clipboardItem&&!this._filter?(0,g.qy)(Y||(Y=_e`<ha-md-list-item interactive type="button" class="paste" .value="${0}" @click="${0}"> <div class="shortcut-label"> <div class="label"> <div> ${0} </div> <div class="supporting-text"> ${0} </div> </div> ${0} </div> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon><ha-svg-icon class="plus" slot="end" .path="${0}"></ha-svg-icon> </ha-md-list-item> <ha-md-divider role="separator" tabindex="-1"></ha-md-divider>`),j.u,this._selected,this.hass.localize(`ui.panel.config.automation.editor.${i}s.paste`),this.hass.localize(`ui.panel.config.automation.editor.${i}s.type.${this._params.clipboardItem}.label`),this._narrow?g.s6:(0,g.qy)(ee||(ee=_e`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>V</span> </span>`),O.c?(0,g.qy)(te||(te=_e`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),"M6,2A4,4 0 0,1 10,6V8H14V6A4,4 0 0,1 18,2A4,4 0 0,1 22,6A4,4 0 0,1 18,10H16V14H18A4,4 0 0,1 22,18A4,4 0 0,1 18,22A4,4 0 0,1 14,18V16H10V18A4,4 0 0,1 6,22A4,4 0 0,1 2,18A4,4 0 0,1 6,14H8V10H6A4,4 0 0,1 2,6A4,4 0 0,1 6,2M16,18A2,2 0 0,0 18,20A2,2 0 0,0 20,18A2,2 0 0,0 18,16H16V18M14,10H10V14H14V10M6,16A2,2 0 0,0 4,18A2,2 0 0,0 6,20A2,2 0 0,0 8,18V16H6M8,6A2,2 0 0,0 6,4A2,2 0 0,0 4,6A2,2 0 0,0 6,8H8V6M18,8A2,2 0 0,0 20,6A2,2 0 0,0 18,4A2,2 0 0,0 16,6V8H18Z"):this.hass.localize("ui.panel.config.automation.editor.ctrl")),"M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z",ye):g.s6,n.map((e,t)=>(0,g.qy)(ae||(ae=_e` ${0} ${0} `),e.titleKey?(0,g.qy)(ie||(ie=_e`<div class="collection-title"> ${0} </div>`),this.hass.localize(e.titleKey)):g.s6,(0,w.u)(e.groups,e=>e.key,e=>(0,g.qy)(oe||(oe=_e` <ha-md-list-item interactive type="button" .value="${0}" .index="${0}" @click="${0}" class="${0}"> <div slot="headline">${0}</div> ${0} </ha-md-list-item> `),e.key,t,this._groupSelected,e.key===this._selectedGroup?"selected":"",e.name,e.icon?(0,g.qy)(re||(re=_e`<span slot="start">${0}</span>`),e.icon):e.iconPath?(0,g.qy)(ne||(ne=_e`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),e.iconPath):g.s6)))),(0,y.H)({items:!0,blank:!this._selectedGroup&&!this._filter&&"groups"===this._tab,"empty-search":!(null!=o&&o.length)&&!(null!=r&&r.length)&&this._filter,hidden:this._narrow&&!this._selectedGroup&&!this._filter&&"groups"===this._tab}),this._onItemsScroll,r?this._renderItemList(this.hass.localize("ui.panel.config.automation.editor.blocks"),r):g.s6,"groups"!==this._tab||this._selectedGroup||this._filter?null!=o&&o.length||!this._filter||r&&r.length?this._renderItemList(this.hass.localize(`ui.panel.config.automation.editor.${i}s.name`),o):(0,g.qy)(se||(se=_e`<span>${0}</span>`),this.hass.localize(`ui.panel.config.automation.editor.${i}s.empty_search`,{term:(0,g.qy)(le||(le=_e`<b>‘${0}’</b>`),this._filter)})):this.hass.localize(`ui.panel.config.automation.editor.${i}s.select`))}},{key:"_renderItemList",value:function(e,t){return t&&t.length?(0,g.qy)(ce||(ce=_e` <div class="items-title ${0}"> ${0} </div> <ha-md-list dialogInitialFocus="${0}"> ${0} </ha-md-list> `),this._itemsScrolled?"scrolled":"","blocks"!==this._tab||this._filter?e:this.hass.localize("ui.panel.config.automation.editor.blocks"),(0,b.J)(this._fullScreen?"":void 0),(0,w.u)(t,e=>e.key,e=>(0,g.qy)(he||(he=_e` <ha-md-list-item interactive type="button" .value="${0}" .group="${0}" @click="${0}"> <div slot="headline">${0}</div> <div slot="supporting-text">${0}</div> ${0} ${0} </ha-md-list-item> `),e.key,e.group,this._selected,e.name,e.description,e.icon?(0,g.qy)(de||(de=_e`<span slot="start">${0}</span>`),e.icon):e.iconPath?(0,g.qy)(ue||(ue=_e`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),e.iconPath):g.s6,e.group?(0,g.qy)(pe||(pe=_e`<ha-icon-next slot="end"></ha-icon-next>`)):(0,g.qy)(ve||(ve=_e`<ha-svg-icon slot="end" class="plus" .path="${0}"></ha-svg-icon>`),ye)))):g.s6}},{key:"render",value:function(){return this._params?this._bottomSheetMode?(0,g.qy)(me||(me=_e` <ha-bottom-sheet .open="${0}" @closed="${0}" flexcontent> ${0} </ha-bottom-sheet> `),this._open,this.closeDialog,this._renderContent()):(0,g.qy)(fe||(fe=_e` <ha-wa-dialog .open="${0}" @closed="${0}" flexcontent> ${0} </ha-wa-dialog> `),this._open,this.closeDialog,this._renderContent()):g.s6}},{key:"disconnectedCallback",value:function(){(0,v.A)(t,"disconnectedCallback",this,3)([]),window.removeEventListener("resize",this._updateNarrow),this._removeSearchKeybindings()}},{key:"_close",value:function(){this._open=!1}},{key:"_back",value:function(){this._selectedGroup=void 0}},{key:"_groupSelected",value:function(e){var t=e.currentTarget;if(this._selectedGroup===t.value)return this._selectedGroup=void 0,void(this._selectedCollectionIndex=void 0);this._selectedGroup=t.value,this._selectedCollectionIndex=e.currentTarget.index,requestAnimationFrame(()=>{var e;null===(e=this._itemsListElement)||void 0===e||e.scrollTo(0,0)})}},{key:"_selected",value:function(e){var t=e.currentTarget;this._params.add(t.value),this.closeDialog()}},{key:"supportedShortcuts",value:function(){return{v:()=>this._addClipboard()}}},{key:"_switchTab",value:function(e){this._tab=e.detail.value}},{key:"_onItemsScroll",value:function(e){var t,a=null!==(t=e.target.scrollTop)&&void 0!==t?t:0;this._itemsScrolled=a>0}},{key:"_onSearchFocus",value:function(e){this._removeKeyboardShortcuts=(0,k.Tc)(e.target,{ArrowDown:this._focusSearchList,Enter:this._pickSingleItem})}},{key:"_removeSearchKeybindings",value:function(){var e;null===(e=this._removeKeyboardShortcuts)||void 0===e||e.call(this)}}],[{key:"styles",get:function(){return[(0,g.AH)(ge||(ge=_e`ha-bottom-sheet{--ha-bottom-sheet-height:90vh;--ha-bottom-sheet-height:calc(100dvh - var(--ha-space-12));--ha-bottom-sheet-max-height:var(--ha-bottom-sheet-height);--ha-bottom-sheet-max-width:888px;--ha-bottom-sheet-padding:var(--ha-space-0);--ha-bottom-sheet-surface-background:var(--card-background-color)}ha-wa-dialog{--dialog-content-padding:var(--ha-space-0);--ha-dialog-width-md:888px;--ha-dialog-min-height:min(
            648px,
            calc(
              100vh - max(
                  var(--safe-area-inset-bottom),
                  var(--ha-space-4)
                ) - max(var(--safe-area-inset-top), var(--ha-space-4))
            )
          );--ha-dialog-min-height:min(
            648px,
            calc(
              100dvh - max(
                  var(--safe-area-inset-bottom),
                  var(--ha-space-4)
                ) - max(var(--safe-area-inset-top), var(--ha-space-4))
            )
          );--ha-dialog-max-height:var(--ha-dialog-min-height)}search-input{display:block;margin:var(--ha-space-0) var(--ha-space-4)}ha-button-toggle-group{--ha-button-toggle-group-padding:var(--ha-space-3) var(--ha-space-4) 0}.content{flex:1;min-height:0;height:100%;display:flex}ha-md-list{padding:0}.groups{overflow:auto;flex:3;border-radius:var(--ha-border-radius-xl);border:1px solid var(--ha-color-border-neutral-quiet);margin:var(--ha-space-3);margin-inline-end:var(--ha-space-0);--md-list-item-leading-space:var(--ha-space-3);--md-list-item-trailing-space:var(--md-list-item-leading-space);--md-list-item-bottom-space:var(--ha-space-1);--md-list-item-top-space:var(--md-list-item-bottom-space);--md-list-item-supporting-text-font:var(--ha-font-size-s);--md-list-item-one-line-container-height:var(--ha-space-10)}ha-bottom-sheet .groups{margin:var(--ha-space-3)}.groups .selected{background-color:var(--ha-color-fill-primary-normal-active);--md-list-item-label-text-color:var(--ha-color-on-primary-normal);--icon-primary-color:var(--ha-color-on-primary-normal)}.groups .selected ha-svg-icon{color:var(--ha-color-on-primary-normal)}.collection-title{background-color:var(--ha-color-fill-neutral-quiet-resting);padding:var(--ha-space-1) var(--ha-space-2);font-weight:var(--ha-font-weight-bold);color:var(--secondary-text-color);top:0;position:sticky;min-height:var(--ha-space-6);display:flex;align-items:center;z-index:1}.items{display:flex;flex-direction:column;overflow:auto;flex:7}ha-wa-dialog .items{margin-top:var(--ha-space-3)}ha-bottom-sheet .groups{padding-bottom:max(var(--safe-area-inset-bottom),var(--ha-space-4))}.groups.hidden,.items.hidden{display:none}.items.blank,.items.empty-search{border-radius:var(--ha-border-radius-xl);background-color:var(--ha-color-surface-default);align-items:center;color:var(--ha-color-text-secondary);padding:var(--ha-space-0);margin:var(--ha-space-3) var(--ha-space-4) max(var(--safe-area-inset-bottom),var(--ha-space-3))}.items ha-md-list{--md-list-item-two-line-container-height:var(--ha-space-12);--md-list-item-leading-space:var(--ha-space-3);--md-list-item-trailing-space:var(--md-list-item-leading-space);--md-list-item-bottom-space:var(--ha-space-2);--md-list-item-top-space:var(--md-list-item-bottom-space);--md-list-item-supporting-text-font:var(--ha-font-size-s);gap:var(--ha-space-2);padding:var(--ha-space-0) var(--ha-space-4)}.items ha-md-list ha-md-list-item{border-radius:var(--ha-border-radius-lg);border:1px solid var(--ha-color-border-neutral-quiet)}.groups,.items ha-md-list{padding-bottom:max(var(--safe-area-inset-bottom),var(--ha-space-3))}.items.blank{justify-content:center}.items.empty-search{padding-top:var(--ha-space-6);justify-content:start}.items-title{position:sticky;display:flex;align-items:center;font-weight:var(--ha-font-weight-medium);padding-top:var(--ha-space-2);padding-bottom:var(--ha-space-2);padding-inline-start:var(--ha-space-8);padding-inline-end:var(--ha-space-3);top:0;z-index:1;background-color:var(--card-background-color)}ha-bottom-sheet .items-title{padding-top:var(--ha-space-3)}.items-title.scrolled:first-of-type{box-shadow:var(--bar-box-shadow);border-bottom:1px solid var(--ha-color-border-neutral-quiet)}ha-icon-next{width:var(--ha-space-6)}ha-md-list-item.paste{border-bottom:1px solid var(--ha-color-border-neutral-quiet)}ha-svg-icon.plus{color:var(--primary-color)}.shortcut-label{display:flex;gap:var(--ha-space-3);justify-content:space-between}.shortcut-label .supporting-text{color:var(--secondary-text-color);font-size:var(--ha-font-size-s)}.shortcut-label .shortcut{--mdc-icon-size:var(--ha-space-3);display:inline-flex;flex-direction:row;align-items:center;gap:2px}.shortcut-label .shortcut span{font-size:var(--ha-font-size-s);font-family:var(--ha-font-family-code);color:var(--ha-color-text-secondary)}`))]}}]);var a}((0,T.b)(g.WF));(0,m.__decorate)([(0,_.MZ)({attribute:!1})],$e.prototype,"hass",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_params",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_selectedCollectionIndex",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_selectedGroup",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_tab",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_filter",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_manifests",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_domains",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_open",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_itemsScrolled",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_bottomSheetMode",void 0),(0,m.__decorate)([(0,_.wk)()],$e.prototype,"_narrow",void 0),(0,m.__decorate)([(0,_.P)(".items ha-md-list ha-md-list-item")],$e.prototype,"_itemsListFirstElement",void 0),(0,m.__decorate)([(0,_.P)(".items")],$e.prototype,"_itemsListElement",void 0),(0,m.__decorate)([(0,_.Ls)({passive:!0})],$e.prototype,"_onItemsScroll",null),$e=(0,m.__decorate)([(0,_.EM)("add-automation-element-dialog")],$e),i()}catch(xe){i(xe)}})}}]);
//# sourceMappingURL=23222.4335925e39af80a8.js.map