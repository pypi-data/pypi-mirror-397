"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["97795"],{77773:function(t,e,i){i.d(e,{A:function(){return a}});var n=t=>t<10?`0${t}`:t;function a(t){var e=Math.floor(t/3600),i=Math.floor(t%3600/60),a=Math.floor(t%3600%60);return e>0?`${e}:${n(i)}:${n(a)}`:i>0?`${i}:${n(a)}`:a>0?""+a:null}},84745:function(t,e,i){i.d(e,{ls:function(){return o},kL:function(){return a},pZ:function(){return u},r9:function(){return s},PF:function(){return c},CR:function(){return r}});i(80178),i(65315),i(37089),i(65152),i(45519);var n=i(77773),a=t=>t.callWS({type:"timer/list"}),r=(t,e)=>t.callWS(Object.assign({type:"timer/create"},e)),s=(t,e,i)=>t.callWS(Object.assign({type:"timer/update",timer_id:e},i)),u=(t,e)=>t.callWS({type:"timer/delete",timer_id:e}),o=t=>{if(t.attributes.remaining){var e,i,n=(e=t.attributes.remaining,3600*(i=e.split(":").map(Number))[0]+60*i[1]+i[2]);if("active"===t.state){var a=(new Date).getTime(),r=new Date(t.attributes.finishes_at).getTime();n=Math.max((r-a)/1e3,0)}return n}},c=(t,e,i)=>{if(!e)return null;if("idle"===e.state||0===i)return t.formatEntityState(e);var a=(0,n.A)(i||0)||"0";return"paused"===e.state&&(a=`${a} (${t.formatEntityState(e)})`),a}},67598:function(t,e,i){i.a(t,async function(t,n){try{i.r(e);var a=i(62020),r=i(31802),s=i(21101),u=i(23180),o=(i(46852),i(69868)),c=i(84922),h=i(11991),l=(i(28384),i(8510)),f=i(11151),d=i(78709),v=t([f]);f=(v.then?(await v)():v)[0];var m,_,g=t=>t,p=function(t){function e(){return(0,a.A)(this,e),(0,s.A)(this,e,arguments)}return(0,u.A)(e,t),(0,r.A)(e,[{key:"setConfig",value:function(t){if(!t)throw new Error("Invalid configuration");this._config=t}},{key:"render",value:function(){if(!this._config||!this.hass)return c.s6;var t=this.hass.states[this._config.entity];return t?(0,c.qy)(_||(_=g` <hui-generic-entity-row .hass="${0}" .config="${0}"> <div class="text-content"> <ha-timer-remaining-time .hass="${0}" .stateObj="${0}"></ha-timer-remaining-time> </div> </hui-generic-entity-row> `),this.hass,this._config,this.hass,t):(0,c.qy)(m||(m=g` <hui-warning .hass="${0}"> ${0} </hui-warning> `),this.hass,(0,d.j)(this.hass,this._config.entity))}},{key:"shouldUpdate",value:function(t){return(0,l.LX)(this,t)}}])}(c.WF);(0,o.__decorate)([(0,h.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,o.__decorate)([(0,h.wk)()],p.prototype,"_config",void 0),p=(0,o.__decorate)([(0,h.EM)("hui-timer-entity-row")],p),n()}catch(y){n(y)}})},28384:function(t,e,i){i.r(e);var n=i(62020),a=i(31802),r=i(21101),s=i(87426),u=i(23180),o=i(69868),c=i(84922),h=i(11991),l=i(84745),f=function(t){function e(){return(0,n.A)(this,e),(0,r.A)(this,e,arguments)}return(0,u.A)(e,t),(0,a.A)(e,[{key:"createRenderRoot",value:function(){return this}},{key:"update",value:function(t){var i;(0,s.A)(e,"update",this,3)([t]),this.innerHTML=null!==(i=(0,l.PF)(this.hass,this.stateObj,this.timeRemaining))&&void 0!==i?i:"-"}},{key:"connectedCallback",value:function(){(0,s.A)(e,"connectedCallback",this,3)([]),this.stateObj&&this._startInterval(this.stateObj)}},{key:"disconnectedCallback",value:function(){(0,s.A)(e,"disconnectedCallback",this,3)([]),this._clearInterval()}},{key:"willUpdate",value:function(t){(0,s.A)(e,"willUpdate",this,3)([t]),t.has("stateObj")&&this._startInterval(this.stateObj)}},{key:"_clearInterval",value:function(){this._updateRemaining&&(clearInterval(this._updateRemaining),this._updateRemaining=null)}},{key:"_startInterval",value:function(t){this._clearInterval(),this._calculateRemaining(t),"active"===t.state&&(this._updateRemaining=setInterval(()=>this._calculateRemaining(this.stateObj),1e3))}},{key:"_calculateRemaining",value:function(t){this.timeRemaining=(0,l.ls)(t)}}])}(c.mN);(0,o.__decorate)([(0,h.MZ)({attribute:!1})],f.prototype,"hass",void 0),(0,o.__decorate)([(0,h.MZ)({attribute:!1})],f.prototype,"stateObj",void 0),(0,o.__decorate)([(0,h.wk)()],f.prototype,"timeRemaining",void 0),f=(0,o.__decorate)([(0,h.EM)("ha-timer-remaining-time")],f)}}]);
//# sourceMappingURL=97795.99d602c673692c55.js.map