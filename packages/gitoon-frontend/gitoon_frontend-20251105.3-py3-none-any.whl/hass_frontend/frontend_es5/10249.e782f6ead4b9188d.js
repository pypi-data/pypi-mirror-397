"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["10249"],{94029:function(e,t,a){a.a(e,async function(e,n){try{a.d(t,{K:function(){return l}});var o=a(77489),r=a(65940),i=a(22989),s=e([o,i]);[o,i]=s.then?(await s)():s;var c=(0,r.A)(e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})),l=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=(0,i.x)(e,a,t);return n?c(t).format(o.value,o.unit):Intl.NumberFormat(t.language,{style:"unit",unit:o.unit,unitDisplay:"long"}).format(Math.abs(o.value))};n()}catch(d){n(d)}})},35297:function(e,t,a){a.d(t,{Z:function(){return n}});a(98522);var n=e=>e.charAt(0).toUpperCase()+e.slice(1)},22989:function(e,t,a){a.a(e,async function(e,n){try{a.d(t,{x:function(){return p}});var o=a(41484),r=a(88258),i=a(42794),s=a(50654),c=e([s]);s=(c.then?(await c)():c)[0];var l=1e3,d=60,u=60*d;function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=Object.assign(Object.assign({},h),n||{}),v=(+e-+t)/l;if(Math.abs(v)<c.second)return{value:Math.round(v),unit:"second"};var p=v/d;if(Math.abs(p)<c.minute)return{value:Math.round(p),unit:"minute"};var f=v/u;if(Math.abs(f)<c.hour)return{value:Math.round(f),unit:"hour"};var y=new Date(e),b=new Date(t);y.setHours(0,0,0,0),b.setHours(0,0,0,0);var _=(0,o.c)(y,b);if(0===_)return{value:Math.round(f),unit:"hour"};if(Math.abs(_)<c.day)return{value:_,unit:"day"};var m=(0,s.PE)(a),g=(0,r.k)(y,{weekStartsOn:m}),w=(0,r.k)(b,{weekStartsOn:m}),A=(0,i.I)(g,w);if(0===A)return{value:_,unit:"day"};if(Math.abs(A)<c.week)return{value:A,unit:"week"};var x=y.getFullYear()-b.getFullYear(),k=12*x+y.getMonth()-b.getMonth();return 0===k?{value:A,unit:"week"}:Math.abs(k)<c.month||0===x?{value:k,unit:"month"}:{value:Math.round(x),unit:"year"}}var h={second:45,minute:45,hour:22,day:5,week:4,month:11};n()}catch(v){n(v)}})},61671:function(e,t,a){var n,o,r=a(62020),i=a(31802),s=a(21101),c=a(23180),l=(a(38606),a(65152),a(69868)),d=a(84922),u=a(11991),h=a(73538),v=e=>e,p=function(e){function t(){var e;(0,r.A)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=(0,s.A)(this,t,[].concat(n))).min=0,e.max=100,e}return(0,c.A)(t,e),(0,i.A)(t,[{key:"render",value:function(){var e=(0,h.gN)((0,h.NN)((0,h.S8)(this.value,this.min,this.max),this.min,this.max));return(0,d.JW)(n||(n=v` <svg> <g> <rect/> <rect width="${0}%"/> </g> </svg> `),e)}}])}(d.WF);p.styles=(0,d.AH)(o||(o=v`rect{height:100%}rect:first-child{width:100%;fill:var(--ha-bar-background-color,var(--secondary-background-color))}rect:last-child{fill:var(--ha-bar-primary-color,var(--primary-color))}svg{border-radius:var(--ha-bar-border-radius,var(--ha-border-radius-sm));height:12px;width:100%}`)),(0,l.__decorate)([(0,u.MZ)({type:Number})],p.prototype,"min",void 0),(0,l.__decorate)([(0,u.MZ)({type:Number})],p.prototype,"max",void 0),(0,l.__decorate)([(0,u.MZ)({type:Number})],p.prototype,"value",void 0),p=(0,l.__decorate)([(0,u.EM)("ha-bar")],p)},10547:function(e,t,a){var n,o,r,i=a(62020),s=a(31802),c=a(21101),l=a(87426),d=a(23180),u=a(69868),h=a(54500),v=a(2909),p=a(11991),f=a(84922),y=a(91541),b=e=>e,_=function(e){function t(){return(0,i.A)(this,t),(0,c.A)(this,t,arguments)}return(0,d.A)(t,e),(0,s.A)(t,[{key:"firstUpdated",value:function(e){(0,l.A)(t,"firstUpdated",this,3)([e]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}])}(h.n);_.styles=[v.R,(0,f.AH)(n||(n=b`:host{--mdc-typography-button-text-transform:none;--mdc-typography-button-font-size:var(--ha-font-size-l);--mdc-typography-button-font-family:var(--ha-font-family-body);--mdc-typography-button-font-weight:var(--ha-font-weight-medium)}:host .mdc-fab--extended{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab.mdc-fab--extended .ripple{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}`)),"rtl"===y.G.document.dir?(0,f.AH)(o||(o=b`:host .mdc-fab--extended .mdc-fab__icon{direction:rtl}`)):(0,f.AH)(r||(r=b``))],_=(0,u.__decorate)([(0,p.EM)("ha-fab")],_)},48540:function(e,t,a){var n,o,r=a(62020),i=a(31802),s=a(21101),c=a(23180),l=(a(65152),a(69868)),d=a(84922),u=a(11991),h=a(75907),v=a(73538),p=(a(61671),a(56608),e=>e),f=function(e){function t(){return(0,r.A)(this,t),(0,s.A)(this,t,arguments)}return(0,c.A)(t,e),(0,i.A)(t,[{key:"render",value:function(){var e,t=(0,v.gN)(this.value);return(0,d.qy)(n||(n=p` <ha-settings-row> <span slot="heading"> ${0} </span> <div slot="description" .title="${0}"> <span class="value"> <div>${0} %</div> </span> <ha-bar class="${0}" .value="${0}"></ha-bar> </div> </ha-settings-row> `),this.heading,null!==(e=this.tooltip)&&void 0!==e?e:"",t,(0,h.H)({"target-warning":t>50,"target-critical":t>85}),this.value)}}])}(d.WF);f.styles=(0,d.AH)(o||(o=p`ha-settings-row{padding:0;height:54px;width:100%}ha-settings-row>div[slot=description]{white-space:normal;color:var(--secondary-text-color);display:flex;justify-content:space-between}ha-bar{--ha-bar-primary-color:var(--metric-bar-ok-color, var(--success-color))}.target-warning{--ha-bar-primary-color:var(
        --metric-bar-warning-color,
        var(--warning-color)
      )}.target-critical{--ha-bar-primary-color:var(
        --metric-bar-critical-color,
        var(--error-color)
      )}.value{width:48px;padding-right:4px;padding-inline-end:4px;padding-inline-start:initial;flex-shrink:0}.value>div{direction:ltr;text-align:var(--float-start)}`)),(0,l.__decorate)([(0,u.MZ)({type:Number})],f.prototype,"value",void 0),(0,l.__decorate)([(0,u.MZ)({type:String})],f.prototype,"heading",void 0),(0,l.__decorate)([(0,u.MZ)({type:String})],f.prototype,"tooltip",void 0),f=(0,l.__decorate)([(0,u.EM)("ha-metric")],f)},28652:function(e,t,a){a.a(e,async function(e,t){try{var n=a(62020),o=a(31802),r=a(21101),i=a(23180),s=a(87426),c=(a(38606),a(69868)),l=a(22103),d=a(84922),u=a(11991),h=a(94029),v=a(35297),p=e([h]);h=(p.then?(await p)():p)[0];var f=function(e){function t(){var e;(0,n.A)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=(0,r.A)(this,t,[].concat(o))).capitalize=!1,e}return(0,i.A)(t,e),(0,o.A)(t,[{key:"disconnectedCallback",value:function(){(0,s.A)(t,"disconnectedCallback",this,3)([]),this._clearInterval()}},{key:"connectedCallback",value:function(){(0,s.A)(t,"connectedCallback",this,3)([]),this.datetime&&this._startInterval()}},{key:"createRenderRoot",value:function(){return this}},{key:"firstUpdated",value:function(e){(0,s.A)(t,"firstUpdated",this,3)([e]),this._updateRelative()}},{key:"update",value:function(e){(0,s.A)(t,"update",this,3)([e]),this._updateRelative()}},{key:"_clearInterval",value:function(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}},{key:"_startInterval",value:function(){this._clearInterval(),this._interval=window.setInterval(()=>this._updateRelative(),6e4)}},{key:"_updateRelative",value:function(){if(this.datetime){var e="string"==typeof this.datetime?(0,l.H)(this.datetime):this.datetime,t=(0,h.K)(e,this.hass.locale);this.innerHTML=this.capitalize?(0,v.Z)(t):t}else this.innerHTML=this.hass.localize("ui.components.relative_time.never")}}])}(d.mN);(0,c.__decorate)([(0,u.MZ)({attribute:!1})],f.prototype,"hass",void 0),(0,c.__decorate)([(0,u.MZ)({attribute:!1})],f.prototype,"datetime",void 0),(0,c.__decorate)([(0,u.MZ)({type:Boolean})],f.prototype,"capitalize",void 0),f=(0,c.__decorate)([(0,u.EM)("ha-relative-time")],f),t()}catch(y){t(y)}})},56608:function(e,t,a){var n,o,r=a(62020),i=a(31802),s=a(21101),c=a(23180),l=(a(38606),a(69868)),d=a(84922),u=a(11991),h=e=>e,v=function(e){function t(){var e;(0,r.A)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=(0,s.A)(this,t,[].concat(n))).narrow=!1,e.slim=!1,e.threeLine=!1,e.wrapHeading=!1,e}return(0,c.A)(t,e),(0,i.A)(t,[{key:"render",value:function(){return(0,d.qy)(n||(n=h` <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="${0}" ?three-line="${0}"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> `),!this.threeLine,this.threeLine)}}])}(d.WF);v.styles=(0,d.AH)(o||(o=h`:host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16px;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display,flex);flex-direction:var(--layout-vertical_-_flex-direction,column);justify-content:var(--layout-center-justified_-_justify-content,center);flex:var(--layout-flex_-_flex,1);flex-basis:var(--layout-flex_-_flex-basis,0.000000001px)}.body[three-line]{min-height:88px}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(
        --mdc-typography-body2-font-family,
        var(--mdc-typography-font-family, var(--ha-font-family-body))
      );font-size:var(--mdc-typography-body2-font-size, var(--ha-font-size-s));-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-weight:var(--mdc-typography-body2-font-weight,var(--ha-font-weight-normal));line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(72px - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;min-width:0;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}:host([slim]),:host([slim]) .content,:host([slim]) ::slotted(ha-switch){padding:0}:host([slim]) .body{min-height:0}`)),(0,l.__decorate)([(0,u.MZ)({type:Boolean,reflect:!0})],v.prototype,"narrow",void 0),(0,l.__decorate)([(0,u.MZ)({type:Boolean,reflect:!0})],v.prototype,"slim",void 0),(0,l.__decorate)([(0,u.MZ)({type:Boolean,attribute:"three-line"})],v.prototype,"threeLine",void 0),(0,l.__decorate)([(0,u.MZ)({type:Boolean,attribute:"wrap-heading",reflect:!0})],v.prototype,"wrapHeading",void 0),v=(0,l.__decorate)([(0,u.EM)("ha-settings-row")],v)},3980:function(e,t,a){a.d(t,{Ht:function(){return l},gO:function(){return d},mj:function(){return s},wj:function(){return u}});var n=a(73983),o=a(18202),r=(a(74048),a(99342),a(64654),a(45519),a(5934),a(47308)),i=(e,t)=>e.subscribeMessage(e=>{var a=Object.assign({},t.state||{});if(e.add){var n,r=(0,o.A)(e.add);try{for(r.s();!(n=r.n()).done;){var i=n.value;a[i.source]=i}}catch(l){r.e(l)}finally{r.f()}}if(e.remove){var s,c=(0,o.A)(e.remove);try{for(c.s();!(s=c.n()).done;){delete a[s.value.source]}}catch(l){c.e(l)}finally{c.f()}}t.setState(a,!0)},{type:"bluetooth/subscribe_scanner_details"}),s=(e,t)=>(0,r.N)("_bluetoothScannerDetails",()=>Promise.resolve({}),i,e,t),c=(e,t)=>e.subscribeMessage(e=>{var a=(0,n.A)(t.state||[]);if(e.add){var r,i=(0,o.A)(e.add);try{var s=function(){var e=r.value,t=a.findIndex(t=>t.address===e.address);-1===t?a.push(e):a[t]=e};for(i.s();!(r=i.n()).done;)s()}catch(p){i.e(p)}finally{i.f()}}if(e.change){var c,l=(0,o.A)(e.change);try{var d=function(){var e=c.value,t=a.findIndex(t=>t.address===e.address);-1!==t&&(a[t]=e)};for(l.s();!(c=l.n()).done;)d()}catch(p){l.e(p)}finally{l.f()}}if(e.remove){var u,h=(0,o.A)(e.remove);try{var v=function(){var e=u.value,t=a.findIndex(t=>t.address===e.address);-1!==t&&a.splice(t,1)};for(h.s();!(u=h.n()).done;)v()}catch(p){h.e(p)}finally{h.f()}}t.setState(a,!0)},{type:"bluetooth/subscribe_advertisements"}),l=(e,t)=>(0,r.N)("_bluetoothDeviceRows",()=>Promise.resolve([]),c,e,t),d=(e,t,a)=>{var n={type:"bluetooth/subscribe_connection_allocations"};return a&&(n.config_entry_id=a),e.subscribeMessage(e=>t(e),n)},u=(e,t,a)=>{var n={type:"bluetooth/subscribe_scanner_state"};return a&&(n.config_entry_id=a),e.subscribeMessage(e=>t(e),n)}},34032:function(e,t,a){a.a(e,async function(e,n){try{a.r(t),a.d(t,{BluetoothConnectionMonitorPanel:function(){return M}});var o=a(98735),r=a(88486),i=a(18202),s=a(62020),c=a(31802),l=a(21101),d=a(23180),u=a(87426),h=(a(38606),a(96956),a(44941),a(35748),a(80178),a(99342),a(65315),a(837),a(84136),a(37089),a(52885),a(45519),a(74774),a(69868)),v=a(84922),p=a(11991),f=a(65940),y=a(20051),b=(a(10547),a(9058),a(28652)),_=a(3980),m=a(68891),g=a(50809),w=(a(48540),e([b,m]));[b,m]=w.then?(await w)():w;var A,x,k=e=>e,M=function(e){function t(){var e;(0,s.A)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=(0,l.A)(this,t,[].concat(n))).narrow=!1,e.isWide=!1,e._data=[],e._scanners={},e._addressNames={},e._sourceDevices={},e._activeGrouping="source",e._activeCollapsed=[],e._connectionAllocationData={},e._columns=(0,f.A)(e=>({address:{title:e("ui.panel.config.bluetooth.address"),sortable:!0,filterable:!0,showNarrow:!0,main:!0,hideable:!1,moveable:!1,direction:"asc",flex:1},name:{title:e("ui.panel.config.bluetooth.name"),filterable:!0,sortable:!0},device:{title:e("ui.panel.config.bluetooth.device"),filterable:!0,sortable:!0,template:e=>(0,v.qy)(A||(A=k`${0}`),e.device||"-")},source:{title:e("ui.panel.config.bluetooth.source"),filterable:!0,sortable:!0,groupable:!0},source_address:{title:e("ui.panel.config.bluetooth.source_address"),filterable:!0,sortable:!0,defaultHidden:!0}})),e._dataWithNamedSourceAndIds=(0,f.A)(t=>t.map(t=>{var a=e._sourceDevices[t.address],n=e._sourceDevices[t.source],o=e._scanners[t.source],r=e._addressNames[t.address]||t.address;return Object.assign(Object.assign({},t),{},{id:t.address,name:r,source_address:t.source,source:(null==n?void 0:n.name_by_user)||(null==n?void 0:n.name)||(null==o?void 0:o.name)||t.source,device:(null==a?void 0:a.name_by_user)||(null==a?void 0:a.name)||void 0})})),e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"connectedCallback",value:function(){if((0,u.A)(t,"connectedCallback",this,3)([]),this.hass){this._unsubScanners=(0,_.mj)(this.hass.connection,e=>{this._scanners=e}),this._unsub_advertisements=(0,_.Ht)(this.hass.connection,e=>{var t,a=(0,i.A)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;this._addressNames[n.address]=n.name}}catch(o){a.e(o)}finally{a.f()}});var e=Object.values(this.hass.devices).filter(e=>e.connections.find(e=>"bluetooth"===e[0]));this._sourceDevices=Object.fromEntries(e.map(e=>[e.connections.find(e=>"bluetooth"===e[0])[1],e])),this._subscribeBluetoothConnectionAllocations()}}},{key:"_subscribeBluetoothConnectionAllocations",value:(a=(0,r.A)((0,o.A)().m(function e(){return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:if(!this._unsubConnectionAllocations){e.n=1;break}return e.a(2);case 1:return e.n=2,(0,_.gO)(this.hass.connection,e=>{var t,a=(0,i.A)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;this._connectionAllocationData[n.source]=n}}catch(h){a.e(h)}finally{a.f()}for(var o=[],r=0,s=Object.values(this._connectionAllocationData);r<s.length;r++){var c,l=s[r],d=(0,i.A)(l.allocated);try{for(d.s();!(c=d.n()).done;){var u=c.value;o.push({address:u,source:l.source})}}catch(h){d.e(h)}finally{d.f()}}this._data=o});case 2:this._unsubConnectionAllocations=e.v;case 3:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){(0,u.A)(t,"disconnectedCallback",this,3)([]),this._unsub_advertisements&&(this._unsub_advertisements(),this._unsub_advertisements=void 0),this._unsubConnectionAllocations&&(this._unsubConnectionAllocations(),this._unsubConnectionAllocations=void 0),this._unsubScanners&&(this._unsubScanners(),this._unsubScanners=void 0)}},{key:"render",value:function(){return(0,v.qy)(x||(x=k` <hass-tabs-subpage-data-table .hass="${0}" .narrow="${0}" .route="${0}" .columns="${0}" .data="${0}" .initialGroupColumn="${0}" .initialCollapsedGroups="${0}" .noDataText="${0}" @grouping-changed="${0}" @collapsed-changed="${0}"></hass-tabs-subpage-data-table> `),this.hass,this.narrow,this.route,this._columns(this.hass.localize),this._dataWithNamedSourceAndIds(this._data),this._activeGrouping,this._activeCollapsed,this.hass.localize("ui.panel.config.bluetooth.no_connections"),this._handleGroupingChanged,this._handleCollapseChanged)}},{key:"_handleGroupingChanged",value:function(e){this._activeGrouping=e.detail.value}},{key:"_handleCollapseChanged",value:function(e){this._activeCollapsed=e.detail.value}}]);var a}(v.WF);M.styles=g.RF,(0,h.__decorate)([(0,p.MZ)({attribute:!1})],M.prototype,"hass",void 0),(0,h.__decorate)([(0,p.MZ)({attribute:!1})],M.prototype,"route",void 0),(0,h.__decorate)([(0,p.MZ)({type:Boolean})],M.prototype,"narrow",void 0),(0,h.__decorate)([(0,p.MZ)({attribute:"is-wide",type:Boolean})],M.prototype,"isWide",void 0),(0,h.__decorate)([(0,p.wk)()],M.prototype,"_data",void 0),(0,h.__decorate)([(0,p.wk)()],M.prototype,"_scanners",void 0),(0,h.__decorate)([(0,p.wk)()],M.prototype,"_addressNames",void 0),(0,h.__decorate)([(0,p.wk)()],M.prototype,"_sourceDevices",void 0),(0,h.__decorate)([(0,y.I)({key:"bluetooth-connection-table-grouping",state:!1,subscribe:!1})],M.prototype,"_activeGrouping",void 0),(0,h.__decorate)([(0,y.I)({key:"bluetooth-connection-table-collapsed",state:!1,subscribe:!1})],M.prototype,"_activeCollapsed",void 0),(0,h.__decorate)([(0,p.wk)()],M.prototype,"_connectionAllocationData",void 0),M=(0,h.__decorate)([(0,p.EM)("bluetooth-connection-monitor")],M),n()}catch(C){n(C)}})},73538:function(e,t,a){a.d(t,{NN:function(){return o},S8:function(){return n},gN:function(){return r}});var n=(e,t,a)=>isNaN(e)||isNaN(t)||isNaN(a)?0:e>a?a:e<t?t:e,o=(e,t,a)=>100*(e-t)/(a-t),r=e=>Math.round(10*e)/10}}]);
//# sourceMappingURL=10249.e782f6ead4b9188d.js.map