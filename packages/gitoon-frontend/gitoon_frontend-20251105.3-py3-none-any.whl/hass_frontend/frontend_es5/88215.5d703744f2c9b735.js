(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["88215"],{1797:function(e,t,i){"use strict";i.d(t,{X:function(){return n}});var a=i(62020),o=i(31802),n=(i(46852),i(99342),function(){return(0,o.A)(function e(t,i){(0,a.A)(this,e),this._undoStack=[],this._redoStack=[],this._stackLimit=75,this._apply=()=>{throw new Error("No apply function provided")},this._currentConfig=()=>{throw new Error("No currentConfig function provided")},this._onUndoChange=e=>{e.stopPropagation(),this.undo(),this._host.requestUpdate()},void 0!==i.stackLimit&&(this._stackLimit=i.stackLimit),this._apply=i.apply,this._currentConfig=i.currentConfig,this._host=t,t.addController(this)},[{key:"hostConnected",value:function(){window.addEventListener("undo-change",this._onUndoChange)}},{key:"hostDisconnected",value:function(){window.removeEventListener("undo-change",this._onUndoChange)}},{key:"canUndo",get:function(){return this._undoStack.length>0}},{key:"canRedo",get:function(){return this._redoStack.length>0}},{key:"commit",value:function(e){this._undoStack.length>=this._stackLimit&&this._undoStack.shift(),this._undoStack.push(Object.assign({},e)),this._redoStack=[]}},{key:"undo",value:function(){if(0!==this._undoStack.length){this._redoStack.push(Object.assign({},this._currentConfig()));var e=this._undoStack.pop();this._apply(e),this._host.requestUpdate()}}},{key:"redo",value:function(){if(0!==this._redoStack.length){this._undoStack.push(Object.assign({},this._currentConfig()));var e=this._redoStack.pop();this._apply(e),this._host.requestUpdate()}}},{key:"reset",value:function(){this._undoStack=[],this._redoStack=[]}}])}())},15676:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var a=e=>{var t=window.location.pathname;return e?t+"?"+e:t}},69752:function(e,t,i){"use strict";var a,o,n,s=i(15243),r=i(62020),l=i(31802),d=i(21101),c=i(23180),h=i(87426),u=(i(38606),i(96956),i(80178),i(35058),i(65315),i(837),i(37089),i(29726),i(45519),i(69868)),p=i(84922),g=i(11991),v=i(65940),m=i(44017),f=i(63211),b=i(24730),y=i(27161),_=(i(77510),i(53312),e=>e),A=function(e){function t(){var e;(0,r.A)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=(0,d.A)(this,t,[].concat(a))).value="",e.domain="automation",e.disabled=!1,e._processedBlueprints=(0,v.A)(t=>t?Object.entries(t).filter(e=>!("error"in e[1])).map(e=>{var t=(0,s.A)(e,2),i=t[0],a=t[1];return Object.assign(Object.assign({},a.metadata),{},{path:i})}).sort((t,i)=>(0,b.xL)(t.name,i.name,e.hass.locale.language)):[]),e}return(0,c.A)(t,e),(0,l.A)(t,[{key:"open",value:function(){var e,t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("ha-select");t&&(t.menuOpen=!0)}},{key:"render",value:function(){return this.hass?(0,p.qy)(a||(a=_` <ha-select .label="${0}" fixedMenuPosition naturalMenuWidth .value="${0}" .disabled="${0}" @selected="${0}" @closed="${0}"> ${0} </ha-select> `),this.label||this.hass.localize("ui.components.blueprint-picker.select_blueprint"),this.value,this.disabled,this._blueprintChanged,f.d,this._processedBlueprints(this.blueprints).map(e=>(0,p.qy)(o||(o=_` <ha-list-item .value="${0}"> ${0} </ha-list-item> `),e.path,e.name))):p.s6}},{key:"firstUpdated",value:function(e){(0,h.A)(t,"firstUpdated",this,3)([e]),void 0===this.blueprints&&(0,y.Xg)(this.hass,this.domain).then(e=>{this.blueprints=e})}},{key:"_blueprintChanged",value:function(e){var t=e.target.value;t!==this.value&&(this.value=t,setTimeout(()=>{(0,m.r)(this,"value-changed",{value:t}),(0,m.r)(this,"change")},0))}}])}(p.WF);A.styles=(0,p.AH)(n||(n=_`:host{display:inline-block}ha-select{width:100%;min-width:200px;display:block}`)),(0,u.__decorate)([(0,g.MZ)()],A.prototype,"label",void 0),(0,u.__decorate)([(0,g.MZ)()],A.prototype,"value",void 0),(0,u.__decorate)([(0,g.MZ)()],A.prototype,"domain",void 0),(0,u.__decorate)([(0,g.MZ)({attribute:!1})],A.prototype,"blueprints",void 0),(0,u.__decorate)([(0,g.MZ)({type:Boolean})],A.prototype,"disabled",void 0),A=(0,u.__decorate)([(0,g.EM)("ha-blueprint-picker")],A)},71347:function(e,t,i){"use strict";var a,o,n,s,r,l=i(18202),d=i(98735),c=i(88486),h=i(15243),u=i(62020),p=i(31802),g=i(21101),v=i(23180),m=i(87426),f=(i(38606),i(79827),i(35748),i(80178),i(99342),i(65315),i(22416),i(37089),i(29726),i(45519),i(5934),i(64587),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030),i(30536),i(95013),i(69868)),b=i(84922),y=i(11991),_=i(44017),A=i(29561),$=i(27161),w=i(54600),M=i(50809),k=(i(7475),i(16520),i(9058),i(14532),e=>e),C=function(e){function t(){var e;(0,u.A)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=(0,g.A)(this,t,[].concat(a))).narrow=!1,e.expanded=!1,e._shouldRender=!1,e}return(0,v.A)(t,e),(0,p.A)(t,[{key:"willUpdate",value:function(e){(0,m.A)(t,"willUpdate",this,3)([e]),e.has("value")&&!(0,A.b)(this.value,e.get("value"))&&this._findRelated()}},{key:"render",value:function(){var e,t;return(0,b.qy)(a||(a=k` <ha-expansion-panel left-chevron .expanded="${0}" @expanded-will-change="${0}" @expanded-changed="${0}"> <div slot="header" class="header"> ${0} ${0} </div> ${0} </ha-expansion-panel> `),this.expanded,this._expandedWillChange,this._expandedChanged,this.hass.localize("ui.panel.config.blueprint.caption"),null!==(e=this.value)&&void 0!==e&&e.length?(0,b.qy)(o||(o=k`<div class="badge">${0}</div> <ha-icon-button .path="${0}" @click="${0}"></ha-icon-button>`),null===(t=this.value)||void 0===t?void 0:t.length,"M21 8H3V6H21V8M13.81 16H10V18H13.09C13.21 17.28 13.46 16.61 13.81 16M18 11H6V13H18V11M21.12 15.46L19 17.59L16.88 15.46L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z",this._clearFilter):b.s6,this._blueprints&&this._shouldRender?(0,b.qy)(n||(n=k` <ha-list @selected="${0}" multi class="ha-scrollbar"> ${0} </ha-list> `),this._blueprintsSelected,Object.entries(this._blueprints).map(e=>{var t=(0,h.A)(e,2),i=t[0],a=t[1];return"error"in a?b.s6:(0,b.qy)(s||(s=k`<ha-check-list-item .value="${0}" .selected="${0}"> ${0} </ha-check-list-item>`),i,(this.value||[]).includes(i),a.metadata.name||i)})):b.s6)}},{key:"firstUpdated",value:(y=(0,c.A)((0,d.A)().m(function e(){return(0,d.A)().w(function(e){for(;;)switch(e.n){case 0:if(this.type){e.n=1;break}return e.a(2);case 1:return e.n=2,(0,$.Xg)(this.hass,this.type);case 2:this._blueprints=e.v;case 3:return e.a(2)}},e,this)})),function(){return y.apply(this,arguments)})},{key:"updated",value:function(e){e.has("expanded")&&this.expanded&&setTimeout(()=>{!this.narrow&&this.expanded&&(this.renderRoot.querySelector("ha-list").style.height=this.clientHeight-49+"px")},300)}},{key:"_expandedWillChange",value:function(e){this._shouldRender=e.detail.expanded}},{key:"_expandedChanged",value:function(e){this.expanded=e.detail.expanded}},{key:"_blueprintsSelected",value:(f=(0,c.A)((0,d.A)().m(function e(t){var i,a,o,n,s,r;return(0,d.A)().w(function(e){for(;;)switch(e.n){case 0:if(i=this._blueprints,t.detail.index.size){e.n=1;break}return(0,_.r)(this,"data-table-filter-changed",{value:[],items:void 0}),this.value=[],e.a(2);case 1:a=[],o=(0,l.A)(t.detail.index);try{for(o.s();!(n=o.n()).done;)s=n.value,r=Object.keys(i)[s],a.push(r)}catch(d){o.e(d)}finally{o.f()}this.value=a;case 2:return e.a(2)}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"_findRelated",value:(i=(0,c.A)((0,d.A)().m(function e(){var t,i,a,o,n,s,r,c,h,u;return(0,d.A)().w(function(e){for(;;)switch(e.n){case 0:if(null!==(t=this.value)&&void 0!==t&&t.length){e.n=1;break}return this.value=[],(0,_.r)(this,"data-table-filter-changed",{value:[],items:void 0}),e.a(2);case 1:i=[],a=(0,l.A)(this.value);try{for(a.s();!(o=a.n()).done;)n=o.value,this.type&&i.push((0,w.f)(this.hass,`${this.type}_blueprint`,n))}catch(d){a.e(d)}finally{a.f()}return e.n=2,Promise.all(i);case 2:s=e.v,r=new Set,c=(0,l.A)(s);try{for(c.s();!(h=c.n()).done;)(u=h.value)[this.type]&&u[this.type].forEach(e=>r.add(e))}catch(d){c.e(d)}finally{c.f()}(0,_.r)(this,"data-table-filter-changed",{value:this.value,items:this.type?r:void 0});case 3:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_clearFilter",value:function(e){e.preventDefault(),this.value=void 0,(0,_.r)(this,"data-table-filter-changed",{value:void 0,items:void 0})}}],[{key:"styles",get:function(){return[M.dp,(0,b.AH)(r||(r=k`:host{border-bottom:1px solid var(--divider-color)}:host([expanded]){flex:1;height:0}ha-expansion-panel{--ha-card-border-radius:var(--ha-border-radius-square);--expansion-panel-content-padding:0}.header{display:flex;align-items:center}.header ha-icon-button{margin-inline-start:auto;margin-inline-end:8px}.badge{display:inline-block;margin-left:8px;margin-inline-start:8px;margin-inline-end:0;min-width:16px;box-sizing:border-box;border-radius:var(--ha-border-radius-circle);font-size:var(--ha-font-size-xs);font-weight:var(--ha-font-weight-normal);background-color:var(--primary-color);line-height:var(--ha-line-height-normal);text-align:center;padding:0px 2px;color:var(--text-primary-color)}`))]}}]);var i,f,y}(b.WF);(0,f.__decorate)([(0,y.MZ)({attribute:!1})],C.prototype,"hass",void 0),(0,f.__decorate)([(0,y.MZ)({attribute:!1})],C.prototype,"value",void 0),(0,f.__decorate)([(0,y.MZ)()],C.prototype,"type",void 0),(0,f.__decorate)([(0,y.MZ)({type:Boolean})],C.prototype,"narrow",void 0),(0,f.__decorate)([(0,y.MZ)({type:Boolean,reflect:!0})],C.prototype,"expanded",void 0),(0,f.__decorate)([(0,y.wk)()],C.prototype,"_shouldRender",void 0),(0,f.__decorate)([(0,y.wk)()],C.prototype,"_blueprints",void 0),C=(0,f.__decorate)([(0,y.EM)("ha-filter-blueprints")],C)},53615:function(e,t,i){"use strict";var a,o=i(22826),n=i(98735),s=i(73983),r=i(88486),l=i(62020),d=i(31802),c=i(97750),h=i(21101),u=i(23180),p=i(87426),g=i(43333),v=(i(38606),i(96956),i(99846),i(79827),i(35748),i(80178),i(9724),i(98522),i(65315),i(837),i(37089),i(48169),i(45519),i(5934),i(67579),i(95013),i(69868)),m=i(84922),f=i(11991),b=i(34789),y=i.n(b),_=i(44017),A=(i(45460),i(18332),i(13484),i(81071),i(92714),i(55885),i(57971)),$=function(){var e=(0,r.A)((0,n.A)().m(function e(t,o,s){return(0,n.A)().w(function(e){for(;;)if(0===e.n)return a||(a=(0,A.LV)(new Worker(new URL(i.p+i.u("55640"),i.b)))),e.a(2,a.renderMarkdown(t,o,s))},e)}));return function(t,i,a){return e.apply(this,arguments)}}(),w=new(i(33810).G)(1e3),M={reType:(0,g.A)(/((\[!(caution|important|note|tip|warning)\])(?:\s|\\n)?)/i,{input:1,type:3}),typeToHaAlert:{caution:"error",important:"info",note:"info",tip:"success",warning:"warning"}},k=function(e){function t(){var e;(0,l.A)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=(0,h.A)(this,t,[].concat(a))).allowSvg=!1,e.allowDataUrl=!1,e.breaks=!1,e.lazyImages=!1,e.cache=!1,e._resize=()=>(0,_.r)((0,c.A)(e),"content-resize"),e}return(0,u.A)(t,e),(0,d.A)(t,[{key:"disconnectedCallback",value:function(){if((0,p.A)(t,"disconnectedCallback",this,3)([]),this.cache){var e=this._computeCacheKey();w.set(e,this.innerHTML)}}},{key:"createRenderRoot",value:function(){return this}},{key:"update",value:function(e){(0,p.A)(t,"update",this,3)([e]),void 0!==this.content&&this._render()}},{key:"willUpdate",value:function(e){if(!this.innerHTML&&this.cache){var t=this._computeCacheKey();w.has(t)&&(this.innerHTML=w.get(t),this._resize())}}},{key:"_computeCacheKey",value:function(){return y()({content:this.content,allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl,breaks:this.breaks})}},{key:"_render",value:(a=(0,r.A)((0,n.A)().m(function e(){var t,a,r=this;return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,$(String(this.content),{breaks:this.breaks,gfm:!0},{allowSvg:this.allowSvg,allowDataUrl:this.allowDataUrl});case 1:this.innerHTML=e.v,this._resize(),t=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,null),a=(0,n.A)().m(function e(){var a,o,l,d,c;return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:(a=t.currentNode)instanceof HTMLAnchorElement&&a.host!==document.location.host?(a.target="_blank",a.rel="noreferrer noopener"):a instanceof HTMLImageElement?(r.lazyImages&&(a.loading="lazy"),a.addEventListener("load",r._resize)):a instanceof HTMLQuoteElement?(l=(null===(o=a.firstElementChild)||void 0===o||null===(o=o.firstChild)||void 0===o?void 0:o.textContent)&&M.reType.exec(a.firstElementChild.firstChild.textContent))&&(d=l.groups.type,(c=document.createElement("ha-alert")).alertType=M.typeToHaAlert[d.toLowerCase()],c.append.apply(c,(0,s.A)(Array.from(a.childNodes).map(e=>{var t=Array.from(e.childNodes);if(!r.breaks&&t.length){var i,a=t[0];a.nodeType===Node.TEXT_NODE&&a.textContent===l.input&&null!==(i=a.textContent)&&void 0!==i&&i.includes("\n")&&(a.textContent=a.textContent.split("\n").slice(1).join("\n"))}return t}).reduce((e,t)=>e.concat(t),[]).filter(e=>e.textContent&&e.textContent!==l.input))),t.parentNode().replaceChild(c,a)):a instanceof HTMLElement&&["ha-alert","ha-qr-code","ha-icon","ha-svg-icon"].includes(a.localName)&&i(41073)(`./${a.localName}`);case 1:return e.a(2)}},e)});case 2:if(!t.nextNode()){e.n=4;break}return e.d((0,o.A)(a()),3);case 3:e.n=2;break;case 4:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})}]);var a}(m.mN);(0,v.__decorate)([(0,f.MZ)()],k.prototype,"content",void 0),(0,v.__decorate)([(0,f.MZ)({attribute:"allow-svg",type:Boolean})],k.prototype,"allowSvg",void 0),(0,v.__decorate)([(0,f.MZ)({attribute:"allow-data-url",type:Boolean})],k.prototype,"allowDataUrl",void 0),(0,v.__decorate)([(0,f.MZ)({type:Boolean})],k.prototype,"breaks",void 0),(0,v.__decorate)([(0,f.MZ)({type:Boolean,attribute:"lazy-images"})],k.prototype,"lazyImages",void 0),(0,v.__decorate)([(0,f.MZ)({type:Boolean})],k.prototype,"cache",void 0),k=(0,v.__decorate)([(0,f.EM)("ha-markdown-element")],k)},56657:function(e,t,i){"use strict";var a,o,n=i(62020),s=i(31802),r=i(21101),l=i(23180),d=(i(38606),i(69868)),c=i(84922),h=i(11991),u=(i(53615),e=>e),p=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=(0,r.A)(this,t,[].concat(a))).allowSvg=!1,e.allowDataUrl=!1,e.breaks=!1,e.lazyImages=!1,e.cache=!1,e}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){return this.content?(0,c.qy)(a||(a=u`<ha-markdown-element .content="${0}" .allowSvg="${0}" .allowDataUrl="${0}" .breaks="${0}" .lazyImages="${0}" .cache="${0}"></ha-markdown-element>`),this.content,this.allowSvg,this.allowDataUrl,this.breaks,this.lazyImages,this.cache):c.s6}}])}(c.WF);p.styles=(0,c.AH)(o||(o=u`:host{display:block}ha-markdown-element{-ms-user-select:text;-webkit-user-select:text;-moz-user-select:text}ha-markdown-element>:first-child{margin-top:0}ha-markdown-element>:last-child{margin-bottom:0}ha-alert{display:block;margin:var(--ha-space-1) 0}a{color:var(--primary-color)}img{max-width:100%}code,pre{background-color:var(--markdown-code-background-color,none);border-radius:var(--ha-border-radius-sm)}svg{background-color:var(--markdown-svg-background-color,none);color:var(--markdown-svg-color,none)}code{font-size:var(--ha-font-size-s);padding:.2em .4em}pre code{padding:0}pre{padding:var(--ha-space-4);overflow:auto;line-height:var(--ha-line-height-condensed);font-family:var(--ha-font-family-code)}h1,h2,h3,h4,h5,h6{line-height:initial}h2{font-size:var(--ha-font-size-xl);font-weight:var(--ha-font-weight-bold)}hr{border-color:var(--divider-color);border-bottom:none;margin:var(--ha-space-4) 0}`)),(0,d.__decorate)([(0,h.MZ)()],p.prototype,"content",void 0),(0,d.__decorate)([(0,h.MZ)({attribute:"allow-svg",type:Boolean})],p.prototype,"allowSvg",void 0),(0,d.__decorate)([(0,h.MZ)({attribute:"allow-data-url",type:Boolean})],p.prototype,"allowDataUrl",void 0),(0,d.__decorate)([(0,h.MZ)({type:Boolean})],p.prototype,"breaks",void 0),(0,d.__decorate)([(0,h.MZ)({type:Boolean,attribute:"lazy-images"})],p.prototype,"lazyImages",void 0),(0,d.__decorate)([(0,h.MZ)({type:Boolean})],p.prototype,"cache",void 0),p=(0,d.__decorate)([(0,h.EM)("ha-markdown")],p)},86133:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(62020),o=i(31802),n=i(21101),s=i(23180),r=i(87426),l=(i(38606),i(69868)),d=i(84922),c=i(11991),h=i(44017),u=i(81341),p=e([u]);u=(p.then?(await p)():p)[0];var g,v,m=e=>e,f=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=(0,n.A)(this,t,[].concat(o)))._dragging=!1,e._dragStartY=0,e._initialSize=0,e._dialogMaxViewpointHeight=70,e._dialogMinViewpointHeight=55,e._handleMouseDown=t=>{e._startDrag(t.clientY)},e._handleTouchStart=t=>{t.preventDefault(),e._startDrag(t.touches[0].clientY)},e._handleMouseMove=t=>{e._dragging&&e._updateSize(t.clientY)},e._handleTouchMove=t=>{e._dragging&&(t.preventDefault(),e._updateSize(t.touches[0].clientY))},e._handleMouseUp=()=>{e._endDrag()},e._handleTouchEnd=()=>{e._endDrag()},e}return(0,s.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){return(0,d.qy)(g||(g=m`<dialog open @transitionend="${0}" style="${0}"> <div class="handle-wrapper"> <div @mousedown="${0}" @touchstart="${0}" class="handle"></div> </div> <slot></slot> </dialog>`),this._handleTransitionEnd,`\n        --height: ${this._dialogViewportHeight}vh;\n        --height: ${this._dialogViewportHeight}dvh;\n        --max-height: ${this._dialogMaxViewpointHeight}vh;\n        --max-height: ${this._dialogMaxViewpointHeight}dvh;\n        --min-height: ${this._dialogMinViewpointHeight}vh;\n        --min-height: ${this._dialogMinViewpointHeight}dvh;\n      `,this._handleMouseDown,this._handleTouchStart)}},{key:"firstUpdated",value:function(e){(0,r.A)(t,"firstUpdated",this,3)([e]),this._openSheet()}},{key:"_openSheet",value:function(){requestAnimationFrame(()=>{this._dialog.classList.add("show")})}},{key:"closeSheet",value:function(){requestAnimationFrame(()=>{this._dialog.classList.remove("show")})}},{key:"_handleTransitionEnd",value:function(){this._dialog.classList.contains("show")?(this._dialogViewportHeight=this._dialog.offsetHeight/window.innerHeight*100,this._dialogMaxViewpointHeight=90,this._dialogMinViewpointHeight=20):(this._dialog.close(),(0,h.r)(this,"bottom-sheet-closed"))}},{key:"connectedCallback",value:function(){(0,r.A)(t,"connectedCallback",this,3)([]),document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp),document.addEventListener("touchmove",this._handleTouchMove,{passive:!1}),document.addEventListener("touchend",this._handleTouchEnd),document.addEventListener("touchcancel",this._handleTouchEnd)}},{key:"disconnectedCallback",value:function(){(0,r.A)(t,"disconnectedCallback",this,3)([]),document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),document.removeEventListener("touchmove",this._handleTouchMove),document.removeEventListener("touchend",this._handleTouchEnd),document.removeEventListener("touchcancel",this._handleTouchEnd)}},{key:"_startDrag",value:function(e){this._dragging=!0,this._dragStartY=e,this._initialSize=this._dialog.offsetHeight/window.innerHeight*100,document.body.style.setProperty("cursor","grabbing")}},{key:"_updateSize",value:function(e){var t=this._dragStartY-e,i=t/window.innerHeight*100,a=this._initialSize+i;if((a=Math.max(10,Math.min(90,a)))<20&&t<0)return this._endDrag(),void this.closeSheet();this._dialogViewportHeight=a}},{key:"_endDrag",value:function(){this._dragging&&(this._dragging=!1,document.body.style.removeProperty("cursor"))}}])}(d.WF);f.styles=(0,d.AH)(v||(v=m`.handle-wrapper{position:absolute;top:0;width:100%;padding-bottom:2px;display:flex;justify-content:center;align-items:center;cursor:grab;touch-action:none}.handle-wrapper .handle{height:20px;width:200px;display:flex;justify-content:center;align-items:center;z-index:7;padding-bottom:76px}.handle-wrapper .handle::after{content:"";border-radius:var(--ha-border-radius-md);height:4px;background:var(--divider-color,#e0e0e0);width:80px}.handle-wrapper .handle:active::after{cursor:grabbing}dialog{height:var(--height,auto);max-height:var(--max-height,70vh);max-height:var(--max-height,70dvh);min-height:var(--min-height,30vh);min-height:var(--min-height,30dvh);background-color:var(--ha-bottom-sheet-surface-background,var(--ha-color-surface-default));display:flex;flex-direction:column;top:0;inset-inline-start:0;position:fixed;width:calc(100% - 4px - var(--safe-area-inset-left) - var(--safe-area-inset-right));max-width:100%;border:none;box-shadow:var(--wa-shadow-l);padding:0;margin:0;top:auto;inset-inline-end:auto;bottom:0;inset-inline-start:0;box-shadow:0px -8px 16px rgba(0,0,0,.2);border-top-left-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));border-top-right-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));transform:translateY(100%);transition:transform ${0}ms ease;border-top-width:var(--ha-bottom-sheet-border-width);border-right-width:var(--ha-bottom-sheet-border-width);border-left-width:var(--ha-bottom-sheet-border-width);border-bottom-width:0;border-style:var(--ha-bottom-sheet-border-style);border-color:var(--ha-bottom-sheet-border-color);margin-left:var(--safe-area-inset-left);margin-right:var(--safe-area-inset-right)}dialog.show{transform:translateY(0)}`),u.r),(0,l.__decorate)([(0,c.P)("dialog")],f.prototype,"_dialog",void 0),(0,l.__decorate)([(0,c.wk)()],f.prototype,"_dialogMaxViewpointHeight",void 0),(0,l.__decorate)([(0,c.wk)()],f.prototype,"_dialogMinViewpointHeight",void 0),(0,l.__decorate)([(0,c.wk)()],f.prototype,"_dialogViewportHeight",void 0),f=(0,l.__decorate)([(0,c.EM)("ha-resizable-bottom-sheet")],f),t()}catch(b){t(b)}})},73634:function(e,t,i){"use strict";var a,o=i(98735),n=i(88486),s=i(62020),r=i(31802),l=i(21101),d=i(87426),c=i(23180),h=i(69868),u=i(36363),p=i(20150),g=i(84922),v=i(11991),m=function(e){function t(){return(0,s.A)(this,t),(0,l.A)(this,t,arguments)}return(0,c.A)(t,e),(0,r.A)(t,[{key:"show",value:(i=(0,n.A)((0,o.A)().m(function e(){return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:(0,d.A)(t,"show",this,3)([]),this.menu.hasOverflow=!1;case 1:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})}]);var i}(u.g);m.styles=[p.R,(0,g.AH)(a||(a=(e=>e)`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color);--md-sys-color-secondary-container:rgba(
          var(--rgb-primary-color),
          0.15
        );--md-sys-color-on-secondary-container:var(--text-primary-color);--mdc-icon-size:16px;--md-sys-color-on-primary-container:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color)}`))],m=(0,h.__decorate)([(0,v.EM)("ha-sub-menu")],m)},27161:function(e,t,i){"use strict";i.d(t,{Bs:function(){return s},Jp:function(){return o},Tk:function(){return n},Xg:function(){return a},oz:function(){return l},x1:function(){return r}});i(79827);var a=(e,t)=>e.callWS({type:"blueprint/list",domain:t}),o=(e,t)=>e.callWS({type:"blueprint/import",url:t}),n=(e,t,i,a,o,n)=>e.callWS({type:"blueprint/save",domain:t,path:i,yaml:a,source_url:o,allow_override:n}),s=(e,t,i)=>e.callWS({type:"blueprint/delete",domain:t,path:i}),r=e=>{var t=e.metadata.source_url;return t?t.includes("github.com/home-assistant")?"homeassistant":"community":"local"},l=(e,t,i,a)=>e.callWS({type:"blueprint/substitute",domain:t,path:i,input:a})},48727:function(e,t,i){"use strict";i.d(t,{D:function(){return n},i:function(){return o}});var a=i(15243),o=(i(99846),i(35748),i(65315),i(22416),i(29726),i(45519),i(64587),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030),i(30536),i(95013),e=>{var t={};return Object.entries(e).forEach(e=>{var i=(0,a.A)(e,2),o=i[0],n=i[1];t[o]={value:n.value,items:n.items instanceof Set?Array.from(n.items):n.items}}),t}),n=e=>{var t={};return Object.entries(e).forEach(e=>{var i=(0,a.A)(e,2),o=i[0],n=i[1];t[o]={value:n.value,items:Array.isArray(n.items)?new Set(n.items):n.items}}),t}},84432:function(e,t,i){"use strict";i.d(t,{A1:function(){return n},CY:function(){return l},Fn:function(){return s},Jz:function(){return c},St:function(){return d},VA:function(){return u},WI:function(){return p},iY:function(){return h},xw:function(){return r}});var a=i(98735),o=i(88486),n=(i(46852),(e,t)=>e.callWS({type:"media_source/resolve_media",media_content_id:t})),s=(e,t)=>e.callWS({type:"media_source/browse_media",media_content_id:t}),r="__MANUAL_ENTRY__",l=e=>e.startsWith(r),d=e=>e.startsWith("media-source://"),c=e=>e.startsWith("media-source://media_source"),h=e=>e.startsWith("media-source://image_upload"),u=function(){var e=(0,o.A)((0,a.A)().m(function e(t,i,o){var n,s;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return(n=new FormData).append("media_content_id",i),n.append("file",o),e.n=1,t.fetchWithAuth("/api/media_source/local_source/upload",{method:"POST",body:n});case 1:if(413!==(s=e.v).status){e.n=2;break}throw new Error(`Uploaded file is too large (${o.name})`);case 2:if(200===s.status){e.n=3;break}throw new Error("Unknown error");case 3:return e.a(2,s.json())}},e)}));return function(t,i,a){return e.apply(this,arguments)}}(),p=function(){var e=(0,o.A)((0,a.A)().m(function e(t,i){return(0,a.A)().w(function(e){for(;;)if(0===e.n)return e.a(2,t.callWS({type:"media_source/local_source/remove",media_content_id:i}))},e)}));return function(t,i){return e.apply(this,arguments)}}()},72569:function(e,t,i){"use strict";i.d(t,{Fj:function(){return o},Gu:function(){return n},H2:function(){return r},xA:function(){return d},xs:function(){return s}});i(44941),i(65315),i(84136),i(45519),i(74774);var a=i(12275),o=e=>e.callWS({type:"person/list"}),n=(e,t)=>e.callWS(Object.assign({type:"person/create"},t)),s=(e,t,i)=>e.callWS(Object.assign({type:"person/update",person_id:t},i)),r=(e,t)=>e.callWS({type:"person/delete",person_id:t}),l={},d=e=>{var t;if(null!==(t=e.user)&&void 0!==t&&t.id){var i=l[e.user.id];if(i){var o=e.states[i];if(o&&o.attributes.user_id===e.user.id)return o}var n=Object.values(e.states).find(t=>t.attributes.user_id===e.user.id&&"person"===(0,a.t)(t));return n&&(l[e.user.id]=n.entity_id),n}}},70053:function(e,t,i){"use strict";i.d(t,{W:function(){return a}});var a=["condition","action"]},81061:function(e,t,i){"use strict";i.d(t,{_:function(){return h}});var a=i(98735),o=i(88486),n=i(62020),s=i(31802),r=i(21101),l=i(23180),d=i(87426),c=(i(38606),i(60252)),h=e=>{var t=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(e=(0,r.A)(this,t,[].concat(s)))._handleClick=function(){var t=(0,o.A)((0,a.A)().m(function t(i){var o,n;return(0,a.A)().w(function(t){for(;;)switch(t.n){case 0:if(o=i.composedPath()[0],(0,c.d)(i)){t.n=1;break}return t.a(2);case 1:return t.n=2,e.promptDiscardChanges();case 2:t.v&&(e._removeListeners(),o&&(n=new MouseEvent(i.type,i),o.dispatchEvent(n)));case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),e._handleUnload=e=>e.preventDefault(),e}return(0,l.A)(t,e),(0,s.A)(t,[{key:"_removeListeners",value:function(){window.removeEventListener("click",this._handleClick,!0),window.removeEventListener("beforeunload",this._handleUnload)}},{key:"willUpdate",value:function(e){(0,d.A)(t,"willUpdate",this,3)([e]),this.isDirty?(window.addEventListener("click",this._handleClick,!0),window.addEventListener("beforeunload",this._handleUnload)):this._removeListeners()}},{key:"disconnectedCallback",value:function(){(0,d.A)(t,"disconnectedCallback",this,3)([]),this._removeListeners()}},{key:"isDirty",get:function(){return!1}},{key:"promptDiscardChanges",value:(i=(0,o.A)((0,a.A)().m(function e(){return(0,a.A)().w(function(e){for(;;)if(0===e.n)return e.a(2,!0)},e)})),function(){return i.apply(this,arguments)})}]);var i}(e);return t}},38525:function(e,t,i){"use strict";i.d(t,{E:function(){return o},J:function(){return n}});i(35748),i(45519),i(5934),i(95013);var a=i(44017),o=()=>Promise.all([i.e("42153"),i.e("15265"),i.e("70"),i.e("3245"),i.e("30199"),i.e("37620"),i.e("29166"),i.e("79584"),i.e("20705"),i.e("60952"),i.e("9820"),i.e("12057"),i.e("89137"),i.e("61717"),i.e("10086"),i.e("92785"),i.e("40633"),i.e("70447"),i.e("19225"),i.e("33552"),i.e("48183")]).then(i.bind(i,57246)),n=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-area-registry-detail",dialogImport:o,dialogParams:t})}},31208:function(e,t,i){"use strict";i.d(t,{e:function(){return n}});i(35748),i(45519),i(5934),i(95013);var a=i(44017),o=()=>Promise.all([i.e("27923"),i.e("36928")]).then(i.bind(i,53271)),n=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"ha-dialog-automation-mode",dialogImport:o,dialogParams:t})}},47503:function(e,t,i){"use strict";i.d(t,{_:function(){return n}});i(35748),i(45519),i(5934),i(95013);var a=i(44017),o=()=>Promise.all([i.e("29166"),i.e("60952"),i.e("92785"),i.e("70447"),i.e("84344")]).then(i.bind(i,50571)),n=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"ha-dialog-automation-save",dialogImport:o,dialogParams:t})}},12707:function(e,t,i){"use strict";i.d(t,{j:function(){return n}});i(35748),i(45519),i(5934),i(95013);var a=i(44017),o=()=>Promise.all([i.e("41125"),i.e("10172")]).then(i.bind(i,33975)),n=(e,t)=>new Promise(i=>{var n=t.onClose;(0,a.r)(e,"show-dialog",{dialogTag:"ha-dialog-automation-save-timeout",dialogImport:o,dialogParams:Object.assign(Object.assign({},t),{},{onClose:()=>{i(),n&&n()}})})})},14466:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(62020),o=i(31802),n=i(97750),s=i(21101),r=i(23180),l=i(87426),d=(i(38606),i(65152),i(69868)),c=i(84922),h=i(11991),u=i(60393),p=i(44017),g=i(54e3),v=i(86133),m=i(26539),f=i(68514),b=i(43924),y=i(97457),_=i(67147),A=i(92560),$=i(25552),w=i(75472),M=e([v,b,y,_,A,$,w]);[v,b,y,_,A,$,w]=M.then?(await M)():M;var k,C,H,x,V,z,L,S,Z,E=e=>e,q=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(o))).isWide=!1,e.disabled=!1,e.narrow=!1,e._yamlMode=!1,e._resizing=!1,e._resizeStartX=0,e._toggleYamlMode=()=>{var t;null===(t=e.config)||void 0===t||t.toggleYamlMode()},e._handleMouseDown=t=>{var i;t.preventDefault(),e._startResizing(null!==(i=t.touches)&&void 0!==i&&i.length?t.touches[0].clientX:t.clientX)},e._handleMouseMove=t=>{var i;e._updateSize(null!==(i=t.touches)&&void 0!==i&&i.length?t.touches[0].clientX:t.clientX)},e._endResizing=()=>{e._unregisterResizeHandlers(),e._resizing=!1,document.body.style.removeProperty("cursor"),(0,p.r)((0,n.A)(e),"sidebar-resizing-stopped")},e._startKeyboardResizing=t=>{t.stopPropagation(),e._resizing=!0,e._resizeStartX=0,e._tinykeysUnsub=(0,u.Tc)(e._handleElement,{ArrowLeft:e._increaseSize,ArrowRight:e._decreaseSize})},e._stopKeyboardResizing=t=>{var i,a;t.stopPropagation(),e._resizing=!1,(0,p.r)((0,n.A)(e),"sidebar-resizing-stopped"),null===(i=(a=e)._tinykeysUnsub)||void 0===i||i.call(a),e._tinykeysUnsub=void 0},e._increaseSize=t=>{t.stopPropagation(),e._resizeStartX-=(0,g.qC)(e.hass)?10:-10,e._keyboardResize()},e._decreaseSize=t=>{t.stopPropagation(),e._resizeStartX+=(0,g.qC)(e.hass)?10:-10,e._keyboardResize()},e}return(0,r.A)(t,e),(0,o.A)(t,[{key:"updated",value:function(e){var i;((0,l.A)(t,"updated",this,3)([e]),e.has("config")||e.has("narrow"))&&(this.config&&!this.narrow||(null===(i=this._tinykeysUnsub)||void 0===i||i.call(this),this._tinykeysUnsub=void 0))}},{key:"disconnectedCallback",value:function(){var e;(0,l.A)(t,"disconnectedCallback",this,3)([]),this._unregisterResizeHandlers(),null===(e=this._tinykeysUnsub)||void 0===e||e.call(this)}},{key:"_renderContent",value:function(){var e=this._getType();return"trigger"===e?(0,c.qy)(k||(k=E` <ha-automation-sidebar-trigger class="sidebar-content" .hass="${0}" .config="${0}" .isWide="${0}" .narrow="${0}" .disabled="${0}" .yamlMode="${0}" .sidebarKey="${0}" @toggle-yaml-mode="${0}" @close-sidebar="${0}"></ha-automation-sidebar-trigger> `),this.hass,this.config,this.isWide,this.narrow,this.disabled,this._yamlMode,this.sidebarKey,this._toggleYamlMode,this.triggerCloseSidebar):"condition"===e?(0,c.qy)(C||(C=E` <ha-automation-sidebar-condition class="sidebar-content" .hass="${0}" .config="${0}" .isWide="${0}" .narrow="${0}" .disabled="${0}" .yamlMode="${0}" .sidebarKey="${0}" @toggle-yaml-mode="${0}" @close-sidebar="${0}"></ha-automation-sidebar-condition> `),this.hass,this.config,this.isWide,this.narrow,this.disabled,this._yamlMode,this.sidebarKey,this._toggleYamlMode,this.triggerCloseSidebar):"action"===e?(0,c.qy)(H||(H=E` <ha-automation-sidebar-action class="sidebar-content" .hass="${0}" .config="${0}" .isWide="${0}" .narrow="${0}" .disabled="${0}" .yamlMode="${0}" .sidebarKey="${0}" @toggle-yaml-mode="${0}" @close-sidebar="${0}"></ha-automation-sidebar-action> `),this.hass,this.config,this.isWide,this.narrow,this.disabled,this._yamlMode,this.sidebarKey,this._toggleYamlMode,this.triggerCloseSidebar):"option"===e?(0,c.qy)(x||(x=E` <ha-automation-sidebar-option class="sidebar-content" .hass="${0}" .config="${0}" .isWide="${0}" .narrow="${0}" .disabled="${0}" @close-sidebar="${0}"></ha-automation-sidebar-option> `),this.hass,this.config,this.isWide,this.narrow,this.disabled,this.triggerCloseSidebar):"script-field-selector"===e?(0,c.qy)(V||(V=E` <ha-automation-sidebar-script-field-selector class="sidebar-content" .hass="${0}" .config="${0}" .isWide="${0}" .narrow="${0}" .disabled="${0}" .yamlMode="${0}" .sidebarKey="${0}" @toggle-yaml-mode="${0}" @close-sidebar="${0}"></ha-automation-sidebar-script-field-selector> `),this.hass,this.config,this.isWide,this.narrow,this.disabled,this._yamlMode,this.sidebarKey,this._toggleYamlMode,this.triggerCloseSidebar):"script-field"===e?(0,c.qy)(z||(z=E` <ha-automation-sidebar-script-field class="sidebar-content" .hass="${0}" .config="${0}" .isWide="${0}" .narrow="${0}" .disabled="${0}" .yamlMode="${0}" .sidebarKey="${0}" @toggle-yaml-mode="${0}" @close-sidebar="${0}"></ha-automation-sidebar-script-field> `),this.hass,this.config,this.isWide,this.narrow,this.disabled,this._yamlMode,this.sidebarKey,this._toggleYamlMode,this.triggerCloseSidebar):c.s6}},{key:"render",value:function(){return this.config?this.narrow?(0,c.qy)(L||(L=E` <ha-resizable-bottom-sheet @bottom-sheet-closed="${0}"> ${0} </ha-resizable-bottom-sheet> `),this._closeSidebar,this._renderContent()):(0,c.qy)(S||(S=E` <div class="handle ${0}" @mousedown="${0}" @touchstart="${0}" @focus="${0}" @blur="${0}" tabindex="0"> <div class="indicator ${0}"></div> </div> ${0} `),this._resizing?"resizing":"",this._handleMouseDown,this._handleMouseDown,this._startKeyboardResizing,this._stopKeyboardResizing,this._resizing?"":"hidden",this._renderContent()):c.s6}},{key:"_getType",value:function(){var e,t,i,a,o,n,s,r,l;return null!==(e=this.config)&&void 0!==e&&e.config&&((0,m.fo)(null===(t=this.config)||void 0===t?void 0:t.config)||(0,f.H4)(null===(i=this.config)||void 0===i?void 0:i.config))?"trigger":(0,m.G3)(null===(a=this.config)||void 0===a?void 0:a.config)?"condition":null!==(o=this.config)&&void 0!==o&&o.config&&(0,m.KH)(null===(n=this.config)||void 0===n?void 0:n.config)?null!==(l=this.config)&&void 0!==l&&l.config.selector?"script-field-selector":"script-field":!this.config||null!==(s=this.config)&&void 0!==s&&s.config?null!==(r=this.config)&&void 0!==r&&r.config.action?"action":void 0:"option"}},{key:"triggerCloseSidebar",value:function(e){var t;(null==e||e.stopPropagation(),this.narrow)?null===(t=this._bottomSheetElement)||void 0===t||t.closeSheet():this._closeSidebar()}},{key:"_closeSidebar",value:function(){var e;null===(e=this.config)||void 0===e||e.close(!0)}},{key:"_startResizing",value:function(e){document.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._endResizing),document.addEventListener("touchmove",this._handleMouseMove,{passive:!1}),document.addEventListener("touchend",this._endResizing),document.addEventListener("touchcancel",this._endResizing),this._resizing=!0,this._resizeStartX=e}},{key:"_updateSize",value:function(e){var t=this._resizeStartX-e;(0,g.qC)(this.hass)&&(t=-t),requestAnimationFrame(()=>{(0,p.r)(this,"sidebar-resized",{deltaInPx:t})})}},{key:"_unregisterResizeHandlers",value:function(){document.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._endResizing),document.removeEventListener("touchmove",this._handleMouseMove),document.removeEventListener("touchend",this._endResizing),document.removeEventListener("touchcancel",this._endResizing)}},{key:"_keyboardResize",value:function(){(0,p.r)(this,"sidebar-resized",{deltaInPx:this._resizeStartX})}}])}(c.WF);q.styles=(0,c.AH)(Z||(Z=E`:host{z-index:6;outline:0;height:calc(100% - var(--safe-area-inset-top,0px));--ha-card-border-radius:var(
        --ha-dialog-border-radius,
        var(--ha-border-radius-2xl)
      );border-radius:var(--ha-card-border-radius);--ha-bottom-sheet-border-width:2px;--ha-bottom-sheet-border-style:solid;--ha-bottom-sheet-border-color:var(--primary-color);margin-top:var(--safe-area-inset-top);--ha-bottom-sheet-surface-background:var(--card-background-color)}@media all and (max-width:870px){.sidebar-content{max-height:100%}}.handle{position:absolute;margin-inline-start:-11px;height:calc(100% - (2 * var(--ha-card-border-radius)));width:24px;z-index:7;cursor:ew-resize;display:flex;align-items:center;justify-content:center;padding:var(--ha-card-border-radius) var(--ha-border-radius-square)}.handle.resizing{cursor:grabbing}.handle .indicator{background-color:var(--primary-color);height:100%;width:4px;border-radius:var(--ha-border-radius-pill);transform:scale3d(1,1,1);opacity:1;transition:transform 180ms ease-in-out,opacity 180ms ease-in-out}.handle .indicator.hidden{transform:scale3d(0,1,1);opacity:0}.handle:focus-visible{outline:0}`)),(0,d.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"hass",void 0),(0,d.__decorate)([(0,h.MZ)({attribute:!1})],q.prototype,"config",void 0),(0,d.__decorate)([(0,h.MZ)({type:Boolean,attribute:"wide"})],q.prototype,"isWide",void 0),(0,d.__decorate)([(0,h.MZ)({type:Boolean})],q.prototype,"disabled",void 0),(0,d.__decorate)([(0,h.MZ)({type:Boolean})],q.prototype,"narrow",void 0),(0,d.__decorate)([(0,h.MZ)({type:Number,attribute:"sidebar-key"})],q.prototype,"sidebarKey",void 0),(0,d.__decorate)([(0,h.wk)()],q.prototype,"_yamlMode",void 0),(0,d.__decorate)([(0,h.wk)()],q.prototype,"_resizing",void 0),(0,d.__decorate)([(0,h.P)("ha-resizable-bottom-sheet")],q.prototype,"_bottomSheetElement",void 0),(0,d.__decorate)([(0,h.P)(".handle")],q.prototype,"_handleElement",void 0),q=(0,d.__decorate)([(0,h.EM)("ha-automation-sidebar")],q),t()}catch(P){t(P)}})},46156:function(e,t,i){"use strict";i.a(e,async function(e,a){try{i.d(t,{Q:function(){return D}});var o=i(98735),n=i(88486),s=i(62020),r=i(31802),l=i(97750),d=i(21101),c=i(23180),h=i(87426),u=(i(1415),i(32203),i(38606),i(96956),i(79827),i(99342),i(65315),i(837),i(22416),i(45519),i(5934),i(30536),i(69868)),p=(i(40075),i(90227)),g=i(84922),v=i(11991),m=i(75907),f=i(36207),b=i(11111),y=i(20051),_=i(44017),A=i(17372),$=(i(10547),i(9058),i(56657),i(26539)),w=i(42699),M=i(8567),k=i(4885),C=i(26533),H=i(94372),x=i(15676),V=i(61246),z=i(91197),L=i(14466),S=i(85173),Z=i(954),E=e([A,M,k,L,C]);[A,M,k,L,C]=E.then?(await E)():E;var q,P,W,O,j,U,B,K=e=>e,T=(0,f.Ik)({alias:(0,f.lq)((0,f.Yj)()),description:(0,f.lq)((0,f.Yj)()),triggers:(0,f.lq)((0,f.YO)((0,f.bz)())),conditions:(0,f.lq)((0,f.YO)((0,f.bz)())),actions:(0,f.lq)((0,f.YO)((0,f.bz)())),mode:(0,f.lq)((0,f.Yj)()),max_exceeded:(0,f.lq)((0,f.Yj)()),id:(0,f.lq)((0,f.Yj)())}),R=(0,f.KC)([(0,f.kp)(T,(0,f.Ik)({triggers:(0,f.YO)((0,f.bz)())})),(0,f.kp)(T,(0,f.Ik)({conditions:(0,f.YO)((0,f.bz)())})),(0,f.kp)(T,(0,f.Ik)({actions:(0,f.YO)((0,f.bz)())}))]),D=500,Y=function(e){function t(){var e;(0,s.A)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=(0,d.A)(this,t,[].concat(a))).isWide=!1,e.narrow=!1,e.disabled=!1,e.saving=!1,e.dirty=!1,e._sidebarKey=0,e._sidebarWidthPx=D,e._handlePaste=function(){var t=(0,n.A)((0,o.A)().m(function t(i){var a,n,s,r,d,c,h,u,g,v,m;return(0,o.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if((0,V.u)(i.composedPath())){t.n=1;break}return t.a(2);case 1:if(n=null===(a=i.clipboardData)||void 0===a?void 0:a.getData("text")){t.n=2;break}return t.a(2);case 2:t.p=2,s=(0,p.Hh)(n),t.n=4;break;case 3:return t.p=3,t.v,(0,z.P)((0,l.A)(e),{message:e.hass.localize("ui.panel.config.automation.editor.paste_invalid_yaml"),duration:4e3,dismissable:!0}),t.a(2);case 4:if(s&&"object"==typeof s){t.n=5;break}return t.a(2);case 5:"automation"in(r=s)&&(r=r.automation,Array.isArray(r)&&(r=r[0])),Array.isArray(r)&&(1===r.length?r=r[0]:(d={triggers:[],conditions:[],actions:[]},c=!1,r.forEach(e=>{(0,$.fo)(e)&&(c=!0,d.triggers.push(e)),(0,$.G3)(e)&&(c=!0,d.conditions.push(e)),"unknown"!==(0,w.pq)(e)&&(c=!0,d.actions.push(e))}),c&&(r=d))),(0,$.fo)(r)&&(r={triggers:[r]}),(0,$.G3)(r)&&(r={conditions:[r]}),"unknown"!==(0,w.pq)(r)&&(r={actions:[r]}),t.p=6,h=(0,$.HB)(r),t.n=8;break;case 7:return t.p=7,t.v,t.a(2);case 8:t.p=8,(0,f.vA)(h,R),t.n=10;break;case 9:return t.p=9,t.v,(0,z.P)((0,l.A)(e),{message:e.hass.localize("ui.panel.config.automation.editor.paste_invalid_config"),duration:4e3,dismissable:!0}),t.a(2);case 10:if(!h){t.n=14;break}if(i.preventDefault(),1!==(m=Object.keys(h).filter(e=>(0,b.e)(h[e]).length)).length||!["triggers","conditions","actions"].includes(m[0])){t.n=11;break}if(!e._tryInsertAfterSelected(h[m[0]])){t.n=11;break}return e._showPastedToastWithUndo(),t.a(2);case 11:if(!(e.dirty||null!==(u=(0,b.e)(e.config.triggers))&&void 0!==u&&u.length||null!==(g=(0,b.e)(e.config.conditions))&&void 0!==g&&g.length||null!==(v=(0,b.e)(e.config.actions))&&void 0!==v&&v.length)){t.n=13;break}return t.n=12,new Promise(t=>{(0,S.Z)((0,l.A)(e),{domain:"automation",pastedConfig:h,onClose:()=>t(!1),onAppend:()=>{e._appendToExistingConfig(h),t(!1)},onReplace:()=>t(!0)})});case 12:if(t.v){t.n=13;break}return t.a(2);case 13:e._replaceExistingConfig(h);case 14:return t.a(2)}},t,null,[[8,9],[6,7],[2,3]])}));return function(e){return t.apply(this,arguments)}}(),e}return(0,c.A)(t,e),(0,r.A)(t,[{key:"connectedCallback",value:function(){(0,h.A)(t,"connectedCallback",this,3)([]),window.addEventListener("paste",this._handlePaste)}},{key:"disconnectedCallback",value:function(){window.removeEventListener("paste",this._handlePaste),(0,h.A)(t,"disconnectedCallback",this,3)([])}},{key:"_renderContent",value:function(){var e,t,i,a,o,n,s;return(0,g.qy)(q||(q=K` ${0} <div class="header"> <h2 id="triggers-heading" class="name"> ${0} </h2> </div> ${0} <ha-automation-trigger role="region" aria-labelledby="triggers-heading" .triggers="${0}" .highlightedTriggers="${0}" @value-changed="${0}" .hass="${0}" .disabled="${0}" .narrow="${0}" @open-sidebar="${0}" @request-close-sidebar="${0}" @close-sidebar="${0}" root sidebar></ha-automation-trigger> <div class="header"> <h2 id="conditions-heading" class="name"> ${0} <span class="small">(${0})</span> </h2> </div> ${0} <ha-automation-condition role="region" aria-labelledby="conditions-heading" .conditions="${0}" .highlightedConditions="${0}" @value-changed="${0}" .hass="${0}" .disabled="${0}" .narrow="${0}" @open-sidebar="${0}" @request-close-sidebar="${0}" @close-sidebar="${0}" root sidebar></ha-automation-condition> <div class="header"> <h2 id="actions-heading" class="name"> ${0} </h2> </div> ${0} <ha-automation-action role="region" aria-labelledby="actions-heading" .actions="${0}" .highlightedActions="${0}" @value-changed="${0}" @open-sidebar="${0}" @request-close-sidebar="${0}" @close-sidebar="${0}" .hass="${0}" .narrow="${0}" .disabled="${0}" root sidebar></ha-automation-action> `),this.config.description?(0,g.qy)(P||(P=K`<ha-markdown class="description" breaks .content="${0}"></ha-markdown>`),this.config.description):g.s6,this.hass.localize("ui.panel.config.automation.editor.triggers.header"),null!==(e=(0,b.e)(this.config.triggers))&&void 0!==e&&e.length?g.s6:(0,g.qy)(W||(W=K`<p> ${0} </p>`),this.hass.localize("ui.panel.config.automation.editor.triggers.description")),this.config.triggers||[],null===(t=this._pastedConfig)||void 0===t?void 0:t.triggers,this._triggerChanged,this.hass,this.disabled||this.saving,this.narrow,this._openSidebar,this.triggerCloseSidebar,this._handleCloseSidebar,this.hass.localize("ui.panel.config.automation.editor.conditions.header"),this.hass.localize("ui.common.optional"),null!==(i=(0,b.e)(this.config.conditions))&&void 0!==i&&i.length?g.s6:(0,g.qy)(O||(O=K`<p> ${0} </p>`),this.hass.localize("ui.panel.config.automation.editor.conditions.description",{user:(null===(a=this.hass.user)||void 0===a?void 0:a.name)||"Alice"})),this.config.conditions||[],null===(o=this._pastedConfig)||void 0===o?void 0:o.conditions,this._conditionChanged,this.hass,this.disabled||this.saving,this.narrow,this._openSidebar,this.triggerCloseSidebar,this._handleCloseSidebar,this.hass.localize("ui.panel.config.automation.editor.actions.header"),null!==(n=(0,b.e)(this.config.actions))&&void 0!==n&&n.length?g.s6:(0,g.qy)(j||(j=K`<p> ${0} </p>`),this.hass.localize("ui.panel.config.automation.editor.actions.description")),this.config.actions||[],null===(s=this._pastedConfig)||void 0===s?void 0:s.actions,this._actionChanged,this._openSidebar,this.triggerCloseSidebar,this._handleCloseSidebar,this.hass,this.narrow,this.disabled||this.saving)}},{key:"render",value:function(){return(0,g.qy)(U||(U=K` <div class="${0}"> <div class="content-wrapper"> <div class="content ${0}"> <slot name="alerts"></slot> ${0} </div> <div class="fab-positioner"> <ha-fab slot="fab" class="${0}" .label="${0}" .disabled="${0}" extended @click="${0}"> <ha-svg-icon slot="icon" .path="${0}"></ha-svg-icon> </ha-fab> </div> </div> <div class="sidebar-positioner"> <ha-automation-sidebar tabindex="-1" class="${0}" .isWide="${0}" .hass="${0}" .narrow="${0}" .config="${0}" .disabled="${0}" .sidebarKey="${0}" @value-changed="${0}" @sidebar-resized="${0}" @sidebar-resizing-stopped="${0}"></ha-automation-sidebar> </div> </div> `),(0,m.H)({"has-sidebar":this._sidebarConfig&&!this.narrow}),this._sidebarConfig&&this.narrow?"has-bottom-sheet":"",this._renderContent(),this.dirty?"dirty":"",this.hass.localize("ui.common.save"),this.saving,this._saveAutomation,"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",(0,m.H)({hidden:!this._sidebarConfig}),this.isWide,this.hass,this.narrow,this._sidebarConfig,this.disabled,this._sidebarKey,this._sidebarConfigChanged,this._resizeSidebar,this._stopResizeSidebar)}},{key:"firstUpdated",value:function(e){(0,h.A)(t,"firstUpdated",this,3)([e]),this.style.setProperty("--sidebar-dynamic-width",`${this._sidebarWidthPx}px`),"1"===(0,H.p9)("expanded")&&(this._clearParam("expanded"),this.expandAll())}},{key:"_clearParam",value:function(e){window.history.replaceState(null,"",(0,x.Z)((0,H.s8)(e)))}},{key:"_openSidebar",value:(i=(0,n.A)((0,o.A)().m(function e(t){var i,a,n,s;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return null===(i=this._sidebarConfig)||void 0===i||null===(a=i.close)||void 0===a||a.call(i),this._sidebarConfig=t.detail,this._sidebarKey++,e.n=1,null===(n=this._sidebarElement)||void 0===n?void 0:n.updateComplete;case 1:null===(s=this._sidebarElement)||void 0===s||s.focus();case 2:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_sidebarConfigChanged",value:function(e){e.stopPropagation(),this._sidebarConfig&&(this._sidebarConfig=Object.assign(Object.assign({},this._sidebarConfig),e.detail.value))}},{key:"triggerCloseSidebar",value:function(){if(this._sidebarConfig){var e;if(this._sidebarElement)return void this._sidebarElement.triggerCloseSidebar();null===(e=this._sidebarConfig)||void 0===e||e.close(),this._sidebarKey=0}}},{key:"_handleCloseSidebar",value:function(){this._sidebarConfig=void 0}},{key:"_triggerChanged",value:function(e){e.stopPropagation(),this.resetPastedConfig(),(0,_.r)(this,"value-changed",{value:Object.assign(Object.assign({},this.config),{},{triggers:e.detail.value})})}},{key:"_conditionChanged",value:function(e){e.stopPropagation(),this.resetPastedConfig(),(0,_.r)(this,"value-changed",{value:Object.assign(Object.assign({},this.config),{},{conditions:e.detail.value})})}},{key:"_actionChanged",value:function(e){e.stopPropagation(),this.resetPastedConfig(),(0,_.r)(this,"value-changed",{value:Object.assign(Object.assign({},this.config),{},{actions:e.detail.value})})}},{key:"_saveAutomation",value:function(){this.triggerCloseSidebar(),(0,_.r)(this,"save-automation")}},{key:"_appendToExistingConfig",value:function(e){this._pastedConfig=e;var t=Object.assign({},this.config);t&&("triggers"in e&&(t.triggers=(0,b.e)(t.triggers||[]).concat((0,b.e)(e.triggers))),"conditions"in e&&(t.conditions=(0,b.e)(t.conditions||[]).concat((0,b.e)(e.conditions))),"actions"in e&&(t.actions=(0,b.e)(t.actions||[]).concat((0,b.e)(e.actions))),this._showPastedToastWithUndo(),(0,_.r)(this,"value-changed",{value:Object.assign({},t)}))}},{key:"_replaceExistingConfig",value:function(e){this._pastedConfig=e,this._showPastedToastWithUndo(),(0,_.r)(this,"value-changed",{value:Object.assign({},e)})}},{key:"_showPastedToastWithUndo",value:function(){(0,z.P)(this,{message:this.hass.localize("ui.panel.config.automation.editor.paste_toast_message"),duration:4e3,action:{text:this.hass.localize("ui.common.undo"),action:()=>{(0,_.r)(this,"undo-change"),this._pastedConfig=void 0}}})}},{key:"resetPastedConfig",value:function(){this._pastedConfig=void 0,(0,z.P)(this,{message:"",duration:0})}},{key:"expandAll",value:function(){var e;null===(e=this._collapsableElements)||void 0===e||e.forEach(e=>{e.expandAll()})}},{key:"collapseAll",value:function(){var e;null===(e=this._collapsableElements)||void 0===e||e.forEach(e=>{e.collapseAll()})}},{key:"_tryInsertAfterSelected",value:function(e){return!(!this._sidebarConfig||!("insertAfter"in this._sidebarConfig))&&this._sidebarConfig.insertAfter(e)}},{key:"copySelectedRow",value:function(){this._sidebarConfig&&"copy"in this._sidebarConfig&&this._sidebarConfig.copy()}},{key:"cutSelectedRow",value:function(){this._sidebarConfig&&"cut"in this._sidebarConfig&&this._sidebarConfig.cut()}},{key:"deleteSelectedRow",value:function(){this._sidebarConfig&&"delete"in this._sidebarConfig&&this._sidebarConfig.delete()}},{key:"_resizeSidebar",value:function(e){e.stopPropagation();var t,i=e.detail.deltaInPx;this._prevSidebarWidthPx||(this._prevSidebarWidthPx=(null===(t=this._sidebarElement)||void 0===t?void 0:t.clientWidth)||D);var a=i+this._prevSidebarWidthPx;this._sidebarWidthPx=a,this.style.setProperty("--sidebar-dynamic-width",`${this._sidebarWidthPx}px`)}},{key:"_stopResizeSidebar",value:function(e){e.stopPropagation(),this._prevSidebarWidthPx=void 0}}],[{key:"styles",get:function(){return[Z.T_,Z.qK,(0,g.AH)(B||(B=K`p{margin-top:0}.header{margin-top:16px;display:flex;align-items:center}.header:first-child{margin-top:-16px}.header .name{font-weight:var(--ha-font-weight-normal);flex:1;margin-bottom:8px}.header .small{font-size:small;font-weight:var(--ha-font-weight-normal);line-height:0}.description{margin-top:16px}`))]}}]);var i}(g.WF);(0,u.__decorate)([(0,v.MZ)({attribute:!1})],Y.prototype,"hass",void 0),(0,u.__decorate)([(0,v.MZ)({attribute:"is-wide",type:Boolean})],Y.prototype,"isWide",void 0),(0,u.__decorate)([(0,v.MZ)({type:Boolean})],Y.prototype,"narrow",void 0),(0,u.__decorate)([(0,v.MZ)({type:Boolean})],Y.prototype,"disabled",void 0),(0,u.__decorate)([(0,v.MZ)({type:Boolean})],Y.prototype,"saving",void 0),(0,u.__decorate)([(0,v.MZ)({attribute:!1})],Y.prototype,"config",void 0),(0,u.__decorate)([(0,v.MZ)({attribute:!1})],Y.prototype,"stateObj",void 0),(0,u.__decorate)([(0,v.MZ)({attribute:!1})],Y.prototype,"dirty",void 0),(0,u.__decorate)([(0,v.wk)()],Y.prototype,"_pastedConfig",void 0),(0,u.__decorate)([(0,v.wk)()],Y.prototype,"_sidebarConfig",void 0),(0,u.__decorate)([(0,v.wk)()],Y.prototype,"_sidebarKey",void 0),(0,u.__decorate)([(0,y.I)({key:"automation-sidebar-width",state:!1,subscribe:!1})],Y.prototype,"_sidebarWidthPx",void 0),(0,u.__decorate)([(0,v.P)("ha-automation-sidebar")],Y.prototype,"_sidebarElement",void 0),(0,u.__decorate)([(0,v.YG)("ha-automation-action, ha-automation-condition")],Y.prototype,"_collapsableElements",void 0),Y=(0,u.__decorate)([(0,v.EM)("manual-automation-editor")],Y),a()}catch(I){a(I)}})},85173:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});i(35748),i(45519),i(5934),i(95013);var a=i(44017),o=()=>i.e("8320").then(i.bind(i,8931)),n=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"ha-dialog-paste-replace",dialogImport:o,dialogParams:t})}},18885:function(e,t,i){"use strict";i.d(t,{l:function(){return n}});i(35748),i(45519),i(5934),i(95013);var a=i(44017),o=()=>Promise.all([i.e("3245"),i.e("10860")]).then(i.bind(i,21607)),n=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"ha-dialog-new-automation",dialogImport:o,dialogParams:t})}},43924:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(62020),o=i(31802),n=i(97750),s=i(21101),r=i(23180),l=(i(38606),i(79827),i(65152),i(69868)),d=i(84922),c=i(11991),h=i(7622),u=i(44017),p=i(36768),g=(i(28565),i(92409),i(59054)),v=i(40980),m=i(55438),f=i(34353),b=i(954),y=i(65719),_=i(41336),A=e([y,_,m,f]);[y,_,m,f]=A.then?(await A)():A;var $,w,M,k,C,H,x,V,z,L,S=e=>e,Z="M6,2A4,4 0 0,1 10,6V8H14V6A4,4 0 0,1 18,2A4,4 0 0,1 22,6A4,4 0 0,1 18,10H16V14H18A4,4 0 0,1 22,18A4,4 0 0,1 18,22A4,4 0 0,1 14,18V16H10V18A4,4 0 0,1 6,22A4,4 0 0,1 2,18A4,4 0 0,1 6,14H8V10H6A4,4 0 0,1 2,6A4,4 0 0,1 6,2M16,18A2,2 0 0,0 18,20A2,2 0 0,0 20,18A2,2 0 0,0 18,16H16V18M14,10H10V14H14V10M6,16A2,2 0 0,0 4,18A2,2 0 0,0 6,20A2,2 0 0,0 8,18V16H6M8,6A2,2 0 0,0 6,4A2,2 0 0,0 4,6A2,2 0 0,0 6,8H8V6M18,8A2,2 0 0,0 20,6A2,2 0 0,0 18,4A2,2 0 0,0 16,6V8H18Z",E=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(o))).isWide=!1,e.disabled=!1,e.yamlMode=!1,e.narrow=!1,e._toggleYamlMode=()=>{(0,u.r)((0,n.A)(e),"toggle-yaml-mode")},e}return(0,r.A)(t,e),(0,o.A)(t,[{key:"willUpdate",value:function(e){var t;e.has("config")&&(this._warnings=void 0,this.config&&(this.yamlMode=this.config.yamlMode,this.yamlMode&&(null===(t=this.editor)||void 0===t||null===(t=t.yamlEditor)||void 0===t||t.setValue(this.config.config.action))))}},{key:"render",value:function(){var e=this.config.config.action,t="enabled"in e&&!1===e.enabled,i=(0,m.MS)(e),a="repeat"!==i?i:`repeat_${(0,f.m)(e.repeat)}`,o=g.L_.includes(a||""),n=this.hass.localize("ui.panel.config.automation.editor.actions.action"),s=this.hass.localize(`ui.panel.config.automation.editor.actions.type.${a}.label`)||a,r=o?this.hass.localize(`ui.panel.config.automation.editor.actions.type.${a}.description.picker`):"";return(0,d.qy)($||($=S`<ha-automation-sidebar-card .hass="${0}" .isWide="${0}" .yamlMode="${0}" .warnings="${0}" .narrow="${0}"> <span slot="title">${0}</span> <span slot="subtitle">${0}${0}</span> <ha-md-menu-item slot="menu-items" .clickAction="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-divider slot="menu-items" role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-divider slot="menu-items" role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}" class="warning"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> ${0} </ha-automation-sidebar-card>`),this.hass,this.isWide,this.yamlMode,this._warnings,this.narrow,s,n,t?(0,d.qy)(w||(w=S` (${0})`),this.hass.localize("ui.panel.config.automation.editor.actions.disabled")):"",this.config.run,"M8,5.14V19.14L19,12.14L8,5.14Z",this.hass.localize("ui.panel.config.automation.editor.actions.run"),v.c?"mac":"",this.config.rename,this.disabled,"M18,17H10.5L12.5,15H18M6,17V14.5L13.88,6.65C14.07,6.45 14.39,6.45 14.59,6.65L16.35,8.41C16.55,8.61 16.55,8.92 16.35,9.12L8.47,17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",this.hass.localize("ui.panel.config.automation.editor.triggers.rename"),v.c?"mac":"",this.config.duplicate,this.disabled,"M16,8H14V11H11V13H14V16H16V13H19V11H16M2,12C2,9.21 3.64,6.8 6,5.68V3.5C2.5,4.76 0,8.09 0,12C0,15.91 2.5,19.24 6,20.5V18.32C3.64,17.2 2,14.79 2,12M15,3C10.04,3 6,7.04 6,12C6,16.96 10.04,21 15,21C19.96,21 24,16.96 24,12C24,7.04 19.96,3 15,3M15,19C11.14,19 8,15.86 8,12C8,8.14 11.14,5 15,5C18.86,5 22,8.14 22,12C22,15.86 18.86,19 15,19Z",this.hass.localize("ui.panel.config.automation.editor.actions.duplicate"),v.c?"mac":"",this.config.copy,"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",this.hass.localize("ui.panel.config.automation.editor.triggers.copy"),this.narrow?d.s6:(0,d.qy)(M||(M=S`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>C</span> </span>`),v.c?(0,d.qy)(k||(k=S`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),Z):this.hass.localize("ui.panel.config.automation.editor.ctrl")),this.config.cut,this.disabled,"M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z",this.hass.localize("ui.panel.config.automation.editor.triggers.cut"),this.narrow?d.s6:(0,d.qy)(C||(C=S`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>X</span> </span>`),v.c?(0,d.qy)(H||(H=S`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),Z):this.hass.localize("ui.panel.config.automation.editor.ctrl")),this._toggleYamlMode,!this.config.uiSupported||!!this._warnings,"M3 6V8H14V6H3M3 10V12H14V10H3M20 10.1C19.9 10.1 19.7 10.2 19.6 10.3L18.6 11.3L20.7 13.4L21.7 12.4C21.9 12.2 21.9 11.8 21.7 11.6L20.4 10.3C20.3 10.2 20.2 10.1 20 10.1M18.1 11.9L12 17.9V20H14.1L20.2 13.9L18.1 11.9M3 14V16H10V14H3Z",this.hass.localize("ui.panel.config.automation.editor.edit_"+(this.yamlMode?"ui":"yaml")),v.c?"mac":"",this.config.disable,this.disabled,t?"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z":"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M9,9V15H15V9",this.hass.localize("ui.panel.config.automation.editor.actions."+(t?"enable":"disable")),v.c?"mac":"",this.config.delete,this.disabled,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",this.hass.localize("ui.panel.config.automation.editor.actions.delete"),this.narrow?d.s6:(0,d.qy)(x||(x=S`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>${0}</span> </span>`),v.c?(0,d.qy)(V||(V=S`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),Z):this.hass.localize("ui.panel.config.automation.editor.ctrl"),this.hass.localize("ui.panel.config.automation.editor.del")),r&&!this.yamlMode?(0,d.qy)(z||(z=S`<div class="description">${0}</div>`),r):(0,h.D)(this.sidebarKey,(0,d.qy)(L||(L=S`<ha-automation-action-editor class="sidebar-editor" .hass="${0}" .action="${0}" .yamlMode="${0}" .uiSupported="${0}" @value-changed="${0}" @yaml-changed="${0}" sidebar narrow .disabled="${0}" @ui-mode-not-available="${0}"></ha-automation-action-editor>`),this.hass,e,this.yamlMode,this.config.uiSupported,this._valueChangedSidebar,this._yamlChangedSidebar,this.disabled,this._handleUiModeNotAvailable)))}},{key:"_handleUiModeNotAvailable",value:function(e){this._warnings=(0,p._)(this.hass,e.detail).warnings,this.yamlMode||(this.yamlMode=!0)}},{key:"_valueChangedSidebar",value:function(e){var t,i;e.stopPropagation(),null===(t=this.config)||void 0===t||null===(i=t.save)||void 0===i||i.call(t,e.detail.value),this.config&&(0,u.r)(this,"value-changed",{value:Object.assign(Object.assign({},this.config),{},{config:{action:e.detail.value}})})}},{key:"_yamlChangedSidebar",value:function(e){var t,i;e.stopPropagation(),null===(t=this.config)||void 0===t||null===(i=t.save)||void 0===i||i.call(t,e.detail.value)}}])}(d.WF);E.styles=[b.KC,b.Lt],(0,l.__decorate)([(0,c.MZ)({attribute:!1})],E.prototype,"hass",void 0),(0,l.__decorate)([(0,c.MZ)({attribute:!1})],E.prototype,"config",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean,attribute:"wide"})],E.prototype,"isWide",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],E.prototype,"disabled",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean,attribute:"yaml-mode"})],E.prototype,"yamlMode",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],E.prototype,"narrow",void 0),(0,l.__decorate)([(0,c.MZ)({type:Number,attribute:"sidebar-key"})],E.prototype,"sidebarKey",void 0),(0,l.__decorate)([(0,c.wk)()],E.prototype,"_warnings",void 0),(0,l.__decorate)([(0,c.P)(".sidebar-editor")],E.prototype,"editor",void 0),E=(0,l.__decorate)([(0,c.EM)("ha-automation-sidebar-action")],E),t()}catch(q){t(q)}})},41336:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(62020),o=i(31802),n=i(97750),s=i(21101),r=i(23180),l=(i(38606),i(69868)),d=i(88006),c=i(84922),h=i(11991),u=i(75907),p=i(44017),g=i(63211),v=(i(70490),i(87348),i(9058),i(19912),i(28565),i(92409),i(54564),e([d]));d=(v.then?(await v)():v)[0];var m,f,b,y=e=>e,_=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(o))).isWide=!1,e.yamlMode=!1,e.narrow=!1,e._contentScrolled=!1,e._contentScrollable=!1,e._contentSize=new d.P((0,n.A)(e),{target:null,callback:t=>{var i;null!==(i=t[0])&&void 0!==i&&i.target&&e._canScrollDown(t[0].target)}}),e}return(0,r.A)(t,e),(0,o.A)(t,[{key:"firstUpdated",value:function(e){this._contentSize.observe(this._contentElement)}},{key:"render",value:function(){return(0,c.qy)(m||(m=y` <ha-card outlined class="${0}"> <ha-dialog-header class="${0}"> <ha-icon-button slot="navigationIcon" .label="${0}" .path="${0}" @click="${0}"></ha-icon-button> <slot slot="title" name="title"></slot> <slot slot="subtitle" name="subtitle"></slot> <slot name="overflow-menu" slot="actionItems"> <ha-md-button-menu quick @click="${0}" @keydown="${0}" @closed="${0}" .positioning="${0}" anchor-corner="end-end" menu-corner="start-end"> <ha-icon-button slot="trigger" .label="${0}" .path="${0}"></ha-icon-button> <slot name="menu-items"></slot> </ha-md-button-menu> </slot> </ha-dialog-header> ${0} <div class="card-content" @scroll="${0}"> <slot></slot> </div> <div class="${0}"></div> </ha-card> `),(0,u.H)({mobile:!this.isWide,yaml:this.yamlMode}),(0,u.H)({scrolled:this._contentScrolled}),this.hass.localize("ui.common.close"),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this._closeSidebar,this._openOverflowMenu,g.d,g.d,this.narrow?"absolute":"fixed",this.hass.localize("ui.common.menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this.warnings?(0,c.qy)(f||(f=y`<ha-automation-editor-warning .localize="${0}" .warnings="${0}"> </ha-automation-editor-warning>`),this.hass.localize,this.warnings):c.s6,this._onScroll,(0,u.H)({fade:!0,scrollable:this._contentScrollable}))}},{key:"_onScroll",value:function(e){var t,i=null!==(t=e.target.scrollTop)&&void 0!==t?t:0;this._contentScrolled=i>0,this._canScrollDown(e.target)}},{key:"_canScrollDown",value:function(e){var t,i,a,o=parseFloat(getComputedStyle(e).getPropertyValue("--safe-area-inset-bottom"))||0;this._contentScrollable=(null!==(t=e.scrollHeight)&&void 0!==t?t:0)-(null!==(i=e.clientHeight)&&void 0!==i?i:0)>(null!==(a=e.scrollTop)&&void 0!==a?a:0)+o+16}},{key:"_closeSidebar",value:function(){(0,p.r)(this,"close-sidebar")}},{key:"_openOverflowMenu",value:function(e){e.stopPropagation(),e.preventDefault()}}])}(c.WF);_.styles=(0,c.AH)(b||(b=y`ha-card{position:relative;height:100%;width:100%;border-color:var(--primary-color);border-width:2px;display:flex;flex-direction:column}@media all and (max-width:870px){ha-card.mobile{border:none;box-shadow:none}ha-card.mobile{border-bottom-right-radius:var(--ha-border-radius-square);border-bottom-left-radius:var(--ha-border-radius-square)}}ha-dialog-header{border-radius:var(--ha-card-border-radius);box-shadow:none;transition:box-shadow 180ms ease-in-out;border-bottom-left-radius:0;border-bottom-right-radius:0;position:relative;background-color:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff))}ha-dialog-header.scrolled{box-shadow:var(--bar-box-shadow)}.fade{position:absolute;bottom:1px;left:1px;right:1px;height:16px;pointer-events:none;transition:box-shadow 180ms ease-in-out;background-color:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff));transform:rotate(180deg);border-radius:var(--ha-card-border-radius);border-bottom-left-radius:var(--ha-border-radius-square);border-bottom-right-radius:var(--ha-border-radius-square)}.fade.scrollable{box-shadow:var(--bar-box-shadow)}.card-content{flex:1 1 auto;min-height:0;overflow:auto;margin-top:0;padding-bottom:max(var(--safe-area-inset-bottom,0px),32px)}@media all and (max-width:870px){.fade{bottom:0;border-radius:var(--ha-border-radius-square)}.card-content{padding-bottom:42px}}`)),(0,l.__decorate)([(0,h.MZ)({attribute:!1})],_.prototype,"hass",void 0),(0,l.__decorate)([(0,h.MZ)({type:Boolean,attribute:"wide"})],_.prototype,"isWide",void 0),(0,l.__decorate)([(0,h.MZ)({type:Boolean,attribute:"yaml-mode"})],_.prototype,"yamlMode",void 0),(0,l.__decorate)([(0,h.MZ)({attribute:!1})],_.prototype,"warnings",void 0),(0,l.__decorate)([(0,h.MZ)({type:Boolean})],_.prototype,"narrow",void 0),(0,l.__decorate)([(0,h.wk)()],_.prototype,"_contentScrolled",void 0),(0,l.__decorate)([(0,h.wk)()],_.prototype,"_contentScrollable",void 0),(0,l.__decorate)([(0,h.P)(".card-content")],_.prototype,"_contentElement",void 0),(0,l.__decorate)([(0,h.Ls)({passive:!0})],_.prototype,"_onScroll",null),_=(0,l.__decorate)([(0,h.EM)("ha-automation-sidebar-card")],_),t()}catch(A){t(A)}})},97457:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(98735),o=i(88486),n=i(62020),s=i(31802),r=i(97750),l=i(21101),d=i(23180),c=(i(38606),i(79827),i(65152),i(69868)),h=i(84922),u=i(11991),p=i(75907),g=i(7622),v=i(44017),m=i(36768),f=i(26539),b=i(29295),y=i(40550),_=i(40980),A=i(67717),$=i(12167),w=i(954),M=i(41336),k=e([$,M,A]);[$,M,A]=k.then?(await k)():k;var C,H,x,V,z,L,S,Z,E,q,P=e=>e,W="M6,2A4,4 0 0,1 10,6V8H14V6A4,4 0 0,1 18,2A4,4 0 0,1 22,6A4,4 0 0,1 18,10H16V14H18A4,4 0 0,1 22,18A4,4 0 0,1 18,22A4,4 0 0,1 14,18V16H10V18A4,4 0 0,1 6,22A4,4 0 0,1 2,18A4,4 0 0,1 6,14H8V10H6A4,4 0 0,1 2,6A4,4 0 0,1 6,2M16,18A2,2 0 0,0 18,20A2,2 0 0,0 20,18A2,2 0 0,0 18,16H16V18M14,10H10V14H14V10M6,16A2,2 0 0,0 4,18A2,2 0 0,0 6,20A2,2 0 0,0 8,18V16H6M8,6A2,2 0 0,0 6,4A2,2 0 0,0 4,6A2,2 0 0,0 6,8H8V6M18,8A2,2 0 0,0 20,6A2,2 0 0,0 18,4A2,2 0 0,0 16,6V8H18Z",O=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,s=new Array(i),d=0;d<i;d++)s[d]=arguments[d];return(e=(0,l.A)(this,t,[].concat(s))).isWide=!1,e.disabled=!1,e.yamlMode=!1,e.narrow=!1,e._testing=!1,e._testCondition=(0,o.A)((0,a.A)().m(function t(){var i,o,n,s;return(0,a.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!e._testing){t.n=1;break}return t.a(2);case 1:return e._testingResult=void 0,e._testing=!0,i=e.config.config,t.p=2,t.n=3,(0,y.$)(e.hass,{conditions:i});case 3:if(o=t.v,e.config.config===i){t.n=4;break}return e._testing=!1,t.a(2);case 4:if(o.conditions.valid){t.n=5;break}return(0,A.showAlertDialog)((0,r.A)(e),{title:e.hass.localize("ui.panel.config.automation.editor.conditions.invalid_condition"),text:o.conditions.error}),e._testing=!1,t.a(2);case 5:return t.p=5,t.n=6,(0,f.S9)(e.hass,i);case 6:n=t.v,t.n=9;break;case 7:if(t.p=7,s=t.v,e.config.config===i){t.n=8;break}return e._testing=!1,t.a(2);case 8:return(0,A.showAlertDialog)((0,r.A)(e),{title:e.hass.localize("ui.panel.config.automation.editor.conditions.test_failed"),text:s.message}),e._testing=!1,t.a(2);case 9:e._testingResult=n.result;case 10:return t.p=10,setTimeout(()=>{e._testing=!1,e._testingResult=void 0},2500),t.f(10);case 11:return t.a(2)}},t,null,[[5,7],[2,,10,11]])})),e._toggleYamlMode=()=>{(0,v.r)((0,r.A)(e),"toggle-yaml-mode")},e}return(0,d.A)(t,e),(0,s.A)(t,[{key:"willUpdate",value:function(e){var t;e.has("config")&&(this._warnings=void 0,this.config&&(this.yamlMode=this.config.yamlMode,this.yamlMode&&(null===(t=this.editor)||void 0===t||null===(t=t.yamlEditor)||void 0===t||t.setValue(this.config.config))));e.has("sidebarKey")&&(this._testing=!1)}},{key:"render",value:function(){var e="enabled"in this.config.config&&!1===this.config.config.enabled,t=this.config.config.condition,i=b.I8.includes(t),a=this.hass.localize("ui.panel.config.automation.editor.conditions.condition"),o=this.hass.localize(`ui.panel.config.automation.editor.conditions.type.${t}.label`)||t,n=i?this.hass.localize(`ui.panel.config.automation.editor.conditions.type.${t}.description.picker`):"";return(0,h.qy)(C||(C=P`<ha-automation-sidebar-card .hass="${0}" .isWide="${0}" .yamlMode="${0}" .warnings="${0}" .narrow="${0}"> <span slot="title">${0}</span> <span slot="subtitle">${0}${0}</span> <ha-md-menu-item slot="menu-items" .clickAction="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-divider slot="menu-items" role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-divider slot="menu-items" role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}" class="warning"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> ${0} <div class="testing-wrapper"> <div class="testing ${0}"> ${0} </div> </div> </ha-automation-sidebar-card>`),this.hass,this.isWide,this.yamlMode,this._warnings,this.narrow,o,a,e?` (${this.hass.localize("ui.panel.config.automation.editor.actions.disabled")})`:"",this._testCondition,"M6,22A3,3 0 0,1 3,19C3,18.4 3.18,17.84 3.5,17.37L9,7.81V6A1,1 0 0,1 8,5V4A2,2 0 0,1 10,2H14A2,2 0 0,1 16,4V5A1,1 0 0,1 15,6V7.81L20.5,17.37C20.82,17.84 21,18.4 21,19A3,3 0 0,1 18,22H6M5,19A1,1 0 0,0 6,20H18A1,1 0 0,0 19,19C19,18.79 18.93,18.59 18.82,18.43L16.53,14.47L14,17L8.93,11.93L5.18,18.43C5.07,18.59 5,18.79 5,19M13,10A1,1 0 0,0 12,11A1,1 0 0,0 13,12A1,1 0 0,0 14,11A1,1 0 0,0 13,10Z",this.hass.localize("ui.panel.config.automation.editor.conditions.test"),_.c?"mac":"",this.config.rename,this.disabled,"M18,17H10.5L12.5,15H18M6,17V14.5L13.88,6.65C14.07,6.45 14.39,6.45 14.59,6.65L16.35,8.41C16.55,8.61 16.55,8.92 16.35,9.12L8.47,17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",this.hass.localize("ui.panel.config.automation.editor.triggers.rename"),_.c?"mac":"",this.config.duplicate,this.disabled,"M16,8H14V11H11V13H14V16H16V13H19V11H16M2,12C2,9.21 3.64,6.8 6,5.68V3.5C2.5,4.76 0,8.09 0,12C0,15.91 2.5,19.24 6,20.5V18.32C3.64,17.2 2,14.79 2,12M15,3C10.04,3 6,7.04 6,12C6,16.96 10.04,21 15,21C19.96,21 24,16.96 24,12C24,7.04 19.96,3 15,3M15,19C11.14,19 8,15.86 8,12C8,8.14 11.14,5 15,5C18.86,5 22,8.14 22,12C22,15.86 18.86,19 15,19Z",this.hass.localize("ui.panel.config.automation.editor.actions.duplicate"),_.c?"mac":"",this.config.copy,"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",this.hass.localize("ui.panel.config.automation.editor.triggers.copy"),this.narrow?h.s6:(0,h.qy)(H||(H=P`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>C</span> </span>`),_.c?(0,h.qy)(x||(x=P`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),W):this.hass.localize("ui.panel.config.automation.editor.ctrl")),this.config.cut,this.disabled,"M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z",this.hass.localize("ui.panel.config.automation.editor.triggers.cut"),this.narrow?h.s6:(0,h.qy)(V||(V=P`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>X</span> </span>`),_.c?(0,h.qy)(z||(z=P`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),W):this.hass.localize("ui.panel.config.automation.editor.ctrl")),this._toggleYamlMode,!this.config.uiSupported||!!this._warnings,"M3 6V8H14V6H3M3 10V12H14V10H3M20 10.1C19.9 10.1 19.7 10.2 19.6 10.3L18.6 11.3L20.7 13.4L21.7 12.4C21.9 12.2 21.9 11.8 21.7 11.6L20.4 10.3C20.3 10.2 20.2 10.1 20 10.1M18.1 11.9L12 17.9V20H14.1L20.2 13.9L18.1 11.9M3 14V16H10V14H3Z",this.hass.localize("ui.panel.config.automation.editor.edit_"+(this.yamlMode?"ui":"yaml")),_.c?"mac":"",this.config.disable,this.disabled,e?"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z":"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M9,9V15H15V9",this.hass.localize("ui.panel.config.automation.editor.actions."+(e?"enable":"disable")),_.c?"mac":"",this.config.delete,this.disabled,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",this.hass.localize("ui.panel.config.automation.editor.actions.delete"),this.narrow?h.s6:(0,h.qy)(L||(L=P`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>${0}</span> </span>`),_.c?(0,h.qy)(S||(S=P`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),W):this.hass.localize("ui.panel.config.automation.editor.ctrl"),this.hass.localize("ui.panel.config.automation.editor.del")),n&&!this.yamlMode?(0,h.qy)(Z||(Z=P`<div class="description">${0}</div>`),n):(0,g.D)(this.sidebarKey,(0,h.qy)(E||(E=P`<ha-automation-condition-editor class="sidebar-editor" .hass="${0}" .condition="${0}" .yamlMode="${0}" .uiSupported="${0}" @value-changed="${0}" @yaml-changed="${0}" .disabled="${0}" @ui-mode-not-available="${0}" sidebar></ha-automation-condition-editor>`),this.hass,this.config.config,this.yamlMode,this.config.uiSupported,this._valueChangedSidebar,this._yamlChangedSidebar,this.disabled,this._handleUiModeNotAvailable)),(0,p.H)({active:this._testing,pass:!0===this._testingResult,error:!1===this._testingResult,narrow:this.narrow}),void 0===this._testingResult?h.s6:this.hass.localize("ui.panel.config.automation.editor.conditions.testing_"+(this._testingResult?"pass":"error")))}},{key:"_handleUiModeNotAvailable",value:function(e){this._warnings=(0,m._)(this.hass,e.detail).warnings,this.yamlMode||(this.yamlMode=!0)}},{key:"_valueChangedSidebar",value:function(e){var t,i;e.stopPropagation(),null===(t=this.config)||void 0===t||null===(i=t.save)||void 0===i||i.call(t,e.detail.value),this.config&&(0,v.r)(this,"value-changed",{value:Object.assign(Object.assign({},this.config),{},{config:e.detail.value})})}},{key:"_yamlChangedSidebar",value:function(e){var t,i;e.stopPropagation(),null===(t=this.config)||void 0===t||null===(i=t.save)||void 0===i||i.call(t,e.detail.value)}}])}(h.WF);O.styles=[w.KC,w.Lt,(0,h.AH)(q||(q=P`ha-automation-sidebar-card{position:relative}.testing-wrapper{position:absolute;top:0px;right:0px;left:0px;margin:-1px;overflow:hidden;border-top-right-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));border-top-left-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));pointer-events:none;height:100px}.testing{--testing-color:var(--divider-color, #e0e0e0);text-transform:uppercase;font-size:var(--ha-font-size-m);font-weight:var(--ha-font-weight-bold);background-color:var(--testing-color);color:var(--text-primary-color);max-height:0px;transition:max-height .3s ease-in-out,padding-top .3s ease-in-out;text-align:center}.testing.active.narrow{padding-top:16px}.testing.active{max-height:100%}.testing.error{--testing-color:var(--accent-color)}.testing.pass{--testing-color:var(--success-color)}`))],(0,c.__decorate)([(0,u.MZ)({attribute:!1})],O.prototype,"hass",void 0),(0,c.__decorate)([(0,u.MZ)({attribute:!1})],O.prototype,"config",void 0),(0,c.__decorate)([(0,u.MZ)({type:Boolean,attribute:"wide"})],O.prototype,"isWide",void 0),(0,c.__decorate)([(0,u.MZ)({type:Boolean})],O.prototype,"disabled",void 0),(0,c.__decorate)([(0,u.MZ)({type:Boolean,attribute:"yaml-mode"})],O.prototype,"yamlMode",void 0),(0,c.__decorate)([(0,u.MZ)({type:Boolean})],O.prototype,"narrow",void 0),(0,c.__decorate)([(0,u.MZ)({type:Number,attribute:"sidebar-key"})],O.prototype,"sidebarKey",void 0),(0,c.__decorate)([(0,u.wk)()],O.prototype,"_warnings",void 0),(0,c.__decorate)([(0,u.wk)()],O.prototype,"_testing",void 0),(0,c.__decorate)([(0,u.wk)()],O.prototype,"_testingResult",void 0),(0,c.__decorate)([(0,u.P)(".sidebar-editor")],O.prototype,"editor",void 0),O=(0,c.__decorate)([(0,u.EM)("ha-automation-sidebar-condition")],O),t()}catch(j){t(j)}})},67147:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(62020),o=i(31802),n=i(21101),s=i(23180),r=(i(38606),i(69868)),l=i(84922),d=i(11991),c=i(40980),h=i(954),u=i(41336),p=e([u]);u=(p.then?(await p)():p)[0];var g,v,m,f,b,y=e=>e,_=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=(0,n.A)(this,t,[].concat(o))).isWide=!1,e.disabled=!1,e.narrow=!1,e}return(0,s.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e=this.disabled,t=this.hass.localize("ui.panel.config.automation.editor.actions.type.choose.label"),i=this.hass.localize(`ui.panel.config.automation.editor.actions.type.choose.${this.config.defaultOption?"default_":""}option_label`),a=this.hass.localize(`ui.panel.config.automation.editor.actions.type.choose.${this.config.defaultOption?"default_":""}option_description`);return(0,l.qy)(g||(g=y`<ha-automation-sidebar-card .hass="${0}" .isWide="${0}" .narrow="${0}"> <span slot="title">${0}</span> <span slot="subtitle">${0}</span> ${0} <div class="description">${0}</div> </ha-automation-sidebar-card>`),this.hass,this.isWide,this.narrow,i,t,this.config.defaultOption?(0,l.qy)(v||(v=y`<span slot="overflow-menu"></span>`)):(0,l.qy)(m||(m=y` <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" @click="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-divider slot="menu-items" role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}" class="warning"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> `),this.config.rename,!!e,"M18,17H10.5L12.5,15H18M6,17V14.5L13.88,6.65C14.07,6.45 14.39,6.45 14.59,6.65L16.35,8.41C16.55,8.61 16.55,8.92 16.35,9.12L8.47,17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",this.hass.localize("ui.panel.config.automation.editor.triggers.rename"),c.c?"mac":"",this.config.duplicate,this.disabled,"M16,8H14V11H11V13H14V16H16V13H19V11H16M2,12C2,9.21 3.64,6.8 6,5.68V3.5C2.5,4.76 0,8.09 0,12C0,15.91 2.5,19.24 6,20.5V18.32C3.64,17.2 2,14.79 2,12M15,3C10.04,3 6,7.04 6,12C6,16.96 10.04,21 15,21C19.96,21 24,16.96 24,12C24,7.04 19.96,3 15,3M15,19C11.14,19 8,15.86 8,12C8,8.14 11.14,5 15,5C18.86,5 22,8.14 22,12C22,15.86 18.86,19 15,19Z",this.hass.localize("ui.panel.config.automation.editor.actions.duplicate"),c.c?"mac":"",this.config.delete,this.disabled,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",this.hass.localize("ui.panel.config.automation.editor.actions.type.choose.remove_option"),this.narrow?l.s6:(0,l.qy)(f||(f=y`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>${0}</span> </span>`),c.c?(0,l.qy)(b||(b=y`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),"M6,2A4,4 0 0,1 10,6V8H14V6A4,4 0 0,1 18,2A4,4 0 0,1 22,6A4,4 0 0,1 18,10H16V14H18A4,4 0 0,1 22,18A4,4 0 0,1 18,22A4,4 0 0,1 14,18V16H10V18A4,4 0 0,1 6,22A4,4 0 0,1 2,18A4,4 0 0,1 6,14H8V10H6A4,4 0 0,1 2,6A4,4 0 0,1 6,2M16,18A2,2 0 0,0 18,20A2,2 0 0,0 20,18A2,2 0 0,0 18,16H16V18M14,10H10V14H14V10M6,16A2,2 0 0,0 4,18A2,2 0 0,0 6,20A2,2 0 0,0 8,18V16H6M8,6A2,2 0 0,0 6,4A2,2 0 0,0 4,6A2,2 0 0,0 6,8H8V6M18,8A2,2 0 0,0 20,6A2,2 0 0,0 18,4A2,2 0 0,0 16,6V8H18Z"):this.hass.localize("ui.panel.config.automation.editor.ctrl"),this.hass.localize("ui.panel.config.automation.editor.del"))),a)}}])}(l.WF);_.styles=[h.KC,h.Lt],(0,r.__decorate)([(0,d.MZ)({attribute:!1})],_.prototype,"hass",void 0),(0,r.__decorate)([(0,d.MZ)({attribute:!1})],_.prototype,"config",void 0),(0,r.__decorate)([(0,d.MZ)({type:Boolean,attribute:"wide"})],_.prototype,"isWide",void 0),(0,r.__decorate)([(0,d.MZ)({type:Boolean})],_.prototype,"disabled",void 0),(0,r.__decorate)([(0,d.MZ)({type:Boolean})],_.prototype,"narrow",void 0),(0,r.__decorate)([(0,d.P)(".sidebar-editor")],_.prototype,"editor",void 0),_=(0,r.__decorate)([(0,d.EM)("ha-automation-sidebar-option")],_),t()}catch(A){t(A)}})},25552:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(62020),o=i(31802),n=i(97750),s=i(21101),r=i(23180),l=(i(38606),i(65152),i(69868)),d=i(84922),c=i(11991),h=i(7622),u=i(44017),p=i(40980),g=i(33926),v=i(954),m=i(41336),f=e([g,m]);[g,m]=f.then?(await f)():f;var b,y,_,A,$=e=>e,w=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(o))).isWide=!1,e.disabled=!1,e.yamlMode=!1,e.narrow=!1,e._toggleYamlMode=()=>{(0,u.r)((0,n.A)(e),"toggle-yaml-mode")},e}return(0,r.A)(t,e),(0,o.A)(t,[{key:"willUpdate",value:function(e){var t;e.has("config")&&(this._warnings=void 0,this.config&&(this.yamlMode=this.config.yamlMode,this.yamlMode&&(null===(t=this.editor)||void 0===t||null===(t=t.yamlEditor)||void 0===t||t.setValue(this.config.config))))}},{key:"render",value:function(){var e=this.hass.localize("ui.panel.config.script.editor.field.field_selector"),t=this.hass.localize(`ui.components.selectors.selector.types.${Object.keys(this.config.config.field.selector)[0]}`)||Object.keys(this.config.config.field.selector)[0];return(0,d.qy)(b||(b=$`<ha-automation-sidebar-card .hass="${0}" .isWide="${0}" .yamlMode="${0}" .warnings="${0}" .narrow="${0}"> <span slot="title">${0}</span> <span slot="subtitle">${0}</span> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}" class="warning"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> ${0} </ha-automation-sidebar-card>`),this.hass,this.isWide,this.yamlMode,this._warnings,this.narrow,t,e,this._toggleYamlMode,!!this._warnings,"M3 6V8H14V6H3M3 10V12H14V10H3M20 10.1C19.9 10.1 19.7 10.2 19.6 10.3L18.6 11.3L20.7 13.4L21.7 12.4C21.9 12.2 21.9 11.8 21.7 11.6L20.4 10.3C20.3 10.2 20.2 10.1 20 10.1M18.1 11.9L12 17.9V20H14.1L20.2 13.9L18.1 11.9M3 14V16H10V14H3Z",this.hass.localize("ui.panel.config.automation.editor.edit_"+(this.yamlMode?"ui":"yaml")),p.c?"mac":"",this.config.delete,this.disabled,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",this.hass.localize("ui.panel.config.automation.editor.actions.delete"),this.narrow?d.s6:(0,d.qy)(y||(y=$`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>${0}</span> </span>`),p.c?(0,d.qy)(_||(_=$`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),"M6,2A4,4 0 0,1 10,6V8H14V6A4,4 0 0,1 18,2A4,4 0 0,1 22,6A4,4 0 0,1 18,10H16V14H18A4,4 0 0,1 22,18A4,4 0 0,1 18,22A4,4 0 0,1 14,18V16H10V18A4,4 0 0,1 6,22A4,4 0 0,1 2,18A4,4 0 0,1 6,14H8V10H6A4,4 0 0,1 2,6A4,4 0 0,1 6,2M16,18A2,2 0 0,0 18,20A2,2 0 0,0 20,18A2,2 0 0,0 18,16H16V18M14,10H10V14H14V10M6,16A2,2 0 0,0 4,18A2,2 0 0,0 6,20A2,2 0 0,0 8,18V16H6M8,6A2,2 0 0,0 6,4A2,2 0 0,0 4,6A2,2 0 0,0 6,8H8V6M18,8A2,2 0 0,0 20,6A2,2 0 0,0 18,4A2,2 0 0,0 16,6V8H18Z"):this.hass.localize("ui.panel.config.automation.editor.ctrl"),this.hass.localize("ui.panel.config.automation.editor.del")),(0,h.D)(this.sidebarKey,(0,d.qy)(A||(A=$`<ha-script-field-selector-editor class="sidebar-editor" .hass="${0}" .field="${0}" .disabled="${0}" @value-changed="${0}" @yaml-changed="${0}" .yamlMode="${0}"></ha-script-field-selector-editor>`),this.hass,this.config.config.field,this.disabled,this._valueChangedSidebar,this._yamlChangedSidebar,this.yamlMode)))}},{key:"_valueChangedSidebar",value:function(e){var t,i;e.stopPropagation(),null===(t=this.config)||void 0===t||null===(i=t.save)||void 0===i||i.call(t,Object.assign(Object.assign({},this.config.config.field),{},{key:this.config.config.key},e.detail.value)),this.config&&(0,u.r)(this,"value-changed",{value:Object.assign(Object.assign({},this.config),{},{config:{field:e.detail.value,key:this.config.config.key,excludeKeys:this.config.config.excludeKeys,selector:!0}})})}},{key:"_yamlChangedSidebar",value:function(e){var t,i;e.stopPropagation(),null===(t=this.config)||void 0===t||null===(i=t.save)||void 0===i||i.call(t,e.detail.value)}}])}(d.WF);w.styles=v.KC,(0,l.__decorate)([(0,c.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,l.__decorate)([(0,c.MZ)({attribute:!1})],w.prototype,"config",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean,attribute:"wide"})],w.prototype,"isWide",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],w.prototype,"disabled",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean,attribute:"yaml-mode"})],w.prototype,"yamlMode",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],w.prototype,"narrow",void 0),(0,l.__decorate)([(0,c.MZ)({type:Number,attribute:"sidebar-key"})],w.prototype,"sidebarKey",void 0),(0,l.__decorate)([(0,c.wk)()],w.prototype,"_warnings",void 0),(0,l.__decorate)([(0,c.P)(".sidebar-editor")],w.prototype,"editor",void 0),w=(0,l.__decorate)([(0,c.EM)("ha-automation-sidebar-script-field-selector")],w),t()}catch(M){t(M)}})},92560:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(62020),o=i(31802),n=i(97750),s=i(21101),r=i(23180),l=(i(38606),i(65152),i(69868)),d=i(84922),c=i(11991),h=i(7622),u=i(44017),p=i(40980),g=i(54586),v=i(954),m=i(41336),f=e([g,m]);[g,m]=f.then?(await f)():f;var b,y,_,A,$=e=>e,w=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(o))).isWide=!1,e.disabled=!1,e.yamlMode=!1,e.narrow=!1,e._toggleYamlMode=()=>{(0,u.r)((0,n.A)(e),"toggle-yaml-mode")},e}return(0,r.A)(t,e),(0,o.A)(t,[{key:"willUpdate",value:function(e){var t;e.has("config")&&(this._warnings=void 0,this.config&&(this.yamlMode=this.config.yamlMode,this.yamlMode&&(null===(t=this.editor)||void 0===t||null===(t=t.yamlEditor)||void 0===t||t.setValue(this.config.config))))}},{key:"render",value:function(){var e=this.hass.localize("ui.panel.config.script.editor.field.label");return(0,d.qy)(b||(b=$`<ha-automation-sidebar-card .hass="${0}" .isWide="${0}" .yamlMode="${0}" .warnings="${0}" .narrow="${0}"> <span slot="title">${0}</span> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}" class="warning"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> ${0} </ha-automation-sidebar-card>`),this.hass,this.isWide,this.yamlMode,this._warnings,this.narrow,e,this._toggleYamlMode,!!this._warnings,"M3 6V8H14V6H3M3 10V12H14V10H3M20 10.1C19.9 10.1 19.7 10.2 19.6 10.3L18.6 11.3L20.7 13.4L21.7 12.4C21.9 12.2 21.9 11.8 21.7 11.6L20.4 10.3C20.3 10.2 20.2 10.1 20 10.1M18.1 11.9L12 17.9V20H14.1L20.2 13.9L18.1 11.9M3 14V16H10V14H3Z",this.hass.localize("ui.panel.config.automation.editor.edit_"+(this.yamlMode?"ui":"yaml")),p.c?"mac":"",this.config.delete,this.disabled,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",this.hass.localize("ui.panel.config.automation.editor.actions.delete"),this.narrow?d.s6:(0,d.qy)(y||(y=$`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>${0}</span> </span>`),p.c?(0,d.qy)(_||(_=$`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),"M6,2A4,4 0 0,1 10,6V8H14V6A4,4 0 0,1 18,2A4,4 0 0,1 22,6A4,4 0 0,1 18,10H16V14H18A4,4 0 0,1 22,18A4,4 0 0,1 18,22A4,4 0 0,1 14,18V16H10V18A4,4 0 0,1 6,22A4,4 0 0,1 2,18A4,4 0 0,1 6,14H8V10H6A4,4 0 0,1 2,6A4,4 0 0,1 6,2M16,18A2,2 0 0,0 18,20A2,2 0 0,0 20,18A2,2 0 0,0 18,16H16V18M14,10H10V14H14V10M6,16A2,2 0 0,0 4,18A2,2 0 0,0 6,20A2,2 0 0,0 8,18V16H6M8,6A2,2 0 0,0 6,4A2,2 0 0,0 4,6A2,2 0 0,0 6,8H8V6M18,8A2,2 0 0,0 20,6A2,2 0 0,0 18,4A2,2 0 0,0 16,6V8H18Z"):this.hass.localize("ui.panel.config.automation.editor.ctrl"),this.hass.localize("ui.panel.config.automation.editor.del")),(0,h.D)(this.sidebarKey,(0,d.qy)(A||(A=$`<ha-script-field-editor class="sidebar-editor" .hass="${0}" .field="${0}" .key="${0}" .excludeKeys="${0}" .disabled="${0}" .yamlMode="${0}" @value-changed="${0}" @yaml-changed="${0}"></ha-script-field-editor>`),this.hass,this.config.config.field,this.config.config.key,this.config.config.excludeKeys,this.disabled,this.yamlMode,this._valueChangedSidebar,this._yamlChangedSidebar)))}},{key:"_valueChangedSidebar",value:function(e){var t,i,a,o;(e.stopPropagation(),null===(t=this.config)||void 0===t||null===(i=t.save)||void 0===i||i.call(t,Object.assign(Object.assign({},this.config.config.field),{},{key:null!==(a=e.detail.value.key)&&void 0!==a?a:this.config.config.key},e.detail.value)),this.config)&&(0,u.r)(this,"value-changed",{value:Object.assign(Object.assign({},this.config),{},{config:{field:e.detail.value,key:null!==(o=e.detail.value.key)&&void 0!==o?o:this.config.config.key,excludeKeys:this.config.config.excludeKeys}})})}},{key:"_yamlChangedSidebar",value:function(e){var t,i;e.stopPropagation(),null===(t=this.config)||void 0===t||null===(i=t.save)||void 0===i||i.call(t,e.detail.value)}}])}(d.WF);w.styles=[v.KC,v.Lt],(0,l.__decorate)([(0,c.MZ)({attribute:!1})],w.prototype,"hass",void 0),(0,l.__decorate)([(0,c.MZ)({attribute:!1})],w.prototype,"config",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean,attribute:"wide"})],w.prototype,"isWide",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],w.prototype,"disabled",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean,attribute:"yaml-mode"})],w.prototype,"yamlMode",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],w.prototype,"narrow",void 0),(0,l.__decorate)([(0,c.MZ)({type:Number,attribute:"sidebar-key"})],w.prototype,"sidebarKey",void 0),(0,l.__decorate)([(0,c.wk)()],w.prototype,"_warnings",void 0),(0,l.__decorate)([(0,c.P)(".sidebar-editor")],w.prototype,"editor",void 0),w=(0,l.__decorate)([(0,c.EM)("ha-automation-sidebar-script-field")],w),t()}catch(M){t(M)}})},75472:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(62020),o=i(31802),n=i(97750),s=i(21101),r=i(23180),l=(i(38606),i(65152),i(69868)),d=i(84922),c=i(11991),h=i(7622),u=i(44017),p=i(36768),g=i(68514),v=i(40980),m=i(954),f=i(65719),b=i(41336),y=e([f,b]);[f,b]=y.then?(await y)():y;var _,A,$,w,M,k,C,H,x,V=e=>e,z="M6,2A4,4 0 0,1 10,6V8H14V6A4,4 0 0,1 18,2A4,4 0 0,1 22,6A4,4 0 0,1 18,10H16V14H18A4,4 0 0,1 22,18A4,4 0 0,1 18,22A4,4 0 0,1 14,18V16H10V18A4,4 0 0,1 6,22A4,4 0 0,1 2,18A4,4 0 0,1 6,14H8V10H6A4,4 0 0,1 2,6A4,4 0 0,1 6,2M16,18A2,2 0 0,0 18,20A2,2 0 0,0 20,18A2,2 0 0,0 18,16H16V18M14,10H10V14H14V10M6,16A2,2 0 0,0 4,18A2,2 0 0,0 6,20A2,2 0 0,0 8,18V16H6M8,6A2,2 0 0,0 6,4A2,2 0 0,0 4,6A2,2 0 0,0 6,8H8V6M18,8A2,2 0 0,0 20,6A2,2 0 0,0 18,4A2,2 0 0,0 16,6V8H18Z",L=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(o))).isWide=!1,e.disabled=!1,e.yamlMode=!1,e.narrow=!1,e._requestShowId=!1,e._toggleYamlMode=()=>{(0,u.r)((0,n.A)(e),"toggle-yaml-mode")},e._showTriggerId=()=>{e._requestShowId=!0},e}return(0,r.A)(t,e),(0,o.A)(t,[{key:"willUpdate",value:function(e){var t;e.has("config")&&(this._requestShowId=!1,this._warnings=void 0,this.config&&(this.yamlMode=this.config.yamlMode,this.yamlMode&&(null===(t=this.editor)||void 0===t||null===(t=t.yamlEditor)||void 0===t||t.setValue(this.config.config))))}},{key:"render",value:function(){var e=this.disabled||"enabled"in this.config.config&&!1===this.config.config.enabled,t=(0,g.H4)(this.config.config)?"list":this.config.config.trigger,i=this.hass.localize("ui.panel.config.automation.editor.triggers.trigger"),a=this.hass.localize(`ui.panel.config.automation.editor.triggers.type.${t}.label`);return(0,d.qy)(_||(_=V` <ha-automation-sidebar-card .hass="${0}" .isWide="${0}" .yamlMode="${0}" .warnings="${0}" .narrow="${0}"> <span slot="title">${0}</span> <span slot="subtitle">${0}${0}</span> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> ${0} <ha-md-divider slot="menu-items" role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> ${0} <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-divider slot="menu-items" role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item> <ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}" class="warning"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} ${0} </div> </ha-md-menu-item> ${0} </ha-automation-sidebar-card> `),this.hass,this.isWide,this.yamlMode,this._warnings,this.narrow,a,i,e?` (${this.hass.localize("ui.panel.config.automation.editor.actions.disabled")})`:"",this.config.rename,this.disabled||"list"===t,"M18,17H10.5L12.5,15H18M6,17V14.5L13.88,6.65C14.07,6.45 14.39,6.45 14.59,6.65L16.35,8.41C16.55,8.61 16.55,8.92 16.35,9.12L8.47,17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",this.hass.localize("ui.panel.config.automation.editor.triggers.rename"),v.c?"mac":"",this.yamlMode||"id"in this.config.config||this._requestShowId?d.s6:(0,d.qy)(A||(A=V`<ha-md-menu-item slot="menu-items" .clickAction="${0}" .disabled="${0}"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <div class="overflow-label"> ${0} <span class="shortcut-placeholder ${0}"></span> </div> </ha-md-menu-item>`),this._showTriggerId,this.disabled||"list"===t,"M10 7V9H9V15H10V17H6V15H7V9H6V7H10M16 7C17.11 7 18 7.9 18 9V15C18 16.11 17.11 17 16 17H12V7M16 9H14V15H16V9Z",this.hass.localize("ui.panel.config.automation.editor.triggers.edit_id"),v.c?"mac":""),this.config.duplicate,this.disabled,this.hass.localize("ui.panel.config.automation.editor.triggers.duplicate"),"M16,8H14V11H11V13H14V16H16V13H19V11H16M2,12C2,9.21 3.64,6.8 6,5.68V3.5C2.5,4.76 0,8.09 0,12C0,15.91 2.5,19.24 6,20.5V18.32C3.64,17.2 2,14.79 2,12M15,3C10.04,3 6,7.04 6,12C6,16.96 10.04,21 15,21C19.96,21 24,16.96 24,12C24,7.04 19.96,3 15,3M15,19C11.14,19 8,15.86 8,12C8,8.14 11.14,5 15,5C18.86,5 22,8.14 22,12C22,15.86 18.86,19 15,19Z",this.config.copy,"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",this.hass.localize("ui.panel.config.automation.editor.triggers.copy"),this.narrow?d.s6:(0,d.qy)($||($=V`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>C</span> </span>`),v.c?(0,d.qy)(w||(w=V`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),z):this.hass.localize("ui.panel.config.automation.editor.ctrl")),this.config.cut,this.disabled,"M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z",this.hass.localize("ui.panel.config.automation.editor.triggers.cut"),this.narrow?d.s6:(0,d.qy)(M||(M=V`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>X</span> </span>`),v.c?(0,d.qy)(k||(k=V`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),z):this.hass.localize("ui.panel.config.automation.editor.ctrl")),this._toggleYamlMode,!this.config.uiSupported||!!this._warnings,"M3 6V8H14V6H3M3 10V12H14V10H3M20 10.1C19.9 10.1 19.7 10.2 19.6 10.3L18.6 11.3L20.7 13.4L21.7 12.4C21.9 12.2 21.9 11.8 21.7 11.6L20.4 10.3C20.3 10.2 20.2 10.1 20 10.1M18.1 11.9L12 17.9V20H14.1L20.2 13.9L18.1 11.9M3 14V16H10V14H3Z",this.hass.localize("ui.panel.config.automation.editor.edit_"+(this.yamlMode?"ui":"yaml")),v.c?"mac":"",this.config.disable,this.disabled||"list"===t,e?"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z":"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M9,9V15H15V9",this.hass.localize("ui.panel.config.automation.editor.actions."+(e?"enable":"disable")),v.c?"mac":"",this.config.delete,this.disabled,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",this.hass.localize("ui.panel.config.automation.editor.actions.delete"),this.narrow?d.s6:(0,d.qy)(C||(C=V`<span class="shortcut"> <span>${0}</span> <span>+</span> <span>${0}</span> </span>`),v.c?(0,d.qy)(H||(H=V`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),z):this.hass.localize("ui.panel.config.automation.editor.ctrl"),this.hass.localize("ui.panel.config.automation.editor.del")),(0,h.D)(this.sidebarKey,(0,d.qy)(x||(x=V`<ha-automation-trigger-editor class="sidebar-editor" .hass="${0}" .trigger="${0}" @value-changed="${0}" @yaml-changed="${0}" .uiSupported="${0}" .showId="${0}" .yamlMode="${0}" .disabled="${0}" @ui-mode-not-available="${0}" sidebar></ha-automation-trigger-editor>`),this.hass,this.config.config,this._valueChangedSidebar,this._yamlChangedSidebar,this.config.uiSupported,this._requestShowId,this.yamlMode,this.disabled,this._handleUiModeNotAvailable)))}},{key:"_handleUiModeNotAvailable",value:function(e){this._warnings=(0,p._)(this.hass,e.detail).warnings,this.yamlMode||(this.yamlMode=!0)}},{key:"_valueChangedSidebar",value:function(e){var t,i;e.stopPropagation(),null===(t=this.config)||void 0===t||null===(i=t.save)||void 0===i||i.call(t,e.detail.value),this.config&&(0,u.r)(this,"value-changed",{value:Object.assign(Object.assign({},this.config),{},{config:e.detail.value})})}},{key:"_yamlChangedSidebar",value:function(e){var t,i;e.stopPropagation(),null===(t=this.config)||void 0===t||null===(i=t.save)||void 0===i||i.call(t,e.detail.value)}}])}(d.WF);L.styles=[m.KC,m.Lt],(0,l.__decorate)([(0,c.MZ)({attribute:!1})],L.prototype,"hass",void 0),(0,l.__decorate)([(0,c.MZ)({attribute:!1})],L.prototype,"config",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean,attribute:"wide"})],L.prototype,"isWide",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],L.prototype,"disabled",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean,attribute:"yaml-mode"})],L.prototype,"yamlMode",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],L.prototype,"narrow",void 0),(0,l.__decorate)([(0,c.MZ)({type:Number,attribute:"sidebar-key"})],L.prototype,"sidebarKey",void 0),(0,l.__decorate)([(0,c.wk)()],L.prototype,"_requestShowId",void 0),(0,l.__decorate)([(0,c.wk)()],L.prototype,"_warnings",void 0),(0,l.__decorate)([(0,c.P)(".sidebar-editor")],L.prototype,"editor",void 0),L=(0,l.__decorate)([(0,c.EM)("ha-automation-sidebar-trigger")],L),t()}catch(S){t(S)}})},21829:function(e,t,i){"use strict";i.a(e,async function(e,a){try{i.d(t,{D:function(){return L}});var o=i(15243),n=i(62020),s=i(31802),r=i(21101),l=i(23180),d=i(87426),c=(i(1415),i(32203),i(38606),i(80178),i(65315),i(37089),i(59023),i(29726),i(45519),i(74774),i(69868)),h=i(84922),u=i(11991),p=i(44017),g=(i(69752),i(70490),i(96635)),v=(i(56657),i(28077),i(56608),i(50809)),m=e([g]);g=(m.then?(await m)():m)[0];var f,b,y,_,A,$,w,M,k,C,H,x,V,z=e=>e,L=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=(0,r.A)(this,t,[].concat(a))).isWide=!1,e.disabled=!1,e.narrow=!1,e}return(0,l.A)(t,e),(0,s.A)(t,[{key:"firstUpdated",value:function(e){(0,d.A)(t,"firstUpdated",this,3)([e]),this._getBlueprints()}},{key:"_blueprint",get:function(){if(this._blueprints)return this._blueprints[this._config.use_blueprint.path]}},{key:"renderCard",value:function(){var e,t=this._blueprint,i=!0;return(0,h.qy)(f||(f=z` <ha-card outlined class="blueprint" .header="${0}"> <div class="blueprint-picker-container"> ${0} </div> ${0} </ha-card> `),this.hass.localize("ui.panel.config.automation.editor.blueprint.header"),this._blueprints?Object.keys(this._blueprints).length?(0,h.qy)(b||(b=z` <ha-blueprint-picker .hass="${0}" .label="${0}" .blueprints="${0}" .value="${0}" .disabled="${0}" @value-changed="${0}"></ha-blueprint-picker> `),this.hass,this.hass.localize("ui.panel.config.automation.editor.blueprint.blueprint_to_use"),this._blueprints,this._config.use_blueprint.path,this.disabled,this._blueprintChanged):this.hass.localize("ui.panel.config.automation.editor.blueprint.no_blueprints"):(0,h.qy)(y||(y=z`<ha-spinner></ha-spinner>`)),this._config.use_blueprint.path?t&&"error"in t?(0,h.qy)(_||(_=z`<p class="warning padding"> There is an error in this Blueprint: ${0} </p>`),t.error):(0,h.qy)(A||(A=z`${0} ${0}`),null!=t&&t.metadata.description?(0,h.qy)($||($=z`<ha-markdown class="card-content" breaks .content="${0}"></ha-markdown>`),t.metadata.description):"",null!=t&&null!==(e=t.metadata)&&void 0!==e&&e.input&&Object.keys(t.metadata.input).length?Object.entries(t.metadata.input).map(e=>{var t=(0,o.A)(e,2),a=t[0],n=t[1];if(n&&"input"in n){var s=this._renderSection(a,n);return i=!1,s}var r=this._renderSettingRow(a,n,i);return i=!0,r}):(0,h.qy)(w||(w=z`<p class="padding"> ${0} </p>`),this.hass.localize("ui.panel.config.automation.editor.blueprint.no_inputs"))):"")}},{key:"_renderSection",value:function(e,t){var i=(null==t?void 0:t.name)||e,a=t.input&&Object.values(t.input).some(e=>null===e||void 0===e.default),n=!t.collapsed||a;return(0,h.qy)(M||(M=z`<ha-expansion-panel outlined .expanded="${0}" .noCollapse="${0}"> ${0} <div slot="header" role="heading" aria-level="3" class="section-header"> <ha-markdown .content="${0}"></ha-markdown> </div> <div class="content"> ${0} ${0} </div> </ha-expansion-panel>`),n,a,null!=t&&t.icon?(0,h.qy)(k||(k=z` <ha-icon slot="leading-icon" class="section-header" .icon="${0}"></ha-icon> `),t.icon):h.s6,i,null!=t&&t.description?(0,h.qy)(C||(C=z`<ha-markdown .content="${0}"></ha-markdown>`),t.description):h.s6,t.input?Object.entries(t.input).map(e=>{var t=(0,o.A)(e,2),i=t[0],a=t[1];return this._renderSettingRow(i,a,!0)}):h.s6)}},{key:"_renderSettingRow",value:function(e,t,i){var a,o=null!==(a=null==t?void 0:t.selector)&&void 0!==a?a:{text:void 0};return(0,h.qy)(H||(H=z`<ha-settings-row .narrow="${0}" class="${0}"> <span slot="heading">${0}</span> <ha-markdown slot="description" class="card-content" breaks .content="${0}"></ha-markdown> ${0} </ha-settings-row>`),this.narrow,i?"border":"",(null==t?void 0:t.name)||e,null==t?void 0:t.description,(0,h.qy)(x||(x=z`<ha-selector narrow .hass="${0}" .selector="${0}" .key="${0}" .disabled="${0}" .required="${0}" .placeholder="${0}" .value="${0}" @value-changed="${0}"></ha-selector>`),this.hass,o,e,this.disabled,void 0===(null==t?void 0:t.default),null==t?void 0:t.default,this._config.use_blueprint.input&&e in this._config.use_blueprint.input?this._config.use_blueprint.input[e]:null==t?void 0:t.default,this._inputChanged))}},{key:"_blueprintChanged",value:function(e){e.stopPropagation(),this._config.use_blueprint.path!==e.detail.value&&(0,p.r)(this,"value-changed",{value:Object.assign(Object.assign({},this._config),{},{use_blueprint:{path:e.detail.value}})})}},{key:"_inputChanged",value:function(e){e.stopPropagation();var t=e.target,i=t.key,a=e.detail?e.detail.value:t.value;if(!(this._config.use_blueprint.input&&this._config.use_blueprint.input[i]===a||!this._config.use_blueprint.input&&""===a)){var o=Object.assign(Object.assign({},this._config.use_blueprint.input),{},{[i]:a});(0,p.r)(this,"value-changed",{value:Object.assign(Object.assign({},this._config),{},{use_blueprint:Object.assign(Object.assign({},this._config.use_blueprint),{},{input:o})})})}}}],[{key:"styles",get:function(){return[v.RF,(0,h.AH)(V||(V=z`:host{display:block}ha-card.blueprint{margin:0 auto;margin-bottom:64px}.padding{padding:16px}.link-button-row{padding:14px}.blueprint-picker-container{padding:0 16px 16px}ha-blueprint-picker,ha-textfield{display:block}h3{margin:16px}.introduction{margin-top:0;margin-bottom:12px}.introduction a{color:var(--primary-color)}p{margin-bottom:0}.description{margin-bottom:16px}ha-settings-row{--settings-row-content-width:100%;--settings-row-prefix-display:contents}ha-settings-row.border{border-top:1px solid var(--divider-color)}ha-expansion-panel{margin:8px;margin-left:8px;margin-right:8px}div.section-header{display:flex;vertical-align:middle}ha-icon.section-header{padding-right:10px}ha-alert{display:block;margin-bottom:16px}div.section-header{display:flex;vertical-align:middle}ha-icon.section-header{padding-right:10px}`))]}}])}(h.WF);(0,c.__decorate)([(0,u.MZ)({attribute:!1})],L.prototype,"hass",void 0),(0,c.__decorate)([(0,u.MZ)({attribute:"is-wide",type:Boolean})],L.prototype,"isWide",void 0),(0,c.__decorate)([(0,u.MZ)({type:Boolean})],L.prototype,"disabled",void 0),(0,c.__decorate)([(0,u.MZ)({type:Boolean,reflect:!0})],L.prototype,"narrow",void 0),(0,c.__decorate)([(0,u.wk)()],L.prototype,"_blueprints",void 0),L=(0,c.__decorate)([(0,u.EM)("blueprint-generic-editor")],L),a()}catch(S){a(S)}})},54586:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(62020),o=i(31802),n=i(21101),s=i(23180),r=(i(38606),i(79827),i(42124),i(86581),i(67579),i(41190),i(47849),i(69868)),l=i(84922),d=i(11991),c=i(65940),h=i(44017),u=i(63870),p=(i(94124),i(60921),i(6345)),g=i(50809),v=e([p]);p=(v.then?(await v)():v)[0];var m,f,b,y,_=e=>e,A=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=(0,n.A)(this,t,[].concat(o))).excludeKeys=[],e.disabled=!1,e.yamlMode=!1,e._schema=(0,c.A)(()=>[{name:"name",selector:{text:{}}},{name:"key",selector:{text:{}}},{name:"description",selector:{text:{}}},{name:"required",selector:{boolean:{}}}]),e._computeLabelCallback=t=>e.hass.localize(`ui.panel.config.script.editor.field.${t.name}`),e._computeError=t=>e.hass.localize(`ui.panel.config.script.editor.field.${t}`)||t,e}return(0,s.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e,t=this._schema(),i=Object.assign(Object.assign({},this.field),{},{key:null!==(e=this._errorKey)&&void 0!==e?e:this.key}),a={[this.key]:this.field};return(0,l.qy)(m||(m=_` ${0} `),this.yamlMode?(0,l.qy)(f||(f=_`${0} <ha-yaml-editor .hass="${0}" .defaultValue="${0}" @value-changed="${0}"></ha-yaml-editor>`),this._yamlError?(0,l.qy)(b||(b=_`<ha-alert alert-type="error"> ${0} </ha-alert>`),this.hass.localize(`ui.panel.config.script.editor.field.${this._yamlError}`)):l.s6,this.hass,a,this._onYamlChange):(0,l.qy)(y||(y=_`<ha-form .schema="${0}" .data="${0}" .error="${0}" .hass="${0}" .disabled="${0}" .computeLabel="${0}" .computeError="${0}" @value-changed="${0}"></ha-form>`),t,i,this._uiError,this.hass,this.disabled,this._computeLabelCallback,this._computeError,this._valueChanged))}},{key:"_maybeSetKey",value:function(e){var t=e.name!==this.field.name,i=e.key!==this.key;if(t&&!i){var a=this.field.name?(0,u.Y)(this.field.name):this.hass.localize("ui.panel.config.script.editor.field.field")||"field";if(new RegExp(`^${a}(_\\d)?$`).test(this.key)){var o=e.name?(0,u.Y)(e.name):this.hass.localize("ui.panel.config.script.editor.field.field")||"field";if(this.excludeKeys.includes(o)){var n=o,s=2;do{n=`${o}_${s}`,s++}while(this.excludeKeys.includes(n));o=n}e.key=o}}}},{key:"_valueChanged",value:function(e){e.stopPropagation();var t,i=Object.assign({},e.detail.value);if(this._maybeSetKey(i),!i.key||this.excludeKeys.includes(i.key))return this._uiError=i.key?{key:"key_not_unique"}:{key:"key_not_null"},void(this._errorKey=null!==(t=i.key)&&void 0!==t?t:"");this._errorKey=void 0,this._uiError=void 0,Object.keys(this.field.selector)[0]!==Object.keys(i.selector)[0]&&delete i.default,(0,h.r)(this,"value-changed",{value:i})}},{key:"_onYamlChange",value:function(e){e.stopPropagation();var t=Object.assign({},e.detail.value);if("object"==typeof t&&1===Object.keys(t).length&&t[Object.keys(t)[0]]&&t[Object.keys(t)[0]].selector){var i=Object.keys(t)[0];if(this.excludeKeys.includes(i))this._yamlError="key_not_unique";else{this._yamlError=void 0;var a=Object.assign(Object.assign({},t[i]),{},{key:i});(0,h.r)(this,"yaml-changed",{value:a})}}else this._yamlError="yaml_error"}}])}(l.WF);A.styles=g.RF,(0,r.__decorate)([(0,d.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,r.__decorate)([(0,d.MZ)()],A.prototype,"key",void 0),(0,r.__decorate)([(0,d.MZ)({attribute:!1,type:Array})],A.prototype,"excludeKeys",void 0),(0,r.__decorate)([(0,d.MZ)({attribute:!1})],A.prototype,"field",void 0),(0,r.__decorate)([(0,d.MZ)({type:Boolean})],A.prototype,"disabled",void 0),(0,r.__decorate)([(0,d.MZ)({type:Boolean,attribute:"yaml-mode"})],A.prototype,"yamlMode",void 0),(0,r.__decorate)([(0,d.wk)()],A.prototype,"_uiError",void 0),(0,r.__decorate)([(0,d.wk)()],A.prototype,"_yamlError",void 0),A=(0,r.__decorate)([(0,d.EM)("ha-script-field-editor")],A),t()}catch($){t($)}})},33926:function(e,t,i){"use strict";i.a(e,async function(e,t){try{var a=i(73983),o=i(62020),n=i(31802),s=i(21101),r=i(23180),l=(i(38606),i(99846),i(79827),i(99342),i(65315),i(22416),i(45519),i(30536),i(69868)),d=i(84922),c=i(11991),h=i(65940),u=i(44017),p=(i(94124),i(60921),i(6345)),g=i(70053),v=i(50809),m=i(954),f=e([p]);p=(f.then?(await f)():f)[0];var b,y,_,A,$,w=e=>e,M=function(e){function t(){var e;(0,o.A)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,s.A)(this,t,[].concat(n))).narrow=!1,e.selected=!1,e.disabled=!1,e.indent=!1,e.yamlMode=!1,e._schema=(0,h.A)(t=>[].concat((0,a.A)(e.indent?[]:[{name:"selector",selector:{selector:{}}}]),(0,a.A)(!t||"object"!=typeof t||!e.indent&&g.W.includes(Object.keys(t)[0])?[]:[{name:"default",selector:e.indent?{[Object.keys(t)[0]]:Object.assign(Object.assign({},t[Object.keys(t)[0]]),{},{optionsInSidebar:!0})}:t}]))),e._computeLabelCallback=t=>{var i;return null!==(i=e.hass.localize(`ui.panel.config.script.editor.field.${t.name}`))&&void 0!==i?i:t.name},e._computeError=t=>e.hass.localize(`ui.panel.config.script.editor.field.${t}`)||t,e}return(0,r.A)(t,e),(0,n.A)(t,[{key:"render",value:function(){var e=this._schema(this.field.selector),t={selector:this.field.selector,default:this.field.default};return(0,d.qy)(b||(b=w` ${0} `),this.yamlMode?(0,d.qy)(y||(y=w`${0} <ha-yaml-editor .hass="${0}" .defaultValue="${0}" @value-changed="${0}"></ha-yaml-editor>`),this._yamlError?(0,d.qy)(_||(_=w`<ha-alert alert-type="error"> ${0} </ha-alert>`),this.hass.localize(`ui.panel.config.script.editor.field.${this._yamlError}`)):d.s6,this.hass,t,this._onYamlChange):(0,d.qy)(A||(A=w`<ha-form .schema="${0}" .data="${0}" .error="${0}" .hass="${0}" .disabled="${0}" .computeLabel="${0}" .computeError="${0}" @value-changed="${0}" .narrow="${0}"></ha-form>`),e,t,this._uiError,this.hass,this.disabled,this._computeLabelCallback,this._computeError,this._valueChanged,this.narrow))}},{key:"_valueChanged",value:function(e){e.stopPropagation();var t=Object.assign({},e.detail.value);this._uiError=void 0,this.indent||Object.keys(this.field.selector)[0]===Object.keys(t.selector)[0]||(t.default=void 0),(0,u.r)(this,"value-changed",{value:t})}},{key:"_onYamlChange",value:function(e){e.stopPropagation();var t=Object.assign({},e.detail.value);"object"==typeof t&&2===Object.keys(t).length?(0,u.r)(this,"yaml-changed",{value:t}):this._yamlError="yaml_error"}},{key:"_getSelectorElements",value:function(){if(this._formElement){var e,t=null===(e=this._formElement.shadowRoot)||void 0===e?void 0:e.querySelectorAll("ha-selector"),i=[];return null==t||t.forEach(e=>{var t;i.push.apply(i,(0,a.A)(Array.from((null===(t=e.shadowRoot)||void 0===t?void 0:t.querySelectorAll("ha-selector-condition, ha-selector-action"))||[])))}),i}return[]}},{key:"expandAll",value:function(){this._getSelectorElements().forEach(e=>{var t;null===(t=e.expandAll)||void 0===t||t.call(e)})}},{key:"collapseAll",value:function(){this._getSelectorElements().forEach(e=>{var t;null===(t=e.collapseAll)||void 0===t||t.call(e)})}}],[{key:"styles",get:function(){return[v.RF,m.aM,(0,d.AH)($||($=w`:host([indent]) ha-form{display:block;margin-left:12px;padding:12px 20px 16px 16px;margin-right:-4px}`))]}}])}(d.WF);(0,l.__decorate)([(0,c.MZ)({attribute:!1})],M.prototype,"hass",void 0),(0,l.__decorate)([(0,c.MZ)({attribute:!1})],M.prototype,"field",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],M.prototype,"narrow",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean,reflect:!0})],M.prototype,"selected",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],M.prototype,"disabled",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean})],M.prototype,"indent",void 0),(0,l.__decorate)([(0,c.MZ)({type:Boolean,attribute:"yaml-mode"})],M.prototype,"yamlMode",void 0),(0,l.__decorate)([(0,c.wk)()],M.prototype,"_uiError",void 0),(0,l.__decorate)([(0,c.wk)()],M.prototype,"_yamlError",void 0),(0,l.__decorate)([(0,c.P)("ha-form")],M.prototype,"_formElement",void 0),M=(0,l.__decorate)([(0,c.EM)("ha-script-field-selector-editor")],M),t()}catch(k){t(k)}})},31716:function(e,t,i){"use strict";i.a(e,async function(e,a){try{i.d(t,{YH:function(){return c},hZ:function(){return d},ww:function(){return h}});i(35748),i(45519),i(5934),i(64587),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030),i(95013);var o=i(37132),n=i(44142),s=e([o]);o=(s.then?(await s)():s)[0];var r=new Set(["error","entity"]),l={"entity-filter":()=>i.e("66204").then(i.bind(i,15607)),"state-label":()=>i.e("29610").then(i.bind(i,14865))},d=e=>(0,n.Vd)("badge",e,r,l,void 0,"entity"),c=e=>(0,n.Ue)("badge",e,r,l,void 0,"entity"),h=e=>(0,n.gh)(e,"badge",r,l);a()}catch(u){a(u)}})},57723:function(e,t,i){"use strict";i.a(e,async function(e,a){try{i.d(t,{MJ:function(){return b},dY:function(){return _},te:function(){return y}});i(35748),i(45519),i(5934),i(64587),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030),i(95013);var o=i(87386),n=i(65074),s=(i(18399),i(60431),i(18343)),r=i(24311),l=i(82617),d=i(49285),c=i(8312),h=i(12149),u=i(57991),p=i(54667),g=i(44142),v=e([o,n,s,r,l,d,c,h,u,p]);[o,n,s,r,l,d,c,h,u,p]=v.then?(await v)():v;var m=new Set(["entity","entities","button","entity-button","glance","grid","section","light","sensor","thermostat","weather-forecast","tile","heading"]),f={"alarm-panel":()=>Promise.all([i.e("42153"),i.e("11015"),i.e("50376")]).then(i.bind(i,1659)),area:()=>i.e("35481").then(i.bind(i,41024)),calendar:()=>Promise.all([i.e("83117"),i.e("23586"),i.e("72308"),i.e("43545"),i.e("30923"),i.e("47136")]).then(i.bind(i,15705)),conditional:()=>i.e("73382").then(i.bind(i,6469)),"empty-state":()=>i.e("41719").then(i.bind(i,86538)),"energy-compare":()=>Promise.all([i.e("37061"),i.e("33334"),i.e("93381"),i.e("79353")]).then(i.bind(i,36558)),"energy-carbon-consumed-gauge":()=>Promise.all([i.e("37061"),i.e("33334"),i.e("93381"),i.e("61702")]).then(i.bind(i,26139)),"energy-date-selection":()=>Promise.all([i.e("42153"),i.e("37061"),i.e("33334"),i.e("10626"),i.e("93381"),i.e("24688"),i.e("72855")]).then(i.bind(i,17478)),"energy-devices-graph":()=>Promise.all([i.e("11015"),i.e("37061"),i.e("33334"),i.e("16521"),i.e("61166"),i.e("704"),i.e("66217"),i.e("93381"),i.e("55038"),i.e("85759")]).then(i.bind(i,51337)),"energy-devices-detail-graph":()=>Promise.all([i.e("11015"),i.e("37061"),i.e("33334"),i.e("16521"),i.e("93381"),i.e("55038"),i.e("36052"),i.e("3504")]).then(i.bind(i,45863)),"energy-distribution":()=>Promise.all([i.e("37061"),i.e("33334"),i.e("93381"),i.e("83079")]).then(i.bind(i,30903)),"energy-gas-graph":()=>Promise.all([i.e("11015"),i.e("37061"),i.e("33334"),i.e("16521"),i.e("93381"),i.e("55038"),i.e("36052"),i.e("67168")]).then(i.bind(i,72499)),"energy-water-graph":()=>Promise.all([i.e("11015"),i.e("37061"),i.e("33334"),i.e("16521"),i.e("93381"),i.e("55038"),i.e("36052"),i.e("79146")]).then(i.bind(i,82693)),"energy-grid-neutrality-gauge":()=>Promise.all([i.e("37061"),i.e("33334"),i.e("93381"),i.e("22182")]).then(i.bind(i,91575)),"energy-solar-consumed-gauge":()=>Promise.all([i.e("37061"),i.e("33334"),i.e("93381"),i.e("11018")]).then(i.bind(i,7513)),"energy-self-sufficiency-gauge":()=>Promise.all([i.e("37061"),i.e("33334"),i.e("93381"),i.e("17987")]).then(i.bind(i,24806)),"energy-solar-graph":()=>Promise.all([i.e("11015"),i.e("37061"),i.e("33334"),i.e("16521"),i.e("93381"),i.e("55038"),i.e("36052"),i.e("97096")]).then(i.bind(i,71667)),"energy-sources-table":()=>Promise.all([i.e("37061"),i.e("33334"),i.e("44334"),i.e("93381"),i.e("33835")]).then(i.bind(i,90470)),"energy-usage-graph":()=>Promise.all([i.e("11015"),i.e("37061"),i.e("33334"),i.e("16521"),i.e("93381"),i.e("55038"),i.e("36052"),i.e("97850")]).then(i.bind(i,62757)),"energy-sankey":()=>Promise.all([i.e("11015"),i.e("37061"),i.e("33334"),i.e("16521"),i.e("61166"),i.e("59401"),i.e("75702"),i.e("90582"),i.e("93381"),i.e("55038"),i.e("19348")]).then(i.bind(i,41970)),"entity-filter":()=>i.e("82650").then(i.bind(i,21281)),error:()=>Promise.resolve().then(i.bind(i,42959)),"home-summary":()=>Promise.all([i.e("60725"),i.e("13326")]).then(i.bind(i,41145)),gauge:()=>i.e("41221").then(i.bind(i,51780)),"history-graph":()=>Promise.all([i.e("11015"),i.e("83117"),i.e("16521"),i.e("61166"),i.e("59401"),i.e("704"),i.e("33972"),i.e("78689"),i.e("55038"),i.e("93076"),i.e("15491")]).then(i.bind(i,18318)),"horizontal-stack":()=>i.e("43001").then(i.bind(i,56672)),humidifier:()=>i.e("95004").then(i.bind(i,66423)),iframe:()=>i.e("58212").then(i.bind(i,82223)),logbook:()=>Promise.all([i.e("12265"),i.e("61389"),i.e("53082")]).then(i.bind(i,88504)),map:()=>Promise.all([i.e("15424"),i.e("14280"),i.e("94910")]).then(i.bind(i,56663)),markdown:()=>Promise.all([i.e("22442"),i.e("11221")]).then(i.bind(i,59640)),clock:()=>i.e("99488").then(i.bind(i,91683)),"media-control":()=>Promise.all([i.e("20705"),i.e("48491"),i.e("49666")]).then(i.bind(i,39257)),"picture-elements":()=>Promise.all([i.e("78525"),i.e("15116"),i.e("47549")]).then(i.bind(i,40443)),"picture-entity":()=>Promise.all([i.e("78525"),i.e("39443")]).then(i.bind(i,60369)),"picture-glance":()=>Promise.all([i.e("78525"),i.e("33896")]).then(i.bind(i,89756)),picture:()=>i.e("9652").then(i.bind(i,89823)),"plant-status":()=>i.e("41842").then(i.bind(i,86761)),"recovery-mode":()=>Promise.all([i.e("11015"),i.e("56216"),i.e("3041"),i.e("53135"),i.e("97323")]).then(i.bind(i,33734)),"todo-list":()=>Promise.all([i.e("42153"),i.e("89088"),i.e("22442"),i.e("75705")]).then(i.bind(i,33924)),"shopping-list":()=>Promise.all([i.e("42153"),i.e("89088"),i.e("22442"),i.e("75705"),i.e("93597")]).then(i.bind(i,27308)),starting:()=>i.e("2212").then(i.bind(i,10735)),"statistics-graph":()=>Promise.all([i.e("37061"),i.e("33334"),i.e("16521"),i.e("93381"),i.e("36052"),i.e("82994")]).then(i.bind(i,73097)),statistic:()=>Promise.all([i.e("37061"),i.e("33334"),i.e("93381"),i.e("35131")]).then(i.bind(i,15819)),"vertical-stack":()=>i.e("68239").then(i.bind(i,99346))},b=e=>(0,g.Vd)("card",e,m,f,void 0,void 0),y=e=>(0,g.Ue)("card",e,m,f,void 0,void 0),_=e=>(0,g.gh)(e,"card",m,f);a()}catch(A){a(A)}})},24096:function(e,t,i){"use strict";i.d(t,{l:function(){return s},x:function(){return n}});i(35748),i(45519),i(5934),i(95013);var a=i(44142),o={picture:()=>i.e("79683").then(i.bind(i,51246)),buttons:()=>Promise.all([i.e("11015"),i.e("20938")]).then(i.bind(i,22545)),graph:()=>i.e("193").then(i.bind(i,3320))},n=e=>(0,a.Ue)("header-footer",e,void 0,o,void 0,void 0),s=e=>(0,a.gh)(e,"header-footer",void 0,o)},33810:function(e,t,i){"use strict";i.d(t,{G:function(){return n}});var a=i(62020),o=i(31802),n=(i(35748),i(34285),i(45519),i(95013),function(){return(0,o.A)(function e(t){(0,a.A)(this,e),this._cache=new Map,this._expiration=t},[{key:"get",value:function(e){return this._cache.get(e)}},{key:"set",value:function(e,t){this._cache.set(e,t),this._expiration&&window.setTimeout(()=>this._cache.delete(e),this._expiration)}},{key:"has",value:function(e){return this._cache.has(e)}}])}())},41073:function(e,t,i){var a={"./ha-icon-prev":["20503","7196"],"./ha-icon-button-toolbar":["14752","47789","5819"],"./ha-alert":["94124","14813"],"./ha-icon-button-toggle":["94435","98176"],"./ha-svg-icon.ts":["86160"],"./ha-alert.ts":["94124","14813"],"./ha-icon":["17933","606"],"./ha-icon-next.ts":["42163","72752"],"./ha-qr-code.ts":["69273","43033","706"],"./ha-icon-overflow-menu.ts":["6418","48439","70","47789","56216","3041","25731"],"./ha-icon-button-toggle.ts":["94435","98176"],"./ha-icon-button-group":["94908","74541"],"./ha-svg-icon":["86160"],"./ha-icon-button-prev":["72590","7427"],"./ha-icon-button.ts":["9058"],"./ha-icon-overflow-menu":["6418","48439","70","47789","56216","3041","25731"],"./ha-icon-button-arrow-next":["23906","12127"],"./ha-icon-button-prev.ts":["72590","7427"],"./ha-icon-picker":["8808","42153","15265","48439","70","29166","92785","14731"],"./ha-icon-button-toolbar.ts":["14752","47789","5819"],"./ha-icon-button-arrow-prev.ts":["65442","56127"],"./ha-icon-button-next":["75542","65928"],"./ha-icon-next":["42163","72752"],"./ha-icon-picker.ts":["8808","42153","15265","48439","70","29166","92785","14731"],"./ha-icon-prev.ts":["20503","7196"],"./ha-icon-button-arrow-prev":["65442","56127"],"./ha-icon-button-next.ts":["75542","65928"],"./ha-icon.ts":["17933","606"],"./ha-qr-code":["69273","43033","706"],"./ha-icon-button":["9058"],"./ha-icon-button-group.ts":["94908","74541"],"./ha-icon-button-arrow-next.ts":["23906","12127"]};function o(e){if(!i.o(a,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],o=t[0];return Promise.all(t.slice(1).map(i.e)).then(function(){return i(o)})}o.keys=function(){return Object.keys(a)},o.id=41073,e.exports=o}}]);
//# sourceMappingURL=88215.5d703744f2c9b735.js.map