"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["12183"],{94327:function(t,e,a){a.d(e,{Vy:function(){return o},fI:function(){return n},ux:function(){return d}});a(80178),a(45519);var i=a(65940),r=a(83510),s=["#4269d0","#f4bd4a","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#01ab63","#094bad","#c99000","#d84f3e","#49a28f","#048732","#d96895","#8043ce","#7599d1","#7a4c31","#6989f4","#ffd444","#ff957c","#8fe9d3","#62cc71","#ffadda","#c884ff","#badeff","#bf8b6d","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function o(t){return s[t%s.length]}function n(t,e){var a=e.getPropertyValue(`--graph-color-${t+1}`)||o(t);return(0,r.RQ)(a)}var d=(0,i.A)(t=>s.map((e,a)=>n(a,t)),(t,e)=>t[0].getPropertyValue("--graph-color-1")===e[0].getPropertyValue("--graph-color-1"))},52111:function(t,e,a){a.a(t,async function(t,i){try{a.d(e,{n:function(){return E}});var r=a(15243),s=a(73983),o=a(98735),n=a(88486),d=a(62020),h=a(31802),c=a(21101),l=a(23180),u=(a(38606),a(96956),a(79827),a(35748),a(80178),a(99342),a(35058),a(65315),a(837),a(22416),a(37089),a(65152),a(29726),a(45519),a(64587),a(88238),a(34536),a(16257),a(20152),a(44711),a(72108),a(77030),a(30536),a(95013),a(69868)),p=a(84922),m=a(11991),f=a(48893),v=a(65940),y=a(94327),_=a(26946),g=a(6149),b=a(8868),x=a(70303),w=a(54e3),A=a(63002),D=a(68717),T=t([D,g,b,A]);[D,g,b,A]=T.then?(await T)():T;var k,M,S,$,Y,L=t=>t,E={mean:"mean",min:"min",max:"max",sum:"sum",state:"sum",change:"sum"},Z=function(t){function e(){var t;(0,d.A)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=(0,c.A)(this,e,[].concat(i))).statTypes=["sum","min","mean","max"],t.chartType="line",t.fitYData=!1,t.hideLegend=!1,t.logarithmicScale=!1,t.isLoadingData=!1,t.clickForMoreInfo=!0,t._chartData=[],t._statisticIds=[],t._hiddenStats=new Set,t._previousYAxisLabelValue=0,t._renderTooltip=e=>{var a={},i=t.unit?`${(0,x.A)(t.unit,t.hass.locale)}${t.unit}`:"";return e.map((e,r)=>{var s,o;if(a[e.seriesIndex])return"";a[e.seriesIndex]=!0;var n=t._statisticIds[e.seriesIndex],d=t.hass.states[n],h=t.hass.entities[n],c=String(null!==(s=e.value[2])&&void 0!==s?s:e.value[1]),l=null!==(o=(0,b.ZQ)(d,h))&&void 0!==o?o:{maximumFractionDigits:2},u=`${(0,b.ZV)(c,t.hass.locale,l)}${i}`;return`${0===r?(0,g.yg)(new Date(e.value[0]),t.hass.locale,t.hass.config)+"<br>":""}${e.marker} ${e.seriesName}: ${u}`}).filter(Boolean).join("<br>")},t._getStatisticsMetaData=(0,v.A)(function(){var e=(0,n.A)((0,o.A)().m(function e(a){var i,r;return(0,o.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,A.Wr)(t.hass,a);case 1:return i=e.v,r={},i.forEach(t=>{r[t.statistic_id]=t}),e.a(2,r)}},e)}));return function(t){return e.apply(this,arguments)}}()),t._formatYAxisLabel=e=>{var a=Math.max(1,-Math.floor(Math.log10(Math.abs(e-t._previousYAxisLabelValue||1)))),i=(0,b.ZV)(e,t.hass.locale,{maximumFractionDigits:a});return t._previousYAxisLabelValue=e,i},t}return(0,l.A)(e,t),(0,h.A)(e,[{key:"shouldUpdate",value:function(t){return t.size>1||!t.has("hass")}},{key:"willUpdate",value:function(t){(t.has("statisticsData")||t.has("statTypes")||t.has("chartType")||t.has("hideLegend")||t.has("_hiddenStats"))&&this._generateData(),(!this.hasUpdated||t.has("unit")||t.has("period")||t.has("chartType")||t.has("minYAxis")||t.has("maxYAxis")||t.has("fitYData")||t.has("logarithmicScale")||t.has("hideLegend")||t.has("startTime")||t.has("endTime")||t.has("_legendData")||t.has("_chartData"))&&this._createOptions()}},{key:"firstUpdated",value:function(){this._computedStyle=getComputedStyle(this)}},{key:"render",value:function(){return(0,_.x)(this.hass,"history")?this.isLoadingData&&!this.statisticsData?(0,p.qy)(M||(M=L`<div class="info"> ${0} </div>`),this.hass.localize("ui.components.statistics_charts.loading_statistics")):this.statisticsData&&Object.keys(this.statisticsData).length?(0,p.qy)($||($=L` <ha-chart-base .hass="${0}" .data="${0}" .options="${0}" .height="${0}" style="${0}" @dataset-hidden="${0}" @dataset-unhidden="${0}" .expandLegend="${0}"></ha-chart-base> `),this.hass,this._chartData,this._chartOptions,this.height,(0,f.W)({height:this.height}),this._datasetHidden,this._datasetUnhidden,this.expandLegend):(0,p.qy)(S||(S=L`<div class="info"> ${0} </div>`),this.hass.localize("ui.components.statistics_charts.no_statistics_found")):(0,p.qy)(k||(k=L`<div class="info"> ${0} </div>`),this.hass.localize("ui.components.history_charts.history_disabled"))}},{key:"_datasetHidden",value:function(t){this._legendData&&(this._hiddenStats.add(t.detail.id),this.requestUpdate("_hiddenStats"))}},{key:"_datasetUnhidden",value:function(t){this._legendData&&(this._hiddenStats.delete(t.detail.id),this.requestUpdate("_hiddenStats"))}},{key:"_createOptions",value:function(){var t,e,a=null!==(t=this.daysToShow)&&void 0!==t?t:1,i=this.minYAxis,r=this.maxYAxis;"number"==typeof i?this.fitYData&&(i=t=>{var e=t.min;return Math.min(this._roundYAxis(e,Math.floor),this.minYAxis)}):this.logarithmicScale&&(i=t=>{var e=t.min,a=e>0?.95*e:1.05*e;return this._roundYAxis(a,Math.floor)}),"number"==typeof r?this.fitYData&&(r=t=>{var e=t.max;return Math.max(this._roundYAxis(e,Math.ceil),this.maxYAxis)}):this.logarithmicScale&&(r=t=>{var e=t.max,a=e>0?1.05*e:.95*e;return this._roundYAxis(a,Math.ceil)});var s=null!==(e=this.endTime)&&void 0!==e?e:new Date,o=this.startTime;o||(this._chartData.forEach(t=>{var e;if(Array.isArray(t.data)&&t.data[0]){var a=t.data[0],i=Array.isArray(a)?a[0]:null===(e=a.value)||void 0===e?void 0:e[0];i&&(!o||new Date(i)<o)&&(o=new Date(i))}}),o||(o=new Date(s.getTime()-24*a*3600*1e3))),this._chartOptions={xAxis:[{id:"xAxis",type:"time",min:o,max:this.endTime},{id:"hiddenAxis",type:"time",show:!1}],yAxis:{type:this.logarithmicScale?"log":"value",name:this.unit,nameGap:2,nameTextStyle:{align:"left"},position:(0,w.qC)(this.hass)?"right":"left",scale:"bar"!==this.chartType||this.logarithmicScale||void 0!==i||void 0!==r,min:this._clampYAxis(i),max:this._clampYAxis(r),splitLine:{show:!0},axisLabel:{formatter:this._formatYAxisLabel}},legend:{type:"custom",show:!this.hideLegend,data:this._legendData},grid:{top:15,left:1,right:1,bottom:0,containLabel:!0},tooltip:{trigger:"axis",appendTo:document.body,formatter:this._renderTooltip}}}},{key:"_generateData",value:(a=(0,n.A)((0,o.A)().m(function t(){var e,a,i,n,d,h,c,l,u,p;return(0,o.A)().w(function(t){for(;;)switch(t.n){case 0:if(this.statisticsData){t.n=1;break}return t.a(2);case 1:if(p=this.metadata){t.n=3;break}return t.n=2,this._getStatisticsMetaData(Object.keys(this.statisticsData));case 2:p=t.v;case 3:if(a=p,i=0,n=Object.entries(this.statisticsData),d=[],h=[],c=[],0!==n.length){t.n=4;break}return t.a(2);case 4:(this.endTime||new Date(Math.max.apply(Math,(0,s.A)(n.map(t=>{var e=(0,r.A)(t,2),a=(e[0],e[1]);return new Date(a[a.length-1].start).getTime()})))))>new Date&&new Date,u=this.names||{},n.forEach(t=>{var e=(0,r.A)(t,2),o=e[0],n=e[1],p=null==a?void 0:a[o],m=u[o];void 0===m&&(m=(0,A.$O)(this.hass,o,p)),this.unit||(void 0===l?l=(0,A.JE)(this.hass,o,p):null!==l&&l!==(0,A.JE)(this.hass,o,p)&&(l=null));var f,v=null,_=[],g=[],b=(t,e,a)=>{a.length&&(t>e||(_.forEach((e,i)=>{"line"===this.chartType&&f&&v&&f.getTime()!==t.getTime()&&(e.data.push(this._transformDataValue([f].concat((0,s.A)(v[i])))),e.data.push([f,null])),e.data.push(this._transformDataValue([t].concat((0,s.A)(a[i]))))}),v=a,f=e))},x=(0,y.fI)(i,this._computedStyle||getComputedStyle(this));i++;var w=[],D=this.statTypes.includes("mean")&&(0,A.iY)(n,"mean"),T=this.statTypes.includes("max")&&(0,A.iY)(n,"max"),k=this.statTypes.includes("min")&&(0,A.iY)(n,"min"),M=[D,T,k].filter(Boolean).length>1,S=this.statTypes.includes("state"),$=T?"max":"mean",Y=k?"min":"mean",L=M?(0,s.A)(this.statTypes).sort((t,e)=>"min"===t||"max"===e?-1:"max"===t||"min"===e?1:0):this.statTypes,E=!1;L.forEach(t=>{if((0,A.iY)(n,t)){var e=M&&(t===$||t===Y);w.push(t);var a=e&&k&&T&&D||S&&["change","sum"].includes(t)?x+(this.hideLegend?"00":"7F"):x,i=e?x+"3F":x+"7F",r={id:`${o}-${t}`,type:this.chartType,smooth:"line"===this.chartType&&.4,smoothMonotone:"x",cursor:"default",data:[],name:m?`${m} (${this.hass.localize(`ui.components.statistics_charts.statistic_types.${t}`)})`:this.hass.localize(`ui.components.statistics_charts.statistic_types.${t}`),symbol:"none",sampling:"minmax",animationDurationUpdate:0,lineStyle:{width:1.5},itemStyle:"bar"===this.chartType?{borderRadius:[4,4,0,0],borderColor:a,borderWidth:1.5}:void 0,color:"bar"===this.chartType?i:a};if(e&&"line"===this.chartType&&(r.stack=`band-${o}`,r.stackStrategy="all",M&&t===$&&(r.areaStyle={color:x+"3F"})),!this.hideLegend){var s,d=D?"mean"===t:!1===E;d&&g.push({id:o,name:m,color:r.color,borderColor:null===(s=r.itemStyle)||void 0===s?void 0:s.borderColor}),E=E||d}_.push(r),c.push(o)}});var Z=null,O=null;n.forEach(t=>{var e=new Date(t.start);if(Z!==e){Z=e;var a=[];w.forEach(e=>{var i=[];if("sum"===e)null==O?(i.push(0),O=t.sum):i.push((t.sum||0)-O);else if(e===$&&"line"===this.chartType&&M){var r=t[$]||0;i.push(Math.abs(r-(t[Y]||0))),i.push(r)}else{var s;i.push(null!==(s=t[e])&&void 0!==s?s:null)}a.push(i)}),this._hiddenStats.has(o)||b(e,new Date(t.end),a)}}),Array.prototype.push.apply(d,_),Array.prototype.push.apply(h,g)}),l&&(this.unit=l),h.forEach(t=>{var e=t.id,a=t.name,i=t.color,r=t.borderColor;d.push({id:e,name:a,color:i,itemStyle:{borderColor:r},type:this.chartType,data:[],xAxisIndex:1})}),this._chartData=d,h.length!==(null===(e=this._legendData)||void 0===e?void 0:e.length)&&(this._legendData=h.length>1?h.map(t=>({id:t.id,name:t.name})):void 0),this._statisticIds=c;case 5:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})},{key:"_transformDataValue",value:function(t){return"bar"===this.chartType&&t[1]&&t[1]<0?{value:t,itemStyle:{borderRadius:[0,0,4,4]}}:t}},{key:"_clampYAxis",value:function(t){if(this.logarithmicScale){if("number"==typeof t)return Math.max(t,Number.EPSILON);if("function"==typeof t)return e=>Math.max(t(e),Number.EPSILON)}return t}},{key:"_roundYAxis",value:function(t,e){return Math.abs(t)<1?t:e(t)}}]);var a}(p.WF);Z.styles=(0,p.AH)(Y||(Y=L`:host{display:block;min-height:60px}.info{text-align:center;line-height:60px;color:var(--secondary-text-color)}`)),(0,u.__decorate)([(0,m.MZ)({attribute:!1})],Z.prototype,"hass",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:!1})],Z.prototype,"statisticsData",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:!1})],Z.prototype,"metadata",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:!1})],Z.prototype,"names",void 0),(0,u.__decorate)([(0,m.MZ)()],Z.prototype,"unit",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:!1})],Z.prototype,"startTime",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:!1})],Z.prototype,"endTime",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:!1,type:Array})],Z.prototype,"statTypes",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:!1})],Z.prototype,"chartType",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:!1,type:Number})],Z.prototype,"minYAxis",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:!1,type:Number})],Z.prototype,"maxYAxis",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:"fit-y-data",type:Boolean})],Z.prototype,"fitYData",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:"hide-legend",type:Boolean})],Z.prototype,"hideLegend",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:"logarithmic-scale",type:Boolean})],Z.prototype,"logarithmicScale",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:"is-loading-data",type:Boolean})],Z.prototype,"isLoadingData",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:"click-for-more-info",type:Boolean})],Z.prototype,"clickForMoreInfo",void 0),(0,u.__decorate)([(0,m.MZ)()],Z.prototype,"period",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:"days-to-show",type:Number})],Z.prototype,"daysToShow",void 0),(0,u.__decorate)([(0,m.MZ)({type:String})],Z.prototype,"height",void 0),(0,u.__decorate)([(0,m.MZ)({attribute:"expand-legend",type:Boolean})],Z.prototype,"expandLegend",void 0),(0,u.__decorate)([(0,m.wk)()],Z.prototype,"_chartData",void 0),(0,u.__decorate)([(0,m.wk)()],Z.prototype,"_legendData",void 0),(0,u.__decorate)([(0,m.wk)()],Z.prototype,"_statisticIds",void 0),(0,u.__decorate)([(0,m.wk)()],Z.prototype,"_chartOptions",void 0),(0,u.__decorate)([(0,m.wk)()],Z.prototype,"_hiddenStats",void 0),Z=(0,u.__decorate)([(0,m.EM)("statistics-chart")],Z),i()}catch(O){i(O)}})},81341:function(t,e,a){a.a(t,async function(t,i){try{a.d(e,{r:function(){return b}});var r=a(18202),s=a(62020),o=a(31802),n=a(21101),d=a(23180),h=a(87426),c=(a(38606),a(69868)),l=a(78696),u=a(84922),p=a(11991),m=a(18183),f=a(50809),v=t([l]);l=(v.then?(await v)():v)[0];var y,_,g=t=>t,b=300,x=function(t){function e(){var t;(0,s.A)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=(0,n.A)(this,e,[].concat(i))).open=!1,t.flexContent=!1,t._drawerOpen=!1,t._gestureRecognizer=new m.u,t._isDragging=!1,t._handleTouchStart=e=>{var a,i=(0,r.A)(e.composedPath());try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s===t._drawer)break;if(s.scrollTop>0)return}}catch(o){i.e(o)}finally{i.f()}t._startResizing(e.touches[0].clientY)},t._handleTouchMove=e=>{var a=e.touches[0].clientY,i=t._gestureRecognizer.move(a);i<0&&(e.preventDefault(),t._isDragging=!0,requestAnimationFrame(()=>{t._isDragging&&t.style.setProperty("--dialog-transform",`translateY(${-1*i}px)`)}))},t._handleTouchEnd=()=>{var e;t._unregisterResizeHandlers(),t._isDragging=!1;var a=t._gestureRecognizer.end();if(a.isSwipe)a.isDownwardSwipe?t._drawerOpen=!1:t._animateSnapBack();else{var i=null===(e=t._drawer.shadowRoot)||void 0===e?void 0:e.querySelector('[part="body"]'),r=(null==i?void 0:i.offsetHeight)||0;r>0&&a.delta<0&&Math.abs(a.delta)>.5*r?t._drawerOpen=!1:t._animateSnapBack()}},t._unregisterResizeHandlers=()=>{document.removeEventListener("touchmove",t._handleTouchMove),document.removeEventListener("touchend",t._handleTouchEnd),document.removeEventListener("touchcancel",t._handleTouchEnd)},t}return(0,d.A)(e,t),(0,o.A)(e,[{key:"_handleAfterHide",value:function(){this.open=!1;var t=new Event("closed",{bubbles:!0,composed:!0});this.dispatchEvent(t)}},{key:"updated",value:function(t){(0,h.A)(e,"updated",this,3)([t]),t.has("open")&&(this._drawerOpen=this.open)}},{key:"render",value:function(){return(0,u.qy)(y||(y=g` <wa-drawer id="drawer" placement="bottom" .open="${0}" @wa-after-hide="${0}" without-header @touchstart="${0}"> <slot name="header"></slot> <div id="body" class="body ha-scrollbar"> <slot></slot> </div> </wa-drawer> `),this._drawerOpen,this._handleAfterHide,this._handleTouchStart)}},{key:"_startResizing",value:function(t){document.addEventListener("touchmove",this._handleTouchMove,{passive:!1}),document.addEventListener("touchend",this._handleTouchEnd),document.addEventListener("touchcancel",this._handleTouchEnd),this._gestureRecognizer.start(t)}},{key:"_animateSnapBack",value:function(){this.style.setProperty("--dialog-transition",`transform ${b}ms ease-out`),this.style.removeProperty("--dialog-transform"),setTimeout(()=>{this.style.removeProperty("--dialog-transition")},b)}},{key:"disconnectedCallback",value:function(){(0,h.A)(e,"disconnectedCallback",this,3)([]),this._unregisterResizeHandlers(),this._isDragging=!1}}])}(u.WF);x.styles=[f.dp,(0,u.AH)(_||(_=g`wa-drawer{--wa-color-surface-raised:transparent;--spacing:0;--size:var(--ha-bottom-sheet-height, auto);--show-duration:${0}ms;--hide-duration:${0}ms}wa-drawer::part(dialog){max-height:var(--ha-bottom-sheet-max-height,90vh);align-items:center;transform:var(--dialog-transform);transition:var(--dialog-transition)}wa-drawer::part(body){max-width:var(--ha-bottom-sheet-max-width);width:100%;border-top-left-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));border-top-right-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));background-color:var(--ha-bottom-sheet-surface-background,var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff)));padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}:host([flexcontent]) wa-drawer::part(body){display:flex;flex-direction:column}:host([flexcontent]) .body{flex:1;max-width:100%;display:flex;flex-direction:column;padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}`),b,b)],(0,c.__decorate)([(0,p.MZ)({type:Boolean})],x.prototype,"open",void 0),(0,c.__decorate)([(0,p.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],x.prototype,"flexContent",void 0),(0,c.__decorate)([(0,p.wk)()],x.prototype,"_drawerOpen",void 0),(0,c.__decorate)([(0,p.P)("#drawer")],x.prototype,"_drawer",void 0),x=(0,c.__decorate)([(0,p.EM)("ha-bottom-sheet")],x),i()}catch(w){i(w)}})},99260:function(t,e,a){a.d(e,{G:function(){return v},J:function(){return f}});var i,r,s=a(62020),o=a(31802),n=a(21101),d=a(23180),h=a(69868),c=a(64980),l=a(23719),u=a(84922),p=a(11991),m=(a(71434),t=>t),f=[l.R,(0,u.AH)(i||(i=m`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}`))],v=function(t){function e(){return(0,s.A)(this,e),(0,n.A)(this,e,arguments)}return(0,d.A)(e,t),(0,o.A)(e,[{key:"renderRipple",value:function(){return"text"===this.type?u.s6:(0,u.qy)(r||(r=m`<ha-ripple part="ripple" for="item" ?disabled="${0}"></ha-ripple>`),this.disabled&&"link"!==this.type)}}])}(c.n);v.styles=f,v=(0,h.__decorate)([(0,p.EM)("ha-md-list-item")],v)}}]);
//# sourceMappingURL=12183.e0b62be346bc842f.js.map