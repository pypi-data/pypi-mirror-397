export const __webpack_id__="76950";export const __webpack_ids__=["76950"];export const __webpack_modules__={71770:function(t,e,i){var s=i(69868),a=i(30103),n=i(86811),o=i(49377),c=i(34800),r=i(84922),l=i(22019);class d extends a.k{renderOutline(){return this.filled?r.qy`<span class="filled"></span>`:super.renderOutline()}getContainerClasses(){return{...super.getContainerClasses(),active:this.active}}renderPrimaryContent(){return r.qy` <span class="leading icon" aria-hidden="true"> ${this.renderLeadingIcon()} </span> <span class="label">${this.label}</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> ${this.renderTrailingIcon()} </span> `}renderTrailingIcon(){return r.qy`<slot name="trailing-icon"></slot>`}constructor(...t){super(...t),this.filled=!1,this.active=!1}}d.styles=[o.R,c.R,n.R,r.AH`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(
          --ha-assist-chip-container-shape,
          16px
        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:var(--ha-font-family-body)}`],(0,s.__decorate)([(0,l.MZ)({type:Boolean,reflect:!0})],d.prototype,"filled",void 0),(0,s.__decorate)([(0,l.MZ)({type:Boolean})],d.prototype,"active",void 0),d=(0,s.__decorate)([(0,l.EM)("ha-assist-chip")],d)},50416:function(t,e,i){i.a(t,async function(t,e){try{i(65315),i(837),i(37089);var s=i(69868),a=i(84922),n=i(22019),o=i(33055),c=i(44017),r=i(35501),l=t([r]);r=(l.then?(await l)():l)[0];class d extends a.WF{render(){if(!this.hass)return a.s6;const t=this.ignoreRestrictionsOnFirstStatistic&&this._currentStatistics.length<=1,e=t?void 0:this.includeStatisticsUnitOfMeasurement,i=t?void 0:this.includeUnitClass,s=t?void 0:this.includeDeviceClass,n=t?void 0:this.statisticTypes;return a.qy` ${this.label?a.qy`<label>${this.label}</label>`:a.s6} ${(0,o.u)(this._currentStatistics,t=>t,t=>a.qy` <div> <ha-statistic-picker .curValue="${t}" .hass="${this.hass}" .includeStatisticsUnitOfMeasurement="${e}" .includeUnitClass="${i}" .includeDeviceClass="${s}" .value="${t}" .statisticTypes="${n}" .statisticIds="${this.statisticIds}" .excludeStatistics="${this.value}" .allowCustomEntity="${this.allowCustomEntity}" @value-changed="${this._statisticChanged}"></ha-statistic-picker> </div> `)} <div> <ha-statistic-picker .hass="${this.hass}" .includeStatisticsUnitOfMeasurement="${this.includeStatisticsUnitOfMeasurement}" .includeUnitClass="${this.includeUnitClass}" .includeDeviceClass="${this.includeDeviceClass}" .statisticTypes="${this.statisticTypes}" .statisticIds="${this.statisticIds}" .placeholder="${this.placeholder}" .excludeStatistics="${this.value}" .allowCustomEntity="${this.allowCustomEntity}" @value-changed="${this._addStatistic}"></ha-statistic-picker> </div> `}get _currentStatistics(){return this.value||[]}async _updateStatistics(t){this.value=t,(0,c.r)(this,"value-changed",{value:t})}_statisticChanged(t){t.stopPropagation();const e=t.currentTarget.curValue,i=t.detail.value;if(i===e)return;const s=this._currentStatistics;i&&!s.includes(i)?this._updateStatistics(s.map(t=>t===e?i:t)):this._updateStatistics(s.filter(t=>t!==e))}async _addStatistic(t){t.stopPropagation();const e=t.detail.value;if(!e)return;if(t.currentTarget.value="",!e)return;const i=this._currentStatistics;i.includes(e)||this._updateStatistics([...i,e])}constructor(...t){super(...t),this.ignoreRestrictionsOnFirstStatistic=!1}}d.styles=a.AH`:host{display:block}ha-statistic-picker{display:block;width:100%;margin-top:8px}label{display:block;margin-bottom:0 0 8px}`,(0,s.__decorate)([(0,n.MZ)({attribute:!1})],d.prototype,"hass",void 0),(0,s.__decorate)([(0,n.MZ)({type:Array})],d.prototype,"value",void 0),(0,s.__decorate)([(0,n.MZ)({attribute:!1,type:Array})],d.prototype,"statisticIds",void 0),(0,s.__decorate)([(0,n.MZ)({attribute:"statistic-types"})],d.prototype,"statisticTypes",void 0),(0,s.__decorate)([(0,n.MZ)({type:String})],d.prototype,"label",void 0),(0,s.__decorate)([(0,n.MZ)({type:String})],d.prototype,"placeholder",void 0),(0,s.__decorate)([(0,n.MZ)({type:Boolean,attribute:"allow-custom-entity"})],d.prototype,"allowCustomEntity",void 0),(0,s.__decorate)([(0,n.MZ)({attribute:"include-statistics-unit-of-measurement"})],d.prototype,"includeStatisticsUnitOfMeasurement",void 0),(0,s.__decorate)([(0,n.MZ)({attribute:"include-unit-class"})],d.prototype,"includeUnitClass",void 0),(0,s.__decorate)([(0,n.MZ)({attribute:"include-device-class"})],d.prototype,"includeDeviceClass",void 0),(0,s.__decorate)([(0,n.MZ)({type:Boolean,attribute:"ignore-restrictions-on-first-statistic"})],d.prototype,"ignoreRestrictionsOnFirstStatistic",void 0),d=(0,s.__decorate)([(0,n.EM)("ha-statistics-picker")],d),e()}catch(t){e(t)}})},93611:function(t,e,i){i.d(e,{j:()=>s});const s=["relative","total","date","time","datetime"]},39788:function(t,e,i){i.a(t,async function(t,s){try{i.r(e),i.d(e,{HuiStatisticsGraphCardEditor:()=>x});i(99342),i(65315),i(837),i(84136),i(22416),i(37089),i(59023),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030);var a=i(69868),n=i(84922),o=i(22019),c=i(65940),r=i(36207),l=i(11111),d=i(44017),h=i(29561),u=i(52111),p=i(50416),_=(i(60921),i(63002)),m=i(38177),y=i(85532),g=i(6633),v=i(73097),f=t([p,v,u]);[p,v,u]=f.then?(await f)():f;const b=(0,r.KC)([(0,r.eu)("state"),(0,r.eu)("sum"),(0,r.eu)("change"),(0,r.eu)("min"),(0,r.eu)("max"),(0,r.eu)("mean")]),$=(0,r.kp)(y.H,(0,r.Ik)({entities:(0,r.YO)(g.l),title:(0,r.lq)((0,r.Yj)()),days_to_show:(0,r.lq)((0,r.ai)()),period:(0,r.lq)((0,r.KC)([(0,r.eu)("5minute"),(0,r.eu)("hour"),(0,r.eu)("day"),(0,r.eu)("week"),(0,r.eu)("month")])),chart_type:(0,r.lq)((0,r.KC)([(0,r.eu)("bar"),(0,r.eu)("line")])),stat_types:(0,r.lq)((0,r.KC)([(0,r.YO)(b),b])),unit:(0,r.lq)((0,r.Yj)()),hide_legend:(0,r.lq)((0,r.zM)()),logarithmic_scale:(0,r.lq)((0,r.zM)()),min_y_axis:(0,r.lq)((0,r.ai)()),max_y_axis:(0,r.lq)((0,r.ai)()),fit_y_data:(0,r.lq)((0,r.zM)())})),q=["5minute","hour","day","week","month"],k=["mean","min","max","sum","state","change"];class x extends n.WF{setConfig(t){(0,r.vA)(t,$),this._config=t,this._configEntities=t.entities?(0,m.L)(t.entities,!1).map(t=>t.entity):[]}willUpdate(t){t.has("_configEntities")&&!(0,h.b)(this._configEntities,t.get("_configEntities"))&&(this._metaDatas=void 0,this._configEntities?.length&&this._getStatisticsMetaData(this._configEntities))}render(){if(!this.hass||!this._config)return n.s6;const t=this._schema(this.hass.localize,this._configEntities,this._metaDatas,void 0!==this._config.min_y_axis||void 0!==this._config.max_y_axis),e=this._config.stat_types?(0,l.e)(this._config.stat_types):k.filter(t=>this._metaDatas?.some(e=>(0,_.nN)(e,t))),i={chart_type:"line",period:"hour",...this._config,stat_types:e},s=this._metaDatas?.[0]?.unit_class,a=s?void 0:this._metaDatas?.[0]?.statistics_unit_of_measurement;return n.qy` <ha-form .hass="${this.hass}" .data="${i}" .schema="${t}" .computeLabel="${this._computeLabelCallback}" @value-changed="${this._valueChanged}"></ha-form> <ha-statistics-picker allow-custom-entity .hass="${this.hass}" .placeholder="${this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.pick_statistic")}" .label="${this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.picked_statistic")}" .includeStatisticsUnitOfMeasurement="${a}" .includeUnitClass="${s}" .ignoreRestrictionsOnFirstStatistic="${!0}" .value="${this._configEntities}" .configValue="${"entities"}" @value-changed="${this._entitiesChanged}"></ha-statistics-picker> `}_valueChanged(t){(0,d.r)(this,"config-changed",{config:t.detail.value})}async _entitiesChanged(t){const e=t.detail.value,i=e.map(t=>this._config.entities.find(e=>"string"!=typeof e&&e.entity===t)??t),s={...this._config,entities:i};e?.some(t=>(0,_.OQ)(t))&&"5minute"===s.period&&delete s.period;const a=s.stat_types||s.unit?await(0,_.Wr)(this.hass,e):void 0;s.stat_types&&s.entities.length&&(s.stat_types=(0,l.e)(s.stat_types).filter(t=>a.some(e=>(0,_.nN)(e,t))),s.stat_types.length||delete s.stat_types),s.unit&&!a.some(t=>(0,_.JE)(this.hass,t?.statistic_id,t)===s.unit)&&delete s.unit,(0,d.r)(this,"config-changed",{config:s})}constructor(...t){super(...t),this._getStatisticsMetaData=async t=>{this._metaDatas=await(0,_.Wr)(this.hass,t||[])},this._schema=(0,c.A)((t,e,i,s)=>{const a=new Set;i?.forEach(t=>{const e=(0,_.JE)(this.hass,t.statistic_id,t);e&&a.add(e)});const n=[{name:"title",selector:{text:{}}},{name:"",type:"grid",schema:[{name:"period",required:!0,selector:{select:{options:q.map(i=>({value:i,label:t(`ui.panel.lovelace.editor.card.statistics-graph.periods.${i}`),disabled:"5minute"===i&&e?.some(t=>(0,_.OQ)(t))}))}}},{name:"days_to_show",default:v.DEFAULT_DAYS_TO_SHOW,selector:{number:{min:1,mode:"box"}}},{name:"stat_types",required:!0,selector:{select:{multiple:!0,mode:"list",options:k.map(e=>({value:e,label:t(`ui.panel.lovelace.editor.card.statistics-graph.stat_type_labels.${e}`),disabled:!i||!i.some(t=>(0,_.nN)(t,u.n[e]))}))}}},{name:"chart_type",required:!0,type:"select",options:[["line",t("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.line")],["bar",t("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.bar")]]},{name:"",type:"grid",schema:[{name:"min_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}},{name:"max_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}}]},...s?[{name:"fit_y_data",required:!1,selector:{boolean:{}}}]:[],{name:"hide_legend",required:!1,selector:{boolean:{}}},{name:"logarithmic_scale",required:!1,selector:{boolean:{}}}]}];return a.size>1&&n[1].schema.push({name:"unit",required:!1,selector:{select:{options:Array.from(a).map(t=>({value:t,label:t}))}}}),n}),this._computeLabelCallback=t=>{switch(t.name){case"chart_type":case"stat_types":case"period":case"unit":case"hide_legend":case"logarithmic_scale":case"min_y_axis":case"max_y_axis":case"fit_y_data":return this.hass.localize(`ui.panel.lovelace.editor.card.statistics-graph.${t.name}`);default:return this.hass.localize(`ui.panel.lovelace.editor.card.generic.${t.name}`)}}}}x.styles=n.AH`ha-statistics-picker{width:100%}`,(0,a.__decorate)([(0,o.MZ)({attribute:!1})],x.prototype,"hass",void 0),(0,a.__decorate)([(0,o.wk)()],x.prototype,"_config",void 0),(0,a.__decorate)([(0,o.wk)()],x.prototype,"_configEntities",void 0),(0,a.__decorate)([(0,o.wk)()],x.prototype,"_metaDatas",void 0),x=(0,a.__decorate)([(0,o.EM)("hui-statistics-graph-card-editor")],x),s()}catch(t){s(t)}})},85532:function(t,e,i){i.d(e,{H:()=>a});var s=i(36207);const a=(0,s.Ik)({type:(0,s.Yj)(),view_layout:(0,s.bz)(),layout_options:(0,s.bz)(),grid_options:(0,s.bz)(),visibility:(0,s.bz)(),disabled:(0,s.lq)((0,s.zM)())})},6633:function(t,e,i){i.d(e,{l:()=>c});var s=i(36207),a=i(93611),n=i(2962),o=i(89485);const c=(0,s.KC)([(0,s.Ik)({entity:(0,s.Yj)(),name:(0,s.lq)(o.q),icon:(0,s.lq)((0,s.Yj)()),image:(0,s.lq)((0,s.Yj)()),secondary_info:(0,s.lq)((0,s.Yj)()),format:(0,s.lq)((0,s.vP)(a.j)),state_color:(0,s.lq)((0,s.zM)()),tap_action:(0,s.lq)(n.kn),hold_action:(0,s.lq)(n.kn),double_tap_action:(0,s.lq)(n.kn),confirmation:(0,s.lq)(n.dk),show_last_changed:(0,s.lq)((0,s.zM)()),show_state:(0,s.lq)((0,s.zM)())}),(0,s.Yj)()])}};
//# sourceMappingURL=76950.b38287a8f1f5a79f.js.map