export const __webpack_id__="95176";export const __webpack_ids__=["95176"];export const __webpack_modules__={72569:function(t,e,i){i.d(e,{Fj:()=>s,Gu:()=>r,H2:()=>a,xA:()=>u,xs:()=>o});i(65315),i(84136);var n=i(12275);const s=t=>t.callWS({type:"person/list"}),r=(t,e)=>t.callWS({type:"person/create",...e}),o=(t,e,i)=>t.callWS({type:"person/update",person_id:e,...i}),a=(t,e)=>t.callWS({type:"person/delete",person_id:e}),c={},u=t=>{if(!t.user?.id)return;const e=c[t.user.id];if(e){const i=t.states[e];if(i&&i.attributes.user_id===t.user.id)return i}const i=Object.values(t.states).find(e=>e.attributes.user_id===t.user.id&&"person"===(0,n.t)(e));return i&&(c[t.user.id]=i.entity_id),i}},97073:function(t,e,i){i.d(e,{CZ:()=>y,Wx:()=>l,XH:()=>d,db:()=>_,gW:()=>p,lB:()=>f});i(99342),i(65315),i(12840),i(837),i(37089),i(48169),i(59023),i(88238),i(34536),i(16257),i(20152),i(44711),i(72108),i(77030);var n=i(11111),s=i(32211),r=i(22527),o=i(14523),a=i(72569);function c(t,e){if((0,r.n)(e)&&t.states[e])return t.states[e]?.state}function u(t,e){const i=t.entity&&e.states[t.entity]?e.states[t.entity].state:o.HV;let s=t.state??t.state_not;if(Array.isArray(s)){const t=s.map(t=>c(e,t)).filter(t=>void 0!==t);s=[...s,...t]}else if("string"==typeof s){const t=c(e,s);s=[s],t&&s.push(t)}return null!=t.state?(0,n.e)(s).includes(i):!(0,n.e)(s).includes(i)}function d(t,e){return t.every(t=>{if("condition"in t)switch(t.condition){case"screen":return!!(i=t).media_query&&matchMedia(i.media_query).matches;case"user":return function(t,e){return!(!t.users||!e.user?.id)&&t.users.includes(e.user.id)}(t,e);case"location":return function(t,e){const i=(0,a.xA)(e);return!!i&&t.locations?.includes(i.state)}(t,e);case"numeric_state":return function(t,e){const i=(t.entity?e.states[t.entity]:void 0)?.state;let n=t.above,s=t.below;"string"==typeof n&&(n=c(e,n)??n),"string"==typeof s&&(s=c(e,s)??s);const r=Number(i),o=Number(n),a=Number(s);return!isNaN(r)&&(null==t.above||isNaN(o)||o<r)&&(null==t.below||isNaN(a)||a>r)}(t,e);case"and":return function(t,e){return!t.conditions||d(t.conditions,e)}(t,e);case"not":return function(t,e){return!t.conditions||!d(t.conditions,e)}(t,e);case"or":return function(t,e){return!t.conditions||t.conditions.some(t=>d([t],e))}(t,e);default:return u(t,e)}var i;return u(t,e)})}function l(t){const e=new Set;for(const i of t)if("numeric_state"===i.condition)i.entity&&e.add(i.entity),"string"==typeof i.above&&(0,r.n)(i.above)&&e.add(i.above),"string"==typeof i.below&&(0,r.n)(i.below)&&e.add(i.below);else if("state"===i.condition)i.entity&&e.add(i.entity),[...(0,n.e)(i.state)??[],...(0,n.e)(i.state_not)??[]].forEach(t=>{t&&(0,r.n)(t)&&e.add(t)});else if("conditions"in i&&i.conditions)return new Set([...e,...l(i.conditions)]);return e}function h(t){return null!=t.entity&&(null!=t.state||null!=t.state_not)}function _(t){return t.every(t=>{if("condition"in t)switch(t.condition){case"screen":return null!=t.media_query;case"user":return function(t){return null!=t.users}(t);case"location":return function(t){return null!=t.locations}(t);case"numeric_state":return function(t){return null!=t.entity&&(null!=t.above||null!=t.below)}(t);case"and":case"not":case"or":return function(t){return null!=t.conditions}(t);default:return h(t)}return h(t)})}function f(t,e){return"conditions"in t&&t.conditions?{...t,conditions:t.conditions.map(t=>f(t,e))}:"state"===t.condition||"numeric_state"===t.condition?{entity:e,...t}:t}function p(t){return t.reduce((t,e)=>("conditions"in e&&e.conditions&&t.push(...p(e.conditions)),"screen"===e.condition&&e.media_query&&t.push(e.media_query),t),[])}function y(t,e){return p(t).map(t=>(0,s.m)(t,t=>{e(t)}))}},43067:function(t,e,i){i.d(e,{E:()=>c});i(65315),i(837),i(22416);var n=i(69868),s=i(84922),r=i(22019),o=i(29561),a=i(97073);class c extends s.mN{createRenderRoot(){return this}validateConfig(t){if(!t.conditions)throw new Error("No conditions configured");if(!Array.isArray(t.conditions))throw new Error("Conditions need to be an array");if(!(0,a.db)(t.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=t}disconnectedCallback(){super.disconnectedCallback(),this._clearMediaQueries()}connectedCallback(){super.connectedCallback(),this._listenMediaQueries(),this._updateVisibility()}_clearMediaQueries(){this._listeners.forEach(t=>t()),this._listeners=[]}_listenMediaQueries(){if(!this._config||!this.hass)return;const t=this._config.conditions.filter(t=>"condition"in t),e=(0,a.gW)(t);if((0,o.b)(e,this._mediaQueries))return;this._clearMediaQueries();const i=this._config.conditions,n=1===i.length&&"condition"in i[0]&&"screen"===i[0].condition&&!!i[0].media_query;this._listeners=(0,a.CZ)(t,t=>{n?this.setVisibility(t):this._updateVisibility()})}update(t){super.update(t),(t.has("_element")||t.has("_config")||t.has("hass")||t.has("preview"))&&(this._listenMediaQueries(),this._updateVisibility())}_updateVisibility(){if(!this._element||!this.hass||!this._config)return;this._element.preview=this.preview;const t=(0,a.XH)(this._config.conditions,this.hass);this.setVisibility(t)}setVisibility(t){if(!this._element||!this.hass)return;const e=this.preview||t;this.hidden!==!e&&(this.toggleAttribute("hidden",!e),this.style.setProperty("display",e?"":"none")),e?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}constructor(...t){super(...t),this.preview=!1,this._listeners=[],this._mediaQueries=[]}}(0,n.__decorate)([(0,r.MZ)({attribute:!1})],c.prototype,"hass",void 0),(0,n.__decorate)([(0,r.MZ)({type:Boolean})],c.prototype,"preview",void 0),(0,n.__decorate)([(0,r.wk)()],c.prototype,"_config",void 0),c=(0,n.__decorate)([(0,r.EM)("hui-conditional-base")],c)},38011:function(t,e,i){i.a(t,async function(t,n){try{i.r(e);var s=i(69868),r=i(22019),o=i(43067),a=i(6055),c=i(44017),u=t([a]);a=(u.then?(await u)():u)[0];class d extends o.E{setConfig(t){if(this.validateConfig(t),!t.row)throw new Error("No row configured");this._element=(0,a.T)(t.state_color?{state_color:!0,...t.row}:t.row)}setVisibility(t){const e=this.preview||t,i=this.hidden;super.setVisibility(t),i!==this.hidden&&(0,c.r)(this,"row-visibility-changed",{row:this,value:e})}}d=(0,s.__decorate)([(0,r.EM)("hui-conditional-row")],d),n()}catch(t){n(t)}})}};
//# sourceMappingURL=95176.e662677e19513ce7.js.map