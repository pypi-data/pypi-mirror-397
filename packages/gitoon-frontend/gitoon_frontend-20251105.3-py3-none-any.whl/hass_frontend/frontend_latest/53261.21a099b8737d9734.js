export const __webpack_id__="53261";export const __webpack_ids__=["53261"];export const __webpack_modules__={65380:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{LW:()=>_,Xs:()=>y,fU:()=>u,ie:()=>g});var a=n(77489),o=n(65940),i=n(43286),s=n(52285),c=e([a,i]);[a,i]=c.then?(await c)():c;const u=(e,t,n)=>l(t,n.time_zone).format(e),l=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,i.w)(e.time_zone,t)})),g=(e,t,n)=>d(t,n.time_zone).format(e),d=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,i.w)(e.time_zone,t)})),y=(e,t,n)=>m(t,n.time_zone).format(e),m=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,i.w)(e.time_zone,t)})),_=(e,t,n)=>p(t,n.time_zone).format(e),p=(0,o.A)((e,t)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,i.w)(e.time_zone,t)}));r()}catch(e){r(e)}})},43286:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{n:()=>c,w:()=>u});var a=n(77489),o=n(92149),i=e([a]);a=(i.then?(await i)():i)[0];const s=Intl.DateTimeFormat?.().resolvedOptions?.().timeZone,c=s??"UTC",u=(e,t)=>e===o.Wj.local&&s?c:t;r()}catch(e){r(e)}})},52285:function(e,t,n){n.d(t,{J:()=>o});var r=n(65940),a=n(92149);const o=(0,r.A)(e=>{if(e.time_format===a.Hg.language||e.time_format===a.Hg.system){const t=e.time_format===a.Hg.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(t).includes("10")}return e.time_format===a.Hg.am_pm})},8868:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{ZQ:()=>d,ZV:()=>g,ty:()=>u,x:()=>c});var a=n(77489),o=n(92149),i=n(92801),s=e([a]);a=(s.then?(await s)():s)[0];const c=e=>u(e.attributes),u=(e,t)=>!!e.unit_of_measurement||!!e.state_class||(t||[]).includes(e.device_class||""),l=e=>{switch(e.number_format){case o.jG.comma_decimal:return["en-US","en"];case o.jG.decimal_comma:return["de","es","it"];case o.jG.space_comma:return["fr","sv","cs"];case o.jG.quote_decimal:return["de-CH"];case o.jG.system:return;default:return e.language}},g=(e,t,n)=>{const r=t?l(t):void 0;return Number.isNaN=Number.isNaN||function e(t){return"number"==typeof t&&e(t)},t?.number_format===o.jG.none||Number.isNaN(Number(e))?Number.isNaN(Number(e))||""===e||t?.number_format!==o.jG.none?"string"==typeof e?e:`${(0,i.L)(e,n?.maximumFractionDigits).toString()}${"currency"===n?.style?` ${n.currency}`:""}`:new Intl.NumberFormat("en-US",y(e,{...n,useGrouping:!1})).format(Number(e)):new Intl.NumberFormat(r,y(e,n)).format(Number(e))},d=(e,t)=>{const n=t?.display_precision;return null!=n?{maximumFractionDigits:n,minimumFractionDigits:n}:Number.isInteger(Number(e?.attributes?.step))&&Number.isInteger(Number(e?.state))?{maximumFractionDigits:0}:void 0},y=(e,t)=>{const n={maximumFractionDigits:2,...t};if("string"!=typeof e)return n;if(!t||void 0===t.minimumFractionDigits&&void 0===t.maximumFractionDigits){const t=e.indexOf(".")>-1?e.split(".")[1].length:0;n.minimumFractionDigits=t,n.maximumFractionDigits=t}return n};r()}catch(e){r(e)}})},92801:function(e,t,n){n.d(t,{L:()=>r});const r=(e,t=2)=>Math.round(e*10**t)/10**t},63980:function(e,t,n){n.a(e,async function(e,r){try{n.r(t),n.d(t,{EnergyViewStrategy:()=>l});n(99342),n(65315),n(84136),n(59023);var a=n(69868),o=n(84922),i=n(22019),s=n(43716),c=e([s]);s=(c.then?(await c)():c)[0];const u=async()=>(await Promise.all([n.e("20296"),n.e("44928")]).then(n.bind(n,79101)),{type:"panel",cards:[{type:"custom:energy-setup-wizard-card"}]});class l extends o.mN{static async generate(e,t){const n={cards:[]};let r;try{r=await(0,s.bs)(t)}catch(e){return"not_found"===e.code?u():(n.cards.push({type:"markdown",content:`An error occurred while fetching your energy preferences: ${e.message}.`}),n)}if(0===r.device_consumption.length&&0===r.energy_sources.length)return u();n.type="sidebar";const a=r.energy_sources.find(e=>"grid"===e.type&&(e.flow_from?.length||e.flow_to?.length)),o=a&&a.flow_to.length,i=r.energy_sources.some(e=>"solar"===e.type),c=r.energy_sources.some(e=>"gas"===e.type),l=r.energy_sources.some(e=>"battery"===e.type),g=r.energy_sources.some(e=>"water"===e.type);if(n.cards.push({type:"energy-compare",collection_key:"energy_dashboard"}),(a||l)&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_usage_graph_title"),type:"energy-usage-graph",collection_key:"energy_dashboard"}),i&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_solar_graph_title"),type:"energy-solar-graph",collection_key:"energy_dashboard"}),c&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_gas_graph_title"),type:"energy-gas-graph",collection_key:"energy_dashboard"}),g&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_water_graph_title"),type:"energy-water-graph",collection_key:"energy_dashboard"}),(a||l)&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_distribution_title"),type:"energy-distribution",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),(a||i||c||g||l)&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_sources_table_title"),type:"energy-sources-table",collection_key:"energy_dashboard"}),o&&n.cards.push({type:"energy-grid-neutrality-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),i&&(o&&n.cards.push({type:"energy-solar-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),a&&n.cards.push({type:"energy-self-sufficiency-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"})),a&&n.cards.push({type:"energy-carbon-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),r.device_consumption.length){n.cards.push({title:t.localize("ui.panel.energy.cards.energy_devices_detail_graph_title"),type:"energy-devices-detail-graph",collection_key:"energy_dashboard"}),n.cards.push({title:t.localize("ui.panel.energy.cards.energy_devices_graph_title"),type:"energy-devices-graph",collection_key:"energy_dashboard"});const e=!r.device_consumption.some(e=>e.included_in_stat);n.cards.push({title:t.localize("ui.panel.energy.cards.energy_sankey_title"),type:"energy-sankey",collection_key:"energy_dashboard",group_by_floor:e,group_by_area:e})}return n}}l=(0,a.__decorate)([(0,i.EM)("energy-view-strategy")],l),r()}catch(e){r(e)}})},6223:function(e,t,n){n.d(t,{q:()=>a});let r={};function a(){return r}},90298:function(e,t,n){n.d(t,{x:()=>a});n(65315),n(84136),n(37089);var r=n(67874);function a(e,...t){const n=r.w.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}},27554:function(e,t,n){n.d(t,{Cg:()=>o,_P:()=>s,my:()=>r,s0:()=>i,w4:()=>a});Math.pow(10,8);const r=6048e5,a=864e5,o=6e4,i=36e5,s=Symbol.for("constructDateFrom")},67874:function(e,t,n){n.d(t,{w:()=>a});var r=n(27554);function a(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&r._P in e?e[r._P](t):e instanceof Date?new e.constructor(t):new Date(t)}},59922:function(e,t,n){n.d(t,{m:()=>c});var r=n(19490);function a(e){const t=(0,r.a)(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}var o=n(90298),i=n(27554),s=n(70162);function c(e,t,n){const[r,c]=(0,o.x)(n?.in,e,t),u=(0,s.o)(r),l=(0,s.o)(c),g=+u-a(u),d=+l-a(l);return Math.round((g-d)/i.w4)}},41484:function(e,t,n){n.d(t,{c:()=>o});var r=n(90298),a=n(59922);function o(e,t,n){const[o,s]=(0,r.x)(n?.in,e,t),c=i(o,s),u=Math.abs((0,a.m)(o,s));o.setDate(o.getDate()-c*u);const l=c*(u-Number(i(o,s)===-c));return 0===l?0:l}function i(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}},70162:function(e,t,n){n.d(t,{o:()=>a});var r=n(19490);function a(e,t){const n=(0,r.a)(e,t?.in);return n.setHours(0,0,0,0),n}},88258:function(e,t,n){n.d(t,{k:()=>o});var r=n(6223),a=n(19490);function o(e,t){const n=(0,r.q)(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=(0,a.a)(e,t?.in),s=i.getDay(),c=(s<o?7:0)+s-o;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}},19490:function(e,t,n){n.d(t,{a:()=>a});var r=n(67874);function a(e,t){return(0,r.w)(t||e,e)}}};
//# sourceMappingURL=53261.21a099b8737d9734.js.map