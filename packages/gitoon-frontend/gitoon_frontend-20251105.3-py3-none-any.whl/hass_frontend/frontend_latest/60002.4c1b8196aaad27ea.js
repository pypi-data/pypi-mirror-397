export const __webpack_id__="60002";export const __webpack_ids__=["60002"];export const __webpack_modules__={63002:function(e,t,s){s.d(t,{$3:()=>m,$O:()=>v,$j:()=>y,ED:()=>a,JE:()=>w,OQ:()=>x,PU:()=>I,Ph:()=>h,Uf:()=>k,W1:()=>u,Wr:()=>_,Z:()=>c,gF:()=>f,iY:()=>g,jU:()=>o,nN:()=>b,p3:()=>d,pJ:()=>p,r_:()=>n,sz:()=>l});s(65315),s(59023);var i=s(72652),r=s(50654),a=function(e){return e[e.NONE=0]="NONE",e[e.ARITHMETIC=1]="ARITHMETIC",e[e.CIRCULAR=2]="CIRCULAR",e}({});const o=59509==s.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,n=["L","gal","ft³","m³","CCF","MCF"],c=e=>e.sendMessagePromise({type:"recorder/info"}),d=(e,t)=>e.callWS({type:"recorder/list_statistic_ids",statistic_type:t}),_=(e,t)=>e.callWS({type:"recorder/get_statistics_metadata",statistic_ids:t}),l=(e,t,s,i,r="hour",a,o)=>e.callWS({type:"recorder/statistics_during_period",start_time:t.toISOString(),end_time:s?.toISOString(),statistic_ids:i,period:r,units:a,types:o}),p=(e,t,s,i)=>e.callWS({type:"recorder/statistic_during_period",statistic_id:t,units:i,fixed_period:s.fixed_period?{start_time:s.fixed_period.start instanceof Date?s.fixed_period.start.toISOString():s.fixed_period.start,end_time:s.fixed_period.end instanceof Date?s.fixed_period.end.toISOString():s.fixed_period.end}:void 0,calendar:s.calendar?{..."week"===s.calendar.period?{first_weekday:(0,r.DD)(e.locale).substring(0,3)}:{},...s.calendar}:void 0,rolling_window:s.rolling_window}),h=e=>e.callWS({type:"recorder/validate_statistics"}),u=(e,t,s,i)=>e.callWS({type:"recorder/update_statistics_metadata",statistic_id:t,unit_of_measurement:s,unit_class:i}),m=(e,t)=>e.callWS({type:"recorder/clear_statistics",statistic_ids:t}),y=e=>{let t=null;if(!e)return null;for(const s of e)null!==s.change&&void 0!==s.change&&(null===t?t=s.change:t+=s.change);return t},f=(e,t)=>{let s=null;for(const i of t){if(!(i in e))continue;const t=y(e[i]);null!==t&&(null===s?s=t:s+=t)}return s},g=(e,t)=>e.some(e=>void 0!==e[t]&&null!==e[t]),C=["mean","min","max"],S=["sum","state","change"],b=(e,t)=>!(!C.includes(t)||0===e.mean_type)||!(!S.includes(t)||!e.has_sum),k=(e,t,s,i,r)=>{const a=new Date(s).toISOString();return e.callWS({type:"recorder/adjust_sum_statistics",statistic_id:t,start_time:a,adjustment:i,adjustment_unit_of_measurement:r})},v=(e,t,s)=>{const r=e.states[t];return r?(0,i.u)(r):s?.name||t},w=(e,t,s)=>{let i;return t&&(i=e.states[t]?.attributes.unit_of_measurement),void 0===i?s?.statistics_unit_of_measurement:i},x=e=>e.includes(":"),I=e=>e.callWS({type:"recorder/update_statistics_issues"})},36558:function(e,t,s){s.a(e,async function(e,i){try{s.r(t),s.d(t,{HuiEnergyCompareCard:()=>y});var r=s(69868),a=s(41484),o=s(3313),n=s(84922),c=s(22019),d=s(46089),_=s(43716),l=s(40328),p=s(8510),h=(s(94124),s(44017)),u=s(50809),m=e([d,_]);[d,_]=m.then?(await m)():m;class y extends((0,l.E)(n.WF)){getCardSize(){return 1}setConfig(e){this._config=e}hassSubscribe(){return[(0,_.tb)(this.hass,{key:this._config.collection_key}).subscribe(e=>this._update(e))]}shouldUpdate(e){return(0,p.xP)(this,e)||e.size>1||!e.has("hass")}render(){if(!this._startCompare||!this._endCompare)return n.s6;const e=(0,a.c)(this._endCompare,this._startCompare);return n.qy` <ha-alert dismissable @alert-dismissed-clicked="${this._stopCompare}"> ${this.hass.localize("ui.panel.energy.compare.info",{start:n.qy`<b>${(0,d.Yq)(this._start,this.hass.locale,this.hass.config)}${e>0?` -\n          ${(0,d.Yq)(this._end||(0,o.D)(new Date),this.hass.locale,this.hass.config)}`:""}</b>`,end:n.qy`<b>${(0,d.Yq)(this._startCompare,this.hass.locale,this.hass.config)}${e>0?` -\n          ${(0,d.Yq)(this._endCompare,this.hass.locale,this.hass.config)}`:""}</b> <button class="link" @click="${this._changeCompareMode}"> (${this._compareMode===_.lh.PREVIOUS?this.hass.localize("ui.panel.energy.compare.compare_previous_year"):this.hass.localize("ui.panel.energy.compare.compare_previous_period")}) </button>`})} </ha-alert> `}_changeCompareMode(){const e=(0,_.tb)(this.hass,{key:this._config.collection_key});e.setCompare(this._compareMode===_.lh.PREVIOUS?_.lh.YOY:_.lh.PREVIOUS),e.refresh()}_update(e){this._start=e.start,this._end=e.end,this._startCompare=e.startCompare,this._endCompare=e.endCompare,this._compareMode=e.compareMode;const t=this.hidden;this.hidden=!this._startCompare,t!==this.hidden&&(0,h.r)(this,"card-visibility-changed")}_stopCompare(){const e=(0,_.tb)(this.hass,{key:this._config.collection_key});e.setCompare(_.lh.NONE),e.refresh()}constructor(...e){super(...e),this.hidden=!0,this.connectedWhileHidden=!0,this.hassSubscribeRequiredHostProps=["_config"]}}y.styles=[u.og],(0,r.__decorate)([(0,c.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,r.__decorate)([(0,c.wk)()],y.prototype,"_config",void 0),(0,r.__decorate)([(0,c.wk)()],y.prototype,"_start",void 0),(0,r.__decorate)([(0,c.wk)()],y.prototype,"_end",void 0),(0,r.__decorate)([(0,c.wk)()],y.prototype,"_startCompare",void 0),(0,r.__decorate)([(0,c.wk)()],y.prototype,"_endCompare",void 0),(0,r.__decorate)([(0,c.wk)()],y.prototype,"_compareMode",void 0),(0,r.__decorate)([(0,c.MZ)({type:Boolean,reflect:!0})],y.prototype,"hidden",void 0),y=(0,r.__decorate)([(0,c.EM)("hui-energy-compare-card")],y),i()}catch(e){i(e)}})}};
//# sourceMappingURL=60002.4c1b8196aaad27ea.js.map