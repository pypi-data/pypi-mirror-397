<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>cylinder &#8212; SasView 6.1.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css?v=2bf1fcf8" />
    
    <script src="../../_static/documentation_options.js?v=f0c0c503"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="elliptical_cylinder" href="elliptical_cylinder.html" />
    <link rel="prev" title="core_shell_cylinder" href="core_shell_cylinder.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="elliptical_cylinder.html" title="elliptical_cylinder"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="core_shell_cylinder.html" title="core_shell_cylinder"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">SasView 6.1.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../user.html" >SasView User Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../qtgui/Perspectives/Fitting/models/index.html" >Model Functions</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../qtgui/Perspectives/Fitting/models/shape-cylinder.html" accesskey="U">Cylinder Functions</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">cylinder</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="cylinder">
<span id="id1"></span><h1>cylinder<a class="headerlink" href="#cylinder" title="Link to this heading">¶</a></h1>
<p>Right circular cylinder with uniform scattering length density.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>scale</p></td>
<td><p>Scale factor or Volume fraction</p></td>
<td><p>None</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>background</p></td>
<td><p>Source background</p></td>
<td><p>cm<sup>-1</sup></p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-even"><td><p>sld</p></td>
<td><p>Cylinder scattering length density</p></td>
<td><p>10<sup>-6</sup>Å<sup>-2</sup></p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>sld_solvent</p></td>
<td><p>Solvent scattering length density</p></td>
<td><p>10<sup>-6</sup>Å<sup>-2</sup></p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>radius</p></td>
<td><p>Cylinder radius</p></td>
<td><p>Å</p></td>
<td><p>20</p></td>
</tr>
<tr class="row-odd"><td><p>length</p></td>
<td><p>Cylinder length</p></td>
<td><p>Å</p></td>
<td><p>400</p></td>
</tr>
<tr class="row-even"><td><p>theta</p></td>
<td><p>cylinder axis to beam angle</p></td>
<td><p>degree</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-odd"><td><p>phi</p></td>
<td><p>rotation about beam</p></td>
<td><p>degree</p></td>
<td><p>60</p></td>
</tr>
</tbody>
</table>
<p>The returned value is scaled to units of cm<sup>-1</sup> sr<sup>-1</sup>, absolute scale.</p>
<p>For information about polarised and magnetic scattering, see
the <a class="reference internal" href="../qtgui/Perspectives/Fitting/magnetism/magnetism.html#magnetism"><span class="std std-ref">Polarisation/Magnetic Scattering</span></a> documentation.</p>
<p><strong>Definition</strong></p>
<p>The output of the 2D scattering intensity function for oriented cylinders is
given by (Guinier, 1955)</p>
<div class="math notranslate nohighlight">
\[I(q,\alpha) = \frac{\text{scale}}{V} F^2(q,\alpha) + \text{background}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[F(q,\alpha) = 2 (\Delta \rho) V
       \frac{\sin \left(\tfrac12 qL\cos\alpha \right)}
            {\tfrac12 qL \cos \alpha}
       \frac{J_1 \left(q R \sin \alpha\right)}{q R \sin \alpha}\]</div>
<p>and <span class="math notranslate nohighlight">\(\alpha\)</span> is the angle between the axis of the cylinder and <span class="math notranslate nohighlight">\(\vec q\)</span>,
<span class="math notranslate nohighlight">\(V =\pi R^2L\)</span> is the volume of the cylinder, <span class="math notranslate nohighlight">\(L\)</span> is the length of the cylinder,
<span class="math notranslate nohighlight">\(R\)</span> is the radius of the cylinder, and <span class="math notranslate nohighlight">\(\Delta\rho\)</span> (contrast) is the
scattering length density difference between the scatterer and the solvent.
<span class="math notranslate nohighlight">\(J_1\)</span> is the first order Bessel function.</p>
<p>For randomly oriented particles:</p>
<div class="math notranslate nohighlight">
\[P(q)=F^2(q)=\int_{0}^{\pi/2}{F^2(q,\alpha)\sin(\alpha)d\alpha}\]</div>
<p>The output of the 1D scattering intensity function for randomly oriented
cylinders is thus given by</p>
<div class="math notranslate nohighlight">
\[I(q) = \frac{\text{scale}}{V}
    \int_0^{\pi/2} F^2(q,\alpha) \sin \alpha\ d\alpha + \text{background}\]</div>
<p>NB: The 2nd virial coefficient of the cylinder is calculated based on the
radius and length values, and used as the effective radius for <span class="math notranslate nohighlight">\(S(q)\)</span>
when <span class="math notranslate nohighlight">\(P(q) \cdot S(q)\)</span> is applied.</p>
<p>For 2d scattering from oriented cylinders, we define the direction of the
axis of the cylinder using two angles <span class="math notranslate nohighlight">\(\theta\)</span> (note this is not the same as
the scattering angle used in q) and <span class="math notranslate nohighlight">\(\phi\)</span>. Those angles are defined in
<a class="reference internal" href="#cylinder-angle-definition"><span class="std std-numref">Fig. 21</span></a> , for further details see
<a class="reference internal" href="../qtgui/Perspectives/Fitting/orientation/orientation.html#orientation"><span class="std std-ref">Oriented Particles</span></a>.</p>
<figure class="align-default" id="id2">
<span id="cylinder-angle-definition"></span><img alt="../../_images/cylinder_angle_definition.png" src="../../_images/cylinder_angle_definition.png" />
<figcaption>
<p><span class="caption-number">Fig. 21 </span><span class="caption-text">Angles <span class="math notranslate nohighlight">\(\theta\)</span> and <span class="math notranslate nohighlight">\(\phi\)</span> orient the cylinder relative to the beam line
coordinates, where the beam is along the <span class="math notranslate nohighlight">\(z\)</span> axis. Rotation <span class="math notranslate nohighlight">\(\theta\)</span>,
initially in the <span class="math notranslate nohighlight">\(xz\)</span> plane, is carried out first, then rotation <span class="math notranslate nohighlight">\(\phi\)</span>
about the <span class="math notranslate nohighlight">\(z\)</span> axis. Orientation distributions are described as rotations
about two perpendicular axes <span class="math notranslate nohighlight">\(\delta_1\)</span> and <span class="math notranslate nohighlight">\(\delta_2\)</span> in the frame of
the cylinder itself, which when <span class="math notranslate nohighlight">\(\theta = \phi = 0\)</span> are parallel to the
<span class="math notranslate nohighlight">\(Y\)</span> and <span class="math notranslate nohighlight">\(X\)</span> axes.</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id3">
<img alt="../../_images/cylinder_angle_projection.png" src="../../_images/cylinder_angle_projection.png" />
<figcaption>
<p><span class="caption-number">Fig. 22 </span><span class="caption-text">Examples for oriented cylinders.</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>The <span class="math notranslate nohighlight">\(\theta\)</span> and <span class="math notranslate nohighlight">\(\phi\)</span> parameters to orient the cylinder only appear in the
model when fitting 2d data.</p>
<p><strong>Validation</strong></p>
<p>Validation of the code was done by comparing the output of the 1D model
to the output of the software provided by the NIST (Kline, 2006).
The implementation of the intensity for fully oriented cylinders was done
by averaging over a uniform distribution of orientations using</p>
<div class="math notranslate nohighlight">
\[P(q) = \int_0^{\pi/2} d\phi
    \int_0^\pi p(\theta) P_0(q,\theta) \sin \theta\ d\theta\]</div>
<p>where <span class="math notranslate nohighlight">\(p(\theta,\phi) = 1\)</span> is the probability distribution for the orientation
and <span class="math notranslate nohighlight">\(P_0(q,\theta)\)</span> is the scattering intensity for the fully oriented
system, and then comparing to the 1D result.</p>
<figure class="align-default" id="id4">
<img alt="../../_images/cylinder_autogenfig.png" src="../../_images/cylinder_autogenfig.png" />
<figcaption>
<p><span class="caption-number">Fig. 23 </span><span class="caption-text">1D and 2D plots corresponding to the default parameters of the model.</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p><strong>Source</strong></p>
<p><a class="reference download internal" download="" href="../../_downloads/a6ecefa7a7dc6b761a672af22a416e1b/cylinder.py"><code class="xref download docutils literal notranslate"><span class="pre">cylinder.py</span></code></a>
<span class="math notranslate nohighlight">\(\ \star\ \)</span> <a class="reference download internal" download="" href="../../_downloads/31421fc07e471220b18b5729a95f3a0c/cylinder.c"><code class="xref download docutils literal notranslate"><span class="pre">cylinder.c</span></code></a>
<span class="math notranslate nohighlight">\(\ \star\ \)</span> <a class="reference download internal" download="" href="../../_downloads/9ee45b8c6371b0a130036ee53e1f050e/gauss76.c"><code class="xref download docutils literal notranslate"><span class="pre">gauss76.c</span></code></a>
<span class="math notranslate nohighlight">\(\ \star\ \)</span> <a class="reference download internal" download="" href="../../_downloads/660768eefaf4e06a52683dd926958ab0/sas_J1.c"><code class="xref download docutils literal notranslate"><span class="pre">sas_J1.c</span></code></a>
<span class="math notranslate nohighlight">\(\ \star\ \)</span> <a class="reference download internal" download="" href="../../_downloads/452c1d4eca138ac30381a8c4b66a9239/polevl.c"><code class="xref download docutils literal notranslate"><span class="pre">polevl.c</span></code></a></p>
<p><strong>References</strong></p>
<ol class="arabic simple">
<li><ol class="upperalpha simple" start="10">
<li><p>Pedersen, <em>Adv. Colloid Interface Sci.</em>, 70 (1997) 171-210</p></li>
</ol>
</li>
<li><ol class="upperalpha simple" start="7">
<li><p>Fournet, <em>Bull. Soc. Fr. Mineral. Cristallogr.</em>, 74 (1951) 39-113</p></li>
</ol>
</li>
<li><ol class="upperalpha simple" start="12">
<li><p>Onsager, <em>Ann. New York Acad. Sci.</em>, 51 (1949) 627-659</p></li>
</ol>
</li>
</ol>
<p><strong>Authorship and Verification</strong></p>
<ul class="simple">
<li><p><strong>Author:</strong></p></li>
<li><p><strong>Last Modified by:</strong> Paul Butler (docs only) November 10, 2022</p></li>
<li><p><strong>Last Reviewed by:</strong></p></li>
</ul>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="core_shell_cylinder.html"
                          title="previous chapter">core_shell_cylinder</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="elliptical_cylinder.html"
                          title="next chapter">elliptical_cylinder</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/user/models/cylinder.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="elliptical_cylinder.html" title="elliptical_cylinder"
             >next</a> |</li>
        <li class="right" >
          <a href="core_shell_cylinder.html" title="core_shell_cylinder"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">SasView 6.1.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../user.html" >SasView User Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../qtgui/Perspectives/Fitting/models/index.html" >Model Functions</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../qtgui/Perspectives/Fitting/models/shape-cylinder.html" >Cylinder Functions</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">cylinder</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, The SasView Project.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>