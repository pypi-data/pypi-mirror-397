# Your Custom HydroSim Network
# Let's add a second demand to the simple network!

model_name: "My Custom Water Network"
author: "Your Name"

visualization:
  network_map:
    width: 600
    height: 1200
    layout: hierarchical
    output_file: "my_custom_topology.html"
  
  plots:
    - type: climate
      title: "Climate Conditions"
      y1_axis:
        label: "Precipitation (mm/day)"
        variables: [precip]
      y2_axis:
        label: "Temperature (°C)"
        variables: [tmax, tmin]
    
    - type: reservoir
      auto: true
      title_template: "{node_id} Operations"
      y1_axis:
        label: "Storage (m³)"
        variables: [storage]
      y2_axis:
        label: "Flow (m³/day)"
        variables: [inflow, outflow, evap_loss, spill]
    
    - type: demand
      auto: true
      title_template: "{node_id} Supply vs Demand"
      y1_axis:
        label: "Flow (m³/day)"
        variables: [request, delivered, deficit]
  
  layout:
    width: 1200
    height: 400
    output_file: "my_custom_results.html"

climate:
  source_type: timeseries
  filepath: climate_data.csv
  site:
    latitude: 45.0
    elevation: 1000.0

nodes:
  # Source node (catchment inflow)
  catchment:
    type: source
    strategy: timeseries
    filepath: inflow_data.csv
    column: inflow
  
  # Storage reservoir (increased capacity)
  reservoir:
    type: storage
    initial_storage: 80000.0   # Start with more water
    max_storage: 100000.0      # Bigger reservoir
    min_storage: 0.0
    eav_table:
      elevations: [100.0, 110.0, 120.0, 130.0, 140.0]
      areas: [1000.0, 2000.0, 3000.0, 4000.0, 5000.0]
      volumes: [0.0, 10000.0, 30000.0, 60000.0, 100000.0]
  
  # Junction for splitting flow
  junction:
    type: junction
  
  # Municipal demand (city)
  city:
    type: demand
    demand_type: municipal
    population: 8000.0         # Smaller city
    per_capita_demand: 0.2
  
  # Agricultural demand (farm)
  farm:
    type: demand
    demand_type: agriculture
    area: 15000.0              # Small farm
    crop_coefficient: 0.7

links:
  # Catchment to reservoir
  catchment_to_reservoir:
    source: catchment
    target: reservoir
    capacity: 10000.0
    cost: 0.0
  
  # Reservoir to junction
  reservoir_to_junction:
    source: reservoir
    target: junction
    capacity: 6000.0
    cost: 1.0
  
  # Junction to city (higher priority - lower cost)
  junction_to_city:
    source: junction
    target: city
    capacity: 4000.0
    # cost: -1000.0  # Auto-assigned for demand links
  
  # Junction to farm (lower priority)
  junction_to_farm:
    source: junction
    target: farm
    capacity: 3000.0
    # cost: -1000.0  # Auto-assigned for demand links