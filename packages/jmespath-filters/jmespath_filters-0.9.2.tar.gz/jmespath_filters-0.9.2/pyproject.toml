[build-system]
build-backend = "hatchling.build"
requires = [
  "hatch-vcs>=0.4",
  "hatchling>=1.4",
]

[project]
name = "jmespath-filters"
description = ""
readme = "README.md"
license = "Apache-2.0"
license-files = [ "NOTICE.md", "LICENSE.md" ]
requires-python = ">=3.10"
classifiers = [
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
]
dynamic = [ "version" ]
dependencies = [
  "jmespath",
]

optional-dependencies.jsonschema = [
  "jsonschema>=4.25.1",
]

[dependency-groups]
dev = [
  "pre-commit>=4.2",
  "pytest>=8.3.3",
  "pytest-cov>=5",
  "pytest-randomly>=3.16",
  "tox>=4.25",
  "types-setuptools",
  { include-group = "checks" },
  { include-group = "documentation" },
  { include-group = "jsonschema" },
]

jsonschema = [
  "jsonschema>=4.25.1",
]

checks = [
  "detect-secrets>=1.5",
  "mypy>=1.17.1",
  "ruff>=0.12.12",
]
documentation = [
  "click<8.3",                             # Fix for https://github.com/mkdocs/mkdocs/issues/4032
  "mkdocs>=1.5.3",
  "mkdocs-awesome-pages-plugin>=2.9.3",
  "mkdocs-click>=0.8.1",
  "mkdocs-ezglossary-plugin>=1.6.10",
  "mkdocs-ezlinks-plugin>=0.1.14",
  "mkdocs-gen-files>=0.5",
  "mkdocs-get-deps>=0.2",
  "mkdocs-include-markdown-plugin>=6.2.2",
  "mkdocs-link-marker>=0.1.3",
  "mkdocs-macros-plugin>=1.0.5",
  "mkdocs-material[imaging]>=9.5.15",
  "mkdocs-minify-plugin",
  "mkdocs-redirects",
  "mkdocs-simple-hooks>=0.1.5",
  "mkdocstrings[python]>=0.24.1",
  "pymdown-extensions>=10.7.1",
]

[tool.hatch]
build.hooks.vcs.version-file = "src/jmespath_filters/version.py"
version.source = "vcs"
raw-options = { root = "../.." }

[tool.hatch.version.raw-options]
local_scheme = "no-local-version"

[tool.hatch.build.targets.sdist]
ignore-vcs = true
only-include = [ "src/jmespath_filters" ]

[tool.hatch.build.targets.wheel]
ignore-vcs = true
packages = [ "src/jmespath_filters" ]

[tool.pytest.ini_options]
addopts = [
  "--import-mode=importlib",
]

[tool.uv]
default-groups = [ "dev" ]
