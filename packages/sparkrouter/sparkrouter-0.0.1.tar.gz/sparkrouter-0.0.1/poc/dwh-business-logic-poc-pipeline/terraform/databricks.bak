# locals {
#   sfly_dev_consumer_custom_personal_compute = {
#
#     "autoscale.max_workers" : {
#       "defaultValue" : 1,
#       "maxValue" : 10,
#       "type" : "range"
#     },
#     "autoscale.min_workers" : {
#       "defaultValue" : 1,
#       "type" : "unlimited"
#     },
#     "autotermination_minutes" : {
#       "type" : "fixed",
#       "value" : 30
#     },
#     "aws_attributes.availability" : {
#       "hidden" : true,
#       "type" : "fixed",
#       "value" : "SPOT_WITH_FALLBACK"
#     },
#     "aws_attributes.first_on_demand" : {
#       "defaultValue" : 100001,
#       "minValue" : 1,
#       "type" : "range"
#     },
#     "aws_attributes.instance_profile_arn" : {
#       "type" : "fixed",
#       "value" : "${aws_iam_instance_profile.databricks_worker.arn}"
#     },
#     "aws_attributes.spot_bid_price_percent" : {
#       "hidden" : true,
#       "type" : "fixed",
#       "value" : 100
#     },
#     "aws_attributes.zone_id" : {
#       "type" : "fixed",
#       "value" : "auto"
#     },
#     "custom_tags.App" : {
#       "type" : "fixed",
#       "value" : "Pipeline"
#     },
#     "custom_tags.BusinessUnit" : {
#       "type" : "fixed",
#       "value" : "Consumer"
#     },
#     "custom_tags.Environment" : {
#       "type" : "fixed",
#       "value" : "dev"
#     },
#     "custom_tags.ManagedBy" : {
#       "type" : "fixed",
#       "value" : "DataPlatformOperations"
#     },
#     "custom_tags.Owner" : {
#       "type" : "fixed",
#       "value" : "DWH"
#     },
#     "custom_tags.Provisioner" : {
#       "type" : "fixed",
#       "value" : "Terraform"
#     },
#     "custom_tags.Role" : {
#       "type" : "fixed",
#       "value" : "sfly_databricks"
#     },
#     "custom_tags.PolicyName" : {
#       "type" : "fixed",
#       "value" : "${local.resource_prefix}-consumer-compute"
#     },
#     "custom_tags.WorkspaceName" : {
#       "type" : "fixed",
#       "value" : "sfly-aws-dwh-dev-consumer-workspace"
#     },
#     "custom_tags.Workstream" : {
#       "type" : "fixed",
#       "value" : "3"
#     },
#     "driver_node_type_id" : {
#       "pattern" : "(rgd-fleet.[0-4]{0,1}xlarge)|(rd-fleet.[0-4]{0,1}xlarge)|(mgd-fleet.[0-4]{0,1}xlarge)|(md-fleet.[0-4]{0,1}xlarge)|(i4i.[0-4]{0,1}xlarge)|(i4i.large)",
#       "type" : "regex"
#     },
#     "enable_elastic_disk" : {
#       "hidden" : true,
#       "type" : "fixed",
#       "value" : true
#     },
#     "node_type_id" : {
#       "pattern" : "(rgd-fleet.[0-4]{0,1}xlarge)|(rd-fleet.[0-4]{0,1}xlarge)|(mgd-fleet.[0-4]{0,1}xlarge)|(md-fleet.[0-4]{0,1}xlarge)|(i4i.[0-4]{0,1}xlarge)|(i4i.large)",
#       "type" : "regex"
#     },
#     "num_workers" : {
#       "hidden" : true,
#       "type" : "forbidden"
#     },
#     "spark_version" : {
#       "type" : "allowlist",
#       "values" : [
#         "auto:latest-lts",
#         "15.4.x-scala2.12",
#         "15.4.x-photon-scala2.12",
#         "14.3.x-scala2.12",
#         "13.3.x-scala2.12",
#         "12.2.x-scala2.12",
#         "12.2.x-photon-scala2.12"
#       ]
#     }
#   }
# }
#
# resource "databricks_cluster_policy" "consumer_developers_policy" {
#   name       = "${local.resource_prefix}-consumer-compute"
#   definition = jsonencode(local.sfly_dev_consumer_custom_personal_compute)
# }
