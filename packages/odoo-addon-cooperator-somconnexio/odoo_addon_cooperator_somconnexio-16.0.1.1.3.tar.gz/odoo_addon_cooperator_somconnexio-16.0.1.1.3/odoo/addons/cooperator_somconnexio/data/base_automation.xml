<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data noupdate="1">
    <record id="send_email_on_validate_subscription_request_partner_become_cooperator" model="base.automation">
      <field name="name">Send email on validate subscription request partner become cooperator from web</field>
      <field name="model_id" ref="cooperator.model_subscription_request" />
      <field name="state">background_email</field>
      <field name="template_id" ref="validate_subscription_request_partner_become_cooperator_email_template"/>
      <field name="trigger">on_write</field>
      <!-- Trigger only when 'state' field changes -->
      <field name="trigger_field_ids" eval="[(6, 0, [ref('cooperator.field_subscription_request__state')])]"/>
      <field name="active" eval="True"/>
      <field name="filter_domain">[('state', '=', 'done'), ('source', '=', 'website_request_cooperator')]</field>
    </record>
  </data>
</odoo>
