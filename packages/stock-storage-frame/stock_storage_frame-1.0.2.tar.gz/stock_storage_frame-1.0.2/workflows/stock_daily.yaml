# workflow: stock_daily.yaml
name: "stock_daily"
description: "每日股票数据采集和处理"
schedule: "05 20 * * *"

# 条件配置（可选），判定是否是交易日，只有定时任务才判断
condition:
  script: "./scripts/condition_trade_day.py"

# 数据采集配置
collector:
  name: "tushare1"
  type: "tushare"
  method: "daily"
  config:
    trade_date: "{{ today:YYYYMMDD }}"

# 数据处理配置
processor:
  # 使用Python脚本处理数据
  script: "./scripts/process_tushare_daily.py"

# 数据存储配置
storage:
  name: "mysql1"
  type: "mysql"
  config:
    table_name: "stock_daily"
