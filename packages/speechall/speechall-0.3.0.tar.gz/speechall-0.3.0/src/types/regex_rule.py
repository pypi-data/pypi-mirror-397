# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from .regex_rule_flags_item import RegexRuleFlagsItem


class RegexRule(UniversalBaseModel):
    """
    Defines a replacement rule based on matching a regular expression pattern.
    """

    pattern: str = pydantic.Field()
    """
    The regular expression pattern to search for. Uses standard regex syntax (implementation specific, often PCRE-like). Remember to escape special characters if needed (e.g., `\\.` for a literal dot).
    """

    replacement: str = pydantic.Field()
    """
    The replacement text. Can include backreferences to capture groups from the pattern, like `$1`, `$2`, etc. A literal `$` should be escaped (e.g., `$$`).
    """

    flags: typing.Optional[typing.List[RegexRuleFlagsItem]] = pydantic.Field(default=None)
    """
    An array of flags to modify the regex behavior (e.g., 'i' for case-insensitivity).
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
