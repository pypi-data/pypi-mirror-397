# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from .transcript_language_code import TranscriptLanguageCode
from .transcript_output_format import TranscriptOutputFormat
from .transcription_model_identifier import TranscriptionModelIdentifier


class BaseTranscriptionConfiguration(UniversalBaseModel):
    """
    Common configuration options for transcription, applicable to both direct uploads and remote URLs.
    """

    model: TranscriptionModelIdentifier = pydantic.Field()
    """
    The identifier of the speech-to-text model to use.
    """

    language: typing.Optional[TranscriptLanguageCode] = pydantic.Field(default=None)
    """
    The language code (ISO 639-1) of the audio. Defaults to `en`. Use `auto` for automatic detection if supported.
    """

    output_format: typing.Optional[TranscriptOutputFormat] = pydantic.Field(default=None)
    """
    The desired format for the transcription output. Defaults to `text`.
    """

    ruleset_id: typing.Optional[str] = pydantic.Field(default=None)
    """
    The unique identifier (UUID) of a pre-defined replacement ruleset to apply to the final transcription text.
    """

    punctuation: typing.Optional[bool] = pydantic.Field(default=None)
    """
    Whether to add punctuation. Support varies by model (e.g., Deepgram, AssemblyAI). Defaults to `true`.
    """

    diarization: typing.Optional[bool] = pydantic.Field(default=None)
    """
    Enable speaker diarization. Defaults to `false`.
    """

    initial_prompt: typing.Optional[str] = pydantic.Field(default=None)
    """
    Optional text prompt to guide the transcription model. Support varies (e.g., OpenAI).
    """

    temperature: typing.Optional[float] = pydantic.Field(default=None)
    """
    Controls output randomness for supported models (e.g., OpenAI). Value between 0 and 1.
    """

    speakers_expected: typing.Optional[int] = pydantic.Field(default=None)
    """
    Hint for the number of expected speakers for diarization (e.g., RevAI, Deepgram).
    """

    custom_vocabulary: typing.Optional[typing.List[str]] = pydantic.Field(default=None)
    """
    List of custom words/phrases to improve recognition (e.g., Deepgram, AssemblyAI).
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
