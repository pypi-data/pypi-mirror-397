# Pyarmor 9.1.8 (group), 006652, Archaea, 2025-12-18T17:43:56.992289
from libruntime import __pyarmor__
__pyarmor__(__name__, __file__, b'PY006652\x00\x03\x0b\x00\xa7\r\r\n\x80\x00\x01\x00\x08\x00\x00\x00\x04\x00\x00\x00@\x00\x00\x00W\x17\x00\x00\x10\x00\x07\x00B\xe6\x01\x89J\xd5\xbb\xc2zw\x88z\xb0H\x96\r\x00\x00\x00\x00\x00\x00\x00\x00 \x00\x00\x00\x00\x00\x00\x007\x17\x00\x00\x10\x00\x07\x00\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xe3\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\t\x00\x00\x00\x00\x00\x00\x00\xf3>\x01\x00\x00\x97\x00d\x00d\x01l\x00Z\x01\x02\x00e\x01j\x02\x00\x00\x00\x00\x00\x00\x00\x00d\x02\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00s\x10\x02\x00e\x01j\x03\x00\x00\x00\x00\x00\x00\x00\x00d\x03\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00d\x00d\x04l\x04m\x05Z\x05\x01\x00d\x00d\x05l\x06m\x07Z\x07m\x08Z\x08m\tZ\tm\nZ\n\x01\x00d\x00d\x06l\x0bm\x0cZ\x0cm\rZ\rm\x0eZ\x0e\x01\x00\x02\x00e\x05d\x07\xac\x08\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00\t\x00\t\x00\t\x00\t\x00\t\x00d\x13d\x0b\x84\x01\xa6\x00\x00\x00\xab\x00\x00\x00\x00\x00\x00\x00\x00\x00Z\x0f\x02\x00e\x07\x02\x00e\td\x0c\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00e\nd\x07d\rd\x0e\xac\x0f\xa6\x03\x00\x00\xab\x03\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00e\x08e\x0ee\x0ce\rf\x03\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00\xac\x10\xa6\x03\x00\x00\xab\x03\x00\x00\x00\x00\x00\x00\x00\x00d\x01g\x00d\x01d\nd\x00f\x05d\x11e\x10f\x02d\x12\x84\x05\xa6\x00\x00\x00\xab\x00\x00\x00\x00\x00\x00\x00\x00\x00Z\x11d\x01S\x00)\x14\xe9\x00\x00\x00\x00N\xda\x08lmdeploy\xfa\rlmdeploy[all])\x01\xda\tlru_cache)\x04\xda\x05retry\xda\x17retry_if_exception_type\xda\x12stop_after_attempt\xda\x10wait_exponential)\x03\xda\x12APIConnectionError\xda\x0fAPITimeoutError\xda\x0eRateLimitError\xe9\x01\x00\x00\x00)\x01\xda\x07maxsize\xda\x07WARNING\xda\x02hfc\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08\x00\x00\x00\x03\x00\x00\x00\xf3l\x00\x00\x00\x97\x00d\x01d\x02l\x00m\x01}\x06m\x02}\x07m\x03}\x08\x01\x00\x02\x00|\x08|\x00\x02\x00|\x07|\x01|\x04|\x05\xac\x03\xa6\x03\x00\x00\xab\x03\x00\x00\x00\x00\x00\x00\x00\x00|\x02r\x0c\x02\x00|\x06|\x02\xac\x04\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00n\x01d\x00d\x05\xac\x06\xa6\x04\x00\x00\xab\x04\x00\x00\x00\x00\x00\x00\x00\x00}\t|\tS\x00)\x07Nr\x02\x00\x00\x00)\x03\xda\x12ChatTemplateConfig\xda\x15TurbomindEngineConfig\xda\x08pipeline)\x03\xda\x02tp\xda\x0cmodel_format\xda\x0cquant_policy)\x01\xda\nmodel_namer\x0f\x00\x00\x00)\x04\xda\nmodel_path\xda\x0ebackend_config\xda\x14chat_template_config\xda\tlog_level)\x04r\x03\x00\x00\x00r\x12\x00\x00\x00r\x13\x00\x00\x00r\x14\x00\x00\x00)\n\xda\x05modelr\x15\x00\x00\x00\xda\rchat_templater\x1c\x00\x00\x00r\x16\x00\x00\x00r\x17\x00\x00\x00z\n_var_var_0z\n_var_var_1z\n_var_var_2z\n_var_var_3s\n\x00\x00\x00          \xfa&<frozen src.archaea_core.llm.lmdeploy>\xda\x1cinitialize_lmdeploy_pipeliner \x00\x00\x00\x13\x00\x00\x00sz\x00\x00\x00\x80\x00\xf0\x12\x00\x05M\x01\xd0\x04L\xd0\x04L\xd0\x04L\xd0\x04L\xd0\x04L\xd0\x04L\xd0\x04L\xd0\x04L\xd0\x04L\xe0\x14\x1c\x90H\xd8\x13\x18\xd8\x17,\xd0\x17,\xb0\x02\xc0\x1c\xd0\\h\xd0\x17i\xd1\x17i\xd4\x17i\xd8N[\xd0\x1ee\xd0\x1e0\xd0\x1e0\xb8M\xd0\x1eJ\xd1\x1eJ\xd4\x1eJ\xd0\x1eJ\xd0ae\xd8\x12\x1b\xf0\t\x05\x15\x06\xf1\x00\x05\x15\x06\xf4\x00\x05\x15\x06\x80M\xf0\x0c\x00\x0c\x19\xd0\x04\x18\xf3\x00\x00\x00\x00\xe9\x03\x00\x00\x00\xe9\x04\x00\x00\x00\xe9\n\x00\x00\x00)\x03\xda\nmultiplier\xda\x03min\xda\x03max)\x03\xda\x04stop\xda\x04waitr\x06\x00\x00\x00\xda\x06returnc\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08\x00\x00\x00\x8b\x00\x00\x00\xf3:\x03\x00\x00K\x00\x01\x00\x97\x00\t\x00d\x01d\x02l\x00}\x08d\x01d\x03l\x00m\x01}\tm\x02}\n\x01\x00n\x1d#\x00t\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00$\x00r\x10\x01\x00t\t\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x04\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00\x82\x01w\x00x\x03Y\x00w\x01|\x07\xa0\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x05d\x02\xa6\x02\x00\x00\xab\x02\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00|\x07\xa0\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x06d\x02\xa6\x02\x00\x00\xab\x02\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00|\x07\xa0\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x07d\x08\xa6\x02\x00\x00\xab\x02\x00\x00\x00\x00\x00\x00\x00\x00}\x0b|\x07\xa0\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\td\n\xa6\x02\x00\x00\xab\x02\x00\x00\x00\x00\x00\x00\x00\x00}\x0c|\x07\xa0\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x0bd\x0c\xa6\x02\x00\x00\xab\x02\x00\x00\x00\x00\x00\x00\x00\x00}\r|\x07\xa0\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\rd\x0c\xa6\x02\x00\x00\xab\x02\x00\x00\x00\x00\x00\x00\x00\x00}\x0e|\x07\xa0\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x0ed\x0f\xa6\x02\x00\x00\xab\x02\x00\x00\x00\x00\x00\x00\x00\x00}\x0f|\x07}\x10|\n}\x11|\x0f\x81\x1d|\x11d\x10k\x00\x00\x00\x00\x00r\x17t\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x11|\x08j\x07\x00\x00\x00\x00\x00\x00\x00\x00\x9b\x00\x9d\x02\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00\x82\x01d\x0c}\x0f|\x10\xa0\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x0f\xac\x12\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00t\x13\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x00|\x0c|\x04|\x05|\x06d\x13\xac\x14\xa6\x06\x00\x00\xab\x06\x00\x00\x00\x00\x00\x00\x00\x00}\x12g\x00}\x13|\x02r\x18|\x13\xa0\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x15|\x02d\x16\x9c\x02\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00|\x13\xa0\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x03\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00|\x13\xa0\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00d\x17|\x01d\x16\x9c\x02\xa6\x01\x00\x00\xab\x01\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x02\x00|\td\x1b|\r|\x0bd\x18\x9c\x02|\x10\xa4\x01\x8e\x01}\x14d\x19}\x15|\x12\xa0\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|\x13|\x14|\x0ed\x0fd\n\xac\x1a\xa6\x05\x00\x00\xab\x05\x00\x00\x00\x00\x00\x00\x00\x002\x003\x00d\x02{\x03V\x00\x97\x03\x86\x04}\x16|\x15|\x16j\r\x00\x00\x00\x00\x00\x00\x00\x00z\r\x00\x00}\x15\x8c\x126\x00|\x15S\x00)\x1c\xe1}\x06\x00\x00\n    Args:\n        model (str): The path to the model.\n            It could be one of the following options:\n                    - i) A local directory path of a turbomind model which is\n                        converted by `lmdeploy convert` command or download\n                        from ii) and iii).\n                    - ii) The model_id of a lmdeploy-quantized model hosted\n                        inside a model repo on huggingface.co, such as\n                        "InternLM/internlm-chat-20b-4bit",\n                        "lmdeploy/llama2-chat-70b-4bit", etc.\n                    - iii) The model_id of a model hosted inside a model repo\n                        on huggingface.co, such as "internlm/internlm-chat-7b",\n                        "Qwen/Qwen-7B-Chat ", "baichuan-inc/Baichuan2-7B-Chat"\n                        and so on.\n        chat_template (str): needed when model is a pytorch model on\n            huggingface.co, such as "internlm-chat-7b",\n            "Qwen-7B-Chat ", "Baichuan2-7B-Chat" and so on,\n            and when the model name of local path did not match the original model name in HF.\n        tp (int): tensor parallel\n        prompt (Union[str, List[str]]): input texts to be completed.\n        do_preprocess (bool): whether pre-process the messages. Default to\n            True, which means chat_template will be applied.\n        skip_special_tokens (bool): Whether or not to remove special tokens\n            in the decoding. Default to be True.\n        do_sample (bool): Whether or not to use sampling, use greedy decoding otherwise.\n            Default to be False, which means greedy decoding will be applied.\n    r\x02\x00\x00\x00N)\x02\xda\x10GenerationConfig\xda\x0cversion_info\xfa;Please install lmdeploy before initialize lmdeploy backend.\xda\nhashing_kv\xda\x0fresponse_format\xda\nmax_tokens\xe9\x00\x02\x00\x00r\x15\x00\x00\x00r\r\x00\x00\x00\xda\x13skip_special_tokensT\xda\rdo_preprocess\xda\tdo_sampleF)\x03r\x02\x00\x00\x00\xe9\x06\x00\x00\x00r\x02\x00\x00\x00\xfa]`do_sample` parameter is not supported by lmdeploy until v0.6.0, but currently using lmdeloy )\x01r6\x00\x00\x00r\x0f\x00\x00\x00)\x06r\x1d\x00\x00\x00r\x15\x00\x00\x00r\x1e\x00\x00\x00r\x16\x00\x00\x00r\x17\x00\x00\x00r\x1c\x00\x00\x00\xda\x06system)\x02\xda\x04role\xda\x07content\xda\x04user)\x02r4\x00\x00\x00\xda\x0emax_new_tokens\xda\x00)\x04\xda\ngen_configr5\x00\x00\x00\xda\x0fstream_response\xda\nsession_id\xa9\x00)\x0er\x03\x00\x00\x00r-\x00\x00\x00r.\x00\x00\x00\xda\tException\xda\x0bImportError\xda\x03pop\xda\x0cRuntimeError\xda\x0b__version__\xda\x06updater \x00\x00\x00\xda\x06append\xda\x06extend\xda\x08generate\xda\x08response)\x17r\x1d\x00\x00\x00\xda\x06prompt\xda\rsystem_prompt\xda\x10history_messagesr\x1e\x00\x00\x00r\x16\x00\x00\x00r\x17\x00\x00\x00\xda\x06kwargsz\n_var_var_4z\n_var_var_5z\n_var_var_6z\n_var_var_7z\n_var_var_8z\n_var_var_9z\x0b_var_var_10z\x0b_var_var_11z\x0b_var_var_12z\x0b_var_var_13z\n_var_var_3z\x0b_var_var_14z\x0b_var_var_15z\x0b_var_var_16z\x0b_var_var_17s\x17\x00\x00\x00                       r\x1f\x00\x00\x00\xda\x17lmdeploy_model_if_cacherQ\x00\x00\x00\'\x00\x00\x00sl\x02\x00\x00\xe8\x00\xe8\x00\x80\x00\xf0V\x01\x04\x05Y\x01\xd8\x08\x17\x88\x0f\x88\x0f\x88\x0f\xd8\x08;\xd0\x08;\xd0\x08;\xd0\x08;\xd0\x08;\xd0\x08;\xd0\x08;\xd0\x08;\xd0\x08;\xf8\xdd\x0b\x14\xf0\x00\x01\x05Y\x01\xf0\x00\x01\x05Y\x01\xf0\x00\x01\x05Y\x01\xdd\x0e\x19\xd0\x1aW\xd1\x0eX\xd4\x0eX\xd0\x08X\xf0\x03\x01\x05Y\x01\xf8\xf8\xf8\xe0\x04\n\x87J\x82J\x88|\x98T\xd1\x04"\xd4\x04"\xd0\x04"\xd8\x04\n\x87J\x82J\xd0\x0f \xa0$\xd1\x04\'\xd4\x04\'\xd0\x04\'\xd8\x15\x1b\x97Z\x92Z\xa0\x0c\xa8c\xd1\x152\xd4\x152\x80N\xd8\t\x0f\x8f\x1a\x8a\x1a\x90D\x98!\xd1\t\x1c\xd4\t\x1c\x80B\xd8\x1a \x9f*\x9a*\xd0%:\xb8D\xd1\x1aA\xd4\x1aA\xd0\x04\x17\xd8\x14\x1a\x97J\x92J\x98\x7f\xb0\x04\xd1\x145\xd4\x145\x80M\xd8\x10\x16\x97\n\x92\n\x98;\xa8\x05\xd1\x10.\xd4\x10.\x80I\xd8\x11\x17\x80J\xe0\x0e\x1a\x80G\xd8\x07\x10\xd0\x07\x1c\xa0\x17\xa89\xd2!4\xd0!4\xdd\x0e\x1a\xf0\x00\x00\x1cU\x02\xf0\x00\x00\x7f\x01G\x02\xf4\x00\x00\x7f\x01S\x02\xf0\x00\x00\x1cU\x02\xf0\x00\x00\x1cU\x02\xf1\x00\x00\x0fV\x02\xf4\x00\x00\x0fV\x02\xf0\x00\x00\tV\x02\xe0\x14\x18\x88\t\xd8\x08\x12\xd7\x08\x19\xd2\x08\x19\xa0I\xd0\x08\x19\xd1\x08.\xd4\x08.\xd0\x08.\xe5\x140\xd8\x0e\x13\xd8\x0b\r\xd8\x16#\xd8\x15!\xd8\x15!\xd8\x12\x1b\xf0\r\x07\x15\x06\xf1\x00\x07\x15\x06\xf4\x00\x07\x15\x06\x80M\xf0\x12\x00\x10\x12\x80H\xd8\x07\x14\xf0\x00\x01\x05F\x01\xd8\x08\x10\x8f\x0f\x8a\x0f\xa0\x18\xb0m\xd0\x18D\xd0\x18D\xd1\x08E\xd4\x08E\xd0\x08E\xe0\x04\x0c\x87O\x82O\xd0\x14$\xd1\x04%\xd4\x04%\xd0\x04%\xd8\x04\x0c\x87O\x82O\x98V\xb0\x06\xd0\x147\xd0\x147\xd1\x048\xd4\x048\xd0\x048\xe0\x11!\xd0\x11!\xf0\x00\x04\x12\x06\xd8\x1c/\xd8\x17%\xf0\x05\x04\x12\x06\xf0\x00\x04\x12\x06\xf0\x06\x00\x0b\x15\xf0\x07\x04\x12\x06\xf0\x00\x04\x12\x06\x80J\xf0\x0c\x00\x10\x12\x80H\xd8\x15"\xd7\x15+\xd2\x15+\xd8\x08\x10\xd8\x13\x1d\xd8\x16#\xd8\x18\x1d\xd8\x13\x14\xf0\x0b\x00\x16,\xf1\x00\x06\x16\x06\xf4\x00\x06\x16\x06\xf0\x00\x07\x05!\xf0\x00\x07\x05!\xf0\x00\x07\x05!\xf0\x00\x07\x05!\xf0\x00\x07\x05!\xf0\x00\x07\x05!\xf0\x00\x07\x05!\x88c\xf0\x0e\x00\t\x11\x90C\x94L\xd1\x08 \x88\x08\x88\x08\xf0\x0f\x06\x16\x06\xf0\x10\x00\x0c\x14\x80Os\x0e\x00\x00\x00\x84\x0c\x11\x00\x91\x1a+\x03\xc6\x08\x06F\x1a\x02)\x05r\r\x00\x00\x00Nr\x0f\x00\x00\x00r\x10\x00\x00\x00r\x02\x00\x00\x00)\x12\xda\tpipmaster\xda\x02pm\xda\x0cis_installed\xda\x07install\xda\tfunctoolsr\x05\x00\x00\x00\xda\x08tenacityr\x06\x00\x00\x00r\x07\x00\x00\x00r\x08\x00\x00\x00r\t\x00\x00\x00\xda\x17archaea_core.exceptionsr\n\x00\x00\x00r\x0b\x00\x00\x00r\x0c\x00\x00\x00r \x00\x00\x00\xda\x03strrQ\x00\x00\x00rB\x00\x00\x00r!\x00\x00\x00r\x1f\x00\x00\x00\xfa\x08<module>rZ\x00\x00\x00\x01\x00\x00\x00s\x86\x01\x00\x00\xf0\x03\x01\x01\x01\xd8\x00\x16\xd0\x00\x16\xd0\x00\x16\xd0\x00\x16\xf0\x06\x00\x08\x17\x80r\x84\x7f\x90z\xd1\x07"\xd4\x07"\xf0\x00\x01\x01 \xd8\x04\x0e\x80B\x84J\x88\x7f\xd1\x04\x1f\xd4\x04\x1f\xd0\x04\x1f\xe0\x00\x1f\xd0\x00\x1f\xd0\x00\x1f\xd0\x00\x1f\xd0\x00\x1f\xd0\x00\x1f\xf0\x04\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x00\x05\x01\x02\xf0\x0e\x00\x01X\x01\xd0\x00W\xd0\x00W\xd0\x00W\xd0\x00W\xd0\x00W\xd0\x00W\xd0\x00W\xd0\x00W\xd0\x00W\xf0\x06\x00\x02\x0b\x80\x19\x901\xd0\x01\x15\xd1\x01\x15\xd4\x01\x15\xf0\x06\x00\x08\t\xd8\x12\x16\xd8\x0e\x17\xd8\x11\x15\xd8\x11\x12\xf0\r\x10\x01\x19\xf0\x00\x10\x01\x19\xf0\x00\x10\x01\x19\xf1\x03\x00\x02\x16\xd4\x01\x15\xf0\x02\x10\x01\x19\xf0&\x00\x02\x07\x80\x15\xd8\t\x1b\xd0\t\x1b\x98A\xd1\t\x1e\xd4\t\x1e\xd8\t\x19\xd0\t\x19\xa0Q\xa8A\xb02\xd0\t6\xd1\t6\xd4\t6\xd8\n!\xd0\n!\xa0>\xd03E\xc0\x7f\xd0"W\xd1\nX\xd4\nX\xf0\x07\x04\x02\x02\xf1\x00\x04\x02\x02\xf4\x00\x04\x02\x02\xf0\x10\x00\x13\x17\xd8\x15\x17\xd8\x12\x16\xd8\x11\x15\xd8\x11\x12\xf0\x0fZ\x01\x01\x14\xf0\x00Z\x01\x01\x14\xf0\x12\x00\x06\t\xf0\x13Z\x01\x01\x14\xf0\x00Z\x01\x01\x14\xf0\x00Z\x01\x01\x14\xf1\x0b\x04\x02\x02\xf4\x00\x04\x02\x02\xf0\nZ\x01\x01\x14\xf0\x00Z\x01\x01\x14\xf0\x00Z\x01\x01\x14r!\x00\x00\x00')
