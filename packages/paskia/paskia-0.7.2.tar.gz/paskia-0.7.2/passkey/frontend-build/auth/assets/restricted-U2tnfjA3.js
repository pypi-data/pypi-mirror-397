import{c as s,o as c,h as r,e as i,q as u}from"./_plugin-vue_export-helper-DBJ1JH0N.js";import{R as d}from"./RestrictedAuth-BpqJl4UW.js";const p={__name:"RestrictedApi",setup(h){const a=s(()=>new URLSearchParams(window.location.search).get("mode")==="reauth"?"reauth":"login");function t(e){window.parent&&window.parent!==window&&window.parent.postMessage(e,"*")}function o(e){t({type:"auth-success",authenticated:!0,sessionToken:e.session_token})}function n(){t({type:"auth-back"})}return c(()=>{t({type:"auth-ready"}),window.addEventListener("keydown",e=>{e.key==="Escape"&&n()})}),(e,m)=>(i(),r(d,{mode:a.value,onAuthenticated:o,onBack:n},null,8,["mode"]))}};u(p).mount("#app");
