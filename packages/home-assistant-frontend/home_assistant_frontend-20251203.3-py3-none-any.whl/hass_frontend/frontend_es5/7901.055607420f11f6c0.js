"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["7901"],{80785:function(e,t,n){function a(e){return!!e&&(e instanceof Date&&!isNaN(e.valueOf()))}n.d(t,{A:function(){return a}})},72487:function(e,t,n){n.a(e,async function(e,a){try{n.d(t,{CA:function(){return x},Pm:function(){return b},Wq:function(){return y},Yq:function(){return s},fr:function(){return _},gu:function(){return $},kz:function(){return d},sl:function(){return f},zB:function(){return h}});n(18111),n(20116);var i=n(74487),o=n(22786),r=n(46927),c=n(8480),l=e([i,c]);[i,c]=l.then?(await l)():l;(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",month:"long",day:"numeric",timeZone:(0,c.w)(e.time_zone,t)}));const s=(e,t,n)=>u(t,n.time_zone).format(e),u=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",timeZone:(0,c.w)(e.time_zone,t)})),d=(e,t,n)=>m(t,n.time_zone).format(e),m=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",timeZone:(0,c.w)(e.time_zone,t)})),h=(e,t,n)=>{var a,i,o,c;const l=p(t,n.time_zone);if(t.date_format===r.ow.language||t.date_format===r.ow.system)return l.format(e);const s=l.formatToParts(e),u=null===(a=s.find(e=>"literal"===e.type))||void 0===a?void 0:a.value,d=null===(i=s.find(e=>"day"===e.type))||void 0===i?void 0:i.value,m=null===(o=s.find(e=>"month"===e.type))||void 0===o?void 0:o.value,h=null===(c=s.find(e=>"year"===e.type))||void 0===c?void 0:c.value,f=s[s.length-1];let g="literal"===(null==f?void 0:f.type)?null==f?void 0:f.value:"";"bg"===t.language&&t.date_format===r.ow.YMD&&(g="");return{[r.ow.DMY]:`${d}${u}${m}${u}${h}${g}`,[r.ow.MDY]:`${m}${u}${d}${u}${h}${g}`,[r.ow.YMD]:`${h}${u}${m}${u}${d}${g}`}[t.date_format]},p=(0,o.A)((e,t)=>{const n=e.date_format===r.ow.system?void 0:e.language;return e.date_format===r.ow.language||(e.date_format,r.ow.system),new Intl.DateTimeFormat(n,{year:"numeric",month:"numeric",day:"numeric",timeZone:(0,c.w)(e.time_zone,t)})}),f=(e,t,n)=>g(t,n.time_zone).format(e),g=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{day:"numeric",month:"short",timeZone:(0,c.w)(e.time_zone,t)})),_=(e,t,n)=>v(t,n.time_zone).format(e),v=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",year:"numeric",timeZone:(0,c.w)(e.time_zone,t)})),y=(e,t,n)=>w(t,n.time_zone).format(e),w=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",timeZone:(0,c.w)(e.time_zone,t)})),b=(e,t,n)=>k(t,n.time_zone).format(e),k=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",timeZone:(0,c.w)(e.time_zone,t)})),x=(e,t,n)=>z(t,n.time_zone).format(e),z=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",timeZone:(0,c.w)(e.time_zone,t)})),$=(e,t,n)=>C(t,n.time_zone).format(e),C=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"short",timeZone:(0,c.w)(e.time_zone,t)}));a()}catch(s){a(s)}})},95747:function(e,t,n){n.a(e,async function(e,a){try{n.d(t,{CL:function(){return y},GH:function(){return k},Rl:function(){return h},ZS:function(){return _},aQ:function(){return f},r6:function(){return d},yg:function(){return w}});var i=n(74487),o=n(22786),r=n(72487),c=n(30162),l=n(8480),s=n(69543),u=e([i,l,r,c]);[i,l,r,c]=u.then?(await u)():u;const d=(e,t,n)=>m(t,n.time_zone).format(e),m=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)})),h=e=>p().format(e),p=(0,o.A)(()=>new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})),f=(e,t,n)=>g(t,n.time_zone).format(e),g=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)})),_=(e,t,n)=>v(t,n.time_zone).format(e),v=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"short",day:"numeric",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)})),y=(e,t,n)=>(new Date).getFullYear()===e.getFullYear()?_(e,t,n):f(e,t,n),w=(e,t,n)=>b(t,n.time_zone).format(e),b=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)})),k=(e,t,n)=>`${(0,r.zB)(e,t,n)}, ${(0,c.fU)(e,t,n)}`;a()}catch(d){a(d)}})},30162:function(e,t,n){n.a(e,async function(e,a){try{n.d(t,{LW:function(){return f},Xs:function(){return h},fU:function(){return s},ie:function(){return d}});var i=n(74487),o=n(22786),r=n(8480),c=n(69543),l=e([i,r]);[i,r]=l.then?(await l)():l;const s=(e,t,n)=>u(t,n.time_zone).format(e),u=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,c.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),d=(e,t,n)=>m(t,n.time_zone).format(e),m=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:(0,c.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,c.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),h=(e,t,n)=>p(t,n.time_zone).format(e),p=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,c.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,c.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),f=(e,t,n)=>g(t,n.time_zone).format(e),g=(0,o.A)((e,t)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,r.w)(e.time_zone,t)}));a()}catch(s){a(s)}})},98975:function(e,t,n){n.a(e,async function(e,a){try{n.d(t,{K:function(){return s}});var i=n(74487),o=n(22786),r=n(63927),c=e([i,r]);[i,r]=c.then?(await c)():c;const l=(0,o.A)(e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})),s=(e,t,n,a=!0)=>{const i=(0,r.x)(e,n,t);return a?l(t).format(i.value,i.unit):Intl.NumberFormat(t.language,{style:"unit",unit:i.unit,unitDisplay:"long"}).format(Math.abs(i.value))};a()}catch(l){a(l)}})},8480:function(e,t,n){n.a(e,async function(e,a){try{n.d(t,{n:function(){return d},w:function(){return m}});var i,o,r,c=n(74487),l=n(46927),s=e([c]);c=(s.then?(await s)():s)[0];const u=null===(i=Intl.DateTimeFormat)||void 0===i||null===(o=(r=i.call(Intl)).resolvedOptions)||void 0===o?void 0:o.call(r).timeZone,d=null!=u?u:"UTC",m=(e,t)=>e===l.Wj.local&&u?d:t;a()}catch(u){a(u)}})},69543:function(e,t,n){n.d(t,{J:function(){return o}});n(74423);var a=n(22786),i=n(46927);const o=(0,a.A)(e=>{if(e.time_format===i.Hg.language||e.time_format===i.Hg.system){const t=e.time_format===i.Hg.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(t).includes("10")}return e.time_format===i.Hg.am_pm})},63927:function(e,t,n){n.a(e,async function(e,a){try{n.d(t,{x:function(){return h}});var i=n(6946),o=n(52640),r=n(38684),c=n(380),l=e([c]);c=(l.then?(await l)():l)[0];const u=1e3,d=60,m=60*d;function h(e,t=Date.now(),n,a={}){const l=Object.assign(Object.assign({},p),a||{}),s=(+e-+t)/u;if(Math.abs(s)<l.second)return{value:Math.round(s),unit:"second"};const h=s/d;if(Math.abs(h)<l.minute)return{value:Math.round(h),unit:"minute"};const f=s/m;if(Math.abs(f)<l.hour)return{value:Math.round(f),unit:"hour"};const g=new Date(e),_=new Date(t);g.setHours(0,0,0,0),_.setHours(0,0,0,0);const v=(0,i.c)(g,_);if(0===v)return{value:Math.round(f),unit:"hour"};if(Math.abs(v)<l.day)return{value:v,unit:"day"};const y=(0,c.P)(n),w=(0,o.k)(g,{weekStartsOn:y}),b=(0,o.k)(_,{weekStartsOn:y}),k=(0,r.I)(w,b);if(0===k)return{value:v,unit:"day"};if(Math.abs(k)<l.week)return{value:k,unit:"week"};const x=g.getFullYear()-_.getFullYear(),z=12*x+g.getMonth()-_.getMonth();return 0===z?{value:k,unit:"week"}:Math.abs(z)<l.month||0===x?{value:z,unit:"month"}:{value:Math.round(x),unit:"year"}}const p={second:59,minute:59,hour:22,day:5,week:4,month:11};a()}catch(s){a(s)}})},91380:function(e,t,n){n.d(t,{O:function(){return p},jB:function(){return f}});n(16280),n(23792),n(3362),n(62953);var a=n(40445),i=n(80070),o=n(5101),r=n(68649),c=n(96196),l=n(77845);let s,u;i.l.addInitializer(async e=>{await e.updateComplete;const t=e;t.dialog.prepend(t.scrim),t.scrim.style.inset=0,t.scrim.style.zIndex=0;const{getOpenAnimation:n,getCloseAnimation:a}=t;t.getOpenAnimation=()=>{var e,t;const a=n.call(void 0);return a.container=[...null!==(e=a.container)&&void 0!==e?e:[],...null!==(t=a.dialog)&&void 0!==t?t:[]],a.dialog=[],a},t.getCloseAnimation=()=>{var e,t;const n=a.call(void 0);return n.container=[...null!==(e=n.container)&&void 0!==e?e:[],...null!==(t=n.dialog)&&void 0!==t?t:[]],n.dialog=[],n}});class d extends i.l{async _handleOpen(e){var t;if(e.preventDefault(),this._polyfillDialogRegistered)return;this._polyfillDialogRegistered=!0,this._loadPolyfillStylesheet("/static/polyfills/dialog-polyfill.css");const n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("dialog");(await u).default.registerDialog(n),this.removeEventListener("open",this._handleOpen),this.show()}async _loadPolyfillStylesheet(e){const t=document.createElement("link");return t.rel="stylesheet",t.href=e,new Promise((n,a)=>{var i;t.onload=()=>n(),t.onerror=()=>a(new Error(`Stylesheet failed to load: ${e}`)),null===(i=this.shadowRoot)||void 0===i||i.appendChild(t)})}_handleCancel(e){if(this.disableCancelAction){var t;e.preventDefault();const n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("dialog .container");void 0!==this.animate&&(null==n||n.animate([{transform:"rotate(-1deg)","animation-timing-function":"ease-in"},{transform:"rotate(1.5deg)","animation-timing-function":"ease-out"},{transform:"rotate(0deg)","animation-timing-function":"ease-in"}],{duration:200,iterations:2}))}}constructor(){super(),this.disableCancelAction=!1,this._polyfillDialogRegistered=!1,this.addEventListener("cancel",this._handleCancel),"function"!=typeof HTMLDialogElement&&(this.addEventListener("open",this._handleOpen),u||(u=n.e("98017").then(n.bind(n,44984)))),void 0===this.animate&&(this.quick=!0),void 0===this.animate&&(this.quick=!0)}}d.styles=[o.R,(0,c.AH)(s||(s=(e=>e)`:host{--md-dialog-container-color:var(--card-background-color);--md-dialog-headline-color:var(--primary-text-color);--md-dialog-supporting-text-color:var(--primary-text-color);--md-sys-color-scrim:#000000;--md-dialog-headline-weight:var(--ha-font-weight-normal);--md-dialog-headline-size:var(--ha-font-size-xl);--md-dialog-supporting-text-size:var(--ha-font-size-m);--md-dialog-supporting-text-line-height:var(--ha-line-height-normal);--md-divider-color:var(--divider-color)}:host([type=alert]){min-width:320px}@media all and (max-width:450px),all and (max-height:500px){:host(:not([type=alert])){min-width:var(--mdc-dialog-min-width,100vw);min-height:100%;max-height:100%;--md-dialog-container-shape:0}.container{margin-top:var(--safe-area-inset-top,var(--ha-space-0));margin-bottom:var(--safe-area-inset-bottom,var(--ha-space-0));margin-left:var(--safe-area-inset-left,var(--ha-space-0));margin-right:var(--safe-area-inset-right,var(--ha-space-0))}}::slotted(ha-dialog-header[slot=headline]){display:contents}slot[name=actions]::slotted(*){padding:var(--ha-space-4)}.scroller{overflow:var(--dialog-content-overflow,auto)}slot[name=content]::slotted(*){padding:var(--dialog-content-padding,var(--ha-space-6))}.scrim{z-index:10}`))],(0,a.__decorate)([(0,l.MZ)({attribute:"disable-cancel-action",type:Boolean})],d.prototype,"disableCancelAction",void 0),d=(0,a.__decorate)([(0,l.EM)("ha-md-dialog")],d);const m=Object.assign(Object.assign({},r.T),{},{dialog:[[[{transform:"translateY(50px)"},{transform:"translateY(0)"}],{duration:500,easing:"cubic-bezier(.3,0,0,1)"}]],container:[[[{opacity:0},{opacity:1}],{duration:50,easing:"linear",pseudoElement:"::before"}]]}),h=Object.assign(Object.assign({},r.N),{},{dialog:[[[{transform:"translateY(0)"},{transform:"translateY(50px)"}],{duration:150,easing:"cubic-bezier(.3,0,0,1)"}]],container:[[[{opacity:"1"},{opacity:"0"}],{delay:100,duration:50,easing:"linear",pseudoElement:"::before"}]]}),p=()=>window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches?m:r.T,f=()=>window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches?h:r.N},2846:function(e,t,n){n.d(t,{G:function(){return m},J:function(){return d}});var a=n(40445),i=n(97154),o=n(82553),r=n(96196),c=n(77845);n(54276);let l,s,u=e=>e;const d=[o.R,(0,r.AH)(l||(l=u`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}`))];class m extends i.n{renderRipple(){return"text"===this.type?r.s6:(0,r.qy)(s||(s=u`<ha-ripple part="ripple" for="item" ?disabled="${0}"></ha-ripple>`),this.disabled&&"link"!==this.type)}}m.styles=d,m=(0,a.__decorate)([(0,c.EM)("ha-md-list-item")],m)},17308:function(e,t,n){var a=n(40445),i=n(49838),o=n(11245),r=n(96196),c=n(77845);let l;class s extends i.B{}s.styles=[o.R,(0,r.AH)(l||(l=(e=>e)`:host{--md-sys-color-surface:var(--card-background-color)}`))],s=(0,a.__decorate)([(0,c.EM)("ha-md-list")],s)},54276:function(e,t,n){n(23792),n(62953);var a=n(40445),i=n(76482),o=n(91382),r=n(96245),c=n(96196),l=n(77845);let s;class u extends o.n{attach(e){super.attach(e),this.attachableTouchController.attach(e)}disconnectedCallback(){super.disconnectedCallback(),this.hovered=!1,this.pressed=!1}detach(){super.detach(),this.attachableTouchController.detach()}_onTouchControlChange(e,t){null==e||e.removeEventListener("touchend",this._handleTouchEnd),null==t||t.addEventListener("touchend",this._handleTouchEnd)}constructor(...e){super(...e),this.attachableTouchController=new i.i(this,this._onTouchControlChange.bind(this)),this._handleTouchEnd=()=>{this.disabled||super.endPressAnimation()}}}u.styles=[r.R,(0,c.AH)(s||(s=(e=>e)`:host{--md-ripple-hover-opacity:var(--ha-ripple-hover-opacity, 0.08);--md-ripple-pressed-opacity:var(--ha-ripple-pressed-opacity, 0.12);--md-ripple-hover-color:var(
          --ha-ripple-hover-color,
          var(--ha-ripple-color, var(--secondary-text-color))
        );--md-ripple-pressed-color:var(
          --ha-ripple-pressed-color,
          var(--ha-ripple-color, var(--secondary-text-color))
        )}`))],u=(0,a.__decorate)([(0,l.EM)("ha-ripple")],u)},31420:function(e,t,n){n.a(e,async function(e,a){try{n.d(t,{Bi:function(){return B},Dt:function(){return K},EB:function(){return I},IW:function(){return D},P_:function(){return z},SG:function(){return C},Sx:function(){return j},T2:function(){return _},Xm:function(){return y},Ye:function(){return v},Zm:function(){return M},cq:function(){return U},dH:function(){return A},en:function(){return G},gb:function(){return w},gv:function(){return F},jU:function(){return Z},kI:function(){return T},mF:function(){return S},mu:function(){return $},oJ:function(){return E},pI:function(){return k},pL:function(){return N},q5:function(){return J},q7:function(){return O},qk:function(){return g},sp:function(){return Y},uM:function(){return P},v3:function(){return R},xN:function(){return X},yL:function(){return b},yj:function(){return H},zZ:function(){return x}});n(74423),n(23792),n(26910),n(16573),n(78100),n(77936),n(18111),n(22489),n(20116),n(7588),n(61701),n(3362),n(27495),n(25440),n(43870),n(48140),n(75044),n(21903),n(91134),n(28845),n(373),n(37467),n(44732),n(79577),n(41549),n(49797),n(49631),n(35623),n(62953),n(48408),n(14603),n(47566),n(98721);var i=n(22711),o=n(97732),r=n(6226),c=n(22786),l=n(80785),s=n(95747),u=n(30162),d=n(36918),m=n(33668),h=n(39889),p=n(95350),f=e([i,s,u]);[i,s,u]=f.then?(await f)():f;var g=function(e){return e.NEVER="never",e.DAILY="daily",e.CUSTOM_DAYS="custom_days",e}({});const _=["mon","tue","wed","thu","fri","sat","sun"],v=e=>e.sort((e,t)=>_.indexOf(e)-_.indexOf(t)),y=e=>e.callWS({type:"backup/config/info"}),w=(e,t)=>e.callWS({type:"backup/config/update",...t}),b=(e,t,n)=>`/api/backup/download/${e}?agent_id=${t}${n?`&password=${n}`:""}`,k=e=>e.callWS({type:"backup/info"}),x=(e,t)=>e.callWS({type:"backup/details",backup_id:t}),z=e=>e.callWS({type:"backup/agents/info"}),$=(e,t)=>e.callWS({type:"backup/delete",backup_id:t}),C=(e,t)=>e.callWS({type:"backup/generate",...t}),D=e=>e.callWS({type:"backup/generate_with_automatic_settings"}),A=(e,t)=>e.callWS({type:"backup/restore",...t}),T=async(e,t,n)=>{const a=new FormData;a.append("file",t);const i=new URLSearchParams;return n.forEach(e=>{i.append("agent_id",e)}),(0,h.QE)(e.fetchWithAuth(`/api/backup/upload?${i.toString()}`,{method:"POST",body:a}))},I=e=>{const t=e.find(B);if(t)return t;const n=e.find(Z);return n||e[0]},M=(e,t,n,a)=>e.callWS({type:"backup/can_decrypt_on_download",backup_id:t,agent_id:n,password:a}),F="backup.local",S="hassio.local",E="cloud.cloud",B=e=>[F,S].includes(e),Z=e=>{const[t,n]=e.split(".");return"hassio"===t&&"local"!==n},O=(e,t,n)=>{if(B(t))return e("ui.panel.config.backup.agents.local_agent");const a=n.find(e=>e.agent_id===t),i=t.split(".")[0],o=a?a.name:t.split(".")[1];if(Z(t))return o;const r=(0,p.p$)(e,i);return n.filter(e=>e.agent_id.split(".")[0]===i).length>1?`${r}: ${o}`:r},R=e=>Math.max(...Object.values(e.agents).map(e=>e.size)),W=["automatic","addon_update","manual"],J=(0,i.z)(e=>e?W:W.filter(e=>"addon_update"!==e)),Y=(e,t)=>{var n;return e.with_automatic_settings?"automatic":t&&null!=(null===(n=e.extra_metadata)||void 0===n?void 0:n["supervisor.addon_update"])?"addon_update":"manual"},H=(e,t)=>{const n=B(e),a=B(t),i=Z(e),o=Z(t),r=(e,t)=>e?1:t?2:3,c=r(n,i),l=r(a,o);return c!==l?c-l:e.localeCompare(t)},U=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx";let n="";const a=new Uint8Array(34);return crypto.getRandomValues(a),a.forEach((a,i)=>{n+="-"===t[i]?"-":e[a%36]}),n},L=(e,t)=>"data:text/plain;charset=utf-8,"+encodeURIComponent(`${e.localize("ui.panel.config.backup.emergency_kit_file.title")}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.description")}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.date")} ${(0,s.r6)(new Date,e.locale,e.config)}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.instance")}\n${e.config.location_name}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.url")}\n${e.auth.data.hassUrl}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.encryption_key")}\n${t}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.more_info",{link:(0,d.o)(e,"/more-info/backup-emergency-kit")})}`),q=(e,t)=>`home_assistant_backup_emergency_kit_${t?`${t}_`:""}${(0,s.GH)(new Date,e.locale,e.config).replace(",","").replace(" ","_")}.txt`,j=(e,t,n)=>(0,m.R)(L(e,t),q(e,n)),P=(0,o.g)((0,r.a)(new Date,4),45),N=(0,o.g)((0,r.a)(new Date,5),45),G=(0,c.A)((e,t,n)=>{if((0,l.A)(n))return(0,u.fU)(n,e,t);if("string"==typeof n&&n){const a=n.split(":"),i=(0,o.g)((0,r.a)(new Date,parseInt(a[0])),parseInt(a[1]));return(0,u.fU)(i,e,t)}return`${(0,u.fU)(P,e,t)} - ${(0,u.fU)(N,e,t)}`}),X="application/x-tar",K={file:void 0};a()}catch(_){a(_)}})},26581:function(e,t,n){n.d(t,{r:function(){return i},y:function(){return a}});n(3362);const a=async e=>e.callWS({type:"hassio/update/config/info"}),i=async(e,t)=>e.callWS(Object.assign({type:"hassio/update/config/update"},t))},56588:function(e,t,n){n.a(e,async function(e,a){try{n.r(t),n.d(t,{DialogLabsPreviewFeatureEnable:function(){return y}});n(89463),n(23792),n(3362),n(62953);var i=n(40445),o=n(96196),r=n(77845),c=n(36312),l=n(98975),s=n(1087),u=n(18350),d=(n(91380),n(17308),n(2846),n(59646),n(31420)),m=n(26581),h=e([u,d,l]);[u,d,l]=h.then?(await h)():h;let p,f,g,_,v=e=>e;class y extends o.WF{async showDialog(e){this._params=e,this._createBackup=!1,this._fetchBackupConfig(),(0,c.x)(this.hass,"hassio")&&this._fetchUpdateBackupConfig()}closeDialog(){var e;return null===(e=this._dialog)||void 0===e||e.close(),!0}_dialogClosed(){this._params=void 0,this._backupConfig=void 0,this._createBackup=!1,(0,s.r)(this,"dialog-closed",{dialog:this.localName})}async _fetchBackupConfig(){try{const{config:e}=await(0,d.Xm)(this.hass);this._backupConfig=e}catch(e){console.error(e)}}async _fetchUpdateBackupConfig(){try{const e=await(0,m.y)(this.hass);this._createBackup=e.core_backup_before_update}catch(e){console.error(e)}}_computeCreateBackupTexts(){if(!this._backupConfig||!this._backupConfig.automatic_backups_configured||!this._backupConfig.create_backup.password||0===this._backupConfig.create_backup.agent_ids.length)return{title:this.hass.localize("ui.panel.config.labs.create_backup.manual"),description:this.hass.localize("ui.panel.config.labs.create_backup.manual_description")};const e=this._backupConfig.last_completed_automatic_backup?new Date(this._backupConfig.last_completed_automatic_backup):null,t=new Date;return{title:this.hass.localize("ui.panel.config.labs.create_backup.automatic"),description:e?this.hass.localize("ui.panel.config.labs.create_backup.automatic_description_last",{relative_time:(0,l.K)(e,this.hass.locale,t,!0)}):this.hass.localize("ui.panel.config.labs.create_backup.automatic_description_none")}}_createBackupChanged(e){this._createBackup=e.target.checked}_handleCancel(){this.closeDialog()}_handleConfirm(){this._params&&this._params.onConfirm(this._createBackup),this.closeDialog()}render(){if(!this._params)return o.s6;const e=this._computeCreateBackupTexts();return(0,o.qy)(p||(p=v` <ha-md-dialog open @closed="${0}"> <span slot="headline"> ${0} </span> <div slot="content"> <p> ${0} </p> </div> <div slot="actions"> ${0} <div> <ha-button appearance="plain" @click="${0}"> ${0} </ha-button> <ha-button appearance="filled" variant="brand" @click="${0}"> ${0} </ha-button> </div> </div> </ha-md-dialog> `),this._dialogClosed,this.hass.localize("ui.panel.config.labs.enable_title"),this.hass.localize(`component.${this._params.preview_feature.domain}.preview_features.${this._params.preview_feature.preview_feature}.enable_confirmation`)||this.hass.localize("ui.panel.config.labs.enable_confirmation"),e?(0,o.qy)(f||(f=v` <ha-md-list> <ha-md-list-item> <span slot="headline">${0}</span> ${0} <ha-switch slot="end" .checked="${0}" @change="${0}"></ha-switch> </ha-md-list-item> </ha-md-list> `),e.title,e.description?(0,o.qy)(g||(g=v` <span slot="supporting-text"> ${0} </span> `),e.description):o.s6,this._createBackup,this._createBackupChanged):o.s6,this._handleCancel,this.hass.localize("ui.common.cancel"),this._handleConfirm,this.hass.localize("ui.panel.config.labs.enable"))}constructor(...e){super(...e),this._createBackup=!1}}y.styles=(0,o.AH)(_||(_=v`ha-md-dialog{--dialog-content-padding:var(--ha-space-6)}p{margin:0;color:var(--secondary-text-color)}div[slot=actions]{display:flex;flex-direction:column;padding:0}ha-md-list{background:0 0;--md-list-item-leading-space:var(--ha-space-6);--md-list-item-trailing-space:var(--ha-space-6);margin:0;padding:0;border-top:var(--ha-border-width-sm) solid var(--divider-color)}div[slot=actions]>div{display:flex;justify-content:flex-end;gap:var(--ha-space-2);padding:var(--ha-space-4) var(--ha-space-6)}`)),(0,i.__decorate)([(0,r.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,i.__decorate)([(0,r.wk)()],y.prototype,"_params",void 0),(0,i.__decorate)([(0,r.wk)()],y.prototype,"_backupConfig",void 0),(0,i.__decorate)([(0,r.wk)()],y.prototype,"_createBackup",void 0),(0,i.__decorate)([(0,r.P)("ha-md-dialog")],y.prototype,"_dialog",void 0),y=(0,i.__decorate)([(0,r.EM)("dialog-labs-preview-feature-enable")],y),a()}catch(p){a(p)}})},33668:function(e,t,n){n.d(t,{h:function(){return o},R:function(){return i}});var a=n(37177);const i=(e,t="")=>{const n=document.createElement("a");n.target="_blank",n.href=e,n.download=t,n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click")),document.body.removeChild(n)},o=e=>{var t;return!(e=>!!e.auth.external&&a.n)(e)||!(null===(t=e.auth.external)||void 0===t||!t.config.downloadFileSupported)}},37177:function(e,t,n){n.d(t,{n:function(){return a}});n(27495);const a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=7901.055607420f11f6c0.js.map