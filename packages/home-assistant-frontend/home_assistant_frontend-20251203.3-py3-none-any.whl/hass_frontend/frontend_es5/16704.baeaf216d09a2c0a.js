"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["16704"],{51687:function(t,i,a){a.a(t,async function(t,o){try{a.r(i),a.d(i,{HuiHomeSummaryCard:function(){return $}});a(23792),a(18111),a(22489),a(61701),a(62953);var e=a(40445),r=a(96196),s=a(77845),n=a(94333),l=a(32288),c=a(6415),h=a(78870),d=a(71727),u=a(4423),m=a(20058),v=(a(76776),a(88945),a(54276),a(80933),a(32248),a(14020)),f=a(19037),p=a(37544),g=a(97176),_=a(8537),b=t([v,m,_]);[v,m,_]=b.then?(await b)():b;let y,x,w=t=>t;const k={light:"amber",climate:"deep-orange",security:"blue-grey",media_players:"blue"};class $ extends r.WF{setConfig(t){this._config=t}getCardSize(){var t;return null!==(t=this._config)&&void 0!==t&&t.vertical?2:1}getGridOptions(){var t;let i=6,a=1;return null!==(t=this._config)&&void 0!==t&&t.vertical&&(a++,i=3),{columns:6,rows:a,min_columns:i,min_rows:a}}_handleAction(t){(0,p.$)(this,this.hass,this._config,t.detail.action)}get _hasCardAction(){var t,i,a;return(0,g.h)(null===(t=this._config)||void 0===t?void 0:t.tap_action)||(0,g.h)(null===(i=this._config)||void 0===i?void 0:i.hold_action)||(0,g.h)(null===(a=this._config)||void 0===a?void 0:a.double_tap_action)}_computeSummaryState(){if(!this._config||!this.hass)return"";const t=Object.keys(this.hass.states),i=Object.values(this.hass.areas);switch(this._config.summary){case"light":{const i=_.vV.light.map(t=>(0,u.r)(this.hass,t)),a=(0,u.B)(t,i).filter(t=>{var i;return"on"===(null===(i=this.hass.states[t])||void 0===i?void 0:i.state)});return a.length?this.hass.localize("ui.card.home-summary.count_lights_on",{count:a.length}):this.hass.localize("ui.card.home-summary.all_lights_off")}case"climate":{var a,o;const t=i.map(t=>t.temperature_entity_id).filter(Boolean).map(t=>{var i;return parseFloat(null===(i=this.hass.states[t])||void 0===i?void 0:i.state)||NaN}).filter(t=>!isNaN(t));if(0===t.length)return"";const e=Math.min(...t),r=Math.max(...t);if(isNaN(e)||isNaN(r))return"";const s=(0,m.ZV)(e,null===(a=this.hass)||void 0===a?void 0:a.locale,{minimumFractionDigits:1,maximumFractionDigits:1}),n=(0,m.ZV)(r,null===(o=this.hass)||void 0===o?void 0:o.locale,{minimumFractionDigits:1,maximumFractionDigits:1});return s===n?`${s}°`:`${s} - ${n}°`}case"security":{const i=_.vV.security.map(t=>(0,u.r)(this.hass,t)),a=(0,u.B)(t,i),o=a.filter(t=>"lock"===(0,d.m)(t)),e=a.filter(t=>"alarm_control_panel"===(0,d.m)(t)),r=e.filter(t=>{var i;return"disarmed"===(null===(i=this.hass.states[t])||void 0===i?void 0:i.state)});if(!o.length&&!e.length)return"";const s=o.filter(t=>{var i;const a=null===(i=this.hass.states[t])||void 0===i?void 0:i.state;return"unlocked"===a||"jammed"===a||"open"===a});return s.length?this.hass.localize("ui.card.home-summary.count_locks_unlocked",{count:s.length}):r.length?this.hass.localize("ui.card.home-summary.count_alarms_disarmed",{count:r.length}):this.hass.localize("ui.card.home-summary.all_secure")}case"media_players":{const i=_.vV.media_players.map(t=>(0,u.r)(this.hass,t)),a=(0,u.B)(t,i).filter(t=>{var i;return"playing"===(null===(i=this.hass.states[t])||void 0===i?void 0:i.state)});return a.length?this.hass.localize("ui.card.home-summary.count_media_playing",{count:a.length}):this.hass.localize("ui.card.home-summary.no_media_playing")}}return""}render(){if(!this._config||!this.hass)return r.s6;const t={vertical:Boolean(this._config.vertical)},i={"--tile-color":(0,h.M)(k[this._config.summary])},a=this._computeSummaryState(),o=(0,_.rh)(this.hass.localize,this._config.summary),e=_.It[this._config.summary];return(0,r.qy)(y||(y=w` <ha-card style="${0}"> <div class="background" @action="${0}" .actionHandler="${0}" role="${0}" tabindex="${0}" aria-labelledby="info"> <ha-ripple .disabled="${0}"></ha-ripple> </div> <div class="container"> <div class="content ${0}"> <ha-tile-icon> <ha-icon slot="icon" .icon="${0}"></ha-icon> </ha-tile-icon> <ha-tile-info id="info" .primary="${0}" .secondary="${0}"></ha-tile-info> </div> </div> </ha-card> `),(0,c.W)(i),this._handleAction,(0,f.T)({hasHold:(0,g.h)(this._config.hold_action),hasDoubleClick:(0,g.h)(this._config.double_tap_action)}),(0,l.J)(this._hasCardAction?"button":void 0),(0,l.J)(this._hasCardAction?"0":void 0),!this._hasCardAction,(0,n.H)(t),e,o,a)}}$.styles=(0,r.AH)(x||(x=w`:host{--tile-color:var(--state-inactive-color);-webkit-tap-highlight-color:transparent}ha-card:has(.background:focus-visible){--shadow-default:var(--ha-card-box-shadow, 0 0 0 0 transparent);--shadow-focus:0 0 0 1px var(--tile-color);border-color:var(--tile-color);box-shadow:var(--shadow-default),var(--shadow-focus)}ha-card{--ha-ripple-color:var(--tile-color);--ha-ripple-hover-opacity:0.04;--ha-ripple-pressed-opacity:0.12;height:100%;transition:box-shadow 180ms ease-in-out,border-color 180ms ease-in-out;display:flex;flex-direction:column;justify-content:space-between}ha-card.active{--tile-color:var(--state-icon-color)}[role=button]{cursor:pointer;pointer-events:auto}[role=button]:focus{outline:0}.background{position:absolute;top:0;left:0;bottom:0;right:0;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));margin:calc(-1 * var(--ha-card-border-width,1px));overflow:hidden}.container{margin:calc(-1 * var(--ha-card-border-width,1px));display:flex;flex-direction:column;flex:1}.container.horizontal{flex-direction:row}.content{position:relative;display:flex;flex-direction:row;align-items:center;padding:10px;flex:1;min-width:0;box-sizing:border-box;pointer-events:none;gap:10px}.vertical{flex-direction:column;text-align:center;justify-content:center}.vertical ha-tile-info{width:100%;flex:none}ha-tile-icon{--tile-icon-color:var(--tile-color);position:relative;padding:6px;margin:-6px}ha-tile-info{position:relative;min-width:0;transition:background-color 180ms ease-in-out;box-sizing:border-box}`)),(0,e.__decorate)([(0,s.MZ)({attribute:!1})],$.prototype,"hass",void 0),(0,e.__decorate)([(0,s.wk)()],$.prototype,"_config",void 0),$=(0,e.__decorate)([(0,s.EM)("hui-home-summary-card")],$),o()}catch(y){o(y)}})},53921:function(t,i,a){var o=a(46518),e=a(72652),r=a(97040);o({target:"Object",stat:!0},{fromEntries:function(t){var i={};return e(t,function(t,a){r(i,t,a)},{AS_ENTRIES:!0}),i}})}}]);
//# sourceMappingURL=16704.baeaf216d09a2c0a.js.map