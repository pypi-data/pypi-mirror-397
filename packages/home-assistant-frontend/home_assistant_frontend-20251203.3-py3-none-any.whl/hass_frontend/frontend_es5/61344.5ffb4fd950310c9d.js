"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["61344"],{82591:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{E2:function(){return _},Z8:function(){return f},a3:function(){return h},i:function(){return l},nR:function(){return c}});n(16280);var a=n(74487),i=n(22786);if(66649!=n.j)var o=n(79791);var u=e([a]);a=(u.then?(await u)():u)[0];const s=e=>e<10?`0${e}`:e,c=(e,t)=>{const n=t.days||0,r=t.hours||0,a=t.minutes||0,i=t.seconds||0,o=t.milliseconds||0;return n>0?`${Intl.NumberFormat(e.language,{style:"unit",unit:"day",unitDisplay:"long"}).format(n)} ${r}:${s(a)}:${s(i)}`:r>0?`${r}:${s(a)}:${s(i)}`:a>0?`${a}:${s(i)}`:i>0?Intl.NumberFormat(e.language,{style:"unit",unit:"second",unitDisplay:"long"}).format(i):o>0?Intl.NumberFormat(e.language,{style:"unit",unit:"millisecond",unitDisplay:"long"}).format(o):null},m=(0,i.A)(e=>new Intl.DurationFormat(e.language,{style:"long"})),l=(e,t)=>m(e).format(t),d=(0,i.A)(e=>new Intl.DurationFormat(e.language,{style:"digital",hoursDisplay:"auto"})),_=(e,t)=>d(e).format(t),f=66649!=n.j?["min","h","d"]:null,g=(0,i.A)(e=>new Intl.DurationFormat(e.language,{style:"narrow",daysDisplay:"always"})),y=(0,i.A)(e=>new Intl.DurationFormat(e.language,{style:"narrow",hoursDisplay:"always"})),p=(0,i.A)(e=>new Intl.DurationFormat(e.language,{style:"narrow",minutesDisplay:"always"})),h=(e,t,n,r)=>{const a=void 0!==r?(0,o.L)(parseFloat(t),r):parseFloat(t);switch(n){case"d":{const t=Math.floor(a),n={days:t,hours:Math.floor(24*(a-t))};return g(e).format(n)}case"h":{const t=Math.floor(a),n={hours:t,minutes:Math.floor(60*(a-t))};return y(e).format(n)}case"min":{const t=Math.floor(a),n={minutes:t,seconds:Math.floor(60*(a-t))};return p(e).format(n)}default:throw new Error("Invalid duration unit")}};r()}catch(s){r(s)}})},47129:function(e,t,n){n.d(t,{a:function(){return i}});n(74423);var r=n(92025),a=n(71727);function i(e,t){const n=(0,a.m)(e.entity_id),i=void 0!==t?t:null==e?void 0:e.state;if(["button","event","input_button","scene"].includes(n))return i!==r.Hh;if((0,r.g0)(i))return!1;if(i===r.KF&&"alert"!==n)return!1;switch(n){case"alarm_control_panel":return"disarmed"!==i;case"alert":return"idle"!==i;case"cover":case"valve":return"closed"!==i;case"device_tracker":case"person":return"not_home"!==i;case"lawn_mower":return["mowing","error"].includes(i);case"lock":return"locked"!==i;case"media_player":return"standby"!==i;case"vacuum":return!["idle","docked","paused"].includes(i);case"plant":return"problem"===i;case"group":return["on","home","open","locked","problem"].includes(i);case"timer":return"active"===i;case"camera":return"streaming"===i}return!0}},27120:function(e,t,n){n.d(t,{gf:function(){return l},mT:function(){return f},Se:function(){return m},ZK:function(){return d},mg:function(){return _}});n(23792),n(44114),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);var r=n(92025),a=n(68287),i=n(86030),o=n(80880);var u=n(71727),s=n(47129);const c=new Set(["alarm_control_panel","alert","automation","binary_sensor","calendar","camera","climate","cover","device_tracker","fan","group","humidifier","input_boolean","lawn_mower","light","lock","media_player","person","plant","remote","schedule","script","siren","sun","switch","timer","update","vacuum","valve","water_heater","weather"]),m=(e,t)=>{if((void 0!==t?t:null==e?void 0:e.state)===r.Hh)return"var(--state-unavailable-color)";const n=_(e,t);return n?(0,i.B)(n):void 0},l=(e,t,n)=>{const r=void 0!==n?n:t.state,a=(0,s.a)(t,n);return d(e,t.attributes.device_class,r,a)},d=(e,t,n,r)=>{const a=[],i=(0,o.Y)(n,"_"),u=r?"active":"inactive";return t&&a.push(`--state-${e}-${t}-${i}-color`),a.push(`--state-${e}-${i}-color`,`--state-${e}-${u}-color`,`--state-${u}-color`),a},_=(e,t)=>{const n=void 0!==t?t:null==e?void 0:e.state,r=(0,u.m)(e.entity_id),i=e.attributes.device_class;if("sensor"===r&&"battery"===i){const e=(e=>{const t=Number(e);if(!isNaN(t))return t>=70?"--state-sensor-battery-high-color":t>=30?"--state-sensor-battery-medium-color":"--state-sensor-battery-low-color"})(n);if(e)return[e]}if("group"===r){const n=(0,a.z)(e);if(n&&c.has(n))return l(n,e,t)}if(c.has(r))return l(r,e,t)},f=e=>{if(e.attributes.brightness&&"plant"!==(0,u.m)(e.entity_id)){return`brightness(${(e.attributes.brightness+245)/5}%)`}return""}},20058:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{ZQ:function(){return d},ZV:function(){return l},ty:function(){return c},x:function(){return s}});var a=n(74487),i=(n(74423),n(46927)),o=n(79791),u=e([a]);a=(u.then?(await u)():u)[0];const s=e=>c(e.attributes),c=(e,t)=>!!e.unit_of_measurement||!!e.state_class||(t||[]).includes(e.device_class||""),m=e=>{switch(e.number_format){case i.jG.comma_decimal:return["en-US","en"];case i.jG.decimal_comma:return["de","es","it"];case i.jG.space_comma:return["fr","sv","cs"];case i.jG.quote_decimal:return["de-CH"];case i.jG.system:return;default:return e.language}},l=(e,t,n)=>{const r=t?m(t):void 0;return Number.isNaN=Number.isNaN||function e(t){return"number"==typeof t&&e(t)},(null==t?void 0:t.number_format)===i.jG.none||Number.isNaN(Number(e))?Number.isNaN(Number(e))||""===e||(null==t?void 0:t.number_format)!==i.jG.none?"string"==typeof e?e:`${(0,o.L)(e,null==n?void 0:n.maximumFractionDigits).toString()}${"currency"===(null==n?void 0:n.style)?` ${n.currency}`:""}`:new Intl.NumberFormat("en-US",_(e,Object.assign(Object.assign({},n),{},{useGrouping:!1}))).format(Number(e)):new Intl.NumberFormat(r,_(e,n)).format(Number(e))},d=(e,t)=>{var n;const r=null==t?void 0:t.display_precision;return null!=r?{maximumFractionDigits:r,minimumFractionDigits:r}:Number.isInteger(Number(null==e||null===(n=e.attributes)||void 0===n?void 0:n.step))&&Number.isInteger(Number(null==e?void 0:e.state))?{maximumFractionDigits:0}:void 0},_=(e,t)=>{const n=Object.assign({maximumFractionDigits:2},t);if("string"!=typeof e)return n;if(!t||void 0===t.minimumFractionDigits&&void 0===t.maximumFractionDigits){const t=e.indexOf(".")>-1?e.split(".")[1].length:0;n.minimumFractionDigits=t,n.maximumFractionDigits=t}return n};r()}catch(s){r(s)}})},79791:function(e,t,n){n.d(t,{L:function(){return r}});const r=(e,t=2)=>Math.round(e*10**t)/10**t},80880:function(e,t,n){n.d(t,{Y:function(){return r}});n(84864),n(57465),n(27495),n(25440);const r=(e,t="_")=>{const n="àáâäæãåāăąабçćčđďдèéêëēėęěеёэфğǵгḧхîïíīįìıİийкłлḿмñńǹňнôöòóœøōõőоṕпŕřрßśšşșсťțтûüùúūǘůűųувẃẍÿýыžźżз·",r=`aaaaaaaaaaabcccdddeeeeeeeeeeefggghhiiiiiiiiijkllmmnnnnnoooooooooopprrrsssssstttuuuuuuuuuuvwxyyyzzzz${t}`,a=new RegExp(n.split("").join("|"),"g"),i={"ж":"zh","х":"kh","ц":"ts","ч":"ch","ш":"sh","щ":"shch","ю":"iu","я":"ia"};let o;return""===e?o="":(o=e.toString().toLowerCase().replace(a,e=>r.charAt(n.indexOf(e))).replace(/[а-я]/g,e=>i[e]||"").replace(/(\d),(?=\d)/g,"$1").replace(/[^a-z0-9]+/g,t).replace(new RegExp(`(${t})\\1+`,"g"),"$1").replace(new RegExp(`^${t}+`),"").replace(new RegExp(`${t}+$`),""),""===o&&(o="unknown")),o}},67258:function(e,t,n){n.d(t,{d:function(){return r}});const r=e=>{switch(e.language){case"cs":case"de":case"fi":case"fr":case"sk":case"sv":return" ";default:return""}}},8549:function(e,t,n){n.d(t,{A:function(){return a}});var r=n(67258);const a=(e,t)=>"°"===e?"":t&&"%"===e?(0,r.d)(t):" "},7553:function(e,t,n){n.d(t,{h:function(){return a}});n(16280),n(23792),n(3362),n(62953);class r extends Error{constructor(e,...t){super(...t),Error.captureStackTrace&&Error.captureStackTrace(this,r),this.name="TimeoutError",this.timeout=e,this.message=`Timed out in ${e} ms.`}}const a=(e,t)=>{const n=new Promise((t,n)=>{setTimeout(()=>{n(new r(e))},e)});return Promise.race([t,n])}},92025:function(e,t,n){n.d(t,{HV:function(){return i},Hh:function(){return a},KF:function(){return u},ON:function(){return o},g0:function(){return m},s7:function(){return s}});var r=n(23832);const a="unavailable",i="unknown",o="on",u="off",s=[a,i],c=[a,i,u],m=(0,r.g)(s);(0,r.g)(c)},613:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{Kw:function(){return u},Tf:function(){return m},We:function(){return l},Zn:function(){return s},rM:function(){return c},sy:function(){return o}});n(23792),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);var a=n(82591),i=e([a]);a=(i.then?(await i)():i)[0];const o=66649!=n.j?["entity_id","assumed_state","attribution","custom_ui_more_info","custom_ui_state_card","device_class","editable","emulated_hue_name","emulated_hue","entity_picture","event_types","friendly_name","haaska_hidden","haaska_name","icon","initial_state","last_reset","restored","state_class","supported_features","unit_of_measurement","available_tones"]:null,u=66649!=n.j?{sensor:{enum:["options"]}}:null,s=new Set(["temperature","current_temperature","target_temperature","target_temp_temp","target_temp_high","target_temp_low","target_temp_step","min_temp","max_temp"]),c={climate:{humidity:"%",current_humidity:"%",target_humidity_low:"%",target_humidity_high:"%",target_humidity_step:"%",min_humidity:"%",max_humidity:"%"},cover:{current_position:"%",current_tilt_position:"%"},fan:{percentage:"%"},humidifier:{humidity:"%",current_humidity:"%",min_humidity:"%",max_humidity:"%"},light:{color_temp:"mired",max_mireds:"mired",min_mireds:"mired",color_temp_kelvin:"K",min_color_temp_kelvin:"K",max_color_temp_kelvin:"K",brightness:"%"},sun:{azimuth:"°",elevation:"°"},vacuum:{battery_level:"%"},valve:{current_position:"%"},sensor:{battery_level:"%"},media_player:{volume_level:"%"}},m=66649!=n.j?{light:{brightness:e=>Math.round(e/255*100).toString()},media_player:{volume_level:e=>Math.round(100*e).toString(),media_duration:(e,t)=>{const n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60;return(0,a.E2)(t,{hours:n,minutes:r,seconds:i})}},input_datetime:{year:e=>e.toString()}}:null,l=["access_token","auto_update","available_modes","away_mode","changed_by","code_format","color_modes","current_activity","device_class","editable","effect_list","effect","entity_picture","event_type","event_types","fan_mode","fan_modes","fan_speed_list","forecast","friendly_name","frontend_stream_type","has_date","has_time","hs_color","hvac_mode","hvac_modes","icon","media_album_name","media_artist","media_content_type","media_position_updated_at","media_title","next_dawn","next_dusk","next_midnight","next_noon","next_rising","next_setting","operation_list","operation_mode","options","preset_mode","preset_modes","release_notes","release_summary","release_url","restored","rgb_color","rgbw_color","shuffle","sound_mode_list","sound_mode","source_list","source_type","source","state_class","supported_features","swing_mode","swing_mode","swing_modes","title","token","unit_of_measurement","xy_color"];r()}catch(o){r(o)}})},48250:function(e,t,n){n.d(t,{Bp:function(){return a},aI:function(){return r},gg:function(){return s},oT:function(){return i},wE:function(){return o},x0:function(){return u}});n(3362);const r=async(e,t)=>(await e.sendMessagePromise({type:"frontend/get_user_data",key:t})).value,a=async(e,t,n)=>e.sendMessagePromise({type:"frontend/set_user_data",key:t,value:n}),i=(e,t,n)=>e.subscribeMessage(n,{type:"frontend/subscribe_user_data",key:t}),o=async(e,t)=>(await e.sendMessagePromise({type:"frontend/get_system_data",key:t})).value,u=async(e,t,n)=>e.sendMessagePromise({type:"frontend/set_system_data",key:t,value:n}),s=(e,t,n)=>e.subscribeMessage(n,{type:"frontend/subscribe_system_data",key:t})},68287:function(e,t,n){n.d(t,{z:function(){return a}});n(23792),n(18111),n(61701),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(62953);var r=n(71727);const a=e=>{const t=e.attributes.entity_id||[],n=[...new Set(t.map(e=>(0,r.m)(e)))];return 1===n.length?n[0]:void 0}},46927:function(e,t,n){n.d(t,{$W:function(){return m},Hg:function(){return i},Wj:function(){return o},Yk:function(){return l},jG:function(){return a},mo:function(){return c},ow:function(){return u},zt:function(){return s}});n(3362);var r=n(48250),a=function(e){return e.language="language",e.system="system",e.comma_decimal="comma_decimal",e.decimal_comma="decimal_comma",e.quote_decimal="quote_decimal",e.space_comma="space_comma",e.none="none",e}({}),i=function(e){return e.language="language",e.system="system",e.am_pm="12",e.twenty_four="24",e}({}),o=function(e){return e.local="local",e.server="server",e}({}),u=function(e){return e.language="language",e.system="system",e.DMY="DMY",e.MDY="MDY",e.YMD="YMD",e}({}),s=function(e){return e.language="language",e.monday="monday",e.tuesday="tuesday",e.wednesday="wednesday",e.thursday="thursday",e.friday="friday",e.saturday="saturday",e.sunday="sunday",e}({});const c=(e,t)=>(0,r.oT)(e.connection,"language",t),m=(e,t)=>(0,r.Bp)(e.connection,"language",t),l=async(e,t,n,r,a)=>(await e.callWS({type:"frontend/get_translations",language:t,category:n,integration:r,config_flow:a})).resources},86030:function(e,t,n){n.d(t,{B:function(){return r},a:function(){return a}});n(23792),n(72712),n(94490),n(18111),n(18237),n(42762),n(62953);function r(e){return Array.isArray(e)?e.reverse().reduce((e,t)=>`var(${t}${e?`, ${e}`:""})`,void 0):`var(${e})`}function a(e,t){if(Array.isArray(e))for(const n of e){const e=a(n,t);if(e)return e}else if(e.endsWith("-color"))return t.getPropertyValue(e).trim()||void 0}},69235:function(e,t,n){n.a(e,async function(e,t){try{n(23792),n(3362),n(62953);"function"!=typeof window.ResizeObserver&&(window.ResizeObserver=(await n.e("71055").then(n.bind(n,52370))).default),t()}catch(r){t(r)}},1)}}]);
//# sourceMappingURL=61344.5ffb4fd950310c9d.js.map