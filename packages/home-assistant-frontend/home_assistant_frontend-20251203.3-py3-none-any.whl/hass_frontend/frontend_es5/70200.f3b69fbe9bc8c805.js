/*! For license information please see 70200.f3b69fbe9bc8c805.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["70200"],{93283:function(t,e,n){n.a(t,async function(t,e){try{n(23792),n(18111),n(22489),n(61701),n(62953),n(49255);var r=n(40445),i=n(96196),s=n(77845),a=n(53610),o=n(613),c=n(14503),l=n(44328),u=(n(11382),n(69093)),d=t([l,o,a]);[l,o,a]=d.then?(await d)():d;let p,h,f,b,y,g=t=>t;class m extends i.WF{get _filteredAttributes(){var t,e;return this._computeDisplayAttributes(o.sy.concat(this.extraFilters?this.extraFilters.split(","):[],this.stateObj&&(null===(t=o.Kw[(0,u.t)(this.stateObj)])||void 0===t?void 0:t[null===(e=this.stateObj.attributes)||void 0===e?void 0:e.device_class])||[]))}willUpdate(t){(t.has("extraFilters")||t.has("stateObj"))&&this.toggleAttribute("empty",0===this._filteredAttributes.length)}render(){if(!this.stateObj)return i.s6;const t=this._filteredAttributes;return 0===t.length?i.s6:(0,i.qy)(p||(p=g` <ha-expansion-panel .header="${0}" outlined @expanded-will-change="${0}"> <div class="attribute-container"> ${0} </div> </ha-expansion-panel> ${0} `),this.hass.localize("ui.components.attributes.expansion_header"),this._expandedChanged,this._expanded?(0,i.qy)(h||(h=g` ${0} `),t.map(t=>(0,i.qy)(f||(f=g` <div class="data-entry"> <div class="key"> ${0} </div> <div class="value"> <ha-attribute-value .hass="${0}" .attribute="${0}" .stateObj="${0}"></ha-attribute-value> </div> </div> `),(0,a.computeAttributeNameDisplay)(this.hass.localize,this.stateObj,this.hass.entities,t),this.hass,t,this.stateObj))):"",this.stateObj.attributes.attribution?(0,i.qy)(b||(b=g` <div class="attribution"> ${0} </div> `),this.stateObj.attributes.attribution):"")}static get styles(){return[c.RF,(0,i.AH)(y||(y=g`.attribute-container{margin-bottom:8px;direction:ltr}.data-entry{display:flex;flex-direction:row;justify-content:space-between}.data-entry .value{max-width:60%;overflow-wrap:break-word;text-align:right}.key{flex-grow:1}.attribution{color:var(--secondary-text-color);text-align:center;margin-top:16px}hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}`))]}_computeDisplayAttributes(t){return this.stateObj?Object.keys(this.stateObj.attributes).filter(e=>-1===t.indexOf(e)):[]}_expandedChanged(t){this._expanded=t.detail.expanded}constructor(...t){super(...t),this._expanded=!1}}(0,r.__decorate)([(0,s.MZ)({attribute:!1})],m.prototype,"hass",void 0),(0,r.__decorate)([(0,s.MZ)({attribute:!1})],m.prototype,"stateObj",void 0),(0,r.__decorate)([(0,s.MZ)({attribute:"extra-filters"})],m.prototype,"extraFilters",void 0),(0,r.__decorate)([(0,s.wk)()],m.prototype,"_expanded",void 0),m=(0,r.__decorate)([(0,s.EM)("ha-attributes")],m),e()}catch(p){e(p)}})},32421:function(t,e,n){n.a(t,async function(t,r){try{n.r(e);n(3362);var i=n(40445),s=n(96196),a=n(77845),o=n(93283),c=(n(85404),n(65829)),l=(n(38962),n(69150)),u=t([o,c]);[o,c]=u.then?(await u)():u;let d,p,h,f,b,y=t=>t;class g extends s.WF{willUpdate(t){if(super.willUpdate(t),!t.has("stateObj")||!this.stateObj)return;const e=t.get("stateObj");e&&e.entity_id===this.stateObj.entity_id||this._getPipeline()}async _getPipeline(){this._pipeline=void 0,this._errorLoadAssist=void 0;const t=this.stateObj.entity_id;try{const e=await(0,l.mp)(this.hass,t);this.stateObj&&t===this.stateObj.entity_id&&(this._pipeline=e)}catch(e){if(this.stateObj&&t!==this.stateObj.entity_id)return;"not_found"===e.code?this._errorLoadAssist="not_found":(this._errorLoadAssist="unknown",console.error(e))}}render(){return this.hass&&this.stateObj?(0,s.qy)(d||(d=y` ${0} `),this._errorLoadAssist?(0,s.qy)(p||(p=y`<ha-alert alert-type="error"> ${0} </ha-alert>`),this.hass.localize(`ui.dialogs.voice_command.${this._errorLoadAssist}_error_load_assist`)):this._pipeline?(0,s.qy)(h||(h=y` <ha-assist-chat .hass="${0}" .pipeline="${0}" disable-speech></ha-assist-chat> `),this.hass,this._pipeline):(0,s.qy)(f||(f=y`<div class="pipelines-loading"> <ha-spinner size="large"></ha-spinner> </div>`))):s.s6}}g.styles=(0,s.AH)(b||(b=y`:host{display:flex;flex:1}ha-assist-chat{flex:1;min-height:400px}`)),(0,i.__decorate)([(0,a.MZ)({attribute:!1})],g.prototype,"hass",void 0),(0,i.__decorate)([(0,a.MZ)({attribute:!1})],g.prototype,"stateObj",void 0),(0,i.__decorate)([(0,a.wk)()],g.prototype,"_pipeline",void 0),(0,i.__decorate)([(0,a.wk)()],g.prototype,"_errorLoadAssist",void 0),g=(0,i.__decorate)([(0,a.EM)("more-info-conversation")],g),r()}catch(d){r(d)}})},72107:function(t,e,n){n(15823)("Int16",function(t){return function(e,n,r){return t(this,e,n,r)}})},13611:function(t,e,n){var r=n(46518),i=n(22195),s=n(62106),a=n(43724),o=TypeError,c=Object.defineProperty,l=i.self!==i;try{if(a){var u=Object.getOwnPropertyDescriptor(i,"self");!l&&u&&u.get&&u.enumerable||s(i,"self",{get:function(){return i},set:function(t){if(this!==i)throw new o("Illegal invocation");c(i,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else r({global:!0,simple:!0,forced:l},{self:i})}catch(d){}},47075:function(t,e,n){n.d(e,{A:function(){return r}});n(89463),n(23792),n(62953);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}},2209:function(t,e,n){n.d(e,{LV:function(){return p}});n(89463),n(16280),n(23792),n(72712),n(55081),n(18111),n(61701),n(18237),n(3362),n(84864),n(57465),n(27495),n(62953);const r=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),s=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.finalizer"),o=Symbol("Comlink.thrown"),c=t=>"object"==typeof t&&null!==t||"function"==typeof t,l=new Map([["proxy",{canHandle:t=>c(t)&&t[r],serialize(t){const{port1:e,port2:n}=new MessageChannel;return u(t,e),[n,[n]]},deserialize(t){return t.start(),p(t)}}],["throw",{canHandle:t=>c(t)&&o in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function u(t,e=globalThis,n=["*"]){e.addEventListener("message",function i(s){if(!s||!s.data)return;if(!function(t,e){for(const n of t){if(e===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(e))return!0}return!1}(n,s.origin))return void console.warn(`Invalid origin '${s.origin}' for comlink proxy`);const{id:c,type:l,path:p}=Object.assign({path:[]},s.data),h=(s.data.argumentList||[]).map(w);let f;try{const e=p.slice(0,-1).reduce((t,e)=>t[e],t),n=p.reduce((t,e)=>t[e],t);switch(l){case"GET":f=n;break;case"SET":e[p.slice(-1)[0]]=w(s.data.value),f=!0;break;case"APPLY":f=n.apply(e,h);break;case"CONSTRUCT":f=function(t){return Object.assign(t,{[r]:!0})}(new n(...h));break;case"ENDPOINT":{const{port1:e,port2:n}=new MessageChannel;u(t,n),f=function(t,e){return v.set(t,e),t}(e,[e])}break;case"RELEASE":f=void 0;break;default:return}}catch(b){f={value:b,[o]:0}}Promise.resolve(f).catch(t=>({value:t,[o]:0})).then(n=>{const[r,s]=_(n);e.postMessage(Object.assign(Object.assign({},r),{id:c}),s),"RELEASE"===l&&(e.removeEventListener("message",i),d(e),a in t&&"function"==typeof t[a]&&t[a]())}).catch(t=>{const[n,r]=_({value:new TypeError("Unserializable return value"),[o]:0});e.postMessage(Object.assign(Object.assign({},n),{id:c}),r)})}),e.start&&e.start()}function d(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function p(t,e){const n=new Map;return t.addEventListener("message",function(t){const{data:e}=t;if(!e||!e.id)return;const r=n.get(e.id);if(r)try{r(e)}finally{n.delete(e.id)}}),g(t,n,[],e)}function h(t){if(t)throw new Error("Proxy has been released and is not useable")}function f(t){return O(t,new Map,{type:"RELEASE"}).then(()=>{d(t)})}const b=new WeakMap,y="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(b.get(t)||0)-1;b.set(t,e),0===e&&f(t)});function g(t,e,n=[],r=function(){}){let a=!1;const o=new Proxy(r,{get(r,i){if(h(a),i===s)return()=>{!function(t){y&&y.unregister(t)}(o),f(t),e.clear(),a=!0};if("then"===i){if(0===n.length)return{then:()=>o};const r=O(t,e,{type:"GET",path:n.map(t=>t.toString())}).then(w);return r.then.bind(r)}return g(t,e,[...n,i])},set(r,i,s){h(a);const[o,c]=_(s);return O(t,e,{type:"SET",path:[...n,i].map(t=>t.toString()),value:o},c).then(w)},apply(r,s,o){h(a);const c=n[n.length-1];if(c===i)return O(t,e,{type:"ENDPOINT"}).then(w);if("bind"===c)return g(t,e,n.slice(0,-1));const[l,u]=m(o);return O(t,e,{type:"APPLY",path:n.map(t=>t.toString()),argumentList:l},u).then(w)},construct(r,i){h(a);const[s,o]=m(i);return O(t,e,{type:"CONSTRUCT",path:n.map(t=>t.toString()),argumentList:s},o).then(w)}});return function(t,e){const n=(b.get(e)||0)+1;b.set(e,n),y&&y.register(t,e,t)}(o,t),o}function m(t){const e=t.map(_);return[e.map(t=>t[0]),(n=e.map(t=>t[1]),Array.prototype.concat.apply([],n))];var n}const v=new WeakMap;function _(t){for(const[e,n]of l)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},v.get(t)||[]]}function w(t){switch(t.type){case"HANDLER":return l.get(t.name).deserialize(t.value);case"RAW":return t.value}}function O(t,e,n,r){return new Promise(i=>{const s=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");e.set(s,i),t.start&&t.start(),t.postMessage(Object.assign({id:s},n),r)})}}}]);
//# sourceMappingURL=70200.f3b69fbe9bc8c805.js.map