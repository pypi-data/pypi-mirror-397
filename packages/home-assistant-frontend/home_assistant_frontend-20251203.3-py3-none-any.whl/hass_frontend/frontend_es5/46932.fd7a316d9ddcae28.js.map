{"version":3,"file":"46932.fd7a316d9ddcae28.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/panels/lovelace/cards/energy/common/color.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/panels/lovelace/cards/energy/common/hui-energy-graph-chip.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/panels/lovelace/cards/energy/hui-energy-usage-graph-card.ts","/unknown/node_modules/date-fns/constructNow.js","/unknown/node_modules/date-fns/isSameDay.js","/unknown/node_modules/date-fns/isToday.js"],"names":["getEnergyColor","computedStyles","darkMode","background","compare","propertyName","idx","themeIdxColor","getPropertyValue","trim","themeColor","length","hexColor","theme2hex","rgb2hex","lab2rgb","labBrighten","rgb2lab","hex2rgb","labDarken","HuiEnergyGraphChip","LitElement","render","id","Date","now","html","_t","_","this","tooltip","styles","css","_t2","type","String","colorPropertyMap","to_grid","to_battery","from_grid","used_grid","used_solar","used_battery","HuiEnergyUsageGraphCard","SubscribeMixin","hassSubscribe","_this$_config","getEnergyDataCollection","hass","key","_config","collection_key","subscribe","data","_getStatistics","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","title","nothing","_total","_formatTotal","localize","num","formatNumber","locale","classMap","_chartData","_createOptions","_start","_end","_compareStart","_compareEnd","some","dataset","_t3","isToday","energyData","datasets","statIds","source","prefs","energy_sources","flowFrom","flow_from","push","stat_energy_from","flowTo","flow_to","stat_energy_to","from_battery","solar","getComputedStyle","colorIndices","Object","keys","forEach","values","labels","start","end","endOfToday","startCompare","endCompare","summedData","compareSummedData","getSummedData","consumption","compareConsumption","computeConsumptionData","statsCompare","_processDataSet","statsMetadata","stack","order","stats","sort","a","b","fillDataGapsAndRoundCaps","_processTotal","total","used_total","undefined","statistics","statisticsMetaData","consumptionData","statIdsByCat","combinedData","entries","includes","sets","set","stat","change","val","grid_to_battery","noOfSources","uniqueKeys","timestamps","compareTransform","getCompareTransform","sources","statId","_colorIndices$type","_colorIndices$type2","points","value","dataPoint","cursor","name","getStatisticLabel","barMaxWidth","itemStyle","borderColor","themes","color","args","startOfToday","hassSubscribeRequiredHostProps","memoizeOne","compareStart","compareEnd","commonOptions","getCommonOptions","assign","formatter","params","_commonOptions$toolti","_commonOptions$toolti2","Array","isArray","_a$value","_b$value","aValue","bValue","componentIndex","call","_t4","attribute","constructNow","date","constructFrom","isSameDay","laterDate","earlierDate","options","dateLeft_","dateRight_","normalizeDates","in","startOfDay"],"mappings":"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"}