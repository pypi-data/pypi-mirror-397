/*! For license information please see 93945.7b2280ea154cb05e.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["93945"],{34296:function(e,t,a){a(23792),a(62953);var s=a(40445),i=a(96229),o=a(26069),r=a(91735),n=a(42034),l=a(96196),c=a(77845);let d,h,p,u,v=e=>e;class m extends i.k{renderOutline(){return this.filled?(0,l.qy)(d||(d=v`<span class="filled"></span>`)):super.renderOutline()}getContainerClasses(){return Object.assign(Object.assign({},super.getContainerClasses()),{},{active:this.active})}renderPrimaryContent(){return(0,l.qy)(h||(h=v` <span class="leading icon" aria-hidden="true"> ${0} </span> <span class="label">${0}</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> ${0} </span> `),this.renderLeadingIcon(),this.label,this.renderTrailingIcon())}renderTrailingIcon(){return(0,l.qy)(p||(p=v`<slot name="trailing-icon"></slot>`))}constructor(...e){super(...e),this.filled=!1,this.active=!1}}m.styles=[r.R,n.R,o.R,(0,l.AH)(u||(u=v`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(
          --ha-assist-chip-container-shape,
          16px
        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:var(--ha-font-family-body)}`))],(0,s.__decorate)([(0,c.MZ)({type:Boolean,reflect:!0})],m.prototype,"filled",void 0),(0,s.__decorate)([(0,c.MZ)({type:Boolean})],m.prototype,"active",void 0),m=(0,s.__decorate)([(0,c.EM)("ha-assist-chip")],m)},9169:function(e,t,a){a.d(t,{j:function(){return s}});const s=["relative","total","date","time","datetime"]},9562:function(e,t,a){a.a(e,async function(e,s){try{a.r(t),a.d(t,{HuiStatisticsGraphCardEditor:function(){return C}});a(23792),a(44114),a(18111),a(22489),a(20116),a(7588),a(61701),a(13579),a(3362),a(17642),a(58004),a(33853),a(45876),a(32475),a(15024),a(31698),a(62953);var i=a(40445),o=a(96196),r=a(77845),n=a(22786),l=a(63533),c=a(44537),d=a(1087),h=a(19459),p=a(36525),u=a(71938),v=(a(52763),a(23528)),m=a(20939),_=a(84698),y=a(20507),b=a(3515),g=e([u,b,v,p]);[u,b,v,p]=g.then?(await g)():g;let f,x,q=e=>e;const w=(0,l.KC)([(0,l.eu)("state"),(0,l.eu)("sum"),(0,l.eu)("change"),(0,l.eu)("min"),(0,l.eu)("max"),(0,l.eu)("mean")]),k=(0,l.kp)(_.H,(0,l.Ik)({entities:(0,l.YO)(y.l),title:(0,l.lq)((0,l.Yj)()),days_to_show:(0,l.lq)((0,l.ai)()),period:(0,l.lq)((0,l.KC)([(0,l.eu)("5minute"),(0,l.eu)("hour"),(0,l.eu)("day"),(0,l.eu)("week"),(0,l.eu)("month")])),chart_type:(0,l.lq)((0,l.KC)([(0,l.eu)("bar"),(0,l.eu)("line")])),stat_types:(0,l.lq)((0,l.KC)([(0,l.YO)(w),w])),unit:(0,l.lq)((0,l.Yj)()),hide_legend:(0,l.lq)((0,l.zM)()),logarithmic_scale:(0,l.lq)((0,l.zM)()),min_y_axis:(0,l.lq)((0,l.ai)()),max_y_axis:(0,l.lq)((0,l.ai)()),fit_y_data:(0,l.lq)((0,l.zM)())})),$=["5minute","hour","day","week","month"],z=["mean","min","max","sum","state","change"];class C extends o.WF{setConfig(e){(0,l.vA)(e,k),this._config=e,this._configEntities=e.entities?(0,m.L)(e.entities,!1).map(e=>e.entity):[]}willUpdate(e){var t;e.has("_configEntities")&&!(0,h.b)(this._configEntities,e.get("_configEntities"))&&(this._metaDatas=void 0,null!==(t=this._configEntities)&&void 0!==t&&t.length&&this._getStatisticsMetaData(this._configEntities))}render(){var e,t;if(!this.hass||!this._config)return o.s6;const a=this._schema(this.hass.localize,this._configEntities,this._metaDatas,void 0!==this._config.min_y_axis||void 0!==this._config.max_y_axis),s=this._config.stat_types?(0,c.e)(this._config.stat_types):z.filter(e=>{var t;return null===(t=this._metaDatas)||void 0===t?void 0:t.some(t=>(0,v.nN)(t,e))}),i=Object.assign(Object.assign({chart_type:"line",period:"hour"},this._config),{},{stat_types:s}),r=null===(e=this._metaDatas)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.unit_class,n=r||null===(t=this._metaDatas)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.statistics_unit_of_measurement;return(0,o.qy)(f||(f=q` <ha-form .hass="${0}" .data="${0}" .schema="${0}" .computeLabel="${0}" @value-changed="${0}"></ha-form> <ha-statistics-picker allow-custom-entity .hass="${0}" .placeholder="${0}" .label="${0}" .includeStatisticsUnitOfMeasurement="${0}" .includeUnitClass="${0}" .ignoreRestrictionsOnFirstStatistic="${0}" .value="${0}" .configValue="${0}" @value-changed="${0}"></ha-statistics-picker> `),this.hass,i,a,this._computeLabelCallback,this._valueChanged,this.hass,this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.pick_statistic"),this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.picked_statistic"),n,r,!0,this._configEntities,"entities",this._entitiesChanged)}_valueChanged(e){(0,d.r)(this,"config-changed",{config:e.detail.value})}async _entitiesChanged(e){const t=e.detail.value,a=t.map(e=>{const t=this._config.entities.find(t=>"string"!=typeof t&&t.entity===e);return null!=t?t:e}),s=Object.assign(Object.assign({},this._config),{},{entities:a});null!=t&&t.some(e=>(0,v.OQ)(e))&&"5minute"===s.period&&delete s.period;const i=s.stat_types||s.unit?await(0,v.Wr)(this.hass,t):void 0;s.stat_types&&s.entities.length&&(s.stat_types=(0,c.e)(s.stat_types).filter(e=>i.some(t=>(0,v.nN)(t,e))),s.stat_types.length||delete s.stat_types),s.unit&&!i.some(e=>(0,v.JE)(this.hass,null==e?void 0:e.statistic_id,e)===s.unit)&&delete s.unit,(0,d.r)(this,"config-changed",{config:s})}constructor(...e){super(...e),this._getStatisticsMetaData=async e=>{this._metaDatas=await(0,v.Wr)(this.hass,e||[])},this._schema=(0,n.A)((e,t,a,s)=>{const i=new Set;null==a||a.forEach(e=>{const t=(0,v.JE)(this.hass,e.statistic_id,e);t&&i.add(t)});const o=[{name:"title",selector:{text:{}}},{name:"",type:"grid",schema:[{name:"period",required:!0,selector:{select:{options:$.map(a=>({value:a,label:e(`ui.panel.lovelace.editor.card.statistics-graph.periods.${a}`),disabled:"5minute"===a&&(null==t?void 0:t.some(e=>(0,v.OQ)(e)))}))}}},{name:"days_to_show",default:b.DEFAULT_DAYS_TO_SHOW,selector:{number:{min:1,mode:"box"}}},{name:"stat_types",required:!0,selector:{select:{multiple:!0,mode:"list",options:z.map(t=>({value:t,label:e(`ui.panel.lovelace.editor.card.statistics-graph.stat_type_labels.${t}`),disabled:!a||!a.some(e=>(0,v.nN)(e,p.n[t]))}))}}},{name:"chart_type",required:!0,type:"select",options:[["line",e("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.line")],["bar",e("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.bar")]]},{name:"",type:"grid",schema:[{name:"min_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}},{name:"max_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}}]},...s?[{name:"fit_y_data",required:!1,selector:{boolean:{}}}]:[],{name:"hide_legend",required:!1,selector:{boolean:{}}},{name:"logarithmic_scale",required:!1,selector:{boolean:{}}}]}];return i.size>1&&o[1].schema.push({name:"unit",required:!1,selector:{select:{options:Array.from(i).map(e=>({value:e,label:e}))}}}),o}),this._computeLabelCallback=e=>{switch(e.name){case"chart_type":case"stat_types":case"period":case"unit":case"hide_legend":case"logarithmic_scale":case"min_y_axis":case"max_y_axis":case"fit_y_data":return this.hass.localize(`ui.panel.lovelace.editor.card.statistics-graph.${e.name}`);default:return this.hass.localize(`ui.panel.lovelace.editor.card.generic.${e.name}`)}}}}C.styles=(0,o.AH)(x||(x=q`ha-statistics-picker{width:100%}`)),(0,i.__decorate)([(0,r.MZ)({attribute:!1})],C.prototype,"hass",void 0),(0,i.__decorate)([(0,r.wk)()],C.prototype,"_config",void 0),(0,i.__decorate)([(0,r.wk)()],C.prototype,"_configEntities",void 0),(0,i.__decorate)([(0,r.wk)()],C.prototype,"_metaDatas",void 0),C=(0,i.__decorate)([(0,r.EM)("hui-statistics-graph-card-editor")],C),s()}catch(f){s(f)}})},84698:function(e,t,a){a.d(t,{H:function(){return i}});var s=a(63533);const i=(0,s.Ik)({type:(0,s.Yj)(),view_layout:(0,s.bz)(),layout_options:(0,s.bz)(),grid_options:(0,s.bz)(),visibility:(0,s.bz)(),disabled:(0,s.lq)((0,s.zM)())})},20507:function(e,t,a){a.d(t,{l:function(){return n}});var s=a(63533),i=a(9169),o=a(91408),r=a(44155);const n=(0,s.KC)([(0,s.Ik)({entity:(0,s.Yj)(),name:(0,s.lq)(r.q),icon:(0,s.lq)((0,s.Yj)()),image:(0,s.lq)((0,s.Yj)()),secondary_info:(0,s.lq)((0,s.Yj)()),format:(0,s.lq)((0,s.vP)(i.j)),state_color:(0,s.lq)((0,s.zM)()),tap_action:(0,s.lq)(o.kn),hold_action:(0,s.lq)(o.kn),double_tap_action:(0,s.lq)(o.kn),confirmation:(0,s.lq)(o.dk),show_last_changed:(0,s.lq)((0,s.zM)()),show_state:(0,s.lq)((0,s.zM)())}),(0,s.Yj)()])},96229:function(e,t,a){a.d(t,{k:function(){return h}});a(23792),a(62953);var s=a(40445),i=(a(83461),a(96196)),o=a(77845),r=a(99591);let n,l,c,d=e=>e;class h extends r.v{get primaryId(){return this.href?"link":"button"}get rippleDisabled(){return!this.href&&(this.disabled||this.softDisabled)}getContainerClasses(){return Object.assign(Object.assign({},super.getContainerClasses()),{},{disabled:!this.href&&(this.disabled||this.softDisabled),elevated:this.elevated,link:!!this.href})}renderPrimaryAction(e){const{ariaLabel:t}=this;return this.href?(0,i.qy)(n||(n=d` <a class="primary action" id="link" aria-label="${0}" href="${0}" download="${0}" target="${0}">${0}</a> `),t||i.s6,this.href,this.download||i.s6,this.target||i.s6,e):(0,i.qy)(l||(l=d` <button class="primary action" id="button" aria-label="${0}" aria-disabled="${0}" ?disabled="${0}" type="button">${0}</button> `),t||i.s6,this.softDisabled||i.s6,this.disabled&&!this.alwaysFocusable,e)}renderOutline(){return this.elevated?(0,i.qy)(c||(c=d`<md-elevation part="elevation"></md-elevation>`)):super.renderOutline()}constructor(){super(...arguments),this.elevated=!1,this.href="",this.download="",this.target=""}}(0,s.__decorate)([(0,o.MZ)({type:Boolean})],h.prototype,"elevated",void 0),(0,s.__decorate)([(0,o.MZ)()],h.prototype,"href",void 0),(0,s.__decorate)([(0,o.MZ)()],h.prototype,"download",void 0),(0,s.__decorate)([(0,o.MZ)()],h.prototype,"target",void 0)},26069:function(e,t,a){a.d(t,{R:function(){return i}});let s;const i=(0,a(96196).AH)(s||(s=(e=>e)`:host{--_container-height:var(--md-assist-chip-container-height, 32px);--_disabled-label-text-color:var(--md-assist-chip-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-assist-chip-disabled-label-text-opacity, 0.38);--_elevated-container-color:var(--md-assist-chip-elevated-container-color, var(--md-sys-color-surface-container-low, #f7f2fa));--_elevated-container-elevation:var(--md-assist-chip-elevated-container-elevation, 1);--_elevated-container-shadow-color:var(--md-assist-chip-elevated-container-shadow-color, var(--md-sys-color-shadow, #000));--_elevated-disabled-container-color:var(--md-assist-chip-elevated-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_elevated-disabled-container-elevation:var(--md-assist-chip-elevated-disabled-container-elevation, 0);--_elevated-disabled-container-opacity:var(--md-assist-chip-elevated-disabled-container-opacity, 0.12);--_elevated-focus-container-elevation:var(--md-assist-chip-elevated-focus-container-elevation, 1);--_elevated-hover-container-elevation:var(--md-assist-chip-elevated-hover-container-elevation, 2);--_elevated-pressed-container-elevation:var(--md-assist-chip-elevated-pressed-container-elevation, 1);--_focus-label-text-color:var(--md-assist-chip-focus-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-label-text-color:var(--md-assist-chip-hover-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-color:var(--md-assist-chip-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity:var(--md-assist-chip-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-assist-chip-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_label-text-font:var(--md-assist-chip-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-assist-chip-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size:var(--md-assist-chip-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight:var(--md-assist-chip-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-label-text-color:var(--md-assist-chip-pressed-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_pressed-state-layer-color:var(--md-assist-chip-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_pressed-state-layer-opacity:var(--md-assist-chip-pressed-state-layer-opacity, 0.12);--_disabled-outline-color:var(--md-assist-chip-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity:var(--md-assist-chip-disabled-outline-opacity, 0.12);--_focus-outline-color:var(--md-assist-chip-focus-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_outline-color:var(--md-assist-chip-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width:var(--md-assist-chip-outline-width, 1px);--_disabled-leading-icon-color:var(--md-assist-chip-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity:var(--md-assist-chip-disabled-leading-icon-opacity, 0.38);--_focus-leading-icon-color:var(--md-assist-chip-focus-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-leading-icon-color:var(--md-assist-chip-hover-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-icon-color:var(--md-assist-chip-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size:var(--md-assist-chip-icon-size, 18px);--_pressed-leading-icon-color:var(--md-assist-chip-pressed-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_container-shape-start-start:var(--md-assist-chip-container-shape-start-start, var(--md-assist-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-start-end:var(--md-assist-chip-container-shape-start-end, var(--md-assist-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-end:var(--md-assist-chip-container-shape-end-end, var(--md-assist-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-start:var(--md-assist-chip-container-shape-end-start, var(--md-assist-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_leading-space:var(--md-assist-chip-leading-space, 16px);--_trailing-space:var(--md-assist-chip-trailing-space, 16px);--_icon-label-space:var(--md-assist-chip-icon-label-space, 8px);--_with-leading-icon-leading-space:var(--md-assist-chip-with-leading-icon-leading-space, 8px)}@media(forced-colors:active){.link .outline{border-color:ActiveText}}`))},6116:function(e,t,a){a.d(t,{o:function(){return r}});var s=a(6439),i=a(9160),o=a(83339);function r(e,t,a){const r=(0,o.b)(e,t)/i.Cg;return(0,s.u)(null==a?void 0:a.roundingMethod)(r)}}}]);
//# sourceMappingURL=93945.7b2280ea154cb05e.js.map