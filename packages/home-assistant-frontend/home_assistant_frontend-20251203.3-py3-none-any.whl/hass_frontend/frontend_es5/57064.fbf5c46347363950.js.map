{"version":3,"file":"57064.fbf5c46347363950.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/common/util/xss.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/components/chart/ha-sankey-chart.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/components/chips/ha-assist-chip.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/components/trace/hat-graph-const.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/data/recorder.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/mixins/mobile-aware-mixin.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/resources/echarts/components/sankey/sankey-layout.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/resources/echarts/components/sankey/sankey-view.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/resources/echarts/components/sankey/sankey-path.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/resources/echarts/components/sankey/install.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/util/is_mobile.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.3/src/util/text.ts"],"names":["COLORS_COUNT","getColorByIndex","index","style","colorIndex","getPropertyValue","getGraphColorByIndex","themeColor","theme2hex","getAllGraphColors","memoizeOne","Array","from","length","_","newArgs","lastArgs","filterXSS","html","xss","whiteList","stripIgnoreTag","stripIgnoreTagBody","OVERFLOW_MARGIN","FONT_SIZE","NODE_GAP","LABEL_DISTANCE","HaSankeyChart","LitElement","render","_this$_sizeController","options","grid","top","bottom","left","right","tooltip","trigger","formatter","this","_renderTooltip","appendTo","document","body","_t","_createData","data","_sizeController","value","width","SankeyChart","_processLinks","nodes","rawLinks","accountedIn","Map","accountedOut","links","forEach","link","_link$value","sourceNode","find","n","id","source","targetNode","target","sourceAccounted","get","targetAccounted","sourceRemaining","targetRemaining","Math","min","set","push","Object","assign","_findParentIndex","sections","_links$find","parent","l","offset","i","section","findIndex","args","vertical","ResizeController","callback","entries","_entries$","contentRect","params","valueFormatter","_node$label","node","marker","label","_source$label","_target$label","filteredNodes","filter","indexes","Set","map","sort","depthMap","nodesWithIndex","a","b","aParentIndex","bParentIndex","labelSpace","NODE_SIZE","type","flat","itemStyle","color","depth","draggable","orient","nodeWidth","nodeGap","lineStyle","opacity","curveness","layoutIterations","animationDuration","_data$nodes$find$labe","_data$nodes$find","position","distance","minMargin","overflow","labelLayout","longestWord","text","split","reduce","longest","current","wordWidth","measureTextWidth","availableWidth","rect","fontSize","align","dy","availableHeight","height","labelRect","lineHeight","emphasis","focus","styles","css","_t2","attribute","Boolean","String","HaAssistChip","AssistChip","renderOutline","filled","super","getContainerClasses","active","renderPrimaryContent","renderLeadingIcon","renderTrailingIcon","_t3","sharedStyles","elevatedStyles","_t4","reflect","SPACING","BRANCH_HEIGHT","StatisticMeanType","STATISTIC_TYPES","VOLUME_UNITS","getRecorderInfo","conn","sendMessagePromise","getStatisticIds","hass","statistic_type","callWS","getStatisticMetadata","statistic_ids","fetchStatistics","startTime","endTime","period","units","types","start_time","toISOString","end_time","fetchStatistic","statistic_id","fixed_period","start","Date","end","undefined","calendar","first_weekday","firstWeekday","locale","substring","rolling_window","validateStatistics","updateStatisticsMetadata","unit_of_measurement","unit_class","clearStatistics","calculateStatisticSumGrowth","values","growth","change","calculateStatisticsSumGrowth","stats","totalGrowth","stat","statGrowth","statisticsHaveType","some","mean_stat_types","sum_stat_types","statisticsMetaHasType","metadata","includes","mean_type","has_sum","adjustStatisticsSum","adjustment","adjustment_unit_of_measurement","start_time_iso","getStatisticLabel","statisticsId","statisticsMetaData","entity","states","computeStateName","name","getDisplayUnit","unit","_hass$states$statisti","attributes","statistics_unit_of_measurement","isExternalStatistic","updateStatisticsIssues","MobileAwareMixin","superClass","MobileAwareClass","connectedCallback","_unsubMql","listenMediaQuery","matches","_isMobileSize","disconnectedCallback","_this$_unsubMql","call","_isMobileClient","isMobileClient","isPassThroughNode","MIN_SIZE","sankeyLayout","ecModel","_api","eachSeriesByType","seriesModel","refContainer","createBoxLayoutReference","graph","getGraph","edges","getLayout","depths","hostGraph","getRawDataItem","dataIndex","passThroughNodes","edge","passThroughNodeIds","sourceInfo","getNodeDepthInfo","node1","targetInfo","node2","edgeValue","edgeItem","edgeData","getEdgeValue","passThroughSections","sourceDepthIndex","targetDepthIndex","slice","getPassThroughSections","depthIndex","sourceId","targetId","passThrough","createPassThroughNode","processEdgeForPassThrough","generatePassThroughNodes","processedNodes","sectionSize","sectionDepthSize","calculateSectionDimensions","nodesPerSection","groupNodesBySection","sortedNodesPerSection","sortedSections","sortedNodes","aIsPassthrough","bIsPassthrough","prevDepth","prevSection","aSourceIndex","bSourceIndex","nextDepth","nextSection","aTargetIndex","bTargetIndex","sortNodesInSections","globalValueToSizeRatio","sectionNodes","x","y","dx","size","createSectionNodes","availableSpace","totalValue","acc","sizedNodes","valueToSizeRatio","sectionValueToSizeRatio","setNodeSizes","totalSize","max","floor","sum","emptySpace","positionNodesInSection","flatMap","processNodes","coords","breadth","breadthSize","depthSize","getCoordinateSystem","curveType","setLayout","applyNodeDimensions","outEdges","edgeSize","applyEdgeSizes","inEdges","sortEdgesByTargetPosition","positionOutEdges","passthroughPoints","nodeId","passthroughNode","generatePassThroughPoints","targets","positionInEdges","applyLayout","layoutSankey","prevValueToSizeRatio","deficitHeight","result","SankeyView","EchartsSankeyView","api","getData","eachEdge","edgeLayout","getModel","echartsCurve","getItemGraphicEl","buildPath","ctx","shape","_shape$targets","moveTo","lastPoint","points","point","prevPoint","bezierCurveTo","lineTo","closePath","dirtyShape","install","registers","registerLayout","registerChartView","test","navigator","userAgent","textMeasureCanvas","fontFamily","createElement","context","getContext","font","textMetrics","measureText","ceil","actualBoundingBoxRight","actualBoundingBoxLeft"],"mappings":"uPAIO,MAAMA,EAAe,GAErB,SAASC,EACdC,EACAC,GAGA,MAAMC,EAAaF,EAASF,EAAgB,EAC5C,OAAOG,EAAME,iBAAiB,WAAWD,IAC3C,CAEO,SAASE,EACdJ,EACAC,GAGA,MAAMI,EACJJ,EAAME,iBAAiB,iBAAiBH,EAAQ,MAChDD,EAAgBC,EAAOC,GACzB,OAAOK,EAAAA,EAAAA,IAAUD,EACnB,CAEO,MAAME,GAAoBC,EAAAA,EAAAA,GAC9BP,GACCQ,MAAMC,KAAK,CAAEC,OAAQb,GAAgB,CAACc,EAAGZ,IACvCI,EAAqBJ,EAAOC,IAEhC,CAACY,EAAgCC,IAE/BD,EAAQ,GAAGV,iBAAiB,qBAC1BW,EAAS,GAAGX,iBAAiB,oBAC/BU,EAAQ,GAAGV,iBAAiB,eAC1BW,EAAS,GAAGX,iBAAiB,a,gFClC5B,MAAMY,EAAaC,GACxBC,IAAID,EAAM,CACRE,UAAW,CAAC,EACZC,gBAAgB,EAChBC,oBAAoB,G,yZCiCxB,MAAMC,EAAkB,EAClBC,EAAY,GACZC,EAAW,EACXC,EAAiB,EAGhB,MAAMC,UAAsBC,EAAAA,GAoBjCC,MAAAA,GAAS,IAAAC,EACP,MAAMC,EAAU,CACdC,KAAM,CACJC,IAAK,EACLC,OAAQ,EACRC,KAAM,EACNC,MAAO,GAETC,QAAS,CACPC,QAAS,OACTC,UAAWC,KAAKC,eAChBC,SAAUC,SAASC,OAIvB,OAAO1B,EAAAA,EAAAA,IAAI2B,IAAAA,EAAA/B,CAAA,sGACD0B,KAAKM,YAAYN,KAAKO,KAAgC,QAA5BjB,EAAEU,KAAKQ,gBAAgBC,aAAK,IAAAnB,OAAA,EAA1BA,EAA4BoB,OACrDnB,EAEQ,CAACoB,EAAAA,GAExB,CA2IQC,aAAAA,CAAcC,EAAeC,GACnC,MAAMC,EAAc,IAAIC,IAClBC,EAAe,IAAID,IACnBE,EAAyB,GA8B/B,OA7BAJ,EAASK,QAASC,IAAA,IAAAC,EAChB,MAAMC,EAAaT,EAAMU,KAAMC,GAAMA,EAAEC,KAAOL,EAAKM,QAC7CC,EAAad,EAAMU,KAAMC,GAAMA,EAAEC,KAAOL,EAAKQ,QACnD,IAAKN,IAAeK,EAClB,OAEF,MAAME,EAAkBZ,EAAaa,IAAIR,EAAWG,KAAO,EACrDM,EAAkBhB,EAAYe,IAAIH,EAAWF,KAAO,EAGpDO,EAAkBV,EAAWb,MAAQoB,EACrCI,EAAkBN,EAAWlB,MAAQsB,EAErCtB,EAAQyB,KAAKC,IACP,QADUd,EACpBD,EAAKX,aAAK,IAAAY,EAAAA,EAAIW,EACdA,EACAC,GAGFlB,EAAYqB,IAAIT,EAAWF,GAAIM,EAAkBtB,GACjDQ,EAAamB,IAAId,EAAWG,GAAII,EAAkBpB,GAE9CA,EAAQ,GACVS,EAAMmB,KAAIC,OAAAC,OAAAD,OAAAC,OAAC,CAAC,EACPnB,GAAI,IACPX,aAICS,CACT,CAEQsB,gBAAAA,CAAiBf,EAAYP,EAAeuB,GAAoB,IAAAC,EACtE,MAAMC,EAAwC,QAAxCD,EAASxB,EAAMK,KAAMqB,GAAMA,EAAEhB,SAAWH,UAAA,IAAAiB,OAAA,EAA/BA,EAAoChB,OACnD,IAAKiB,EACH,OAAQ,EAEV,IAAIE,EAAS,EACb,IAAK,IAAIC,EAAIL,EAASpE,OAAS,EAAGyE,GAAK,EAAGA,IAAK,CAC7C,MAAMC,EAAUN,EAASK,GACnBpF,EAAQqF,EAAQC,UAAWxB,GAAMA,EAAEC,KAAOkB,GAChD,IAAe,IAAXjF,EACF,OAAOmF,EAASnF,EAElBmF,GAAUE,EAAQ1E,MACpB,CACA,OAAQ,CACV,C,kBAvOK,SAAA4E,GAAA,KAGkC1C,KAAwB,CAC7DM,MAAO,GACPK,MAAO,IACT,KAEoCgC,UAAW,OAQ9B1C,gBAAkB,IAAI2C,EAAAA,EAAiBnD,KAAM,CAC5DoD,SAAWC,IAAA,IAAAC,EAAA,OAAsB,QAAtBA,EAAYD,EAAQ,UAAE,IAAAC,OAAA,EAAVA,EAAYC,eACrC,KAyBQtD,eAAkBuD,IACxB,MAAMjD,EAAOiD,EAAOjD,KACdE,EAAQT,KAAKyD,eACfzD,KAAKyD,eAAelD,EAAKE,OACzBF,EAAKE,MACT,GAAIF,EAAKkB,GAAI,KAAAiC,EACX,MAAMC,EAAO3D,KAAKO,KAAKM,MAAMU,KAAMC,GAAMA,EAAEC,KAAOlB,EAAKkB,IACvD,MAAO,GAAG+B,EAAOI,WAAUnF,EAAAA,EAAAA,GAAgB,QAAhBiF,EAAUC,aAAA,EAAAA,EAAME,aAAA,IAAAH,EAAAA,EAASnD,EAAKkB,UAAUhB,GACrE,CACA,GAAIF,EAAKmB,QAAUnB,EAAKqB,OAAQ,KAAAkC,EAAAC,EAC9B,MAAMrC,EAAS1B,KAAKO,KAAKM,MAAMU,KAAMC,GAAMA,EAAEC,KAAOlB,EAAKmB,QACnDE,EAAS5B,KAAKO,KAAKM,MAAMU,KAAMC,GAAMA,EAAEC,KAAOlB,EAAKqB,QACzD,MAAO,IAAGnD,EAAAA,EAAAA,GAAkB,QAAlBqF,EAAUpC,aAAA,EAAAA,EAAQmC,aAAA,IAAAC,EAAAA,EAASvD,EAAKmB,cAAajD,EAAAA,EAAAA,GAAkB,QAAlBsF,EAAUnC,aAAA,EAAAA,EAAQiC,aAAA,IAAAE,EAAAA,EAASxD,EAAKqB,cAAcnB,GACvG,CACA,OAAO,MACT,KAEQH,aAAcpC,EAAAA,EAAAA,GAAW,CAACqC,EAAuBG,EAAQ,KAC/D,MAAMsD,EAAgBzD,EAAKM,MAAMoD,OAAQzC,GAAMA,EAAEf,MAAQ,GACnDyD,EAAU,IAAI,IAAIC,IAAIH,EAAcI,IAAK5C,GAAMA,EAAE9D,SAAS2G,OAC1DC,EAAW,IAAItD,IACfyB,EAAqB,GAC3ByB,EAAQ/C,QAAQ,CAACzD,EAAOoF,KACtBwB,EAASlC,IAAI1E,EAAOoF,GACpB,MAAMyB,EAAiBP,EAAcC,OAAQzC,GAAMA,EAAE9D,QAAUA,GAC3D6G,EAAelG,OAAS,GAC1BoE,EAASJ,KACPI,EAASpE,OAAS,EACdkG,EAAeF,KAAK,CAACG,EAAGC,KAEtB,MAAMC,EAAe1E,KAAKwC,iBACxBgC,EAAE/C,GACFlB,EAAKW,MACLuB,GAEIkC,EAAe3E,KAAKwC,iBACxBiC,EAAEhD,GACFlB,EAAKW,MACLuB,GAEF,OAAIiC,IAAiBC,EACZ,GAEa,IAAlBD,EACK,GAEa,IAAlBC,GACM,EAEHD,EAAeC,IAExBJ,KAIV,MAAMrD,EAAQlB,KAAKY,cAAcoD,EAAezD,EAAKW,OAE/C0D,EADelE,EAAQwD,EAAQ7F,OACHwG,EAAAA,GAAY3F,EAE9C,MAAO,CACLuC,GAAI,SACJqD,KAAM,SACNjE,MAAO4B,EAASsC,OAAOX,IAAKT,IAAA,CAC1BlC,GAAIkC,EAAKlC,GACThB,MAAOkD,EAAKlD,MACZuE,UAAW,CACTC,MAAOtB,EAAKsB,OAEdC,MAAOZ,EAASxC,IAAI6B,EAAKjG,UAE3BwD,QACAiE,WAAW,EACXC,OAAQpF,KAAKkD,SAAW,WAAa,aACrCmC,UAAW,GACXC,QAASrG,EACTsG,UAAW,CACTN,MAAO,WACPO,QAAS,GACTC,UAAW,IAEbC,iBAAkB,EAClBC,kBAAmB,IACnB9B,MAAO,CACL9D,UAAYyD,IAAA,IAAAoC,EAAAC,EAAA,OAEN,QAFMD,EACoD,QADpDC,EACVtF,EAAKM,MAAMU,KAAMoC,GAASA,EAAKlC,KAAO+B,EAAQjD,KAAckB,WAAE,IAAAoE,OAAA,EAA9DA,EACIhC,aAAA,IAAA+B,EAAAA,EAASpC,EAAQjD,KAAckB,IACrCqE,SAAU9F,KAAKkD,SAAW,SAAW,QACrC6C,SAAU7G,EACV8G,UAAW,EACXC,SAAU,SAEZC,YAAc1C,IACZ,GAAIxD,KAAKkD,SAAU,CAEjB,MAAMiD,EAAc3C,EAAO4C,KACxBC,MAAM,KACNC,OACC,CAACC,EAASC,IACRD,EAAQlI,OAASmI,EAAQnI,OAASkI,EAAUC,EAC9C,IAEEC,GAAYC,EAAAA,EAAAA,GAAiBP,EAAanH,GAC1C2H,EAAiBnD,EAAOoD,KAAKlG,MAAQ,EACrCmG,EAAW3E,KAAKC,IACpBnD,EACA2H,EAAkBF,EAAazH,GAEjC,MAAO,CACL6H,SAAUA,EAAW,EAAIA,EAAW,EACpCnG,MAAOiG,EACPG,MAAO,SACPC,IAAK,EAET,CAEA,MAAMC,EAAkBxD,EAAOoD,KAAKK,OAAS,EACvCJ,EAAW3E,KAAKC,IACpB6E,EAAmBxD,EAAO0D,UAAUD,OAAUjI,EAC9CA,GAEF,MAAO,CACL6H,WACAM,WAAYN,EACZnG,MAAOkE,EACPqC,OAAQzD,EAAOoD,KAAKK,SAGxBxH,IAAKO,KAAKkD,SAAW,EAAInE,EACzBW,OAAQM,KAAKkD,SAAW,GAAKnE,EAC7BY,KAAMK,KAAKkD,SAAWnE,EAAkB,EACxCa,MAAOI,KAAKkD,SAAWnE,EAAkB6F,EAAa1F,EACtDkI,SAAU,CACRC,MAAO,e,EA/KFlI,EAyOJmI,QAASC,EAAAA,EAAAA,IAAGC,IAAAA,EAAAlJ,CAAA,uJ,2BAxOPmJ,WAAW,K,uDAEXA,WAAW,K,uDAKX3C,KAAM4C,W,2DAEN5C,KAAM6C,OAAQF,WAAW,K,+TC5ChC,MAAMG,UAAqBC,EAAAA,EAwDbC,aAAAA,GACjB,OAAI9H,KAAK+H,QACArJ,EAAAA,EAAAA,IAAI2B,IAAAA,EAAA/B,CAAA,iCAGN0J,MAAMF,eACf,CAEmBG,mBAAAA,GACjB,OAAA3F,OAAAC,OAAAD,OAAAC,OAAA,GACKyF,MAAMC,uBAAqB,IAC9BC,OAAQlI,KAAKkI,QAEjB,CAEmBC,oBAAAA,GACjB,OAAOzJ,EAAAA,EAAAA,IAAI8I,IAAAA,EAAAlJ,CAAA,kMAEL0B,KAAKoI,oBAEapI,KAAK6D,MAGvB7D,KAAKqI,qBAGb,CAEUA,kBAAAA,GACR,OAAO3J,EAAAA,EAAAA,IAAI4J,IAAAA,EAAAhK,CAAA,sCACb,C,kBAtFK,SAAA2E,GAAA,KACuC8E,QAAS,OAExBG,QAAS,C,EAH3BN,EAKKN,OAAS,CACvBiB,EAAAA,EACAC,EAAAA,EACAlB,EAAAA,GACAC,EAAAA,EAAAA,IAAGkB,IAAAA,EAAAnK,CAAA;;;o2BAROwG,KAAM4C,QAASgB,SAAS,K,yDAExB5D,KAAM4C,W,wLCdb,MAAMiB,EAAU,GACV9D,EAAY,GACZ+D,EAAgB,E,woBCqCtB,IAAKC,EAAA,SAAAA,G,oFAAAA,C,CAAA,C,IAgBL,MAAMC,EAAwD,CACnE,sBACA,4BACA,sBACA,gBACA,oBACA,YAoDWC,EAAe,CAAC,IAAK,MAAO,MAAO,KAAM,MAAO,OAmChDC,EAAmBC,GAC9BA,EAAKC,mBAAiC,CACpCpE,KAAM,kBAGGqE,EAAkBA,CAC7BC,EACAC,IAEAD,EAAKE,OAA6B,CAChCxE,KAAM,8BACNuE,mBAGSE,EAAuBA,CAClCH,EACAI,IAEAJ,EAAKE,OAA6B,CAChCxE,KAAM,mCACN0E,kBAGSC,EAAkBA,CAC7BL,EACAM,EACAC,EACAH,EACAI,EAAwD,OACxDC,EACAC,IAEAV,EAAKE,OAAmB,CACtBxE,KAAM,oCACNiF,WAAYL,EAAUM,cACtBC,SAAUN,aAAA,EAAAA,EAASK,cACnBR,gBACAI,SACAC,QACAC,UAGSI,EAAiBA,CAC5Bd,EACAe,EACAP,EAKAC,IAEAT,EAAKE,OAAkB,CACrBxE,KAAM,mCACNqF,eACAN,QACAO,aAAcR,EAAOQ,aACjB,CACEL,WACEH,EAAOQ,aAAaC,iBAAiBC,KACjCV,EAAOQ,aAAaC,MAAML,cAC1BJ,EAAOQ,aAAaC,MAC1BJ,SACEL,EAAOQ,aAAaG,eAAeD,KAC/BV,EAAOQ,aAAaG,IAAIP,cACxBJ,EAAOQ,aAAaG,UAE5BC,EACJC,SAAUb,EAAOa,SAAQnI,OAAAC,OAAAD,OAAAC,OAAA,GAEY,SAA3BqH,EAAOa,SAASb,OAChB,CAAEc,eAAeC,EAAAA,EAAAA,GAAavB,EAAKwB,QAAQC,UAAU,EAAG,IACxD,CAAC,GACFjB,EAAOa,eAEZD,EACJM,eAAgBlB,EAAOkB,iBAGdC,EAAsB3B,GACjCA,EAAKE,OAAoC,CACvCxE,KAAM,iCAGGkG,EAA2BA,CACtC5B,EACAe,EACAc,EACAC,IAEA9B,EAAKE,OAAkB,CACrBxE,KAAM,sCACNqF,eACAc,sBACAC,eAGSC,EAAkBA,CAAC/B,EAAqBI,IACnDJ,EAAKE,OAAkB,CACrBxE,KAAM,4BACN0E,kBAGS4B,EACXC,IAEA,IAAIC,EAAwB,KAE5B,IAAKD,EACH,OAAO,KAGT,IAAK,MAAM5K,KAAS4K,EACG,OAAjB5K,EAAM8K,aAAoCf,IAAjB/J,EAAM8K,SAGpB,OAAXD,EACFA,EAAS7K,EAAM8K,OAEfD,GAAU7K,EAAM8K,QAIpB,OAAOD,GAGIE,EAA+BA,CAC1CjL,EACAkL,KAEA,IAAIC,EAA6B,KAEjC,IAAK,MAAMC,KAAQF,EAAO,CACxB,KAAME,KAAQpL,GACZ,SAEF,MAAMqL,EAAaR,EAA4B7K,EAAKoL,IAEjC,OAAfC,IAGgB,OAAhBF,EACFA,EAAcE,EAEdF,GAAeE,EAEnB,CAEA,OAAOF,GAGIG,EAAqBA,CAChCJ,EACA3G,IACG2G,EAAMK,KAAMH,QAAwBnB,IAAfmB,EAAK7G,IAAsC,OAAf6G,EAAK7G,IAErDiH,EAA4C,CAAC,OAAQ,MAAO,OAC5DC,EAA2C,CAAC,MAAO,QAAS,UAErDC,EAAwBA,CACnCC,EACApH,OAGEiH,EAAgBI,SAASrH,IACF,IAAvBoH,EAASE,eAIPJ,EAAeG,SAASrH,KAASoH,EAASG,SAMnCC,EAAsBA,CACjClD,EACAe,EACAJ,EACAwC,EACAC,KAEA,MAAMC,EAAiB,IAAInC,KAAKP,GAAYC,cAC5C,OAAOZ,EAAKE,OAAkB,CAC5BxE,KAAM,iCACNqF,eACAJ,WAAY0C,EACZF,aACAC,oCAISE,EAAoBA,CAC/BtD,EACAuD,EACAC,KAEA,MAAMC,EAASzD,EAAK0D,OAAOH,GAC3B,OAAIE,GACKE,EAAAA,EAAAA,GAAiBF,IAEnBD,aAAA,EAAAA,EAAoBI,OAAQL,GAGxBM,EAAiBA,CAC5B7D,EACAuD,EACAC,KAEA,IAAIM,EACc,IAAAC,EAAdR,IACFO,EAAgC,QAAhCC,EAAO/D,EAAK0D,OAAOH,UAAa,IAAAQ,OAAA,EAAzBA,EAA2BC,WAAWnC,qBAE/C,YAAgBT,IAAT0C,EACHN,aAAA,EAAAA,EAAoBS,+BACpBH,GAGOI,EAAuBX,GAClCA,EAAaR,SAAS,KAEXoB,EAA0BnE,GACrCA,EAAKE,OAAkB,CAAExE,KAAM,sC,8IC5W1B,MAAM0I,EACXC,IAEA,MAAMC,UAAyBD,EAOtBE,iBAAAA,GACL3F,MAAM2F,oBACN3N,KAAK4N,WAAYC,EAAAA,EAAAA,GACf,0DACCC,IACC9N,KAAK+N,cAAgBD,GAG3B,CAEOE,oBAAAA,GAAuB,IAAAC,EAC5BjG,MAAMgG,uBACQ,QAAdC,EAAAjO,KAAK4N,iBAAS,IAAAK,GAAdA,EAAAC,KAAAlO,MACAA,KAAK4N,eAAYpD,CACnB,C,kBArBF,SAAAvH,GAAA,KACqB8K,eAAgB,OAEzBI,gBAAkBC,EAAAA,C,EAoB9B,O,iEAAOV,E,gRCKF,SAASW,EAAkB1K,GAChC,MAAO,gBAAiBA,CAC1B,CAEA,MAAM2K,EAAW,EAiBF,SAASC,EAAaC,EAAsBC,GACzDD,EAAQE,iBAAiB,SAAYC,IACnC,GAAqC,YAAjCA,EAAY7M,IAAI,aAElB,OAGF,MAAMuD,EAAYsJ,EAAY7M,IAAI,aAC5BwD,EAAUqJ,EAAY7M,IAAI,WAE1B8M,GAAeC,EAAAA,EAAAA,IACnBF,EACAF,GACAG,cAEI,MAAElO,EAAK,OAAEuG,GAAW2H,EAEpBE,EAAQH,EAAYI,YAW9B,SACElO,EACAmO,EACA3J,EACAC,EACA5E,EACAuG,EACA7B,GAEA,MAAMpB,EAAgBnD,EAAMoD,OAAQN,GAASA,EAAKsL,YAAYxO,MAAQ,GAChEyO,EAAS,IACV,IAAI/K,IACLH,EAAcI,IACX5C,GACCA,EAAG2N,UAAU5O,KAAK6O,eAAe5N,EAAE6N,WAChCnK,OAAS,KAGlBb,OACIiL,EAgGR,SAAkCJ,EAAkBF,GAClD,MAAMM,EAAsC,GAY5C,OAVAN,EAAM7N,QAASoO,IACb,MAAMC,EA5CV,SACED,EACAL,EACAI,GAEA,GAA+B,IAA3BC,EAAKN,YAAYxO,MACnB,MAAO,GAGT,MAAMgP,EAAaC,EAAiBH,EAAKI,MAAOT,GAC1CU,EAAaF,EAAiBH,EAAKM,MAAOX,GAC1CY,EA1CD,SAAsBP,GAC3B,MAAMQ,EAAWR,EAAKJ,UAAUa,SAASZ,eACvCG,EAAKF,WAEP,OAAOU,EAAStP,KAClB,CAqCoBwP,CAAaV,GAEzBW,EArCD,SACLC,EACAC,EACAlB,GAEA,OAAOA,EAAOmB,MAAMF,EAAmB,EAAGC,EAC5C,CA+B8BE,CAC1Bb,EAAWc,WACXX,EAAWW,WACXrB,GAGI5N,EAAaiO,EAAKI,MAAMR,UAAU5O,KAAK6O,eAC3CG,EAAKI,MAAMN,WAEP1N,EAAa4N,EAAKM,MAAMV,UAAU5O,KAAK6O,eAC3CG,EAAKM,MAAMR,WAGPG,EAAqBU,EAAoB9L,IAAKc,IAClD,MAAMvB,EA3CH,SACL6M,EACAC,EACAvL,EACAzE,GAEA,MAAO,CACLiQ,aAAa,EACbjP,GAAI,GAAG+O,KAAYC,KAAYvL,IAC/BzE,QACAyE,QACAsL,WACAC,WAEJ,CA6BiBE,CACXrP,EAAWG,GACXE,EAAWF,GACXyD,EACA4K,GAGF,OADAR,EAAiBjN,KAAKsB,GACfA,EAAKlC,KAGd,OAAO+N,CACT,CAM+BoB,CACzBrB,EACAL,EACAI,GAEWC,EACRC,mBAAqBA,IAGrBF,CACT,CA9G2BuB,CAAyB3B,EAAQF,GACpD8B,EAoSR,SACEjQ,EACAyO,EACAJ,EACAxO,EACAuG,EACA7B,EACAE,GAEA,MAAM,YAAEyL,EAAW,iBAAEC,GA5EhB,SACL5L,EACA1E,EACAuG,EACAiI,EACA5J,GAEA,MAAMyL,GAA0B,aAAX3L,EAAwB1E,EAAQuG,GAAoB,EAAV3B,EACzD0L,EACO,aAAX5L,EAAwB6B,EAASiI,EAAO7Q,OAASqC,EAAQwO,EAAO7Q,OAElE,MAAO,CAAE0S,cAAaC,mBACxB,CAgE4CC,CACxC7L,EACA1E,EACAuG,EACAiI,EACA5J,GAGI4L,EAtMD,SACLrQ,EACAyO,GAEA,MAAM4B,EAA0C,CAAC,EAmBjD,OAjBArQ,EAAMM,QAASwC,IACb,MAAMuB,EAAQvB,EAAKsL,YAAY/J,MAC1BgM,EAAgBhM,GAGnBgM,EAAgBhM,GAAO7C,KAAKsB,GAF5BuN,EAAgBhM,GAAS,CAACvB,KAM9B2L,EAAiBnO,QAASwC,IACnBuN,EAAgBvN,EAAKuB,OAGxBgM,EAAgBvN,EAAKuB,OAAO7C,KAAKsB,GAFjCuN,EAAgBvN,EAAKuB,OAAS,CAACvB,KAM5BuN,CACT,CA8K0BC,CAAoBtQ,EAAOyO,GAC7C8B,EA7KD,SACLF,EACAhC,GAEA,MAAMmC,EAAyC,CAAC,EAkEhD,OAhEAnC,EAAO/N,QAAQ,CAAC+D,EAAOqL,KACrB,MAGMe,EAAc,IAHCJ,EAAgBhM,IAAU,IAGTb,KAAK,CAACG,EAAGC,KAC7C,MAAM8M,EAAiBlD,EAAkB7J,GACnCgN,EAAiBnD,EAAkB5J,GAGzC,GAAI8M,GAAkBC,EAAgB,CAEpC,GAAIjB,EAAa,EAAG,CAClB,MAAMkB,EAAYvC,EAAOqB,EAAa,GAChCmB,EACJL,EAAeI,IAAcP,EAAgBO,IAAc,GAEvDE,EAAeD,EAAY1O,UAAWxB,IAC3B6M,EAAkB7M,GAAKA,EAAEC,MACtB+C,EAAEgM,UAEhBoB,EAAeF,EAAY1O,UAAWxB,IAC3B6M,EAAkB7M,GAAKA,EAAEC,MACtBgD,EAAE+L,UAGtB,GACEmB,IAAiBC,IACC,IAAlBD,IACkB,IAAlBC,EAEA,OAAOD,EAAeC,CAE1B,CAGA,GAAIrB,EAAarB,EAAO7Q,OAAS,EAAG,CAClC,MAAMwT,EAAY3C,EAAOqB,EAAa,GAChCuB,EAAcZ,EAAgBW,IAAc,GAE5CE,EAAeD,EAAY9O,UAAWxB,IAC3B6M,EAAkB7M,GAAKA,EAAEC,MACtB+C,EAAEiM,UAEhBuB,EAAeF,EAAY9O,UAAWxB,IAC3B6M,EAAkB7M,GAAKA,EAAEC,MACtBgD,EAAEgM,UAGtB,GACEsB,IAAiBC,IACC,IAAlBD,IACkB,IAAlBC,EAEA,OAAOD,EAAeC,CAE1B,CACF,CAEA,OAAO,IAGTX,EAAenM,GAASoM,IAGnBD,CACT,CAsGgCY,CAAoBf,EAAiBhC,GACnE,IAAIgD,EAAyB,EAE7B,MAAMzP,EAAWyM,EAAO9K,IAAKc,IAC3B,MAAMiN,EAxGH,SAA4BtR,GACjC,OAAOA,EAAMuD,IACVT,IAAA,CACCA,OACAlC,GAAIkC,EAAKlC,GACThB,MAAO4N,EAAkB1K,GAAQA,EAAKlD,MAAQkD,EAAKsL,YAAYxO,MAC/D2R,EAAG,EACHC,EAAG,EACHC,GAAI,EACJvL,GAAI,EACJwL,KAAM,IAGZ,CA2FyBC,CAAmBpB,EAAsBlM,IAAU,IAClEuN,EAAiB1B,GAAeoB,EAAa9T,OAAS,GAAKiH,EAC3DoN,EAAaP,EAAa7L,OAC9B,CAACqM,EAAahP,IAAsBgP,EAAMhP,EAAKlD,MAC/C,IAEMI,MAAO+R,EAAYC,iBAAkBC,GAC3CC,EACEZ,EACAM,EACAC,EACAR,GAOJ,OAJIY,EAA0BZ,IAC5BA,EAAyBY,GAGpB,CACLjS,MAAO+R,EACP1N,QACAwN,aACAG,iBAAkBC,KAetB,OAXArQ,EAAStB,QAAQ,CAAC4B,EAASrF,MA3F7B,SACEqF,EAMArF,EACAqT,EACAC,EACAkB,EACA9M,GAEA,IAAI4N,EAAY,EAEZjQ,EAAQ8P,mBAAqBX,EAC/BnP,EAAQlC,MAAMM,QAASwC,IACrB,MAAM4O,EAAOrQ,KAAK+Q,IAChB3E,EACApM,KAAKgR,MAAMvP,EAAKlD,MAAQyR,IAE1Bc,GAAaT,EACb5O,EAAK4O,KAAOA,IAGdS,EAAYjQ,EAAQlC,MAAMyF,OAAO,CAAC6M,EAAKxP,IAASwP,EAAMxP,EAAK4O,KAAM,GAGnE,MAAMa,EAAarC,EAAciC,EACjC,IAAInQ,EAASuQ,GAAcrQ,EAAQlC,MAAMxC,OAAS,GAElD0E,EAAQlC,MAAMM,QAASwC,IACN,aAAXyB,GACFzB,EAAKyO,EAAIvP,EACTc,EAAK0O,EAAI3U,EAAQsT,IAEjBrN,EAAKyO,EAAI1U,EAAQsT,EACjBrN,EAAK0O,EAAIxP,GAEXA,GAAUc,EAAK4O,KAAOa,GAAcrQ,EAAQlC,MAAMxC,OAAS,IAE/D,CAmDIgV,CACEtQ,EACArF,EACAqT,EACAC,EACAkB,EACA9M,KAIG3C,EAAS6Q,QAASvQ,GAAYA,EAAQlC,MAC/C,CAhWyB0S,CACrBvP,EACAsL,EACAJ,EACAxO,EACAuG,EACA7B,EACAE,IAmhBJ,SACEzE,EACAwE,EACAD,GAEA,MAAMoO,EAvlBD,SACLpO,GAEA,MAAkB,aAAXA,EACH,CAAEqO,QAAS,IAAKvO,MAAO,IAAKwO,YAAa,KAAMC,UAAW,MAC1D,CAAEF,QAAS,IAAKvO,MAAO,IAAKwO,YAAa,KAAMC,UAAW,KAChE,CAilBiBC,CAAoBxO,GAC7ByO,EAAuB,aAAXzO,EAAwB,gBAAkB,mBA1J9D,SACEvE,EACAwE,EACAmO,GAEA3S,EAAMM,QAASwC,IACbA,EAAK6P,EAAOE,aAAe/P,EAAK4O,KAChC5O,EAAK6P,EAAOG,WAAatO,EACrBgJ,EAAkB1K,EAAKA,OAG3BA,EAAKA,KAAKmQ,UACR,CAAE1B,EAAGzO,EAAKyO,EAAGC,EAAG1O,EAAK0O,EAAGC,GAAI3O,EAAK2O,GAAIvL,GAAIpD,EAAKoD,KAC9C,IAGN,EA4IEgN,CAAoBlT,EAAOwE,EAAWmO,GA1IxC,SAAwB3S,EAAsB2S,GAC5C3S,EAAMM,QAASwC,IACT0K,EAAkB1K,EAAKA,OAG3BA,EAAKA,KAAKqQ,SAAS7S,QAASoO,IAC1B,MAGM0E,EAHW1E,EAAKJ,UAAUa,SAASZ,eACvCG,EAAKF,WAEqB5O,MAAmBkD,EAAKlD,MAASkD,EAAK4O,KAClEhD,EAAKuE,UACH,CAAE,CAACN,EAAOE,aAAcO,EAAU,CAACT,EAAOG,WAAY,IACtD,MAIR,CA2HEO,CAAerT,EAAO2S,GAzHxB,SACE3S,EACA2S,GAEA3S,EAAMM,QAASwC,IACT0K,EAAkB1K,EAAKA,QAG3BA,EAAKA,KAAKqQ,SAAS3P,KACjB,CAACG,EAAGC,IACFD,EAAEqL,MAAMZ,YAAYuE,EAAOC,SAC3BhP,EAAEoL,MAAMZ,YAAYuE,EAAOC,UAE/B9P,EAAKA,KAAKwQ,QAAQ9P,KAChB,CAACG,EAAGC,IACFD,EAAEmL,MAAMV,YAAYuE,EAAOC,SAC3BhP,EAAEkL,MAAMV,YAAYuE,EAAOC,YAGnC,CAuGEW,CAA0BvT,EAAO2S,GAEjC3S,EAAMM,QAASwC,IACT0K,EAAkB1K,EAAKA,QAtE/B,SACEA,EACAyB,EACAoO,GAEA,GAAInF,EAAkB1K,EAAKA,MACzB,OAEF,IAAId,EAAS,EACbc,EAAKA,KAAKqQ,SAAS7S,QAASoO,IAC1BA,EAAKuE,UACH,CACE1B,EAAc,aAAXhN,EAAwBzB,EAAKyO,EAAIvP,EAASc,EAAKyO,EAAIzO,EAAK2O,GAC3DD,EAAc,aAAXjN,EAAwBzB,EAAK0O,EAAI1O,EAAKoD,GAAKpD,EAAK0O,EAAIxP,IAEzD,GAEFA,GAAU0M,EAAKN,YAAYuE,EAAOE,cAEtC,CAsDIW,CAAiB1Q,EAAMyB,EAAQoO,GApDnC,SACE7P,EACA9C,EACAuE,EACAoO,EACAK,GAEA,GAAIxF,EAAkB1K,EAAKA,MACzB,OAEF,IAAId,EAAS,EACbc,EAAKA,KAAKwQ,QAAQhT,QAASoO,IACzB,MAAM+E,EAnEV,SACE/E,EACA1O,EACAuE,EACAyO,GAEA,MAAMS,EAAgD,GAyBtD,OAvBA/E,EAAKC,mBAAmBrO,QAASoT,IAC/B,MAAMC,EAAkB3T,EAAMU,KAAMC,GAAMA,EAAEC,KAAO8S,GACnDD,EAAkBjS,KAAK,CACrB+P,EAAGoC,EAAgBpC,EACnBC,EAAGmC,EAAgBnC,EACnBvN,KAAM+O,IAGO,aAAXzO,EACFkP,EAAkBjS,KAAK,CACrB+P,EAAGoC,EAAgBpC,EACnBC,EAAGmC,EAAgBnC,EAAImC,EAAgBzN,GACvCjC,KAAM,SAGRwP,EAAkBjS,KAAK,CACrB+P,EAAGoC,EAAgBpC,EAAIoC,EAAgBlC,GACvCD,EAAGmC,EAAgBnC,EACnBvN,KAAM,WAKLwP,CACT,CAmC8BG,CACxBlF,EACA1O,EACAuE,EACAyO,GAGFtE,EAAKuE,UACH,CACEY,QAAS,IACJJ,EACH,CACElC,EAAc,aAAXhN,EAAwBzB,EAAKyO,EAAIvP,EAASc,EAAKyO,EAClDC,EAAc,aAAXjN,EAAwBzB,EAAK0O,EAAI1O,EAAK0O,EAAIxP,EAC7CiC,KAAM+O,MAIZ,GAEFhR,GAAU0M,EAAKN,YAAYuE,EAAOE,cAEtC,CAmBIiB,CAAgBhR,EAAM9C,EAAOuE,EAAQoO,EAAQK,KAEjD,CApiBEe,CAAY9D,EAAgBzL,EAAWD,EACzC,CAlCIyP,CALc/F,EAAMjO,MACNiO,EAAME,MAIO3J,EAAWC,EAAS5E,EAAOuG,EAFvC0H,EAAY7M,IAAI,YAInC,CAkCO,SAAS4N,EACd/L,EACAuL,GAEA,MAGMhK,EAHWvB,EAAKwL,UAAU5O,KAAK6O,eACnCzL,EAAK0L,WAEgBnK,OAAS,EAC1BqL,EAAarB,EAAOlM,UAAWF,GAAMA,IAAMoC,GACjD,MAAO,CAAEA,QAAOqL,aAClB,CA4UO,SAASwC,EACdlS,EACA4R,EACAC,EACAoC,EAAuB,GAEvB,IAAIjC,EAAmBH,EAAaD,EAChCI,EAAmBiC,IACrBjC,EAAmBiC,GAErB,IAAIC,EAAgB,EACpB,MAAMC,EAASnU,EAAMuD,IAAKT,IACxB,GAAIA,EAAK4O,OAASjE,EAChB,OAAO3K,EAET,IAAI4O,EAAOrQ,KAAKgR,MAAMvP,EAAKlD,MAAQoS,GAKnC,OAJIN,EAAOjE,IACTyG,GAAiBzG,EAAWiE,EAC5BA,EAAOjE,GAEThM,OAAAC,OAAAD,OAAAC,OAAA,GACKoB,GAAI,IACP4O,WAGJ,OAAIwC,EAAgB,EACXhC,EACLiC,EACAvC,EAAiBsC,EACjBrC,EACAG,GAGG,CAAEhS,MAAOmU,EAAQnC,mBAC1B,C,eCteA,MAAMoC,UAAmBC,EAAAA,EACvB7V,MAAAA,CACEsP,EACAH,EACA2G,GAEAnN,MAAM3I,OAAOsP,EAAaH,EAAS2G,GACnC,MAAMnF,EAAWrB,EAAYyG,QAAQ,QACvBzG,EAAYI,WAEpBsG,SAAU9F,IACd,MAAM+F,EAAa/F,EAAKN,YAGlBxJ,EAFY8J,EAAKgG,WACUA,SAAS,aACTzT,IAAI,aAE/B0T,EAAexF,EAASyF,iBAAiBlG,EAAKF,WAgBpDmG,EAAaE,UAAaC,GC3BzB,SACLA,EACAC,EACAnQ,GAAiB,IAAAoQ,EAEjB,GAAkB,QAAdA,EAACD,EAAMlB,eAAO,IAAAmB,IAAbA,EAAexX,OAClB,OAEFsX,EAAIG,OAAOF,EAAMxD,EAAGwD,EAAMvD,GAC1B,MAAM0D,EAAYH,EAAMlB,QAAQkB,EAAMlB,QAAQrW,OAAS,GACjD2X,EAAS,CACb,CAAE5D,EAAGwD,EAAMxD,EAAGC,EAAGuD,EAAMvD,EAAGvN,KAAMiR,EAAUjR,SACvC8Q,EAAMlB,SAEX,IAAK,IAAI5R,EAAI,EAAGA,EAAIkT,EAAO3X,OAAQyE,IAAK,CACtC,MAAMmT,EAAQD,EAAOlT,GACfoT,EAAYF,EAAOlT,EAAI,GACV,oBAAfmT,EAAMnR,KACR6Q,EAAIQ,cACFD,EAAU9D,GAAK,EAAI3M,GAAawQ,EAAM7D,EAAI3M,EAC1CyQ,EAAU7D,EACV4D,EAAM7D,GAAK,EAAI3M,GAAayQ,EAAU9D,EAAI3M,EAC1CwQ,EAAM5D,EACN4D,EAAM7D,EACN6D,EAAM5D,GAEgB,kBAAf4D,EAAMnR,KACf6Q,EAAIQ,cACFD,EAAU9D,EACV8D,EAAU7D,GAAK,EAAI5M,GAAawQ,EAAM5D,EAAI5M,EAC1CwQ,EAAM7D,EACN6D,EAAM5D,GAAK,EAAI5M,GAAayQ,EAAU7D,EAAI5M,EAC1CwQ,EAAM7D,EACN6D,EAAM5D,GAGRsD,EAAIS,OAAOH,EAAM7D,EAAG6D,EAAM5D,EAE9B,CACAsD,EAAIS,OAAOL,EAAU3D,EAAIwD,EAAMtD,GAAIyD,EAAU1D,EAAIuD,EAAM7O,IACvD,IAAK,IAAIjE,EAAIkT,EAAO3X,OAAS,EAAGyE,GAAK,EAAGA,IAAK,CAC3C,MAAMoT,EAAY,CAChB9D,EAAG4D,EAAOlT,EAAI,GAAGsP,EAAIwD,EAAMtD,GAC3BD,EAAG2D,EAAOlT,EAAI,GAAGuP,EAAIuD,EAAM7O,GAC3BjC,KAAMkR,EAAOlT,EAAI,GAAGgC,MAEhBmR,EAAQ,CACZ7D,EAAG4D,EAAOlT,GAAGsP,EAAIwD,EAAMtD,GACvBD,EAAG2D,EAAOlT,GAAGuP,EAAIuD,EAAM7O,GACvBjC,KAAMoR,EAAUpR,MAEC,oBAAfmR,EAAMnR,KACR6Q,EAAIQ,cACFD,EAAU9D,GAAK,EAAI3M,GAAawQ,EAAM7D,EAAI3M,EAC1CyQ,EAAU7D,EACV4D,EAAM7D,GAAK,EAAI3M,GAAayQ,EAAU9D,EAAI3M,EAC1CwQ,EAAM5D,EACN4D,EAAM7D,EACN6D,EAAM5D,GAEgB,kBAAf4D,EAAMnR,KACf6Q,EAAIQ,cACFD,EAAU9D,EACV8D,EAAU7D,GAAK,EAAI5M,GAAawQ,EAAM5D,EAAI5M,EAC1CwQ,EAAM7D,EACN6D,EAAM5D,GAAK,EAAI5M,GAAayQ,EAAU7D,EAAI5M,EAC1CwQ,EAAM7D,EACN6D,EAAM5D,GAGRsD,EAAIS,OAAOH,EAAM7D,EAAG6D,EAAM5D,EAE9B,CACAsD,EAAIU,WACN,CD9CQX,CAAUC,EAAKL,EAAY7P,GAC7B+P,EAAac,cAEjB,EAGF,QE1Ce,SAASC,EAAQC,IAC9B7V,EAAAA,EAAAA,GAAY6V,GACZA,EAAUC,eAAelI,GACzBiI,EAAUE,kBAAkBzB,EAC9B,C,iECTO,MAAM7G,EAAiB,2BAA2BuI,KACvDC,UAAUC,U,uBCDZ,IAAIC,EASG,SAASpQ,EACdN,EACAS,EACAkQ,EAAa,4BAERD,IACHA,EAAoB3W,SAAS6W,cAAc,WAE7C,MAAMC,EAAUH,EAAkBI,WAAW,MAC7C,IAAKD,EACH,OAAO,EAGTA,EAAQE,KAAO,GAAGtQ,OAAckQ,IAChC,MAAMK,EAAcH,EAAQI,YAAYjR,GACxC,OAAOlE,KAAKoV,KACVpV,KAAK+Q,IACHmE,EAAYG,uBAAyBH,EAAYI,sBACjDJ,EAAY1W,OAGlB,C"}