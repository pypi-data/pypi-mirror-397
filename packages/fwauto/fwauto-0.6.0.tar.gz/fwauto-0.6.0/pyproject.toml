[project]
name = "fwauto"
version = "0.6.0"
description = "FWAuto - AI-powered firmware automation tool. Your firmware copilot."
readme = "README.md"
license = { text = "MIT" }
authors = [{ name = "Kent Chiu", email = "kent.cwg@gmail.com" }]
maintainers = [{ name = "Kent Chiu", email = "kent.cwg@gmail.com" }]
requires-python = ">=3.12,<3.14"
keywords = ["firmware", "ai", "embedded", "stm32"]
classifiers = [
  "Development Status :: 4 - Beta",
  "Environment :: Console",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Topic :: Software Development :: Embedded Systems",
  "Topic :: Software Development :: Build Tools",
]
dependencies = [
  "langchain>=1.0.0a5",
  "langchain-anthropic>=1.0.0a1",
  "langgraph>=1.0.0a3",
  "claude-agent-sdk",
  "langsmith>=0.1.0",
  "tomli>=2.0.1 ; python_version < '3.11'",
  "tomli-w>=1.0.0",
  "jinja2>=3.0.0",
  "typer>=0.12.0",
  "prompt-toolkit>=3.0.0",
  "requests>=2.28.0",
]

[project.urls]
Homepage = "https://www.fwauto.ai"

[project.scripts]
fwauto = "fwauto.__main__:main"


[project.optional-dependencies]
dev = ["pytest>=7.0.0", "ruff>=0.8.4", "pyright>=1.1.391"]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["src/fwauto"]

[tool.hatch.build.targets.wheel.sources]
"src" = ""

[tool.hatch.build]
include = [
  "src/fwauto/**/*.py",
  "src/fwauto/**/*.md",
  "src/fwauto/**/*.toml",
  "src/fwauto/**/Makefile",
  "src/fwauto/**/*.ps1",
]

[tool.ruff]
# 基本設定
line-length = 120
target-version = "py312"

[tool.ruff.lint]
# 選擇要啟用的規則
select = [
  "E",  # pycodestyle errors
  "W",  # pycodestyle warnings
  "F",  # pyflakes
  "I",  # isort
  "N",  # pep8-naming
  "UP", # pyupgrade
]
ignore = []

[tool.ruff.format]
# 格式化設定
quote-style = "double"
indent-style = "space"

[tool.pyright]
# Pyright 類型檢查設定
pythonVersion = "3.12"
typeCheckingMode = "standard"
reportMissingImports = true
reportMissingTypeStubs = false
venvPath = "."
venv = ".venv"

[tool.pytest.ini_options]
# Pytest configuration
markers = ["slow: marks tests as slow (deselect with '-m \"not slow\"')"]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]

[dependency-groups]
dev = [
  "grandalf>=0.8",
  "pyright>=1.1.405",
  "pytest>=8.4.2",
  "pytest-cov>=7.0.0",
  "ruff>=0.13.1",
  "ty>=0.0.2",
]

[tool.fwauto]
# FWAuto configuration section

# Installation Instructions:
# To install fwauto globally (accessible from any directory):
#
#   cd /path/to/fwauto
#   uv tool install --force --prerelease=allow --editable .
#
# After installation, you can use fwauto from any directory:
#   fwauto build
#   fwauto run 4
#   fwauto init
#
# To uninstall:
#   uv tool uninstall fwauto
