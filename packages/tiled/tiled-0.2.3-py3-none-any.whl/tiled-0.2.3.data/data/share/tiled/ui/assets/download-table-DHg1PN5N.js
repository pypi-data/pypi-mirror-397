import{r as c,k as _,q as D,t as H,_ as z,b as s,j as a,o as T,c as P,O as dt,Q as ct,z as f,v as S,p as y,A as it,f as nt,B as st,R as ut,U as ot,N as et}from"./index-DamtKecr.js";import{D as pt}from"./download-core-CVnYLEQJ.js";import{C as gt}from"./choose-partition-rLKznVV7.js";import{i as bt,S as K}from"./Stack-UKMuYVo8.js";import{L as M,a as vt}from"./Tooltip--ZstDYOc.js";import{L as mt,C as rt,a as ft,b as xt}from"./Checkbox-Dc-7Dz0B.js";import{B as at}from"./browse-DbQ1AyW9.js";import{F as Ct}from"./FormGroup-ADdd6HrF.js";import{F as $t}from"./FormControlLabel-BjTnMOc_.js";import"./Input-4KBIG5d8.js";function yt(t){return c.Children.toArray(t).filter(o=>c.isValidElement(o))}function ht(t){return D("MuiButtonGroup",t)}const g=_("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Bt=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Rt=(t,o)=>{const{ownerState:e}=t;return[{[`& .${g.grouped}`]:o.grouped},{[`& .${g.grouped}`]:o[`grouped${f(e.orientation)}`]},{[`& .${g.grouped}`]:o[`grouped${f(e.variant)}`]},{[`& .${g.grouped}`]:o[`grouped${f(e.variant)}${f(e.orientation)}`]},{[`& .${g.grouped}`]:o[`grouped${f(e.variant)}${f(e.color)}`]},{[`& .${g.firstButton}`]:o.firstButton},{[`& .${g.lastButton}`]:o.lastButton},{[`& .${g.middleButton}`]:o.middleButton},o.root,o[e.variant],e.disableElevation===!0&&o.disableElevation,e.fullWidth&&o.fullWidth,e.orientation==="vertical"&&o.vertical]},It=t=>{const{classes:o,color:e,disabled:i,disableElevation:n,fullWidth:u,orientation:r,variant:l}=t,d={root:["root",l,r==="vertical"&&"vertical",u&&"fullWidth",n&&"disableElevation"],grouped:["grouped",`grouped${f(r)}`,`grouped${f(l)}`,`grouped${f(l)}${f(r)}`,`grouped${f(l)}${f(e)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return S(d,ht,o)},Lt=T("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Rt})(({theme:t,ownerState:o})=>s({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},o.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},o.disableElevation&&{boxShadow:"none"},o.fullWidth&&{width:"100%"},o.orientation==="vertical"&&{flexDirection:"column"},{[`& .${g.grouped}`]:s({minWidth:40,"&:hover":s({},o.variant==="contained"&&{boxShadow:"none"})},o.variant==="contained"&&{boxShadow:"none"}),[`& .${g.firstButton},& .${g.middleButton}`]:s({},o.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},o.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},o.variant==="text"&&o.orientation==="horizontal"&&{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${g.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},o.variant==="text"&&o.orientation==="vertical"&&{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${g.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},o.variant==="text"&&o.color!=="inherit"&&{borderColor:t.vars?`rgba(${t.vars.palette[o.color].mainChannel} / 0.5)`:y.alpha(t.palette[o.color].main,.5)},o.variant==="outlined"&&o.orientation==="horizontal"&&{borderRightColor:"transparent"},o.variant==="outlined"&&o.orientation==="vertical"&&{borderBottomColor:"transparent"},o.variant==="contained"&&o.orientation==="horizontal"&&{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${g.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},o.variant==="contained"&&o.orientation==="vertical"&&{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${g.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},o.variant==="contained"&&o.color!=="inherit"&&{borderColor:(t.vars||t).palette[o.color].dark},{"&:hover":s({},o.variant==="outlined"&&o.orientation==="horizontal"&&{borderRightColor:"currentColor"},o.variant==="outlined"&&o.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${g.lastButton},& .${g.middleButton}`]:s({},o.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},o.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},o.variant==="outlined"&&o.orientation==="horizontal"&&{marginLeft:-1},o.variant==="outlined"&&o.orientation==="vertical"&&{marginTop:-1})})),jt=c.forwardRef(function(o,e){const i=H({props:o,name:"MuiButtonGroup"}),{children:n,className:u,color:r="primary",component:l="div",disabled:d=!1,disableElevation:p=!1,disableFocusRipple:b=!1,disableRipple:C=!1,fullWidth:v=!1,orientation:R="horizontal",size:m="medium",variant:$="outlined"}=i,h=z(i,Bt),B=s({},i,{color:r,component:l,disabled:d,disableElevation:p,disableFocusRipple:b,disableRipple:C,fullWidth:v,orientation:R,size:m,variant:$}),x=It(B),I=c.useMemo(()=>({className:x.grouped,color:r,disabled:d,disableElevation:p,disableFocusRipple:b,disableRipple:C,fullWidth:v,size:m,variant:$}),[r,d,p,b,C,v,m,$,x.grouped]),L=yt(n),q=L.length,Q=G=>{const j=G===0,E=G===q-1;return j&&E?"":j?x.firstButton:E?x.lastButton:x.middleButton};return a.jsx(Lt,s({as:l,role:"group",className:P(x.root,u),ref:e,ownerState:B},h,{children:a.jsx(dt.Provider,{value:I,children:L.map((G,j)=>a.jsx(ct.Provider,{value:Q(j),children:G},j))})}))});function kt(t){return D("MuiListItem",t)}const N=_("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function Ot(t){return D("MuiListItemButton",t)}const F=_("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Pt=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Gt=(t,o)=>{const{ownerState:e}=t;return[o.root,e.dense&&o.dense,e.alignItems==="flex-start"&&o.alignItemsFlexStart,e.divider&&o.divider,!e.disableGutters&&o.gutters]},At=t=>{const{alignItems:o,classes:e,dense:i,disabled:n,disableGutters:u,divider:r,selected:l}=t,p=S({root:["root",i&&"dense",!u&&"gutters",r&&"divider",n&&"disabled",o==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},Ot,e);return s({},e,p)},Nt=T(st,{shouldForwardProp:t=>ut(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Gt})(({theme:t,ownerState:o})=>s({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${F.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:y.alpha(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${F.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:y.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${F.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:y.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:y.alpha(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${F.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${F.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},o.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},o.alignItems==="flex-start"&&{alignItems:"flex-start"},!o.disableGutters&&{paddingLeft:16,paddingRight:16},o.dense&&{paddingTop:4,paddingBottom:4})),Ft=c.forwardRef(function(o,e){const i=H({props:o,name:"MuiListItemButton"}),{alignItems:n="center",autoFocus:u=!1,component:r="div",children:l,dense:d=!1,disableGutters:p=!1,divider:b=!1,focusVisibleClassName:C,selected:v=!1,className:R}=i,m=z(i,Pt),$=c.useContext(M),h=c.useMemo(()=>({dense:d||$.dense||!1,alignItems:n,disableGutters:p}),[n,$.dense,d,p]),B=c.useRef(null);it(()=>{u&&B.current&&B.current.focus()},[u]);const x=s({},i,{alignItems:n,dense:h.dense,disableGutters:p,divider:b,selected:v}),I=At(x),L=nt(B,e);return a.jsx(M.Provider,{value:h,children:a.jsx(Nt,s({ref:L,href:m.href||m.to,component:(m.href||m.to)&&r==="div"?"button":r,focusVisibleClassName:P(I.focusVisible,C),ownerState:x,className:P(I.root,R)},m,{classes:I,children:l}))})});function Mt(t){return D("MuiListItemSecondaryAction",t)}_("MuiListItemSecondaryAction",["root","disableGutters"]);const Vt=["className"],zt=t=>{const{disableGutters:o,classes:e}=t;return S({root:["root",o&&"disableGutters"]},Mt,e)},Tt=T("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:e}=t;return[o.root,e.disableGutters&&o.disableGutters]}})(({ownerState:t})=>s({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),lt=c.forwardRef(function(o,e){const i=H({props:o,name:"MuiListItemSecondaryAction"}),{className:n}=i,u=z(i,Vt),r=c.useContext(M),l=s({},i,{disableGutters:r.disableGutters}),d=zt(l);return a.jsx(Tt,s({className:P(d.root,n),ownerState:l,ref:e},u))});lt.muiName="ListItemSecondaryAction";const Et=["className"],Wt=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Ut=(t,o)=>{const{ownerState:e}=t;return[o.root,e.dense&&o.dense,e.alignItems==="flex-start"&&o.alignItemsFlexStart,e.divider&&o.divider,!e.disableGutters&&o.gutters,!e.disablePadding&&o.padding,e.button&&o.button,e.hasSecondaryAction&&o.secondaryAction]},_t=t=>{const{alignItems:o,button:e,classes:i,dense:n,disabled:u,disableGutters:r,disablePadding:l,divider:d,hasSecondaryAction:p,selected:b}=t;return S({root:["root",n&&"dense",!r&&"gutters",!l&&"padding",d&&"divider",u&&"disabled",e&&"button",o==="flex-start"&&"alignItemsFlexStart",p&&"secondaryAction",b&&"selected"],container:["container"]},kt,i)},Dt=T("div",{name:"MuiListItem",slot:"Root",overridesResolver:Ut})(({theme:t,ownerState:o})=>s({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!o.disablePadding&&s({paddingTop:8,paddingBottom:8},o.dense&&{paddingTop:4,paddingBottom:4},!o.disableGutters&&{paddingLeft:16,paddingRight:16},!!o.secondaryAction&&{paddingRight:48}),!!o.secondaryAction&&{[`& > .${F.root}`]:{paddingRight:48}},{[`&.${N.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${N.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:y.alpha(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${N.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:y.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${N.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},o.alignItems==="flex-start"&&{alignItems:"flex-start"},o.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},o.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${N.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:y.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:y.alpha(t.palette.primary.main,t.palette.action.selectedOpacity)}}},o.hasSecondaryAction&&{paddingRight:48})),Ht=T("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,o)=>o.container})({position:"relative"}),St=c.forwardRef(function(o,e){const i=H({props:o,name:"MuiListItem"}),{alignItems:n="center",autoFocus:u=!1,button:r=!1,children:l,className:d,component:p,components:b={},componentsProps:C={},ContainerComponent:v="li",ContainerProps:{className:R}={},dense:m=!1,disabled:$=!1,disableGutters:h=!1,disablePadding:B=!1,divider:x=!1,focusVisibleClassName:I,secondaryAction:L,selected:q=!1,slotProps:Q={},slots:G={}}=i,j=z(i.ContainerProps,Et),E=z(i,Wt),X=c.useContext(M),Y=c.useMemo(()=>({dense:m||X.dense||!1,alignItems:n,disableGutters:h}),[n,X.dense,m,h]),J=c.useRef(null);it(()=>{u&&J.current&&J.current.focus()},[u]);const A=c.Children.toArray(l),Z=A.length&&bt(A[A.length-1],["ListItemSecondaryAction"]),W=s({},i,{alignItems:n,autoFocus:u,button:r,dense:Y.dense,disabled:$,disableGutters:h,disablePadding:B,divider:x,hasSecondaryAction:Z,selected:q}),w=_t(W),tt=nt(J,e),U=G.root||b.Root||Dt,V=Q.root||C.root||{},k=s({className:P(w.root,V.className,d),disabled:$},E);let O=p||"li";return r&&(k.component=p||"div",k.focusVisibleClassName=P(N.focusVisible,I),O=st),Z?(O=!k.component&&!p?"div":O,v==="li"&&(O==="li"?O="div":k.component==="li"&&(k.component="div")),a.jsx(M.Provider,{value:Y,children:a.jsxs(Ht,s({as:v,className:P(w.container,R),ref:tt,ownerState:W},j,{children:[a.jsx(U,s({},V,!ot(U)&&{as:O,ownerState:s({},W,V.ownerState)},k,{children:A})),A.pop()]}))})):a.jsx(M.Provider,{value:Y,children:a.jsxs(U,s({},V,{as:O,ref:tt},!ot(U)&&{ownerState:s({},W,V.ownerState)},k,{children:[A,L&&a.jsx(lt,{children:L})]}))})}),qt=t=>{const o=e=>()=>{const i=t.columns.indexOf(e),n=[...t.columns];i===-1?n.push(e):n.splice(i,1),t.setColumns(n)};return a.jsxs(K,{spacing:1,direction:"column",children:[a.jsx(vt,{sx:{width:"100%",maxWidth:500,overflow:"auto",maxHeight:300,bgcolor:"background.paper"},subheader:a.jsx(xt,{component:"div",id:"column-list-heading",children:t.heading}),children:t.allColumns.map(e=>{const i=`checkbox-list-label-${e}`;return a.jsx(St,{disablePadding:!0,children:a.jsxs(Ft,{role:void 0,onClick:o(e),dense:!0,children:[a.jsx(mt,{children:a.jsx(rt,{edge:"start",checked:t.columns.indexOf(e)!==-1,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":i}})}),a.jsx(ft,{id:i,primary:e})]})},e)})}),a.jsxs(jt,{variant:"text","aria-label":"check-all-or-none",children:[a.jsx(et,{onClick:()=>{t.setColumns(t.allColumns)},children:"Select All"}),a.jsx(et,{onClick:()=>{t.setColumns([])},children:"Select None"})]})]})},ao=t=>{const o=t.structure.npartitions,[e,i]=c.useState(),[n,u]=c.useState(0),[r,l]=c.useState(o===1),[d,p]=c.useState(t.structure.columns);let b;if(e!==void 0&&d.length!==0){if(r?b=`${t.full_link}?format=${e.mimetype}`:b=`${t.partition_link.replace("{index}",n.toString())}&format=${e.mimetype}`,d.join(",")!==t.structure.columns.join(",")){const v=d.map(R=>`&field=${R}`).join("");b=b.concat(v)}}else b="";const C=v=>{l(v.target.checked)};return a.jsx(at,{children:a.jsxs(K,{spacing:2,direction:"column",children:[a.jsxs(K,{spacing:1,direction:"row",children:[a.jsx(qt,{heading:"Columns",allColumns:t.structure.columns,columns:d,setColumns:p}),o>1?a.jsxs(at,{children:[a.jsx(Ct,{children:a.jsx($t,{control:a.jsx(rt,{checked:r,onChange:C}),label:"All rows"})}),r?"":a.jsx(gt,{npartitions:o,value:n,setValue:u})]}):""]}),a.jsx(pt,{name:t.name,format:e,setFormat:i,structureFamily:t.structureFamily,link:b})]})})};export{ao as default};
