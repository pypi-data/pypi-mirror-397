const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./NumberControlPopover-DzGV2Yme.js","./vendor-primevue-Co2cDqb_.js","./vendor-other-wAcxE2NF.js","./vendor-other-DYX1NpEr.css","./index-nlhHbsOC.js","./vendor-vue-eyHytYfh.js","./vendor-xterm-CWYFmgbN.js","./vendor-xterm-xj0gfbX3.css","./vendor-three-b7sMVVQK.js","./vendor-tiptap-DhuDS-V5.js","./index-3izbCelH.css","./widgetPropFilter-CygYoMQt.js","./index-D8ftsto8.js","./WidgetLayoutField.vue_vue_type_script_setup_true_lang-CQMP_WSA.js"])))=>i.map(i=>d[i]);
var $=Object.defineProperty;var c=(e,s)=>$(e,"name",{value:s,configurable:!0});import{H as z,s as U,_ as F}from"./vendor-primevue-Co2cDqb_.js";import{c as g,d as R,cx as y}from"./index-nlhHbsOC.js";import{f as T,I as G,S as O}from"./widgetPropFilter-CygYoMQt.js";import{W}from"./index-D8ftsto8.js";import{_ as D}from"./WidgetLayoutField.vue_vue_type_script_setup_true_lang-CQMP_WSA.js";import{bq as C,cB as S,cC as E,E as f,k as q,p as w,d as v,q as b,l as X,e as _,br as r,m as I,f as j,r as k,en as H,eo as J,ep as K,A as V,c as A,eq as Z,u as N,er as Q,z as Y,es as ee,F as te,L as oe,o as ne,c6 as ae,w as re,b9 as se,dd as ie,v as le}from"./vendor-other-wAcxE2NF.js";const de={class:"absolute top-5 right-8 h-4 w-7 -translate-y-4/5 flex"},ue=C({__name:"WidgetInputNumberInput",props:S({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const s=e,i=E(e,"modelValue"),n=f(()=>T(s.widget.options,G)),o=f(()=>{const t=s.widget.options?.precision;return typeof t=="number"&&t>=0?t:void 0}),d=f(()=>s.widget.options?.step2!==void 0?Number(s.widget.options.step2):o.value!==void 0?o.value===0?1:Number((1/Math.pow(10,o.value)).toFixed(o.value)):0),l=f(()=>s.widget.options?.useGrouping===!0),u=f(()=>{const t=i.value??0;return!Number.isFinite(t)||Math.abs(t)>Number.MAX_SAFE_INTEGER}),m=f(()=>u.value?"Increment/decrement disabled: value exceeds JavaScript precision limit (Â±2^53)":null);return(t,a)=>{const p=q("tooltip");return v(),w(D,{widget:t.widget},{default:b(()=>[X((v(),w(r(z),I({modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=h=>i.value=h)},n.value,{fluid:"","button-layout":"horizontal",size:"small",variant:"outlined",step:d.value,"min-fraction-digits":o.value,"max-fraction-digits":o.value,"use-grouping":l.value,class:r(g)(r(W),"grow text-xs"),"aria-label":t.widget.name,"show-buttons":!u.value,pt:{root:{class:r(g)("[&>input]:bg-transparent [&>input]:border-0","[&>input]:truncate [&>input]:min-w-[4ch]",t.$slots.default&&"[&>input]:pr-7")},decrementButton:{class:"w-8 border-0"},incrementButton:{class:"w-8 border-0"}}}),{incrementicon:b(()=>a[1]||(a[1]=[_("span",{class:"pi pi-plus text-sm"},null,-1)])),decrementicon:b(()=>a[2]||(a[2]=[_("span",{class:"pi pi-minus text-sm"},null,-1)])),_:1},16,["modelValue","step","min-fraction-digits","max-fraction-digits","use-grouping","class","aria-label","show-buttons","pt"])),[[p,m.value]]),_("div",de,[j(t.$slots,"default",{},void 0,!0)])]),_:3},8,["widget"])}}}),L=R(ue,[["__scopeId","data-v-fe5dadc9"]]),ce=C({__name:"Slider",props:{defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},thumbAlignment:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","valueCommit"],setup(e,{emit:s}){const i=e,n=k(!1),o=c(m=>{n.value=m},"setPressed"),d=s,l=H(i,"class"),u=J(l,d);return(m,t)=>(v(),w(r(K),I({"data-slot":"slider",class:r(g)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50","data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",i.class)},r(u),{onSlideStart:t[0]||(t[0]=()=>o(!0)),onSlideMove:t[1]||(t[1]=()=>o(!0)),onSlideEnd:t[2]||(t[2]=()=>o(!1))}),{default:b(({modelValue:a})=>[V(r(Q),{"data-slot":"slider-track",class:N(r(g)("bg-node-stroke relative grow overflow-hidden rounded-full","cursor-pointer overflow-visible","before:absolute before:-inset-2 before:block before:bg-transparent","data-[orientation=horizontal]:h-0.5 data-[orientation=horizontal]:w-full","data-[orientation=vertical]:h-full data-[orientation=vertical]:w-0.5"))},{default:b(()=>[V(r(Z),{"data-slot":"slider-range",class:"absolute bg-node-component-surface-highlight data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})]),_:1},8,["class"]),(v(!0),A(te,null,Y(a,(p,h)=>(v(),w(r(ee),{key:h,"data-slot":"slider-thumb",class:N(r(g)("bg-node-component-surface-highlight ring-node-component-surface-selected block size-3.5 shrink-0 rounded-full shadow-sm transition-[color,box-shadow]","cursor-grab","before:absolute before:-inset-1 before:block before:bg-transparent before:rounded-full","hover:ring-2 focus-visible:ring-2 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50",{"cursor-grabbing":n.value}))},null,8,["class"]))),128))]),_:1},16,["class"]))}});function me(e,s,i=!1){return f(()=>{const n=oe(s);if(e?.step2!==void 0)return Number(e.step2);if(n===void 0)return i?void 0:0;if(n===0)return 1;const o=1/Math.pow(10,n);return i?o:Number(o.toFixed(n))})}c(me,"useNumberStepCalculation");const P=g("inline-flex items-center justify-center border-0 bg-transparent text-inherit transition-colors duration-150 ease-in-out ","hover:bg-node-component-surface-hovered active:bg-node-component-surface-selected","disabled:bg-node-component-disabled disabled:text-node-icon-disabled disabled:cursor-not-allowed");function pe(e){const{roundedLeft:s=!1,roundedRight:i=!1}=e??{},n=g(P,i&&"rounded-r-lg"),o=g(P,s&&"rounded-l-lg");return{incrementButton:{class:n},decrementButton:{class:o}}}c(pe,"useNumberWidgetButtonPt");const fe=C({__name:"WidgetInputNumberSlider",props:S({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const s=E(e,"modelValue"),i=k(0),n=c(a=>{a?.length&&(s.value=a[0])},"updateLocalValue"),o=c(a=>{if(a!==void 0){n([a]);return}i.value+=1},"handleNumberInputUpdate"),d=f(()=>T(e.widget.options,O)),l=e.widget.options?.precision,u=typeof l=="number"&&l>=0?l:void 0,m=me(e.widget.options,u,!0),t=pe({roundedLeft:!0,roundedRight:!0});return(a,p)=>(v(),w(D,{widget:a.widget},{default:b(()=>[_("div",{class:N(r(g)(r(W),"flex items-center gap-2 pl-3 pr-2"))},[V(ce,I({"model-value":[s.value]},d.value,{class:"flex-grow text-xs",step:r(m),"aria-label":a.widget.name,"onUpdate:modelValue":n}),null,16,["model-value","step","aria-label"]),(v(),w(r(z),I({key:i.value,"model-value":s.value},d.value,{step:r(m),"min-fraction-digits":r(u),"max-fraction-digits":r(u),"aria-label":a.widget.name,size:"small","pt:pc-input-text:root":"min-w-[4ch] bg-transparent border-none text-center truncate",class:"w-16",pt:r(t),"onUpdate:modelValue":o}),null,16,["model-value","step","min-fraction-digits","max-fraction-digits","aria-label","pt"]))],2)]),_:1},8,["widget"]))}}),ge=R(fe,[["__scopeId","data-v-989ee2f9"]]);var ve=(e=>(e.FIXED="fixed",e.INCREMENT="increment",e.DECREMENT="decrement",e.RANDOMIZE="randomize",e.LINK_TO_GLOBAL="linkToGlobal",e))(ve||{});function be(e){switch(e){case"fixed":return"fixed";case"increment":return"increment";case"decrement":return"decrement";case"randomize":return"randomize"}return"randomize"}c(be,"convertToEnum");function we(e){return f(()=>{switch(e.value){case"increment":return"pi pi-plus";case"decrement":return"pi pi-minus";case"fixed":return"icon-[lucide--pencil-off]";case"linkToGlobal":return"pi pi-link";default:return"icon-[lucide--shuffle]"}})}c(we,"useControlButtonIcon");function he(e,s,i){const n=k(be(i)),o=Symbol("numberControl"),d=c(()=>{const{min:u=0,max:m=1e6,step2:t,step:a=1,onChange:p}=s,h=Math.min(2**50,m),B=Math.max(-0x4000000000000,u),M=t!==void 0?t:a;let x;switch(n.value){case"fixed":return;case"increment":x=Math.min(h,e.value+M);break;case"decrement":x=Math.max(B,e.value-M);break;case"randomize":x=Math.floor(Math.random()*(h-B+1))+B;break;default:return}p?p(x):e.value=x},"applyControl");ne(()=>{y.register(o,d)}),ae(()=>{y.unregister(o)});const l=we(n);return{applyControl:d,controlButtonIcon:l,controlMode:n}}c(he,"useStepperControl");const Ve={class:"relative grid grid-cols-subgrid"},xe=C({__name:"WidgetInputNumberWithControl",props:S({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const s=ie(()=>F(()=>import("./NumberControlPopover-DzGV2Yme.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url)),i=e,n=E(e,"modelValue"),o=k(),d=c(t=>{n.value=t},"handleControlChange"),{controlMode:l,controlButtonIcon:u}=he(n,{...i.widget.options,onChange:d},i.widget.controlWidget.value);re(l,i.widget.controlWidget.update);const m=c(t=>{o.value.toggle(t)},"togglePopover");return(t,a)=>(v(),A("div",Ve,[V(L,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=p=>n.value=p),widget:t.widget,class:"grid grid-cols-subgrid col-span-2"},{default:b(()=>[V(r(U),{variant:"link",size:"small",class:"h-4 w-7 self-center rounded-xl bg-blue-100/30 p-0",onClick:m},{default:b(()=>[_("i",{class:N(`${r(u)} text-blue-100 text-xs`)},null,2)]),_:1})]),_:1},8,["modelValue","widget"]),V(r(s),{ref_key:"popover",ref:o,modelValue:r(l),"onUpdate:modelValue":a[1]||(a[1]=p=>se(l)?l.value=p:null)},null,8,["modelValue"])]))}}),Be=C({__name:"WidgetInputNumber",props:S({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const s=e,i=E(e,"modelValue"),n=f(()=>!!s.widget.controlWidget);return(o,d)=>(v(),w(le(n.value?xe:o.widget.type==="slider"?ge:L),I({modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=l=>i.value=l),widget:o.widget},o.$attrs),null,16,["modelValue","widget"]))}});export{ve as N,Be as _};
//# sourceMappingURL=WidgetInputNumber.vue_vue_type_script_setup_true_lang-DewItMqV.js.map
