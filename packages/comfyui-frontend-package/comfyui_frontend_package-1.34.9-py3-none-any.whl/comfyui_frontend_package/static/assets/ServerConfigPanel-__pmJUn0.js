var T=Object.defineProperty;var n=(y,c)=>T(y,"name",{value:c,configurable:!0});import{s as q,u as U}from"./vendor-vue-C5v91m9x.js";import{a as S,s as m,n as z}from"./vendor-primevue-D1bWBpUY.js";import{g as D,P as E,dh as O,de as R,bi as G}from"./index-DkaQAqNW.js";import{u as H}from"./serverConfigStore-DQ5vVSPW.js";import{bs as J,w,c as s,p as d,q as u,e as a,bq as t,t as l,d as i,F as v,z as g,A as f,s as C}from"./vendor-other-BuYjBaXg.js";import"./vendor-xterm-DV1MVhAx.js";import"./vendor-three-zdhtZbSm.js";import"./vendor-tiptap-wbntxnQl.js";const K={class:"flex flex-col gap-2"},M={class:"flex justify-end gap-2"},Q={class:"flex items-center justify-between"},oe=J({__name:"ServerConfigPanel",setup(y){const c=D(),h=H(),{serverConfigsByCategory:$,serverConfigValues:x,launchArgs:V,commandLineArgs:p,modifiedConfigs:b}=q(h),A=n(()=>{h.revertChanges()},"revertChanges"),I=n(async()=>{await G().restartApp()},"restartApp");w(V,async e=>{await c.set("Comfy.Server.LaunchArgs",e)}),w(x,async e=>{await c.set("Comfy.Server.ServerConfigValues",e)});const{copyToClipboard:B}=E(),L=n(async()=>{await B(p.value)},"copyCommandLineArgs"),{t:_}=U(),j=n(e=>({...e,name:_(`serverConfigItems.${e.id}.name`,e.name),tooltip:e.tooltip?_(`serverConfigItems.${e.id}.tooltip`,e.tooltip):void 0}),"translateItem");return(e,k)=>(s(),d(R,{value:"Server-Config",class:"server-config-panel"},{header:u(()=>[a("div",K,[t(b).length>0?(s(),d(t(S),{key:0,severity:"info","pt:text":"w-full"},{default:u(()=>[a("p",null,l(e.$t("serverConfig.modifiedConfigs")),1),a("ul",null,[(s(!0),i(v,null,g(t(b),r=>(s(),i("li",{key:r.id},l(r.name)+": "+l(r.initialValue)+" â†’ "+l(r.value),1))),128))]),a("div",M,[f(t(m),{label:e.$t("serverConfig.revertChanges"),outlined:"",onClick:A},null,8,["label"]),f(t(m),{label:e.$t("serverConfig.restart"),outlined:"",severity:"danger",onClick:I},null,8,["label"])])]),_:1})):C("",!0),t(p)?(s(),d(t(S),{key:1,severity:"secondary","pt:text":"w-full"},{icon:u(()=>k[0]||(k[0]=[a("i",{class:"icon-[lucide--terminal] text-xl font-bold"},null,-1)])),default:u(()=>[a("div",Q,[a("p",null,l(t(p)),1),f(t(m),{icon:"pi pi-clipboard",severity:"secondary",text:"",onClick:L})])]),_:1})):C("",!0)])]),default:u(()=>[(s(!0),i(v,null,g(Object.entries(t($)),([r,F],N)=>(s(),i("div",{key:r},[N>0?(s(),d(t(z),{key:0})):C("",!0),a("h3",null,l(e.$t(`serverConfigCategories.${r}`,r)),1),(s(!0),i(v,null,g(F,o=>(s(),i("div",{key:o.name,class:"mb-4"},[f(O,{id:o.id,"form-value":o.value,"onUpdate:formValue":n(P=>o.value=P,"onUpdate:formValue"),item:j(o),"label-class":{"text-highlight":o.initialValue!==o.value}},null,8,["id","form-value","onUpdate:formValue","item","label-class"])]))),128))]))),128))]),_:1}))}});export{oe as default};
//# sourceMappingURL=ServerConfigPanel-__pmJUn0.js.map
