const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./NumberControlPopover-B5ORl5yy.js","./vendor-primevue-DtyGeE5P.js","./vendor-other-C52en72l.js","./vendor-other-C4ppb7nW.css","./index-B9idOcBD.js","./vendor-vue-BzxvP81x.js","./vendor-xterm-DV1MVhAx.js","./vendor-xterm-LZoznX6r.css","./vendor-three-zdhtZbSm.js","./vendor-tiptap-CsU91UHx.js","./index-Cko1pdum.css","./widgetPropFilter-CygYoMQt.js","./index-CKtK7Zqq.js","./WidgetLayoutField.vue_vue_type_script_setup_true_lang-Cv7nd7Lz.js"])))=>i.map(i=>d[i]);
var $=Object.defineProperty;var u=(e,s)=>$(e,"name",{value:s,configurable:!0});import{H as z,s as U,_ as F}from"./vendor-primevue-DtyGeE5P.js";import{c as g,d as T,cx as y}from"./index-B9idOcBD.js";import{f as W,I as G,S as O}from"./widgetPropFilter-CygYoMQt.js";import{W as D}from"./index-CKtK7Zqq.js";import{_ as R}from"./WidgetLayoutField.vue_vue_type_script_setup_true_lang-Cv7nd7Lz.js";import{bs as I,cB as M,cC as S,E as p,k as q,c as v,p as h,q as w,l as X,bq as r,m as C,e as V,f as j,r as E,em as H,en as J,A as _,eo as K,u as N,ep as Z,d as A,z as Q,eq as Y,F as ee,er as te,L as oe,o as ne,bP as ae,dc as re,v as se}from"./vendor-other-C52en72l.js";const ie={class:"absolute top-5 right-8 h-4 w-7 -translate-y-4/5"},le=I({__name:"WidgetInputNumberInput",props:M({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const s=e,i=S(e,"modelValue"),n=p(()=>W(s.widget.options,G)),o=p(()=>{const a=s.widget.options?.precision;return typeof a=="number"&&a>=0?a:void 0}),l=p(()=>s.widget.options?.step2!==void 0?Number(s.widget.options.step2):o.value!==void 0?o.value===0?1:Number((1/Math.pow(10,o.value)).toFixed(o.value)):0),d=p(()=>s.widget.options?.useGrouping===!0),c=p(()=>{const a=i.value??0;return!Number.isFinite(a)||Math.abs(a)>Number.MAX_SAFE_INTEGER}),m=p(()=>c.value?"Increment/decrement disabled: value exceeds JavaScript precision limit (Â±2^53)":null);return(a,t)=>{const f=q("tooltip");return v(),h(R,{widget:a.widget},{default:w(()=>[X((v(),h(r(z),C({modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=b=>i.value=b)},n.value,{fluid:"","button-layout":"horizontal",size:"small",variant:"outlined",step:l.value,"min-fraction-digits":o.value,"max-fraction-digits":o.value,"use-grouping":d.value,class:r(g)(r(D),"grow text-xs"),"aria-label":a.widget.name,"show-buttons":!c.value,pt:{root:{class:r(g)("[&>input]:bg-transparent [&>input]:border-0","[&>input]:truncate [&>input]:min-w-[4ch]",a.$slots.default&&"[&>input]:pr-7")},decrementButton:{class:"w-8 border-0"},incrementButton:{class:"w-8 border-0"}}}),{incrementicon:w(()=>t[1]||(t[1]=[V("span",{class:"pi pi-plus text-sm"},null,-1)])),decrementicon:w(()=>t[2]||(t[2]=[V("span",{class:"pi pi-minus text-sm"},null,-1)])),_:1},16,["modelValue","step","min-fraction-digits","max-fraction-digits","use-grouping","class","aria-label","show-buttons","pt"])),[[f,m.value]]),V("div",ie,[j(a.$slots,"default",{},void 0,!0)])]),_:3},8,["widget"])}}}),L=T(le,[["__scopeId","data-v-4483e106"]]),de=I({__name:"Slider",props:{defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},thumbAlignment:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","valueCommit"],setup(e,{emit:s}){const i=e,n=E(!1),o=u(m=>{n.value=m},"setPressed"),l=s,d=H(i,"class"),c=J(d,l);return(m,a)=>(v(),h(r(te),C({"data-slot":"slider",class:r(g)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50","data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",i.class)},r(c),{onSlideStart:a[0]||(a[0]=()=>o(!0)),onSlideMove:a[1]||(a[1]=()=>o(!0)),onSlideEnd:a[2]||(a[2]=()=>o(!1))}),{default:w(({modelValue:t})=>[_(r(Z),{"data-slot":"slider-track",class:N(r(g)("bg-node-stroke relative grow overflow-hidden rounded-full","cursor-pointer overflow-visible","before:absolute before:-inset-2 before:block before:bg-transparent","data-[orientation=horizontal]:h-0.5 data-[orientation=horizontal]:w-full","data-[orientation=vertical]:h-full data-[orientation=vertical]:w-0.5"))},{default:w(()=>[_(r(K),{"data-slot":"slider-range",class:"absolute bg-node-component-surface-highlight data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})]),_:1},8,["class"]),(v(!0),A(ee,null,Q(t,(f,b)=>(v(),h(r(Y),{key:b,"data-slot":"slider-thumb",class:N(r(g)("bg-node-component-surface-highlight ring-node-component-surface-selected block size-3.5 shrink-0 rounded-full shadow-sm transition-[color,box-shadow]","cursor-grab","before:absolute before:-inset-1 before:block before:bg-transparent before:rounded-full","hover:ring-2 focus-visible:ring-2 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50",{"cursor-grabbing":n.value}))},null,8,["class"]))),128))]),_:1},16,["class"]))}});function ue(e,s,i=!1){return p(()=>{const n=oe(s);if(e?.step2!==void 0)return Number(e.step2);if(n===void 0)return i?void 0:0;if(n===0)return 1;const o=1/Math.pow(10,n);return i?o:Number(o.toFixed(n))})}u(ue,"useNumberStepCalculation");const P=g("inline-flex items-center justify-center border-0 bg-transparent text-inherit transition-colors duration-150 ease-in-out ","hover:bg-node-component-surface-hovered active:bg-node-component-surface-selected","disabled:bg-node-component-disabled disabled:text-node-icon-disabled disabled:cursor-not-allowed");function ce(e){const{roundedLeft:s=!1,roundedRight:i=!1}=e??{},n=g(P,i&&"rounded-r-lg"),o=g(P,s&&"rounded-l-lg");return{incrementButton:{class:n},decrementButton:{class:o}}}u(ce,"useNumberWidgetButtonPt");const me=I({__name:"WidgetInputNumberSlider",props:M({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const s=S(e,"modelValue"),i=E(0),n=u(t=>{t?.length&&(s.value=t[0])},"updateLocalValue"),o=u(t=>{if(t!==void 0){n([t]);return}i.value+=1},"handleNumberInputUpdate"),l=p(()=>W(e.widget.options,O)),d=e.widget.options?.precision,c=typeof d=="number"&&d>=0?d:void 0,m=ue(e.widget.options,c,!0),a=ce({roundedLeft:!0,roundedRight:!0});return(t,f)=>(v(),h(R,{widget:t.widget},{default:w(()=>[V("div",{class:N(r(g)(r(D),"flex items-center gap-2 pl-3 pr-2"))},[_(de,C({"model-value":[s.value]},l.value,{class:"flex-grow text-xs",step:r(m),"aria-label":t.widget.name,"onUpdate:modelValue":n}),null,16,["model-value","step","aria-label"]),(v(),h(r(z),C({key:i.value,"model-value":s.value},l.value,{step:r(m),"min-fraction-digits":r(c),"max-fraction-digits":r(c),"aria-label":t.widget.name,size:"small","pt:pc-input-text:root":"min-w-[4ch] bg-transparent border-none text-center truncate",class:"w-16",pt:r(a),"onUpdate:modelValue":o}),null,16,["model-value","step","min-fraction-digits","max-fraction-digits","aria-label","pt"]))],2)]),_:1},8,["widget"]))}}),pe=T(me,[["__scopeId","data-v-989ee2f9"]]);var fe=(e=>(e.FIXED="fixed",e.INCREMENT="increment",e.DECREMENT="decrement",e.RANDOMIZE="randomize",e.LINK_TO_GLOBAL="linkToGlobal",e))(fe||{});function ge(e){switch(e){case"fixed":return"fixed";case"increment":return"increment";case"decrement":return"decrement";case"randomize":return"randomize"}return"randomize"}u(ge,"convertToEnum");function ve(e){return p(()=>{switch(e.value){case"increment":return"pi pi-plus";case"decrement":return"pi pi-minus";case"fixed":return"icon-[lucide--pencil-off]";case"linkToGlobal":return"pi pi-link";default:return"icon-[lucide--shuffle]"}})}u(ve,"useControlButtonIcon");function be(e,s,i){const n=E(ge(i)),o=Symbol("numberControl"),l=u(()=>{const{min:c=0,max:m=1e6,step2:a,step:t=1,onChange:f}=s,b=Math.min(2**50,m),k=Math.max(-(2**50),c),B=a!==void 0?a:t;let x;switch(n.value){case"fixed":return;case"increment":x=Math.min(b,e.value+B);break;case"decrement":x=Math.max(k,e.value-B);break;case"randomize":x=Math.floor(Math.random()*(b-k+1))+k;break;default:return}f?f(x):e.value=x},"applyControl");ne(()=>{y.register(o,l)}),ae(()=>{y.unregister(o)});const d=ve(n);return{applyControl:l,controlButtonIcon:d,controlMode:n}}u(be,"useStepperControl");const we={class:"relative grid grid-cols-subgrid"},he=I({__name:"WidgetInputNumberWithControl",props:M({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const s=re(()=>F(()=>import("./NumberControlPopover-B5ORl5yy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url)),i=e,n=S(e,"modelValue"),o=E(),l=u(t=>{n.value=t},"handleControlChange"),{controlMode:d,controlButtonIcon:c}=be(n,{...i.widget.options,onChange:l},i.widget.controlWidget.value),m=u(t=>{d.value=t,i.widget.controlWidget.update(t)},"setControlMode"),a=u(t=>{o.value.toggle(t)},"togglePopover");return(t,f)=>(v(),A("div",we,[_(L,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=b=>n.value=b),widget:t.widget,class:"grid grid-cols-subgrid col-span-2"},{default:w(()=>[_(r(U),{variant:"link",size:"small",class:"h-4 w-7 self-center rounded-xl bg-blue-100/30 p-0",onClick:a},{default:w(()=>[V("i",{class:N(`${r(c)} text-blue-100 text-xs`)},null,2)]),_:1})]),_:1},8,["modelValue","widget"]),_(r(s),{ref_key:"popover",ref:o,"control-mode":r(d),"onUpdate:controlMode":m},null,8,["control-mode"])]))}}),Se=I({__name:"WidgetInputNumber",props:M({widget:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const s=e,i=S(e,"modelValue"),n=p(()=>!!s.widget.controlWidget);return(o,l)=>(v(),h(se(n.value?he:o.widget.type==="slider"?pe:L),C({modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=d=>i.value=d),widget:o.widget},o.$attrs),null,16,["modelValue","widget"]))}});export{fe as N,Se as _};
//# sourceMappingURL=WidgetInputNumber.vue_vue_type_script_setup_true_lang-CODeUTJ8.js.map
