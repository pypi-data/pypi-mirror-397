(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4065],{74833:function(e,t,n){var i=n(56127),a=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(a,""):e}},56127:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},66726:function(e,t,n){var i=n(11611),a=n(82846),s=n(91936),r=Math.max,o=Math.min;e.exports=function(e,t,n){var u,c,l,d,g,f,m=0,p=!1,y=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function h(t){var n=u,i=c;return u=c=void 0,m=t,d=e.apply(i,n)}function T(e){var n=e-f,i=e-m;return void 0===f||n>=t||n<0||y&&i>=l}function x(){var e,n,i,s=a();if(T(s))return C(s);g=setTimeout(x,(e=s-f,n=s-m,i=t-e,y?o(i,l-n):i))}function C(e){return(g=void 0,v&&u)?h(e):(u=c=void 0,d)}function E(){var e,n=a(),i=T(n);if(u=arguments,c=this,f=n,i){if(void 0===g)return m=e=f,g=setTimeout(x,t),p?h(e):d;if(y)return clearTimeout(g),g=setTimeout(x,t),h(f)}return void 0===g&&(g=setTimeout(x,t)),d}return t=s(t)||0,i(n)&&(p=!!n.leading,l=(y="maxWait"in n)?r(s(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==g&&clearTimeout(g),m=0,u=f=c=g=void 0},E.flush=function(){return void 0===g?d:C(a())},E}},82846:function(e,t,n){var i=n(77400);e.exports=function(){return i.Date.now()}},91936:function(e,t,n){var i=n(74833),a=n(11611),s=n(55193),r=0/0,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return r;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):o.test(e)?r:+e}},1770:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/custom-fields",function(){return n(5810)}])},30952:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var i=n(24246),a=n(66726),s=n.n(a),r=n(27378),o=n(26917);let u=e=>{let{value:t,onChange:n,placeholder:a,...u}=e,[c,l]=(0,r.useState)(t);(0,r.useEffect)(()=>{l(t||"")},[t]);let d=s()(n,500),g=(0,r.useCallback)(e=>{l(e),d(e)},[]);return(0,i.jsx)(o.Z,{value:c,onChange:g,onClear:()=>{l(""),n("")},placeholder:a,...u})}},77213:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n(24246),a=n(41013),s=n(88038),r=n.n(s),o=n(86677);n(27378);var u=n(25980),c=n(90867),l=n(42478),d=n(77830),g=()=>{let e=(0,o.useRouter)();return(0,i.jsx)(a.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(a.xuv,{children:[(0,i.jsxs)(a.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(a.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(a.wpx,{onClick:()=>{e.push(d.AD)},children:"Configure"})]}),(0,i.jsxs)(a.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:n,padded:s=!0,mainProps:d}=e,f=(0,u.hz)(),m=(0,o.useRouter)(),p="/privacy-requests"===m.pathname||"/datastore-connection"===m.pathname,y=!(f.flags.messagingConfiguration&&p),{data:v}=(0,l.JE)(void 0,{skip:y}),{data:h}=(0,c.PW)(void 0,{skip:y}),T=f.flags.messagingConfiguration&&(!v||!h)&&p;return(0,i.jsxs)(a.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,i.jsxs)(r(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(a.kCb,{as:"main",direction:"column",py:s?6:0,px:s?10:0,h:s?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...d,children:[T?(0,i.jsx)(g,{}):null,t]})]})}},19904:function(e,t,n){"use strict";n.d(t,{Tg:function(){return r}});var i=n(24246),a=n(16134),s=n(31793);let r=e=>(0,a.C)(s.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:n}=e;return r(t)?(0,i.jsx)(i.Fragment,{children:n}):null}},20987:function(e,t,n){"use strict";var i,a,s,r;n.d(t,{H:function(){return i},J:function(){return a}}),(s=i||(i={})).STRING="string",s.STRING_ARRAY="string[]",(r=a||(a={})).SYSTEM="system",r.DATA_USE="data use",r.DATA_CATEGORY="data category",r.DATA_SUBJECT="data subject",r.PRIVACY_DECLARATION="privacy declaration"},8917:function(e,t,n){"use strict";n.d(t,{P3:function(){return u},TY:function(){return o},Uv:function(){return a},uP:function(){return r}});var i,a,s=n(20987);let r=new Map([[s.J.SYSTEM,"system:information"],[s.J.DATA_USE,"taxonomy:data use"],[s.J.DATA_CATEGORY,"taxonomy:data category"],[s.J.DATA_SUBJECT,"taxonomy:data subject"],[s.J.PRIVACY_DECLARATION,"system:data use"]]);(i=a||(a={})).SINGLE_SELECT="singleSelect",i.MULTIPLE_SELECT="multipleSelect",i.OPEN_TEXT="openText";let o=[{label:"Single select",value:"singleSelect"},{label:"Multiple select",value:"multipleSelect"},{label:"Open text",value:"openText"}],u={singleSelect:"Single-value select",multipleSelect:"Multi-value select",openText:"Open text"}},66236:function(e,t,n){"use strict";n.d(t,{S:function(){return r},_:function(){return s}});var i=n(20987),a=n(8917);let s=e=>e.field_type===i.H.STRING_ARRAY?a.Uv.MULTIPLE_SELECT:e.allow_list_id?a.Uv.SINGLE_SELECT:e.field_type===i.H.STRING?a.Uv.OPEN_TEXT:e.field_type,r=e=>{let t=s(e);return t===a.Uv.OPEN_TEXT||t===a.Uv.SINGLE_SELECT||t===a.Uv.MULTIPLE_SELECT?a.P3[t]:t}},42478:function(e,t,n){"use strict";n.d(t,{FU:function(){return c},JE:function(){return a},Ki:function(){return d},SU:function(){return g},W:function(){return f},h9:function(){return s},jc:function(){return i},qt:function(){return u},sn:function(){return l}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:a,useCreateMessagingConfigurationMutation:s,useCreateMessagingConfigurationSecretsMutation:r,useGetMessagingConfigurationDetailsQuery:o,useGetMessagingConfigurationsQuery:u,useGetMessagingConfigurationByKeyQuery:c,useUpdateMessagingConfigurationByKeyMutation:l,useUpdateMessagingConfigurationSecretsByKeyMutation:d,useCreateTestConnectionMessageMutation:g,useDeleteMessagingConfigurationByKeyMutation:f}=n(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,t,n,i)=>{let a=await i({url:"messaging/default/active"});return a.error&&404===a.error.status?{data:null}:a},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},5810:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var i=n(24246),a=n(77213),s=n(41013),r=n(27378),o=n(58754),u=n(30952),c=n(86677),l=n(77830),d=n(19904),g=n(8125),f=n(8917),m=n(72625),p=n(32885),y=e=>{var t;let{field:n,isDisabled:a}=e,[s,{isLoading:r}]=(0,p.yM)(),o=async e=>s({...n,active:e});return(0,i.jsx)(m.S1,{enabled:null!==(t=n.active)&&void 0!==t&&t,onToggle:o,title:"Disable custom field",message:"Are you sure you want to disable this custom field?",isDisabled:a,"aria-label":n.active?"Disable custom field":"Enable custom field",loading:r})},v=n(66236),h=n(60240),T=()=>{let e=(0,g.o)({pagination:{defaultPageSize:25,pageSizeOptions:[10,25,50]},search:{defaultSearchQuery:""}}),t=(0,c.useRouter)(),{data:n,isLoading:a}=(0,p.GH)(),{tableProps:o}=(0,g.V)(e,{dataSource:n||[],totalRows:(null==n?void 0:n.length)||0,isLoading:a,customTableProps:{layout:"fixed",sticky:{offsetHeader:40}}}),u=(0,d.Tg)([h.Sh.CUSTOM_FIELD_UPDATE]);return{tableProps:o,columns:(0,r.useMemo)(()=>[{title:"Name",dataIndex:"name",key:"name",filteredValue:e.searchQuery?[e.searchQuery]:null,onFilter:(e,t)=>t.name.toLowerCase().includes(e.toString().toLowerCase())},{title:"Description",dataIndex:"description",key:"description",render:e=>(0,i.jsx)(s.AntTypography.Text,{ellipsis:{tooltip:e},className:"w-96",children:e}),width:384},{title:"Type",dataIndex:"field_type",key:"field_type",render:(e,t)=>(0,v.S)(t)},{title:"Applies to",dataIndex:"resource_type",key:"resource_type",render:e=>f.uP.get(e)||e},{title:"Enabled",dataIndex:"active",key:"active",hidden:!u,render:(e,t)=>(0,i.jsx)(y,{field:t,isDisabled:!u}),width:96},{title:"Actions",key:"actions",render:(e,n)=>(0,i.jsx)(s.jqI,{gap:"middle",children:(0,i.jsx)(s.wpx,{size:"small",onClick:()=>t.push("".concat(l.WC,"/").concat(n.id)),"data-testid":"edit-btn",children:"Edit"})}),hidden:!u,width:96}],[t,u,e.searchQuery,u]),searchQuery:e.searchQuery,updateSearch:e.updateSearch,onAddClick:()=>t.push("".concat(l.WC,"/new"))}},x=()=>{let{tableProps:e,columns:t,searchQuery:n,updateSearch:a,onAddClick:r}=T();return(0,i.jsxs)(s.jqI,{vertical:!0,gap:"middle","data-testid":"custom-fields-management",children:[(0,i.jsxs)(s.jqI,{justify:"space-between",className:"sticky -top-6 z-10 bg-white py-4",children:[(0,i.jsx)(u.f,{value:n,onChange:a,placeholder:"Search custom fields..."}),(0,i.jsx)(s.wpx,{onClick:r,type:"primary","data-testid":"add-custom-field-btn",children:"Add custom field"})]}),(0,i.jsx)(s.V5H,{...e,columns:t,className:"-mt-4"})]})},C=()=>(0,i.jsxs)(a.Z,{title:"Custom fields",children:[(0,i.jsx)(o.Z,{heading:"Custom fields",isSticky:!1,className:"pb-0",children:(0,i.jsx)(s.AntTypography.Paragraph,{className:"max-w-screen-md",children:"Custom fields provide organizations with the capability to capture metrics that are unique to their specific needs, allowing them to create customized reports. These fields can be added to either systems or elements within a taxonomy, and once added, they become reportable fields that are visible on the data map."})}),(0,i.jsx)(x,{})]})}},function(e){e.O(0,[431,7245,3931,2888,9774,179],function(){return e(e.s=1770)}),_N_E=e.O()}]);