[build-system]
requires = ["hatchling>=1.25"]
build-backend = "hatchling.build"

[project]
name = "modalyzer"  
version = "1.2.2"
description = "Modalyzer: Operational Modal Analysis (OMA) toolkit in Python (EFDD, SSI, PolyMAX, ITD)."
readme = "README.md"
requires-python = ">=3.9"
license = { file = "LICENSE" }
authors = [{ name = "Modalyzer Developers" }]
classifiers = [
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
  "Topic :: Scientific/Engineering",
  "Intended Audience :: Science/Research",
]

dependencies = [
  "numpy>=2.0,<3",          # NumPy 2.0.2 requires Python>=3.9 
  "pandas>=2.3,<3",
  "scipy>=1.13,<2",
  "plotly>=6.3,<7",
  "nbformat>=4.2.0",

  # Matplotlib: latest requires Python>=3.10 
  "matplotlib>=3.9,<3.10; python_version<'3.10'",
  "matplotlib>=3.9,<4; python_version>='3.10'",

  # Torch: current PyPI torch requires Python>=3.10 
  # If you keep Python 3.9, you should explicitly cap/select a torch line that still supports it.
  # (Exact cap depends on what you confirm in CI.)
  "torch>=2.8,<3; python_version>='3.10'",
  "torch>=2.8,<2.9; python_version<'3.10'",
]

[project.optional-dependencies]
dev = [
  "pytest>=8",
  "pytest-cov>=5",
  "ruff>=0.5",
  "black>=24",
  "pre-commit>=3.7",
  "build>=1.2.1",
  "twine>=5.1.1",
]

notebook = [
  "ipykernel>=6",
]

[project.urls]
Homepage = "https://github.com/MehrabNF/modalyzer-test"
Repository = "https://github.com/MehrabNF/modalyzer-test"
Issues = "https://github.com/MehrabNF/modalyzer-test/issues"

[tool.hatch.build.targets.wheel]
packages = ["src/modalyzer"]

[tool.hatch.build.targets.sdist]
exclude = [".github", ".venv", "venv", "dist", "build", "*.egg-info", "__pycache__"]