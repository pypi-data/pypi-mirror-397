"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4287],{1375:(e,t,s)=>{s.d(t,{A:()=>m});var l=s(23892),n=s(85848),a=s(3040),r=s(59249),i=s(82918),c=s(47160),d=s(96110),o=s(82509),u=s(49616),x=s(83252);function m(e){let{dbPath:t,tableName:s}=e,[c,m]=(0,n.useState)(null),[h,f]=(0,n.useState)(!1),[v,j]=(0,n.useState)(null),N=(0,d.d2)(),p=(0,d.uM)(),g=(0,d.en)(),w=(0,d.GV)(e=>e.ui.rowHeight);if((0,n.useEffect)(()=>{(0,x.x4)({relativeUrl:"lance/list-versions?dbPath=".concat(encodeURIComponent(t),"&tableName=").concat(encodeURIComponent(s),"&dbType=lance"),setData:e=>m(e),setLoading:f,setError:j})},[t,s]),h)return(0,l.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(a.A,{className:"h-6 w-6 animate-spin text-muted-foreground"}),(0,l.jsx)("span",{className:"text-muted-foreground",children:"Loading versions..."})]})});if(v)return(0,l.jsx)("div",{className:"h-full flex items-center justify-center p-6",children:(0,l.jsxs)("div",{className:"text-center space-y-2",children:[(0,l.jsx)(r.A,{className:"h-12 w-12 mx-auto text-destructive"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-destructive",children:"Error Loading Versions"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:v})]})});if(!c||0===c.length)return(0,l.jsx)("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:(0,l.jsx)("p",{children:"No versions found"})});let b=[{field:"version",headerName:"Version",width:100},{field:"timestamp",headerName:"Created At",cellRenderer:e=>{if(!e.value)return null;let t=1e3*e.value,s=(0,o.f)(t),n=(0,o.Y)(t);return(0,l.jsxs)(u.m_,{children:[(0,l.jsx)(u.k$,{asChild:!0,children:(0,l.jsxs)("div",{className:"cursor-default",children:[s," ","now"===s?"":"ago"]})}),(0,l.jsx)(u.ZI,{children:n})]})},width:150},{field:"total_data_files",headerName:"Data Files",width:120,valueFormatter:e=>null!==e.value&&void 0!==e.value?e.value.toLocaleString():""},{field:"total_rows",headerName:"Total Rows",width:120,valueFormatter:e=>null!==e.value?e.value.toLocaleString():""},{headerName:"Rows Diff",cellRenderer:e=>{let{rows_add:t,rows_remove:s}=e.data;return(0,l.jsxs)("div",{className:"flex flex-col text-sm leading-tight py-2 gap-1 font-mono",children:[null!==t&&t>0&&(0,l.jsxs)("div",{className:"text-green-600 dark:text-green-400",children:["+ ",t.toLocaleString()]}),null!==s&&s>0&&(0,l.jsxs)("div",{className:"text-red-600 dark:text-red-400",children:["- ",s.toLocaleString()]})]})},width:120,autoHeight:!0},{headerName:"Columns Diff",cellRenderer:e=>{let{columns_add:t,columns_remove:s}=e.data;return(0,l.jsxs)("div",{className:"flex flex-col text-sm leading-tight py-2 gap-1",children:[t.length>0&&(0,l.jsxs)("div",{className:"text-green-600 dark:text-green-400",children:["+ ",t.join(", ")]}),s.length>0&&(0,l.jsxs)("div",{className:"text-red-600 dark:text-red-400",children:["- ",s.join(", ")]})]})},width:200,autoHeight:!0},{headerName:"Indices Diff",cellRenderer:e=>{let{indices_add:t,indices_remove:s}=e.data;return(0,l.jsxs)("div",{className:"flex flex-col text-sm leading-tight py-2 gap-1",children:[t.length>0&&(0,l.jsxs)("div",{className:"text-green-600 dark:text-green-400",children:["+ ",t.join(", ")]}),s.length>0&&(0,l.jsxs)("div",{className:"text-red-600 dark:text-red-400",children:["- ",s.join(", ")]})]})},width:200,autoHeight:!0}],y={...g,rowHeight:w};return(0,l.jsx)(u.Bc,{children:(0,l.jsx)("div",{className:"h-full w-full",children:(0,l.jsx)(i.W6,{theme:N,rowData:c,columnDefs:b,defaultColDef:p,onGridReady:e=>{e.api.sizeColumnsToFit()},...y})})})}c.syG.registerModules([c.JKr])},13915:(e,t,s)=>{s.d(t,{A:()=>d});var l=s(23892),n=s(85848),a=s(40845),r=s(16291),i=s(18850),c=s(16299);function d(e){var t,s;let{icon:d,title:o,tooltip:u,children:x,width:m="90vw",height:h="90vh",buttonClassName:f="",onOpen:v}=e,[j,N]=(0,n.useState)(!1),p=(0,n.isValidElement)(d)?(0,n.cloneElement)(d,{className:"h-4 w-4 ".concat((null==(t=d.props)?void 0:t.className)||"").trim()}):d,g=(0,n.isValidElement)(d)?(0,n.cloneElement)(d,{className:"h-5 w-5 ".concat((null==(s=d.props)?void 0:s.className)||"").trim()}):d;return(0,l.jsxs)(r.lG,{open:j,onOpenChange:()=>{},children:[(0,l.jsx)(r.zM,{asChild:!0,children:(0,l.jsx)("button",{title:u||o,onClick:()=>{N(!0),null==v||v()},className:"".concat(c.V.ICON_BUTTON_SM," h-8 px-2 ").concat(f),children:p})}),(0,l.jsxs)(r.Cf,{className:"max-w-none p-0 flex flex-col",style:{width:m,height:h},"aria-describedby":void 0,children:[(0,l.jsx)(r.c7,{className:"p-6 pb-2 flex-shrink-0",children:(0,l.jsxs)(r.L3,{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:g}),(0,l.jsx)("span",{children:o})]}),(0,l.jsx)("button",{onClick:()=>N(!1),className:"".concat(c.V.ICON_BUTTON_SM," "),"aria-label":"Close dialog",children:(0,l.jsx)(i.A,{className:"h-4 w-4"})})]})}),(0,l.jsx)(a.Zp,{className:"flex-1 mx-6 mb-6 mt-0 overflow-auto flex flex-col",children:(0,l.jsx)(a.Wu,{className:"flex-1 p-0 overflow-auto",children:j&&x})})]})]})}},34991:(e,t,s)=>{s.d(t,{A:()=>u});var l=s(23892),n=s(85848),a=s(3040),r=s(59249),i=s(82918),c=s(47160),d=s(96110),o=s(37205);function u(e){let{dbPath:t,tableName:s}=e,[c,u]=(0,n.useState)(null),[x,m]=(0,n.useState)(!1),[h,f]=(0,n.useState)(null),v=(0,d.d2)(),j=(0,d.uM)(),N=(0,d.en)(),p=(0,d.GV)(e=>e.ui.rowHeight);if((0,n.useEffect)(()=>{m(!0),f(null),(0,o.tk)(t,s).then(u).catch(e=>f(e instanceof Error?e.message:"Failed to load indices")).finally(()=>m(!1))},[t,s]),x)return(0,l.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(a.A,{className:"h-6 w-6 animate-spin text-muted-foreground"}),(0,l.jsx)("span",{className:"text-muted-foreground",children:"Loading indices..."})]})});if(h)return(0,l.jsx)("div",{className:"h-full flex items-center justify-center p-6",children:(0,l.jsxs)("div",{className:"text-center space-y-2",children:[(0,l.jsx)(r.A,{className:"h-12 w-12 mx-auto text-destructive"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-destructive",children:"Error Loading Indices"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:h})]})});if(!c||0===c.length)return(0,l.jsx)("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:(0,l.jsx)("p",{children:"No indices found"})});let g=[{field:"name",headerName:"Name",width:200},{field:"index_type",headerName:"Type",width:150},{field:"columns",headerName:"Columns",cellRenderer:e=>e.value&&0!==e.value.length?(0,l.jsx)("div",{children:e.value.join(", ")}):null,flex:1},{field:"num_unindexed_rows",headerName:"Unindexed Rows",width:150,valueFormatter:e=>null!==e.value&&void 0!==e.value?e.value.toLocaleString():""}],w={...N,rowHeight:p};return(0,l.jsx)("div",{className:"h-full w-full",children:(0,l.jsx)(i.W6,{theme:v,rowData:c,columnDefs:g,defaultColDef:j,onGridReady:e=>{e.api.sizeColumnsToFit()},...w})})}c.syG.registerModules([c.JKr])},49600:(e,t,s)=>{s.d(t,{E:()=>c});var l=s(23892);s(85848);var n=s(25411),a=s(67722),r=s(58972);let i=(0,a.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,asChild:a=!1,...c}=e,d=a?n.DX:"span";return(0,l.jsx)(d,{"data-slot":"badge",className:(0,r.cn)(i({variant:s}),t),...c})}},60620:(e,t,s)=>{s.d(t,{A:()=>d});var l=s(23892),n=s(96110),a=s(24056),r=s(18870),i=s(13915);function c(){let e=(0,n.GV)(e=>e);return(0,l.jsx)("div",{className:"flex-1 p-0 overflow-hidden",children:(0,l.jsx)(r.A,{src:e,className:"h-full"})})}function d(){return(0,l.jsx)(i.A,{icon:(0,l.jsx)(a.A,{}),title:"Redux State Viewer",tooltip:"Debug Redux State",width:"50vw",height:"90vh",children:(0,l.jsx)(c,{})})}},61228:(e,t,s)=>{s.d(t,{A:()=>y});var l=s(23892),n=s(85848),a=s(89831),r=s(25168),i=s(58972);let c=a.bL,d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,l.jsx)(a.q7,{ref:t,className:(0,i.cn)("border-b",s),...n})});d.displayName="AccordionItem";let o=n.forwardRef((e,t)=>{let{className:s,children:n,...c}=e;return(0,l.jsx)(a.Y9,{className:"flex",children:(0,l.jsxs)(a.l9,{ref:t,className:(0,i.cn)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left cursor-pointer [&[data-state=open]>svg]:rotate-180",s),...c,children:[n,(0,l.jsx)(r.A,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})})});o.displayName=a.l9.displayName;let u=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,l.jsx)(a.UC,{ref:t,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:(0,l.jsx)("div",{className:(0,i.cn)("pb-4 pt-0",s),children:n})})});u.displayName=a.UC.displayName;var x=s(63583),m=s(57516),h=s(18607),f=s(3040),v=s(59249),j=s(49600),N=s(49616),p=s(83252);function g(e){let{dbPath:t,tableName:s}=e,[a,r]=(0,n.useState)(null),[i,c]=(0,n.useState)(!1),[d,o]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(0,p.x4)({relativeUrl:"lance/list-columns?dbPath=".concat(encodeURIComponent(t),"&tableName=").concat(encodeURIComponent(s),"&dbType=lance"),setData:e=>r(e),setLoading:c,setError:o})},[t,s]),i)?(0,l.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(f.A,{className:"h-6 w-6 animate-spin text-muted-foreground"}),(0,l.jsx)("span",{className:"text-muted-foreground",children:"Loading columns..."})]})}):d?(0,l.jsx)("div",{className:"h-full flex items-center justify-center p-6",children:(0,l.jsxs)("div",{className:"text-center space-y-2",children:[(0,l.jsx)(v.A,{className:"h-12 w-12 mx-auto text-destructive"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-destructive",children:"Error Loading Columns"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:d})]})}):a&&0!==a.length?(0,l.jsx)(N.Bc,{children:(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map(e=>(0,l.jsxs)(N.m_,{children:[(0,l.jsx)(N.k$,{asChild:!0,children:(0,l.jsx)(j.E,{variant:"secondary",className:"cursor-default font-mono",children:e.name})}),(0,l.jsx)(N.ZI,{children:(0,l.jsx)("span",{className:"font-mono",children:e.type})})]},e.name))})})}):(0,l.jsx)("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:(0,l.jsx)("p",{children:"No columns found"})})}var w=s(34991),b=s(1375);function y(e){let{dbPath:t,tableName:s,tableInfo:n}=e;return s?(0,l.jsxs)("div",{className:"h-full w-full overflow-auto p-4",children:[(null==n?void 0:n.cnt_rows)!==null&&(null==n?void 0:n.cnt_rows)!==void 0&&(0,l.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold",children:[n.cnt_rows.toLocaleString()," ",1===n.cnt_rows?"row":"rows"]}),(0,l.jsx)(x.$,{variant:"ghost",size:"icon",onClick:()=>{let e=(0,h.CN)(t,"".concat(s,".lance"));window.open("./Table?tablePath=".concat(e),"_blank")},title:"Open table in new tab",children:(0,l.jsx)(m.A,{})})]}),(0,l.jsxs)(c,{type:"multiple",defaultValue:["columns","indices","versions"],className:"w-full",children:[(0,l.jsxs)(d,{value:"columns",children:[(0,l.jsx)(o,{children:(0,l.jsx)("h2",{className:"text-xl font-semibold",children:(null==n?void 0:n.cnt_columns)!==null&&(null==n?void 0:n.cnt_columns)!==void 0?"".concat(n.cnt_columns," ").concat(1===n.cnt_columns?"column":"columns"):"Columns"})}),(0,l.jsx)(u,{children:(0,l.jsx)(g,{dbPath:t,tableName:s})})]}),(0,l.jsxs)(d,{value:"indices",children:[(0,l.jsx)(o,{children:(0,l.jsx)("h2",{className:"text-xl font-semibold",children:(null==n?void 0:n.cnt_indices)!==null&&(null==n?void 0:n.cnt_indices)!==void 0?"".concat(n.cnt_indices," ").concat(1===n.cnt_indices?"index":"indices"):"Lance Indices"})}),(0,l.jsx)(u,{children:(0,l.jsx)("div",{className:"h-[200px]",children:(0,l.jsx)(w.A,{dbPath:t,tableName:s})})})]}),(0,l.jsxs)(d,{value:"versions",children:[(0,l.jsx)(o,{children:(0,l.jsx)("h2",{className:"text-xl font-semibold",children:(null==n?void 0:n.cnt_versions)!==null&&(null==n?void 0:n.cnt_versions)!==void 0?"".concat(n.cnt_versions," ").concat(1===n.cnt_versions?"version":"versions"):"Lance Versions"})}),(0,l.jsx)(u,{children:(0,l.jsx)("div",{className:"h-[300px]",children:(0,l.jsx)(b.A,{dbPath:t,tableName:s})})})]})]})]}):(0,l.jsx)("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:(0,l.jsx)("p",{children:"Select a table to view details"})})}},80397:(e,t,s)=>{s.d(t,{A:()=>a});var l=s(23892),n=s(16299);function a(e){let{url:t,className:s=""}=e;return(0,l.jsx)("a",{href:t,onClick:e=>{e.preventDefault(),window.open(t,"_blank","noopener,noreferrer")},className:"".concat(n.V.HYPERLINK," py-1 truncate block ").concat(s),title:t,children:t})}},82509:(e,t,s)=>{function l(e){let t=Date.now()-e;return t<6e4?"now":t<36e5?"".concat(Math.floor(t/6e4),"m"):t<864e5?"".concat(Math.floor(t/36e5),"h"):t<6048e5?"".concat(Math.floor(t/864e5),"d"):t<2592e6?"".concat(Math.floor(t/6048e5),"w"):t<31536e6?"".concat(Math.floor(t/2592e6),"mo"):"".concat(Math.floor(t/31536e6),"y")}function n(e){return new Date(e).toLocaleDateString()}s.d(t,{Y:()=>n,f:()=>l})}}]);