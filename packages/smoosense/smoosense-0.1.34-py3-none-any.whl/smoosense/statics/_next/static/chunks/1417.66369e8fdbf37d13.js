"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1417],{81417:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var l=r(23892),n=r(85848),s=r(66668);function i(e){let{samples:t,duration:r,currentTime:s,onSeek:i,height:a=80}=e,u=(0,n.useRef)(null),o=(0,n.useRef)(null),c=(0,n.useRef)(null),[d,f]=(0,n.useState)(800);return(0,n.useEffect)(()=>{if(!c.current)return;let e=()=>{c.current&&f(c.current.clientWidth)};e();let t=new ResizeObserver(e);return t.observe(c.current),()=>{t.disconnect()}},[]),(0,n.useEffect)(()=>{if(!u.current)return;let e=u.current,r=e.getContext("2d"),l=e.width,n=e.height;r.clearRect(0,0,l,n);let s=Math.floor(t.length/l);r.strokeStyle=getComputedStyle(e).getPropertyValue("--chart-default-fill").trim()||"#3b82f6",r.lineWidth=1.5,r.beginPath();for(let e=0;e<l;e++){let l=n/2*(1-(t[e*s]||0));0===e?r.moveTo(e,l):r.lineTo(e,l)}r.stroke(),r.strokeStyle="hsl(var(--border))",r.lineWidth=1,r.beginPath(),r.moveTo(0,n/2),r.lineTo(l,n/2),r.stroke()},[t,d]),(0,n.useEffect)(()=>{if(!o.current)return;let e=o.current,t=e.getContext("2d"),l=e.width,n=e.height;t.clearRect(0,0,l,n);let i=s/r*l;t.strokeStyle="red",t.lineWidth=2,t.beginPath(),t.moveTo(i,0),t.lineTo(i,n),t.stroke()},[r,s]),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{ref:c,className:"relative w-full cursor-pointer rounded overflow-hidden bg-muted/20 border border-border",style:{height:a},onClick:function(e){if(!u.current)return;let t=u.current.getBoundingClientRect(),l=(e.clientX-t.left)/t.width*r;i(Math.max(0,Math.min(r,l)))},children:[(0,l.jsx)("canvas",{ref:u,width:d,height:a,className:"absolute inset-0 w-full h-full"}),(0,l.jsx)("canvas",{ref:o,width:d,height:a,className:"absolute inset-0 w-full h-full pointer-events-none"})]})})}r(89116);var a=r(65102),u=r(70621);function o(e){let{audioUrl:t,autoPlay:r=!1,alt:o}=e,c=(0,n.useRef)(null),[d,f]=(0,n.useState)(0),{audioData:h,isLoading:m,error:x}=(0,u.s)(t),v=e=>{var t,r;(null==(r=c.current)||null==(t=r.audio)?void 0:t.current)&&(c.current.audio.current.currentTime=e)};return x?(0,l.jsx)("div",{className:"p-4 w-full flex items-center justify-start h-[280px]",children:(0,l.jsxs)("div",{className:"flex flex-col items-start space-y-3 max-w-full overflow-hidden",children:[o&&(0,l.jsx)("span",{className:"text-sm font-medium text-foreground break-all line-clamp-2",children:o}),(0,l.jsx)("span",{className:"text-xs break-all line-clamp-3 text-left text-destructive",children:x.message})]})}):m||!h?(0,l.jsx)("div",{className:"p-4 w-full flex items-center justify-center h-[280px]",children:(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 border-4 border-muted-foreground border-t-transparent rounded-full animate-spin"}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading audio..."})]})}):(0,l.jsxs)("div",{className:"p-2 w-full space-y-2",children:[(0,l.jsx)(s.A,{ref:c,src:t,autoPlay:r,autoPlayAfterSrcChange:!1,showJumpControls:!1,customAdditionalControls:[],layout:"horizontal-reverse",listenInterval:100,onListen:()=>{var e,t;(null==(t=c.current)||null==(e=t.audio)?void 0:e.current)&&f(c.current.audio.current.currentTime)}}),(0,l.jsx)(i,{samples:h.samples,duration:h.duration,currentTime:d,onSeek:v,height:50}),(0,l.jsx)(a.A,{samples:h.samples,duration:h.duration,currentTime:d,onSeek:v,height:120})]})}}}]);