"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4980],{48:(e,a,t)=>{t.d(a,{$t:()=>u,Ay:()=>p,SR:()=>m});var n=t(95543),l=t(37835),o=t(88453),c=t(46336),i=t.n(c);let r=async(e,a)=>{let{bubblePlotXColumn:t,bubblePlotYColumn:l,bubblePlotBreakdownColumn:c,tablePath:r,queryEngine:s,filterCondition:u,xBin:b,yBin:d}=e,m=u?"WHERE ".concat(u):"",p="\n    WITH filtered AS (\n      SELECT\n        ".concat((0,o.r)(t)," AS x,\n        ").concat((0,o.r)(l)," AS y,\n        ").concat((0,o.r)(c)," AS breakdown\n      FROM ").concat("lance"===s?"lance_table":"'".concat(r,"'"),"\n      ").concat(m?"".concat(m," AND"):"WHERE"," x IS NOT NULL AND y IS NOT NULL\n    ), binned AS (\n      SELECT\n        p.*,\n        FLOOR((p.x - ").concat(b.min,") / ").concat(b.step,")::INT AS bin_x,\n        FLOOR((p.y - ").concat(d.min,") / ").concat(d.step,')::INT AS bin_y\n      FROM filtered AS p\n    )\n    SELECT bin_x, bin_y,\n      -- Compute the "bubble" center as the average x and y within that bin\n      AVG(x) AS x,\n      AVG(y) AS y,\n      COUNT(*) AS size,\n      HISTOGRAM(breakdown) AS color\n    FROM binned\n    GROUP BY 1, 2\n    ORDER BY 1, 2\n  '),f=await (0,n.l4)(p,"balanceMap",a,s,r),y=i().map(f,"x"),h=i().map(f,"y");return[{name:"All",x:y,y:h,customdata:i().map(f,e=>{let a=e.bin_x*b.step+b.min,n=a+b.step,c=e.bin_y*d.step+d.min,i=c+d.step,r=(0,o.r)(t),s=(0,o.r)(l);return{condExpr:["".concat(r," >= ").concat(a),"".concat(r," < ").concat(n),"".concat(s," >= ").concat(c),"".concat(s," < ").concat(i)].join(" AND "),count:e.size,breakdownHistogram:e.color}})}]},s=(0,l.b)({name:"balanceMap",fetchFunction:r,shouldWait:e=>!!(e.bubblePlotXColumn&&e.bubblePlotYColumn&&e.bubblePlotBreakdownColumn&&e.tablePath&&e.xBin&&e.yBin),errorMessage:"Failed to fetch balance map data"});s.slice;let u=s.fetchThunk,{clearBalanceMap:b,setBalanceMapError:d,setNeedRefresh:m}=s.actions,p=s.reducer},2918:(e,a,t)=>{t.d(a,{A:()=>s});var n=t(23892),l=t(96110),o=t(69984),c=t(59871);let i={Jet:"linear-gradient(to right, #000080, #0000ff, #00ffff, #00ff00, #ffff00, #ff0000, #800000)",Hot:"linear-gradient(to right, #000000, #e60000, #ffd200, #ffffff)",Reds:"linear-gradient(to right, #fff5f0, #fee0d2, #fcbba1, #fc9272, #fb6a4a, #ef3b2c, #cb181d, #a50f15, #67000d)",Picnic:"linear-gradient(to right, #0000ff, #3399ff, #66ccff, #99ccff, #ccccff, #ffffff, #ffcccc, #ff9999, #ff6666, #ff3333, #ff0000)",Rainbow:"linear-gradient(to right, #96005a, #0000c8, #0019ff, #0098ff, #2cff96, #97ff00, #ffea00, #ff6f00, #ff0000)"};function r(e){let{scale:a}=e,t=i[a]||"linear-gradient(to right, #ccc, #666)";return(0,n.jsx)("div",{className:"h-3 w-full rounded-sm",style:{background:t}})}function s(){let e=(0,l.jL)(),a=(0,l.GV)(e=>e.ui.bubblePlotColorScale);return(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Color Scale"}),(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsxs)(c.l6,{value:a,onValueChange:a=>e((0,o.setBubblePlotColorScale)(a)),children:[(0,n.jsx)(c.bq,{className:"w-full",children:(0,n.jsx)("span",{className:"text-sm",children:a})}),(0,n.jsx)(c.gC,{children:Object.keys(i).map(e=>(0,n.jsx)(c.eb,{value:e,children:(0,n.jsxs)("div",{className:"flex items-center gap-2 w-48",children:[(0,n.jsx)("span",{className:"text-sm w-16",children:e}),(0,n.jsx)(r,{scale:e})]})},e))})]})})]})}},31874:(e,a,t)=>{t.d(a,{Ay:()=>p,Np:()=>u,SR:()=>m});var n=t(95543),l=t(37835),o=t(88453),c=t(66848),i=t.n(c);let r=async(e,a)=>{let{boxPlotColumns:t,boxPlotBreakdownColumn:l,tablePath:c,queryEngine:r,filterCondition:s}=e;if(0===t.length)return[];let u="\n    WITH filtered AS (\n      SELECT ".concat(i()(l)?"NULL":(0,o.r)(l)," AS breakdown,\n      ").concat(t.map(o.r).join(", "),"\n      ").concat("FROM ".concat("lance"===r?"lance_table":"'".concat(c,"'")),"\n      ").concat(s?"WHERE ".concat(s):"","\n    ) SELECT breakdown, COUNT(*) AS count, ").concat(t.map(e=>(e=>{let a=(0,o.r)(e);return"{\n      'min' : MIN(".concat(a,"),\n      'max' : MAX(").concat(a,"),\n      'std' : STDDEV_POP(").concat(a,"),\n      'skewness': SKEWNESS(").concat(a,"),\n      'avg' : AVG(").concat(a,"),\n      'q25' : QUANTILE_CONT(").concat(a,", 0.25),\n      'q50' : QUANTILE_CONT(").concat(a,", 0.5),\n      'q75' : QUANTILE_CONT(").concat(a,", 0.75)\n    } AS ").concat(a)})(e)).join(", "),"\n    FROM filtered\n    GROUP BY breakdown\n  ");return await (0,n.l4)(u,"boxPlot",a,r,c)},s=(0,l.b)({name:"boxPlot",fetchFunction:r,shouldWait:e=>!!(e.boxPlotColumns.length>0&&e.tablePath),errorMessage:"Failed to fetch box plot data"});s.slice;let u=s.fetchThunk,{clearBoxPlot:b,setBoxPlotError:d,setNeedRefresh:m}=s.actions,p=s.reducer},31929:(e,a,t)=>{t.d(a,{Ay:()=>h,Bb:()=>r,Rw:()=>m,SR:()=>y});var n=t(95543),l=t(37835),o=t(88453),c=t(46336),i=t.n(c);let r="__y__label__value__",s=e=>({min:i().min(e)||0,max:i().max(e)||0,sum:i().sum(e)}),u=async(e,a)=>{let{heatmapXColumn:t,heatmapYColumn:l,tablePath:c,queryEngine:u,filterCondition:b}=e;if(!t||!l||!c)throw Error("Missing required parameters for heatmap");let d=b?"WHERE ".concat(b):"",m="\nWITH filtered AS (\n      SELECT\n        ".concat((0,o.r)(t)," AS x,\n        ").concat((0,o.r)(l)," AS y\n      FROM ").concat("lance"===u?"lance_table":"'".concat(c,"'"),"\n      ").concat(d?"".concat(d," AND"):"WHERE"," x IS NOT NULL AND y IS NOT NULL\n  ) SELECT x, y, COUNT(*) AS cnt\n   FROM filtered\n   GROUP BY x, y\n  ");return(e=>{let a=i()(e).map("x").uniq().map(String).value(),t=i()(e).groupBy("y").map((e,a)=>({...i()(e).map(e=>[e.x,e]).fromPairs().value(),[r]:a})).value(),n=s(i().map(e,"cnt")),l=i().fromPairs(i().map(t,e=>{let a=i()(e).values().map(e=>null==e?void 0:e.cnt).filter(e=>"number"==typeof e).value();return[e[r],s(a)]})),o=i().fromPairs(i().map(a,e=>{let a=i().map(t,a=>{let t=a[e];return null==t?void 0:t.cnt}).filter(e=>"number"==typeof e);return[e,s(a)]}));return{xLabels:a,rowData:i().map(t,e=>({rowTotal:l[e[r]].sum,...e})),xStats:o,yStats:l,allStats:n}})(await (0,n.l4)(m,"heatMap",a,u,c))},b=(0,l.b)({name:"heatmap",fetchFunction:u,shouldWait:e=>!!(e.heatmapXColumn&&e.heatmapYColumn&&e.tablePath),errorMessage:"Failed to fetch heatmap data"}),d=b.slice,m=b.fetchThunk,{clearHeatmap:p,setHeatmapError:f,setNeedRefresh:y}=b.actions,h=d.reducer},33796:(e,a,t)=>{t.d(a,{Ay:()=>i,Hg:()=>l});let n=(0,t(58976).Z0)({name:"handPickedRows",initialState:{rows:[]},reducers:{handPickRow:(e,a)=>{e.rows.push(a.payload)},removeRow:(e,a)=>{e.rows.splice(a.payload,1)},clearHandPickedRows:e=>{e.rows=[]}}}),{handPickRow:l,removeRow:o,clearHandPickedRows:c}=n.actions,i=n.reducer},35484:(e,a,t)=>{t.d(a,{Ay:()=>b,Pj:()=>i});var n=t(58976),l=t(69984),o=t(81876);let c=(0,n.Z0)({name:"aiQuickActions",initialState:{actions:[],initialized:!1},reducers:{initializeQuickActions:(e,a)=>{let{fileName:t}=a.payload;e.actions=function(e){var a;let t=[],n=(null==(a=e.split("/").pop())?void 0:a.toLowerCase())||"";return"bbox.parquet"===n?t.push({name:"Abnormally small bbox",confirmation:"Great! I've switched to Table view. \n      Only related columns are shown, sorted by smallest bbox area.\n      You can see more details in the interactive GUI. \n      ",actions:[{type:l.setActiveTab.type,payload:"Table"},{type:o.tG.type,payload:["bbox_area","bbox","image_url","category_name","bbox_width","bbox_height"]},{type:o.J_.type,payload:[{field:"bbox_area",direction:"asc"}]}]},{name:"Show bounding boxes with uncommon width-height ratio.",confirmation:"You can analyze it in Bubble Plot with width vs height. Drag-select interesting areas to see samples.",actions:[{type:l.setActiveTab.type,payload:"Plot"},{type:l.setActivePlotTab.type,payload:"BubblePlot"},{type:l.setBubblePlotXColumn.type,payload:"bbox_width"},{type:l.setBubblePlotYColumn.type,payload:"bbox_height"},{type:l.setColumnForGalleryCaption.type,payload:"category_name"},{type:l.setColumnForGalleryVisual.type,payload:"bbox"}]},{name:"Which category has big variation in bounding box sizes?",confirmation:"Box Plot is perfect for this purpose. You can click on a boxplot cell and see samples.",actions:[{type:l.setActiveTab.type,payload:"Plot"},{type:l.setActivePlotTab.type,payload:"BoxPlot"},{type:l.setBoxPlotBreakdownColumn.type,payload:"category_name"},{type:l.setBoxPlotSortBy.type,payload:"std"},{type:l.setBoxPlotColumns.type,payload:["bbox_area","bbox_percentage"]},{type:l.setBoxPlotSorting.type,payload:[{field:"bbox_percentage",direction:"desc"}]},{type:l.setColumnForGalleryCaption.type,payload:"category_name"},{type:l.setColumnForGalleryVisual.type,payload:"bbox"}]}):"images-emb-2d.parquet"===n&&t.push({name:"Use embedding to check if training/validation/testing are balanced",confirmation:'\nHappy to help. In the table I see column `fold` and pre-computed embedding columns.\nHere is the overall distribution:\n\n<HeaderStatsCellRendererImpl columnname="fold" side="bottom"></HeaderStatsCellRendererImpl>\n  \nI used BalanceMap to create a bubble plot: images are clustered by semantic similarity and color-coded by local relative ratios.\n\n- A neutral color indicates balance\n- Deeper colors highlight imbalance.\n \nYou can click any bubble to explore the samples in that region.\n',actions:[{type:l.setActiveTab.type,payload:"Plot"},{type:l.setActivePlotTab.type,payload:"BalanceMap"},{type:l.setBubblePlotBreakdownColumn.type,payload:"fold"},{type:l.setBubblePlotMarkerSizeContrastRatio.type,payload:2},{type:l.setBubblePlotXColumn.type,payload:"emb_x"},{type:l.setBubblePlotYColumn.type,payload:"emb_y"},{type:l.setColumnForGalleryCaption.type,payload:"fold"},{type:l.setColumnForGalleryVisual.type,payload:"coco_url"}]}),t}(t),e.initialized=!0},addQuickAction:(e,a)=>{let t=e.actions.findIndex(e=>e.name===a.payload.name);-1!==t?e.actions[t]=a.payload:e.actions.push(a.payload)},removeQuickAction:(e,a)=>{e.actions=e.actions.filter(e=>e.name!==a.payload)},reset:e=>{e.actions=[],e.initialized=!1}}}),{initializeQuickActions:i,addQuickAction:r,removeQuickAction:s,reset:u}=c.actions,b=c.reducer},38307:(e,a,t)=>{t.d(a,{A:()=>x,B:()=>f});var n=t(23892),l=t(82919),o=t(94424),c=t(20950),i=t(48933),r=t(60723),s=t(2918),u=t(88431),b=t(96110),d=t(69984),m=t(85848),p=t(89838);let f="__bubble_size__",y=[{value:f,label:"Bubble Size"}];function h(){let e=(0,b.jL)(),a=(0,b.GV)(e=>e.ui.bubblePlotMaxMarkerSize),t=(0,b.GV)(e=>e.ui.bubblePlotMinMarkerSize),l=(0,b.GV)(e=>e.ui.bubblePlotOpacity),c=(0,b.GV)(e=>e.ui.bubblePlotMarkerSizeContrastRatio),f=(0,b.GV)(e=>e.ui.bubblePlotColorColumn),h=(0,b.GV)(e=>e.ui.bubblePlotBreakdownColumn),x=(0,m.useCallback)(a=>{null!==a&&""!==f&&(e((0,d.setBubblePlotColorColumn)("")),p.oR.info('"Color by" cleared because "breakdown" was set'))},[e,f]),C=(0,m.useCallback)(a=>{""!==a&&null!==h&&(e((0,d.setBubblePlotBreakdownColumn)(null)),p.oR.info('"Breakdown" cleared because "color by" was set'))},[e,h]);return(0,n.jsxs)("div",{className:"space-y-4 w-full max-w-sm",children:[(0,n.jsx)(i.A,{settingKey:"bubblePlotBreakdownColumn",label:"Breakdown",postChange:x}),(0,n.jsx)(r.A,{settingKey:"bubblePlotColorColumn",label:"Color by",shouldInitialize:!1,extraOptions:y,postChange:C}),(0,n.jsx)(s.A,{}),(0,n.jsx)(u.A,{settingKey:"bubblePlotLogScaleX",label:"Use log-scale for X-axis"}),(0,n.jsx)(u.A,{settingKey:"bubblePlotLogScaleY",label:"Use log-scale for Y-axis"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Min Marker Size: ",t]}),(0,n.jsx)(o.A,{value:[t],onValueChange:a=>e((0,d.setBubblePlotMinMarkerSize)(a[0])),max:15,min:2,step:1,className:"w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Max Marker Size: ",a]}),(0,n.jsx)(o.A,{value:[a],onValueChange:a=>e((0,d.setBubblePlotMaxMarkerSize)(a[0])),max:50,min:5,step:1,className:"w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Opacity: ",(100*l).toFixed(0),"%"]}),(0,n.jsx)(o.A,{value:[l],onValueChange:a=>e((0,d.setBubblePlotOpacity)(a[0])),max:1,min:.1,step:.1,className:"w-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Marker Size Contrast Ratio: ",c.toFixed(1)]}),(0,n.jsx)(o.A,{value:[c],onValueChange:a=>e((0,d.setBubblePlotMarkerSizeContrastRatio)(a[0])),max:7,min:-7,step:.1,className:"w-full"})]})]})}function x(){return(0,n.jsx)(c.A,{icon:(0,n.jsx)(l.A,{}),tooltip:"More Controls",contentClassName:"p-4 w-96",side:"right",align:"start",children:(0,n.jsx)(h,{})})}},43462:(e,a,t)=>{t.d(a,{Ay:()=>h,F$:()=>m,SR:()=>y});var n=t(95543),l=t(37835),o=t(88453),c=t(28602),i=t(66848),r=t.n(i),s=t(46336),u=t.n(s);let b=async(e,a)=>{let{histogramColumn:t,histogramBreakdownColumn:l,tablePath:i,queryEngine:s,filterCondition:b,histogramStatsData:d}=e;if(!(null==d?void 0:d.bin))throw Error("Missing histogram bin data");let{min:m,step:p,round_to:f}=d.bin,y=b?"WHERE ".concat(b):"",h="lance"===s?"lance_table":"'".concat(i,"'"),x="\n    WITH filtered AS (\n      SELECT\n        ".concat((0,o.r)(t)," AS value,\n        ").concat(r()(l)?"NULL":(0,o.r)(l)," AS breakdown\n      FROM ").concat(h,"\n      ").concat(y?"".concat(y," AND"):"WHERE"," value IS NOT NULL\n    )\n    SELECT breakdown, FLOOR((value - ").concat(m,") / ").concat(p,") AS binIdx,\n        COUNT(*) AS cnt\n    FROM filtered\n    GROUP BY 1, 2\n    ORDER BY 1, 2\n  "),C=await (0,n.l4)(x,"histogram",a,s,i);return u()(C).groupBy("breakdown").toPairs().map(e=>{let[a,n]=e,i=(0,c.G)({min:m,step:p,round_to:f,cntValues:n}),s=u().map(i,"value"),b=u().map(i,"cnt"),d=u().map(i,e=>({condExpr:["".concat((0,o.r)(t)," >= ").concat(e.binMin),"".concat((0,o.r)(t)," < ").concat(e.binMax),...r()(l)?[]:["".concat((0,o.r)(l)," = '").concat(a,"'")]].join(" AND ")}));return{name:a||"All",x:s,y:b,customdata:d}}).value()},d=(0,l.b)({name:"histogram",fetchFunction:b,shouldWait:e=>{var a;return!!(e.histogramColumn&&e.tablePath&&(null==(a=e.histogramStatsData)?void 0:a.bin))},errorMessage:"Failed to fetch histogram data"});d.slice;let m=d.fetchThunk,{clearHistogram:p,setHistogramError:f,setNeedRefresh:y}=d.actions,h=d.reducer},44558:(e,a,t)=>{t.d(a,{Ay:()=>h,SR:()=>y,wk:()=>m});var n=t(95543),l=t(37835),o=t(88453),c=t(66848),i=t.n(c),r=t(46336),s=t.n(r),u=t(38307);let b=async(e,a)=>{let{bubblePlotXColumn:t,bubblePlotYColumn:l,bubblePlotBreakdownColumn:c,bubblePlotColorColumn:r,tablePath:b,queryEngine:d,filterCondition:m,xBin:p,yBin:f}=e,y=m?"WHERE ".concat(m):"",h="lance"===d?"lance_table":"'".concat(b,"'"),x=r===u.B,C=!r||x?"NULL AS color_col":"".concat((0,o.r)(r)," AS color_col"),g="\n    WITH filtered AS (\n      SELECT\n        ".concat((0,o.r)(t)," AS x,\n        ").concat((0,o.r)(l)," AS y,\n        ").concat(i()(c)?"NULL":(0,o.r)(c)," AS breakdown,\n        ").concat(C,"\n      FROM ").concat(h,"\n      ").concat(y?"".concat(y," AND"):"WHERE"," x IS NOT NULL AND y IS NOT NULL\n    ), binned AS (\n      SELECT\n        p.*,\n        FLOOR((p.x - ").concat(p.min,") / ").concat(p.step,")::INT AS bin_x,\n        FLOOR((p.y - ").concat(f.min,") / ").concat(f.step,')::INT AS bin_y\n      FROM filtered AS p\n    )\n    SELECT breakdown, bin_x, bin_y,\n      -- Compute the "bubble" center as the average x and y within that bin\n      AVG(x) AS x,\n      AVG(y) AS y,\n      COUNT(*) AS count,\n      ').concat(r?x?"COUNT(*) AS color_value":"AVG(color_col) AS color_value":"NULL AS color_value","\n    FROM binned\n    GROUP BY 1, 2, 3\n    ORDER BY 1, 2, 3\n  "),A=await (0,n.l4)(g,"bubblePlot",a,d,b);return s()(A).groupBy("breakdown").toPairs().map(e=>{let[a,n]=e,r=s().map(n,"x"),u=s().map(n,"y"),b=s().map(n,e=>{let n=e.bin_x*p.step+p.min,r=n+p.step,s=e.bin_y*f.step+f.min,u=s+f.step,b=(0,o.r)(t),d=(0,o.r)(l),m=(0,o.r)(c);return{condExpr:["".concat(b," >= ").concat(n),"".concat(b," < ").concat(r),"".concat(d," >= ").concat(s),"".concat(d," < ").concat(u),...i()(c)?[]:["".concat(m," = '").concat(a,"'")]].join(" AND "),count:e.count,colorValue:e.color_value}});return{name:a||"All",x:r,y:u,customdata:b}}).value()},d=(0,l.b)({name:"bubblePlot",fetchFunction:b,shouldWait:e=>!!(e.bubblePlotXColumn&&e.bubblePlotYColumn&&e.tablePath&&e.xBin&&e.yBin),errorMessage:"Failed to fetch bubble plot data"});d.slice;let m=d.fetchThunk,{clearBubblePlot:p,setBubblePlotError:f,setNeedRefresh:y}=d.actions,h=d.reducer},48933:(e,a,t)=>{t.d(a,{A:()=>d});var n=t(23892),l=t(85848),o=t(46336),c=t.n(o),i=t(96110),r=t(51951),s=t(69984),u=t(59871);let b={histogramBreakdownColumn:s.setHistogramBreakdownColumn,bubblePlotBreakdownColumn:s.setBubblePlotBreakdownColumn,heatmapXColumn:s.setHeatmapXColumn,heatmapYColumn:s.setHeatmapYColumn,boxPlotBreakdownColumn:s.setBoxPlotBreakdownColumn};function d(e){let{settingKey:a,label:t,shouldInitialize:o=!1,postChange:s}=e,d=(0,i.jL)(),{isCategoricalColumns:m}=(0,r.q)(),p=(0,i.GV)(e=>e.ui[a]),f=m?Object.entries(m).filter(e=>{let[,a]=e;return!0===a}).map(e=>{let[a]=e;return a}):[];(0,l.useEffect)(()=>{if(o&&f.length>0&&!p){let e=b[a];e&&d(e(f[0]))}},[o,f,p,a,d]);let y=m?0===c().size(m)?"No columns analyzed yet":void 0:"Loading columns...";return(0,n.jsxs)("div",{className:"flex items-center gap-3 min-w-[200px] max-w-[500px]",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-foreground truncate",children:t}),(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsxs)(u.l6,{value:null===p?"-":p||"",onValueChange:e=>{let t=b[a];if(t){let a="-"===e?null:e;d(t(a)),null==s||s(a)}},disabled:!!y,children:[(0,n.jsx)(u.bq,{children:(0,n.jsx)(u.yv,{placeholder:y})}),(0,n.jsxs)(u.gC,{children:[(0,n.jsx)(u.eb,{value:"-",children:"-"}),f.map(e=>(0,n.jsx)(u.eb,{value:e,children:e},e))]})]})})]})}},60723:(e,a,t)=>{t.d(a,{A:()=>f});var n=t(23892),l=t(85848),o=t(46336),c=t.n(o),i=t(96110),r=t(51951),s=t(11145),u=t(59900),b=t(69984),d=t(64956),m=t(59871);let p={histogramColumn:b.setHistogramColumn,bubblePlotXColumn:b.setBubblePlotXColumn,bubblePlotYColumn:b.setBubblePlotYColumn,bubblePlotColorColumn:b.setBubblePlotColorColumn};function f(e){var a,t;let{settingKey:o,label:b,shouldInitialize:f=!0,showStats:y=!1,extraOptions:h=[],postChange:x}=e,C=(0,i.jL)(),{isCategoricalColumns:g}=(0,r.q)(),A=(0,s.OA)(),S=(0,i.GV)(e=>e.ui[o]),v=g&&A?Object.entries(A).filter(e=>{let[a,t]=e,n=g[a];return t===u.nJ.Number&&!1===n}).map(e=>{let[a]=e;return a}):[];(0,l.useEffect)(()=>{if(f&&!S&&v.length>0){let e=p[o];e&&C(e(v[0]))}},[f,v.length>0]);let w=g&&A?0===c().size(A)?"No columns analyzed yet":void 0:"Loading columns...";return(0,n.jsxs)("div",{className:"flex items-center gap-3 min-w-[200px] max-w-[500px]",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-foreground truncate",children:b}),y&&S&&(0,n.jsx)("div",{className:"h-10 w-16",children:(0,n.jsx)(d.e,{columnName:S,side:"bottom",showNullPie:!1})}),(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsxs)(m.l6,{value:""===S?"-":S,onValueChange:e=>{let a=p[o];if(a){let t="-"===e?"":e;C(a(t)),null==x||x(t)}},disabled:!!w,children:[(0,n.jsx)(m.bq,{children:(0,n.jsx)(m.yv,{placeholder:w,children:null!=(t=null==(a=h.find(e=>e.value===S))?void 0:a.label)?t:""===S?"-":S})}),(0,n.jsxs)(m.gC,{children:[(0,n.jsx)(m.eb,{value:"-",children:"-"}),h.map(e=>(0,n.jsx)(m.eb,{value:e.value,children:e.label},e.value)),v.map(e=>(0,n.jsx)(m.eb,{value:e,children:e},e))]})]})})]})}}}]);