---
image:
  repository: ghcr.io/danielskowronski/emqx-client-monitor
  tag: ""
  pullPolicy: IfNotPresent
imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

podAnnotations: {}
podLabels: {}

config:
  existingSecret: ""
  path: "/etc/emqx-client-monitor/config.yaml"

  targetEmqx:
    api_url: "http://emqx:18083/api"
    api_key: ""
    api_secret: ""
    ssl: false
    alias: "emqx"
    extraOptions: {}
  monitoredClients:
    - alias: "client1"
      client_id: "client1-id"
  prometheusExporter:
    port: 9671
    address: 0.0.0.0
    extraOptions: {}

service:
  type: ClusterIP
  port: 9671
  annotations: {}
  labels: {}
resources: {}

nodeSelector: {}

tolerations: []

affinity: {}

serviceAccount:
  create: true
  annotations: {}
  name: ""
securityContext:
  runAsNonRoot: true
  runAsUser: 65532
  runAsGroup: 65532
  fsGroup: 65532
containerSecurityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: true
  runAsNonRoot: true
serviceMonitor:
  enabled: true
  namespace: ""
  interval: 30s
  scrapeTimeout: 10s
  additionalLabels:
    release: kube-prometheus-stack
  relabelings: []
  metricRelabelings: []

prometheusRule:
  enabled: true
  namespace: ""
  additionalLabels:
    release: kube-prometheus-stack
  severity: warning
  offlineWindow: 30m

networkPolicy:
  enabled: true
  allowPrometheusNamespaces:
    - monitoring
  additionalIngress: []
  emqxEndpoints:
    - namespaceSelector: {}
      podSelector:
        matchLabels:
          app.kubernetes.io/name: emqx
      ports:
        - port: 18083
          protocol: TCP
  allowDNS: true
